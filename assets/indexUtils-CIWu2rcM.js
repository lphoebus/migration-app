import{m6 as c,m7 as m,aL as y,aK as d,m8 as p,ax as _,c5 as b,cS as g,m9 as h,ma as w,mb as A,cx as f,i0 as B}from"./index-Cv1x7wWx.js";import{i as S,o as I}from"./Indices-E0dYAnaK.js";let E=class{constructor(t){this._streamDataRequester=t}async loadJSON(t,o){return this._load("json",t,o)}async loadBinary(t,o){return m(t)?(y(o),c(t)):this._load("binary",t,o)}async loadImage(t,o){return this._load("image",t,o)}async _load(t,o,r){if(this._streamDataRequester==null)return(await d(o,{responseType:R[t]})).data;const n=await p(this._streamDataRequester.request(o,t,r));if(n.ok===!0)return n.value;throw b(n.error),new _("glt-loader-request-error",`Request for resource failed: ${n.error}`)}};const R={image:"image",binary:"array-buffer",json:"json","image+type":void 0};function $(e,t){l(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function l(e,t,o=2,r=o){const n=t.length/2;let a=0,u=0;if(!g(t)||h(t)){for(let s=0;s<n;++s)e[a]=t[u],e[a+1]=t[u+1],a+=o,u+=r;return}const i=w(t);if(A(t))for(let s=0;s<n;++s)e[a]=Math.max(t[u]/i,-1),e[a+1]=Math.max(t[u+1]/i,-1),a+=o,u+=r;else for(let s=0;s<n;++s)e[a]=t[u]/i,e[a+1]=t[u+1]/i,a+=o,u+=r}function q(e,t,o,r){const n=e.typedBuffer,a=e.typedBufferStride,u=(r==null?void 0:r.count)??e.count;let i=((r==null?void 0:r.dstIndex)??0)*a;for(let s=0;s<u;++s)n[i]=t,n[i+1]=o,i+=a}Object.freeze(Object.defineProperty({__proto__:null,fill:q,normalizeIntegerBuffer:l,normalizeIntegerBufferView:$},Symbol.toStringTag,{value:"Module"}));function v(e,t){switch(t){case f.TRIANGLES:return x(e);case f.TRIANGLE_STRIP:return T(e);case f.TRIANGLE_FAN:return j(e)}}function x(e){return typeof e=="number"?I(e):B(e)?new Uint16Array(e):e}function T(e){const t=typeof e=="number"?e:e.length;if(t<3)return[];const o=t-2,r=S(3*o);if(typeof e=="number"){let n=0;for(let a=0;a<o;a+=1)a%2==0?(r[n++]=a,r[n++]=a+1,r[n++]=a+2):(r[n++]=a+1,r[n++]=a,r[n++]=a+2)}else{let n=0;for(let a=0;a<o;a+=1)a%2==0?(r[n++]=e[a],r[n++]=e[a+1],r[n++]=e[a+2]):(r[n++]=e[a+1],r[n++]=e[a],r[n++]=e[a+2])}return r}function j(e){const t=typeof e=="number"?e:e.length;if(t<3)return new Uint16Array(0);const o=t-2,r=o<=65536?new Uint16Array(3*o):new Uint32Array(3*o);if(typeof e=="number"){let i=0;for(let s=0;s<o;++s)r[i++]=0,r[i++]=s+1,r[i++]=s+2;return r}const n=e[0];let a=e[1],u=0;for(let i=0;i<o;++i){const s=e[i+2];r[u++]=n,r[u++]=a,r[u++]=s,a=s}return r}export{l as a,$ as b,q as l,E as n,v as o};
