const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/customElement-BQ4tgu5O.js","assets/keyed-QbGVL7HE.js","assets/index-DUQWA4aA.js","assets/customElement-BkGzoHJQ.js","assets/ExpandToggle-cR2nuCg8.js","assets/resources7-D6fGrs2J.js","assets/resources2-BccbaX6T.js","assets/debounce-DbkufipY.js","assets/customElement-BHTO6LtZ.js","assets/customElement-Cy400UrR.js","assets/array-D1yrYFjL.js","assets/customElement-C9lGnuE_.js","assets/customElement-BplUhlPY.js","assets/locale-D1gvuWjW.js","assets/openCloseComponent-BNy7FDk-.js","assets/resources4-C0c3JPVU.js","assets/customElement-xJ7-BKyx.js","assets/repeat-BRfWxq9d.js","assets/floating-ui-BoTfMYbg.js","assets/Validation-BdwNVMKj.js","assets/escapeRegExp-CdLjXKbf.js","assets/customElement-y0nw6kFn.js","assets/text-Aw6XR2yC.js","assets/customElement-CHWzUdgT.js","assets/utils4-BVXufeoV.js","assets/global-BMSWtC34.js","assets/customElement-kMlywfyZ.js","assets/Heading-CbXE5O2q.js","assets/_sortable-CDqTYja2.js","assets/customElement-C2LJVPxX.js","assets/sortableComponent-DNdMIoBB.js","assets/customElement-C0hkE6Lr.js","assets/customElement-_B0kY0rZ.js","assets/responsive-Cyo8Mag1.js","assets/customElement-Dgx5MptR.js","assets/math-CjUbKqx6.js","assets/throttle-CQXZGPS6.js","assets/customElement-CxQC6R_z.js","assets/customElement-5AZP4P59.js","assets/customElement-8io65S4H.js","assets/live-CsKUHXu7.js","assets/core-Ba5gUyae.js","assets/filter-n5uHB4nE.js","assets/XButton-BLIwNnoH.js","assets/utils3-CYQ0R-Ws.js","assets/customElement-DZ3J-AMB.js","assets/customElement-n7jcSnXp.js","assets/customElement-CTyQxjBU.js","assets/date-QWIqTRsN.js","assets/utils2-DtveUJBj.js","assets/customElement-D2KFfo_P.js","assets/customElement-De0qO0mz.js","assets/customElement-CIT_nHMU.js","assets/customElement-B2SKlu7a.js","assets/interact.min-DJUY0pIF.js","assets/dynamicClasses-C87yapic.js","assets/resources3-DomGU1Bd.js","assets/useFocusTrap-DpqYX-Vp.js","assets/usePreventDocumentScroll-BMIVpbHc.js","assets/index-D3HxDNGM.js","assets/index-81aBFjVc.js","assets/resources6-DQOeuhPV.js","assets/index-CSSt9bo1.js","assets/customElement-DX-RJbr_.js","assets/customElement-C2EfTVPI.js","assets/customElement-DVsQ4cqb.js","assets/input-leQVi_td.js","assets/customElement-CDzVrdsV.js","assets/customElement-BZpfPgE0.js","assets/customElement-BwFRIaaW.js","assets/customElement-B9eHUYDP.js","assets/time-FQQzrvh1.js","assets/customElement-CtAQ5BiG.js","assets/customElement-BnK57HBt.js","assets/utils-DqR-LCPw.js","assets/resources-BHbb0pmw.js","assets/customElement-zvmf03gp.js","assets/resources5-DVzWIMkH.js","assets/index-BkYNxTcg.js","assets/customElement-B3bUVr7e.js","assets/customElement-Bs6iVP24.js","assets/customElement-CypjMQUX.js","assets/customElement-CKMqBTkf.js","assets/customElement-BPg9GnaA.js","assets/index-CylWDiU4.js","assets/customElement-BL2xzGlo.js","assets/customElement-Cdy2UdZO.js","assets/customElement-CeRUcNbK.js","assets/FloatingArrow-BXkJdiHD.js","assets/customElement-EH9yw4Lh.js","assets/customElement-DPwUCtqV.js","assets/customElement-BNdfrl3N.js","assets/customElement-BvbjCOvx.js","assets/customElement-CtCcFECJ.js","assets/customElement-BpRhnInR.js","assets/customElement-DlqfOMUh.js","assets/customElement-Clf8GoIH.js","assets/customElement-CuoqWa23.js","assets/customElement-Dswb-aOn.js","assets/customElement-C0phmEuV.js","assets/customElement-DkW75xXt.js","assets/customElement-DxA3tCOv.js","assets/customElement-62B3CJ2z.js","assets/customElement-BQNiivLV.js","assets/customElement-CjECWbfI.js","assets/customElement-BBPzYguq.js","assets/customElement-DccTw-7j.js","assets/customElement-BkhJZ-zN.js","assets/customElement-CgeF4x7a.js","assets/customElement-CASzh_IE.js","assets/customElement-a0cWQBPj.js","assets/index-C5F_oLvm.js","assets/customElement-Du_PtTWv.js","assets/pe-wasm-Co3DzcyP.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/geometryEngineWorker-D8XUGeOs.js","assets/geometryEngineJSON-BSvQtszJ.js","assets/geometryEngineBase-B0ZyeKAX.js","assets/CSVSourceWorker-CEM7a68f.js","assets/date-Ctp1FiBW.js","assets/executeQueryForSnapping-B9AE_hCU.js","assets/QueryEngine-DxPey5vp.js","assets/featureConversionUtils-CtcLlABV.js","assets/WhereClauseCache-D8IFwncj.js","assets/WhereClause-Cg7L22Em.js","assets/timeSupport-C4X-wF_f.js","assets/QueryEngineCapabilities-B_pTbIiR.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FeatureStore-DfyIdbmY.js","assets/BoundsStore-DVThHQa3.js","assets/PooledRBush-CB61OB6P.js","assets/optimizedFeatureQueryEngineAdapter-BUO5UqjV.js","assets/number-vl4_gE_5.js","assets/clientSideDefaults--x4C55Ui.js","assets/EdgeProcessingWorker-CUSpdRDm.js","assets/workerHelper-BxVWB1Tj.js","assets/InterleavedLayout-CFcuOP8l.js","assets/BufferView-Cj0PjY6D.js","assets/types-D0PSWh4d.js","assets/edgeProcessing-CfqJP_c9.js","assets/deduplicate-BzSppDBj.js","assets/Indices-E0dYAnaK.js","assets/VertexAttribute-Cq4MnHjR.js","assets/glUtil-CZfiHLAE.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/Normals-03LXn2R5.js","assets/ElevationSamplerWorker-ClEaroup.js","assets/MeshLocalVertexSpace-2Nq58yOY.js","assets/vertexSpaceConversion-_dA7FlSu.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-Dk4dwAN8.js","assets/spatialReferenceEllipsoidUtils-CYkFNjFc.js","assets/computeTranslationToOriginAndRotation-ojcHMhl-.js","assets/projectPointToVector-CmVBAsgl.js","assets/meshVertexSpaceUtils-ChHpEjbb.js","assets/vec3-CmV8slfk.js","assets/vec4-DB-BxfdS.js","assets/FeatureServiceSnappingSourceWorker-B89g0pE0.js","assets/symbologySnappingCandidates-BL9rOxoC.js","assets/GeoJSONSourceWorker-DpQLNVoQ.js","assets/geojson-BFdBF2Yh.js","assets/sourceUtils-DCPav6Jq.js","assets/MemorySourceWorker-CptL7fzv.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-CfUKJqpB.js","assets/dehydratedFeatures-Db6uL0nz.js","assets/FeaturePipelineWorker-BihvyAt8.js","assets/FeatureMetadata-BDlbEhQF.js","assets/dataViewUtils-CNQhLgrz.js","assets/BoundingBox-BTix2o1N.js","assets/UpdateTracking2D-SMj-p5A6.js","assets/CIMSymbolHelper-Dol13WHh.js","assets/BidiEngine-QXap_35O.js","assets/fontUtils-MAEcy-tm.js","assets/GeometryUtils-DpvozfPk.js","assets/rasterizingUtils-QEVNdxXx.js","assets/floatRGBA-B4piDDCG.js","assets/Rect-CUzevAry.js","assets/streamLayerUtils-CKwt2uXH.js","assets/MeshWriterRegistry-Da4qRT6l.js","assets/TechniqueType-uMFRS8dR.js","assets/PieChartMeshWriter-DZABEp27.js","assets/libtess-DppjgscL.js","assets/utils-D0gQPiLb.js","assets/earcut-D9gy186-.js","assets/grouping-_tA5u21p.js","assets/QueueProcessor-DCWVM0GG.js","assets/operatorGeodeticDensify-ChwjeY-f.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-ChBUO45F.js","assets/ogcFeatureUtils-B0gpgFwZ.js","assets/parquet-JcceUfes.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-Bya2bl1h.js","assets/PointCloudWorker-v9x-MeWS.js","assets/quat-71JjbE-7.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-nZdmKIgz.js","assets/PointCloudUniqueValueRenderer-Dhem3kqh.js","assets/I3SBinaryReader-DPz9Tqip.js","assets/orientedBoundingBox-CnE-xK8z.js","assets/plane-r0cHTkMS.js","assets/RasterWorker-DxV1Fruj.js","assets/dataUtils-MBOmZKJD.js","assets/RasterSymbolizer-CjRF9OJj.js","assets/rasterFunctionHelper-BCzoutuA.js","assets/rasterProjectionHelper-CHwMYLS_.js","assets/GCSShiftTransform-D0Ln9CYf.js","assets/SceneLayerSnappingSourceWorker-w1SGmTPR.js","assets/lineSegment-7Ys7Mhwp.js","assets/sphere-CrWdn5WG.js","assets/Octree-DfiK6ozz.js","assets/SceneLayerWorker-DlqEoxHf.js","assets/projectVectorToVector-Z_Li9GAa.js","assets/I3SUtil-DnbK9XpA.js","assets/edgeUtils-CB938gfq.js","assets/NormalAttribute.glsl-BCIqtALM.js","assets/glsl-BH37Aalp.js","assets/ShaderOutput-DnYY5J1_.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-B0fKFkeh.js","assets/wfsUtils-c-ChQMeF.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-W9f5p6El.js","assets/enums-BRzLM11V.js","assets/config-BOD8--da.js","assets/StyleDefinition-PFwTbrp4.js","assets/SourceLayerData-BynpJxUR.js","assets/StyleRepository-BrYQfGhe.js","assets/Feature3DPipelineWorker-BlOcvO7t.js","assets/LodRenderer-BTG9H-7r.js","assets/VerticalOffset.glsl-Beo2XTG8.js","assets/triangle-D5MaDVIx.js","assets/basicInterfaces-CZwQPxTp.js","assets/boundedPlane-J7FfjeDj.js","assets/requestImageUtils-BYTsUFhh.js","assets/TextureFormat-1mYWTFa-.js","assets/renderState-uM4aFsCI.js","assets/HUDMaterial.glsl-B_3mscbf.js","assets/VertexArrayObject-DFpAPVxg.js","assets/HUDVisibility.glsl-DlXpbg_O.js","assets/doublePrecisionUtils-B0owpBza.js","assets/hydratedFeatures-DWF7XKhZ.js","assets/ShaderBuilder-BcpY9UXr.js","assets/IntersectorInterfaces-CmNINbyF.js","assets/RealisticTree.glsl-DJq6IRkh.js","assets/LodResources-DxD54sRi.js","assets/TextureCompressionWorker-WQkZ45N1.js","assets/Popup-DjLks0Bx.js","assets/ReactiveSet-BcQjYeQJ.js","assets/layerViewUtils-DsIlqsQq.js","assets/ElevationLayer-CyNamyab.js","assets/ArcGISCachedService-Jo6RYE0H.js","assets/TileInfoTilemapCache-S6rPByXM.js","assets/TilemapCache-DlFaEIuB.js","assets/WorkerHandle-GBX3PHtL.js","assets/layersCreator-C81A2h45.js","assets/loadUtils-DL6DTU3h.js","assets/fetchService-Oy3xT16y.js","assets/associatedFeatureServiceUtils-s_Dn_lpM.js","assets/lazyLayerLoader-C7lXMDa6.js","assets/portalLayers-5gK1zSPs.js","assets/arcgisLayers-DNGGnSOt.js","assets/arcadeUtils-DMqqCoNv.js","assets/arcade-CRlrqsAP.js","assets/unitConversion-BgPG0DxM.js","assets/ImmutableArray-BPVd6ESQ.js","assets/webglDeps-BMvgpo_w.js","assets/FramebufferObject-BiqIXwNg.js","assets/ProgramTemplate-D1AQ0c1r.js","assets/NestedMap-GuqgquCN.js","assets/mapViewDeps-BrEEb22I.js","assets/FeatureCommandQueue-sVhd395J.js","assets/GraphShaderModule-CuLIQIMK.js","assets/WGLContainer-Up7GOusB.js","assets/Container-Cl_HRDzh.js","assets/SDFHelper-DuyjHUDe.js","assets/OverrideHelper-Co-3jC5M.js","assets/GridShader-C88K3Aoq.js","assets/testSVGPremultipliedAlpha-BpMYeqeu.js","assets/MaterialPrograms-BsFJTWTB.js","assets/CIMResourceManager-B54vgzw2.js","assets/utils-DU11Z1Dr.js","assets/VertexStream-CKm0i3gL.js","assets/utils-ehcGqGxa.js","assets/GraphicsView2D-cUqFkhzK.js","assets/GraphicContainer-DT7K0P2e.js","assets/AGraphicContainer-x5d0IAkF.js","assets/TechniqueInstance-HClTSCu0.js","assets/TileContainer-BStXqQ6h.js","assets/gridUtils-Cemp60lt.js","assets/geodesicUtils-C4bKUIk5.js","assets/TileLayerView2D-CWjJhslU.js","assets/imageUtils-CXH_tBC8.js","assets/BitmapTechnique-BixU24lO.js","assets/LayerView-Dcu5PL4X.js","assets/HighlightGraphicContainer-Dh-PdTdl.js","assets/RefreshableLayerView-DuieHSQa.js","assets/MapServiceLayerViewHelper-CieErYpA.js","assets/drapedUtils-omQxDYH_.js","assets/popupUtils-BKlvxRhX.js","assets/FeatureLayerView2D-DGUoiomz.js","assets/timeSupport-BfzYNi8U.js","assets/AttributeBinsFeatureSet-nPawbTbw.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-C2L_niPn.js","assets/BitmapContainer-N0FVjM0o.js","assets/ExportStrategy-DPNH8DMR.js","assets/CatalogLayerView2D-C0XBkOoA.js","assets/CatalogDynamicGroupLayerView2D-CBw-KYkB.js","assets/CatalogFootprintLayerView2D-Cm5TP3jD.js","assets/GeoRSSLayerView2D-CHIPOBoE.js","assets/GraphicsLayerView2D-DRzb6blX.js","assets/GroupLayerView2D-CEbl5gbt.js","assets/ImageryLayerView2D-Ca8uUBDx.js","assets/RasterVFDisplayObject-DSmnCtJZ.js","assets/ImageryTileLayerView2D-OqhD8ZgR.js","assets/multidimensionalUtils-DHHu_NhB.js","assets/rasterUtils-to0IKKBn.js","assets/RawBlockCache-CM-anjNH.js","assets/KMLLayerView2D-Dk6OUQZw.js","assets/kmlUtils-CtHLsHmn.js","assets/KnowledgeGraphLayerView2D-BU0MPeZZ.js","assets/MapImageLayerView2D-DUzqKPxO.js","assets/MapNotesLayerView2D-BlQHzCuC.js","assets/MediaLayerView2D-_zHpILEX.js","assets/MediaElementView-B6FSnK16.js","assets/OverlayContainer-vGflqQXv.js","assets/OGCFeatureLayerView2D-BoXXu3Hc.js","assets/RouteLayerView2D-B5QUlOfK.js","assets/Stop-KM8bSF7Q.js","assets/networkEnums-DFN3exUd.js","assets/StreamLayerView2D-DLYi_Q8e.js","assets/SubtypeGroupLayerView2D-n6JaP1Mp.js","assets/VectorTileLayerView2D-Degd3Wwv.js","assets/VideoLayerView2D-D4uN5-Nf.js","assets/TelemetryDisplay-C53mcrGv.js","assets/WMSLayerView2D-8i8lwufH.js","assets/ExportWMSImageParameters-DQ8zQpjn.js","assets/WMTSLayerView2D-CX0KY967.js","assets/apng-C7KdrDoV.js","assets/webdocSaveUtils-DMcG00Pv.js","assets/originUtils-D69mHv66.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/resourceUtils-DncBRvkH.js","assets/resourceUtils-DJ14Qe9U.js","assets/saveUtils-Br96DR7v.js","assets/layersLoader-CUl9xVxQ.js","assets/featureLayerUtils-D0ACFqlI.js","assets/utils-CY73ZWJ3.js","assets/FeatureLayerSource-BghikZxo.js","assets/External-DE3WW01e.js","assets/MeshTransform-C2rr5EF7.js","assets/axisAngleDegrees-DXu8JWMb.js","assets/editingSupport-BDaKMeVC.js","assets/QueryTask-SGTlZ-Oi.js","assets/executeForIds-nM5BE4we.js","assets/queryAssociations-CmDhIf0B.js","assets/Association-C0mJwtmr.js","assets/synthesizeAssociationGeometries-BKZ_7HYW.js","assets/index-BnG7NiJo.js","assets/index-BJ0kc7VG.js","assets/index-VUfVv5RO.js","assets/index-BvqAo_0o.js","assets/index-HupSxlqr.js","assets/customElement-DVduDfiW.js","assets/index-odH7xX0x.js","assets/previewSymbol2D-Cp8bQUeJ.js","assets/previewCIMSymbol-z0K9NTtL.js","assets/CIMSymbolRasterizer-D2rv0sLt.js","assets/index-BmNvCb3z.js","assets/index-Vx_H6pcr.js","assets/index-CZJVXEQw.js","assets/index-DzhA_c1N.js","assets/index-CKfAtrvh.js","assets/index-BnUw5EEJ.js","assets/chartUtilsAm5-GBVtjkXk.js","assets/Theme-Bv5oVF7E.js","assets/Tooltip-G9Hqrl2A.js","assets/DefaultTheme-C6LnPX4Z.js","assets/chartCommon-BsalS4ym.js","assets/Button-CPVNoYiT.js","assets/ColorSet-KaNDLRqL.js","assets/pieChart-BQ12oJNJ.js","assets/Tick-BQtPbWQr.js","assets/xyChart-Bt3K_pNw.js","assets/arcade-D_uXTJIJ.js","assets/geodesicBufferOperator-By2nCirx.js","assets/operatorGeodesicBuffer-JlIBqR_Q.js"])))=>i.map(i=>d[i]);
var mae=Object.getPrototypeOf;var yae=Reflect.get;var hR=e=>{throw TypeError(e)};var S8=(e,t,r)=>t.has(e)||hR("Cannot "+r);var te=(e,t,r)=>(S8(e,t,"read from private field"),r?r.call(e):t.get(e)),st=(e,t,r)=>t.has(e)?hR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),We=(e,t,r,i)=>(S8(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Nc=(e,t,r)=>(S8(e,t,"access private method"),r);var mR=(e,t,r)=>yae(mae(e),r,t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();const bae="modulepreload",gae=function(e){return"/migration-app/"+e},yR={},C=function(t,r,i){let s=Promise.resolve();if(r&&r.length>0){let a=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=a(r.map(d=>{if(d=gae(d),d in yR)return;yR[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":bae,f||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&n(o.reason);return t().catch(n)})};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const A1=globalThis,O5=A1.trustedTypes,bR=O5?O5.createPolicy("lit-html",{createHTML:e=>e}):void 0,MB="$lit$",zd=`lit$${Math.random().toFixed(9).slice(2)}$`,AB="?"+zd,vae=`<${AB}>`,Wp=document,lv=()=>Wp.createComment(""),cv=e=>e===null||typeof e!="object"&&typeof e!="function",GC=Array.isArray,kB=e=>GC(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",$8=`[ 	
\f\r]`,wb=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gR=/-->/g,vR=/>/g,Ku=RegExp(`>|${$8}(?:([^\\s"'>=/]+)(${$8}*=${$8}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),wR=/'/g,_R=/"/g,LB=/^(?:script|style|textarea|title)$/i,RB=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),ot=RB(1),JS=RB(2),gc=Symbol.for("lit-noChange"),He=Symbol.for("lit-nothing"),SR=new WeakMap,vp=Wp.createTreeWalker(Wp,129);function OB(e,t){if(!GC(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return bR!==void 0?bR.createHTML(t):t}const wae=(e,t)=>{const r=e.length-1,i=[];let s,n=t===2?"<svg>":t===3?"<math>":"",a=wb;for(let o=0;o<r;o++){const l=e[o];let d,f,p=-1,m=0;for(;m<l.length&&(a.lastIndex=m,f=a.exec(l),f!==null);)m=a.lastIndex,a===wb?f[1]==="!--"?a=gR:f[1]!==void 0?a=vR:f[2]!==void 0?(LB.test(f[2])&&(s=RegExp("</"+f[2],"g")),a=Ku):f[3]!==void 0&&(a=Ku):a===Ku?f[0]===">"?(a=s??wb,p=-1):f[1]===void 0?p=-2:(p=a.lastIndex-f[2].length,d=f[1],a=f[3]===void 0?Ku:f[3]==='"'?_R:wR):a===_R||a===wR?a=Ku:a===gR||a===vR?a=wb:(a=Ku,s=void 0);const y=a===Ku&&e[o+1].startsWith("/>")?" ":"";n+=a===wb?l+vae:p>=0?(i.push(d),l.slice(0,p)+MB+l.slice(p)+zd+y):l+zd+(p===-2?o:y)}return[OB(e,n+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};let YS=class FB{constructor({strings:t,_$litType$:r},i){let s;this.parts=[];let n=0,a=0;const o=t.length-1,l=this.parts,[d,f]=wae(t,r);if(this.el=FB.createElement(d,i),vp.currentNode=this.el.content,r===2||r===3){const p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(s=vp.nextNode())!==null&&l.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const p of s.getAttributeNames())if(p.endsWith(MB)){const m=f[a++],y=s.getAttribute(p).split(zd),b=/([.?@])?(.*)/.exec(m);l.push({type:1,index:n,name:b[2],strings:y,ctor:b[1]==="."?_ae:b[1]==="?"?Sae:b[1]==="@"?$ae:I6}),s.removeAttribute(p)}else p.startsWith(zd)&&(l.push({type:6,index:n}),s.removeAttribute(p));if(LB.test(s.tagName)){const p=s.textContent.split(zd),m=p.length-1;if(m>0){s.textContent=O5?O5.emptyScript:"";for(let y=0;y<m;y++)s.append(p[y],lv()),vp.nextNode(),l.push({type:2,index:++n});s.append(p[m],lv())}}}else if(s.nodeType===8)if(s.data===AB)l.push({type:2,index:n});else{let p=-1;for(;(p=s.data.indexOf(zd,p+1))!==-1;)l.push({type:7,index:n}),p+=zd.length-1}n++}}static createElement(t,r){const i=Wp.createElement("template");return i.innerHTML=t,i}};function Zp(e,t,r=e,i){var a,o;if(t===gc)return t;let s=i!==void 0?(a=r._$Co)==null?void 0:a[i]:r._$Cl;const n=cv(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,r,i)),i!==void 0?(r._$Co??(r._$Co=[]))[i]=s:r._$Cl=s),s!==void 0&&(t=Zp(e,s._$AS(e,t.values),s,i)),t}let PB=class{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:i}=this._$AD,s=((t==null?void 0:t.creationScope)??Wp).importNode(r,!0);vp.currentNode=s;let n=vp.nextNode(),a=0,o=0,l=i[0];for(;l!==void 0;){if(a===l.index){let d;l.type===2?d=new T6(n,n.nextSibling,this,t):l.type===1?d=new l.ctor(n,l.name,l.strings,this,t):l.type===6&&(d=new DB(n,this,t)),this._$AV.push(d),l=i[++o]}a!==(l==null?void 0:l.index)&&(n=vp.nextNode(),a++)}return vp.currentNode=Wp,s}p(t){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,r),r+=i.strings.length-2):i._$AI(t[r])),r++}},T6=class NB{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,r,i,s){this.type=2,this._$AH=He,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Zp(this,t,r),cv(t)?t===He||t==null||t===""?(this._$AH!==He&&this._$AR(),this._$AH=He):t!==this._$AH&&t!==gc&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):kB(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==He&&cv(this._$AH)?this._$AA.nextSibling.data=t:this.T(Wp.createTextNode(t)),this._$AH=t}$(t){var n;const{values:r,_$litType$:i}=t,s=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=YS.createElement(OB(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(r);else{const a=new PB(s,this),o=a.u(this.options);a.p(r),this.T(o),this._$AH=a}}_$AC(t){let r=SR.get(t.strings);return r===void 0&&SR.set(t.strings,r=new YS(t)),r}k(t){GC(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,s=0;for(const n of t)s===r.length?r.push(i=new NB(this.O(lv()),this.O(lv()),this,this.options)):i=r[s],i._$AI(n),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,r);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}},I6=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,i,s,n){this.type=1,this._$AH=He,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=He}_$AI(t,r=this,i,s){const n=this.strings;let a=!1;if(n===void 0)t=Zp(this,t,r,0),a=!cv(t)||t!==this._$AH&&t!==gc,a&&(this._$AH=t);else{const o=t;let l,d;for(t=n[0],l=0;l<n.length-1;l++)d=Zp(this,o[i+l],r,l),d===gc&&(d=this._$AH[l]),a||(a=!cv(d)||d!==this._$AH[l]),d===He?t=He:t!==He&&(t+=(d??"")+n[l+1]),this._$AH[l]=d}a&&!s&&this.j(t)}j(t){t===He?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},_ae=class extends I6{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===He?void 0:t}},Sae=class extends I6{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==He)}},$ae=class extends I6{constructor(t,r,i,s,n){super(t,r,i,s,n),this.type=5}_$AI(t,r=this){if((t=Zp(this,t,r,0)??He)===gc)return;const i=this._$AH,s=t===He&&i!==He||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==He&&(i===He||s);s&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,t):this._$AH.handleEvent(t)}},DB=class{constructor(t,r,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Zp(this,t)}};const Kh={R:PB,D:kB,V:Zp,I:T6,F:DB},x8=A1.litHtmlPolyfillSupport;x8==null||x8(YS,T6),(A1.litHtmlVersions??(A1.litHtmlVersions=[])).push("3.3.0");const VB=(e,t,r)=>{const i=(r==null?void 0:r.renderBefore)??t;let s=i._$litPart$;if(s===void 0){const n=(r==null?void 0:r.renderBefore)??null;i._$litPart$=s=new T6(t.insertBefore(lv(),n),n,void 0,r??{})}return s._$AI(e),s},xae={resolveDirective:Kh.V,ElementPart:Kh.F,TemplateInstance:Kh.R,isIterable:Kh.D,ChildPart:Kh.I};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jd={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},HC=e=>(...t)=>({_$litDirective$:e,values:t});let WC=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,i){this._$Ct=t,this._$AM=r,this._$Ci=i}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Eae}=Kh,Tae=e=>e===null||typeof e!="object"&&typeof e!="function",Iae=(e,t)=>(e==null?void 0:e._$litType$)!==void 0,Cae=e=>{var t;return((t=e==null?void 0:e._$litType$)==null?void 0:t.h)!=null},zB=e=>e.strings===void 0,$R=()=>document.createComment(""),tBe=(e,t,r)=>{var n;const i=e._$AA.parentNode,s=t===void 0?e._$AB:t._$AA;if(r===void 0){const a=i.insertBefore($R(),s),o=i.insertBefore($R(),s);r=new Eae(a,o,e,e.options)}else{const a=r._$AB.nextSibling,o=r._$AM,l=o!==e;if(l){let d;(n=r._$AQ)==null||n.call(r,e),r._$AM=e,r._$AP!==void 0&&(d=e._$AU)!==o._$AU&&r._$AP(d)}if(a!==s||l){let d=r._$AA;for(;d!==a;){const f=d.nextSibling;i.insertBefore(d,s),d=f}}}return r},rBe=(e,t,r=e)=>(e._$AI(t,r),e),Mae={},iBe=(e,t=Mae)=>e._$AH=t,sBe=e=>e._$AH,nBe=e=>{var i;(i=e._$AP)==null||i.call(e,!1,!0);let t=e._$AA;const r=e._$AB.nextSibling;for(;t!==r;){const s=t.nextSibling;t.remove(),t=s}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{TemplateInstance:Aae,isIterable:kae,resolveDirective:jB,ChildPart:_b,ElementPart:Lae}=xae,Rae=(e,t,r={})=>{if(t._$litPart$!==void 0)throw Error("container already contains a live render");let i,s,n;const a=[],o=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT);let l;for(;(l=o.nextNode())!==null;){const d=l.data;if(d.startsWith("lit-part")){if(a.length===0&&i!==void 0)throw Error(`There must be only one root part per container. Found a part marker (${l}) when we already have a root part marker (${s})`);n=Oae(e,l,a,r),i===void 0&&(i=n),s??(s=l)}else if(d.startsWith("lit-node"))Pae(l,a,r);else if(d.startsWith("/lit-part")){if(a.length===1&&n!==i)throw Error("internal error");n=Fae(l,n,a)}}if(i===void 0){const d=t instanceof ShadowRoot?"{container.host.localName}'s shadow root":t instanceof DocumentFragment?"DocumentFragment":t.localName;console.error(`There should be exactly one root part in a render container, but we didn't find any in ${d}.`)}t._$litPart$=i},Oae=(e,t,r,i)=>{let s,n;if(r.length===0)n=new _b(t,null,void 0,i),s=e;else{const a=r[r.length-1];if(a.type==="template-instance")n=new _b(t,null,a.instance,i),a.instance._$AV.push(n),s=a.result.values[a.instancePartIndex++],a.templatePartIndex++;else if(a.type==="iterable"){n=new _b(t,null,a.part,i);const o=a.iterator.next();if(o.done)throw s=void 0,a.done=!0,Error("Unhandled shorter than expected iterable");s=o.value,a.part._$AH.push(n)}else n=new _b(t,null,a.part,i)}if(s=jB(n,s),s===gc)r.push({part:n,type:"leaf"});else if(Tae(s))r.push({part:n,type:"leaf"}),n._$AH=s;else if(Iae(s)){if(Cae(s))throw Error("compiled templates are not supported");const a="lit-part "+Nae(s);if(t.data!==a)throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part");{const o=_b.prototype._$AC(s),l=new Aae(o,n);r.push({type:"template-instance",instance:l,part:n,templatePartIndex:0,instancePartIndex:0,result:s}),n._$AH=l}}else kae(s)?(r.push({part:n,type:"iterable",value:s,iterator:s[Symbol.iterator](),done:!1}),n._$AH=[]):(r.push({part:n,type:"leaf"}),n._$AH=s??"");return n},Fae=(e,t,r)=>{if(t===void 0)throw Error("unbalanced part marker");t._$AB=e;const i=r.pop();if(i.type==="iterable"&&!i.iterator.next().done)throw Error("unexpected longer than expected iterable");if(r.length>0)return r[r.length-1].part},Pae=(e,t,r)=>{const i=/lit-node (\d+)/.exec(e.data),s=parseInt(i[1]),n=e.nextElementSibling;if(n===null)throw Error("could not find node for attribute parts");n.removeAttribute("defer-hydration");const a=t[t.length-1];if(a.type!=="template-instance")throw Error("Hydration value mismatch: Primitive found where TemplateResult expected. This usually occurs due to conditional rendering that resulted in a different value or template being rendered between the server and client.");{const o=a.instance;for(;;){const l=o._$AD.parts[a.templatePartIndex];if(l===void 0||l.type!==jd.ATTRIBUTE&&l.type!==jd.ELEMENT||l.index!==s)break;if(l.type===jd.ATTRIBUTE){const d=new l.ctor(n,l.name,l.strings,a.instance,r),f=zB(d)?a.result.values[a.instancePartIndex]:a.result.values,p=!(d.type===jd.EVENT||d.type===jd.PROPERTY);d._$AI(f,d,a.instancePartIndex,p),a.instancePartIndex+=l.strings.length-1,o._$AV.push(d)}else{const d=new Lae(n,a.instance,r);jB(d,a.result.values[a.instancePartIndex++]),o._$AV.push(d)}a.templatePartIndex++}}},Nae=e=>{const t=new Uint32Array(2).fill(5381);for(const i of e.strings)for(let s=0;s<i.length;s++)t[s%2]=33*t[s%2]^i.charCodeAt(s);const r=String.fromCharCode(...new Uint8Array(t.buffer));return btoa(r)};globalThis.litElementHydrateSupport=({LitElement:e})=>{const t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"observedAttributes").get;Object.defineProperty(e,"observedAttributes",{get(){return[...t.call(this),"defer-hydration"]}});const r=e.prototype.attributeChangedCallback;e.prototype.attributeChangedCallback=function(a,o,l){a==="defer-hydration"&&l===null&&i.call(this),r.call(this,a,o,l)};const i=e.prototype.connectedCallback;e.prototype.connectedCallback=function(){this.hasAttribute("defer-hydration")||i.call(this)};const s=e.prototype.createRenderRoot;e.prototype.createRenderRoot=function(){return this.shadowRoot?(this._$AG=!0,this.shadowRoot):s.call(this)};const n=Object.getPrototypeOf(e.prototype).update;e.prototype.update=function(a){const o=this.render();if(n.call(this,a),this._$AG){this._$AG=!1;for(let l=0;l<this.attributes.length;l++){const d=this.attributes[l];if(d.name.startsWith("hydrate-internals-")){const f=d.name.slice(18);this.removeAttribute(f),this.removeAttribute(d.name)}}Rae(o,this.renderRoot,this.renderOptions)}else VB(o,this.renderRoot,this.renderOptions)}};let dv=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}};const Dae=(e,t)=>{let r=e;for(;r;){if(r===t)return!0;if(!r.parentNode)return!1;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1},Vae=(e,t,r)=>{const i=zae(t).subscribe;return i(s=>{s.some(a=>Dae(e,a.target))&&r()})},E8={},zae=e=>{const t=e.join(","),r=E8[t];if(r!==void 0)return r;const i=new Set,s=new MutationObserver(a=>i.forEach(o=>o(a)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe:a=>(i.add(a),()=>{i.delete(a),i.size===0&&(s.disconnect(),E8[t]=void 0)})};return E8[t]=n,n},jae=(e,t)=>{var i,s;let r=e;for(;r;){const n=(i=r.closest)==null?void 0:i.call(r,t);if(n)return n;const a=(s=r.getRootNode)==null?void 0:s.call(r);if(a===globalThis.document)return null;r=a.host}return null},qae=(e,t,r)=>{const i=jae(e,`[${t}]`);return(i==null?void 0:i.getAttribute(t))??r},Ht=(e,t,...r)=>{try{return e==null?void 0:e.call(t,...r)}catch(i){console.error(i,e)}},QS=async(e,t,...r)=>{try{return await(e==null?void 0:e.call(t,...r))}catch(i){console.error(i,e)}},Bae="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),Uae=new Set(Bae),F5="en",Gae={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},Hae=async(e,t,r="")=>{const i=`${t}/${r}`,s=`${i}${e}.json`;return T8[s]??(T8[s]=qB(e,i)),await T8[s]},T8={},qB=async(e,t)=>{const r=`${t}${e}.json`;try{const i=await fetch(r);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return e===F5?{}:await qB(F5,t)},BB=e=>{var r;const t=qae(e,"lang",((r=globalThis.navigator)==null?void 0:r.language)||F5);return{lang:t,t9nLocale:UB(t)}},UB=e=>{const[t,r]=e.split("-"),i=t.toLowerCase();let s=i;return r&&(s=`${i}-${r.toUpperCase()}`),s=Gae[s]??s,Uae.has(s)?s:r?UB(i):F5},Wae=(e,t,r,i)=>{let s;const n=()=>Zae(e,t(),i).then(a=>{((s==null?void 0:s.lang)!==a.lang||s.t9nLocale!==a.t9nLocale||s.t9nStrings!==a.t9nStrings)&&r(a),s=a}).catch(console.error);return queueMicrotask(n),Vae(e,["lang"],n)},Zae=async(e,t,r=e.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:s}=BB(e),n=`${t}/${r}/t9n`,o=r===null?{}:await Hae(s,n,"messages.");return{lang:i,t9nLocale:s,t9nStrings:o}},GB=e=>e.replace(Jae,(t,r)=>`${r===0?"":"-"}${t.toLowerCase()}`),Jae=/[A-Z]+(?![a-z])|[A-Z]/gu,Yae=(e,t)=>{const r=t/Qae;let i=0;const s=setInterval(()=>{i+=r,i>=t&&(clearInterval(s),e())},r);return s},Qae=4;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const H3=globalThis,ZC=H3.ShadowRoot&&(H3.ShadyCSS===void 0||H3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,JC=Symbol(),xR=new WeakMap;let HB=class{constructor(t,r,i){if(this._$cssResult$=!0,i!==JC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(ZC&&t===void 0){const i=r!==void 0&&r.length===1;i&&(t=xR.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&xR.set(r,t))}return t}toString(){return this.cssText}};const Kae=e=>new HB(typeof e=="string"?e:e+"",void 0,JC),Wn=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((i,s,n)=>i+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new HB(r,e,JC)},Xae=(e,t)=>{if(ZC)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const i=document.createElement("style"),s=H3.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=r.cssText,e.appendChild(i)}},ER=ZC?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const i of t.cssRules)r+=i.cssText;return Kae(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:eoe,defineProperty:toe,getOwnPropertyDescriptor:roe,getOwnPropertyNames:ioe,getOwnPropertySymbols:soe,getPrototypeOf:noe}=Object,ou=globalThis,TR=ou.trustedTypes,aoe=TR?TR.emptyScript:"",I8=ou.reactiveElementPolyfillSupport,k1=(e,t)=>e,KS={toAttribute(e,t){switch(t){case Boolean:e=e?aoe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},YC=(e,t)=>!eoe(e,t),IR={attribute:!0,type:String,converter:KS,reflect:!1,useDefault:!1,hasChanged:YC};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ou.litPropertyMetadata??(ou.litPropertyMetadata=new WeakMap);let Xh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=IR){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(t,r),!r.noAccessor){const i=Symbol(),s=this.getPropertyDescriptor(t,i,r);s!==void 0&&toe(this.prototype,t,s)}}static getPropertyDescriptor(t,r,i){const{get:s,set:n}=roe(this.prototype,t)??{get(){return this[r]},set(a){this[r]=a}};return{get:s,set(a){const o=s==null?void 0:s.call(this);n==null||n.call(this,a),this.requestUpdate(t,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??IR}static _$Ei(){if(this.hasOwnProperty(k1("elementProperties")))return;const t=noe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(k1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(k1("properties"))){const r=this.properties,i=[...ioe(r),...soe(r)];for(const s of i)this.createProperty(s,r[s])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[i,s]of r)this.elementProperties.set(i,s)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const s=this._$Eu(r,i);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const s of i)r.unshift(ER(s))}else t!==void 0&&r.push(ER(t));return r}static _$Eu(t,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(r=>r(this))}addController(t){var r;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var r;(r=this._$EO)==null||r.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Xae(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var i;return(i=r.hostConnected)==null?void 0:i.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(r=>{var i;return(i=r.hostDisconnected)==null?void 0:i.call(r)})}attributeChangedCallback(t,r,i){this._$AK(t,i)}_$ET(t,r){var n;const i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(s!==void 0&&i.reflect===!0){const a=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:KS).toAttribute(r,i.type);this._$Em=t,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$Em=null}}_$AK(t,r){var n,a;const i=this.constructor,s=i._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const o=i.getPropertyOptions(s),l=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)==null?void 0:n.fromAttribute)!==void 0?o.converter:KS;this._$Em=s,this[s]=l.fromAttribute(r,o.type)??((a=this._$Ej)==null?void 0:a.get(s))??null,this._$Em=null}}requestUpdate(t,r,i){var s;if(t!==void 0){const n=this.constructor,a=this[t];if(i??(i=n.getPropertyOptions(t)),!((i.hasChanged??YC)(a,r)||i.useDefault&&i.reflect&&a===((s=this._$Ej)==null?void 0:s.get(t))&&!this.hasAttribute(n._$Eu(t,i))))return;this.C(t,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,r,{useDefault:i,reflect:s,wrapped:n},a){i&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,a??r??this[t]),n!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(r=void 0),this._$AL.set(t,r)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,a]of this._$Ep)this[n]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,a]of s){const{wrapped:o}=a,l=this[n];o!==!0||this._$AL.has(n)||l===void 0||this.C(n,void 0,a,l)}}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(i=this._$EO)==null||i.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(r)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(r)}willUpdate(t){}_$AE(t){var r;(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdated)==null?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(t){}firstUpdated(t){}};Xh.elementStyles=[],Xh.shadowRootOptions={mode:"open"},Xh[k1("elementProperties")]=new Map,Xh[k1("finalized")]=new Map,I8==null||I8({ReactiveElement:Xh}),(ou.reactiveElementVersions??(ou.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lp=globalThis;let oc=class extends Xh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=VB(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return gc}};var bB;oc._$litElement$=!0,oc.finalized=!0,(bB=Lp.litElementHydrateSupport)==null||bB.call(Lp,{LitElement:oc});const C8=Lp.litElementPolyfillSupport;C8==null||C8({LitElement:oc});(Lp.litElementVersions??(Lp.litElementVersions=[])).push("4.2.0");const QC=Symbol.for("controller"),ooe=e=>typeof e=="object"&&e!==null&&(QC in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),loe=e=>typeof(e==null?void 0:e.then)=="function";let Xb;const l0=e=>{Xb!==e&&(Xb=e,queueMicrotask(()=>Xb===e?Xb=void 0:0))},C6=e=>Xb;let uf=[];const WB=e=>{if(e===void 0){uf=[];return}const t=uf.indexOf(e);uf=t===-1?[...uf,e]:uf.slice(0,t+1),queueMicrotask(()=>uf=[])},ZB=()=>uf;let c0;const coe=e=>{c0!==e&&(c0=e,queueMicrotask(()=>c0===e?c0=void 0:0))},doe=()=>{const e=c0;return c0=void 0,e},uoe=async(e,t)=>{const r=KC(e);if(r===void 0)return e;if(await r.ready,typeof t=="function"){const i=r.watchExports(s=>t(s,i))}return r.exports},foe=async e=>{const t=KC(e);return await t.ready,t},KC=e=>{const r=C6().manager.X(e);if(r!==void 0)return r;if(ooe(e))return e;const i=doe();if(i!==void 0)return i};let XS=!1;const poe=e=>{XS=!0;try{return e()}finally{XS=!1}},hoe=(e,t,r)=>{const i=Object.keys(e),s=i.length;Hd===void 0&&queueMicrotask(XC),Hd??(Hd=new Map);let n=Hd.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},Hd.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(a=>a(i)),n.callbacks=[],n.keyCount=s),n.callbacks.push(a=>{const o=d=>Ht(t,null,d),l=a[s];l===void 0?o(void 0):e[l]===r?o(l):o(void 0)}),r};let Hd;const XC=()=>{Hd==null||Hd.forEach(({callbacks:e},t)=>{const r=Object.keys(t);e.forEach(i=>i(r))}),Hd=void 0},moe=(e,t,r)=>{const i=e.manager;return i.V!==He&&i.V!==r&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=r,i.T.push((s,n)=>Ht(t,void 0,r===n?s:void 0)),r},JB=(e=[C6(),...ZB()],t,r)=>{const i=Array.isArray(e)?e:[e];let s=i.length+1;const n=a=>{s-=1,a!==void 0&&(s=Math.min(s,0)),s===0&&t(a)};i.forEach(a=>hoe(a,o=>n(o===void 0?void 0:{key:o,host:a,isReactive:!1}),r));for(const a of i)if("manager"in a&&a.manager.component===a){moe(a,o=>n(o===void 0?void 0:{key:o,host:a,isReactive:!0}),r);break}return r},yoe=(e="",t={},r=C6())=>{const i={emit:s=>{e===""&&XC();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return r.el.dispatchEvent(n),n}};return e===""&&JB(void 0,s=>e=s.key,i),i},Sb=yoe.bind(null,"");var YB;YB=QC;var Z0,J0,Cp,Y0,Q0,K0,X0,ey,Gd,Mp,ys,Po,tc,ty,W3,gB;let eM=(gB=class{constructor(t){st(this,ty);st(this,Z0);st(this,J0);st(this,Cp);st(this,Y0);st(this,Q0);st(this,K0);st(this,X0);st(this,ey);st(this,Gd);st(this,Mp);st(this,ys);st(this,Po);st(this,tc);We(this,Z0,[]),We(this,J0,[]),We(this,Cp,[]),We(this,Y0,[]),We(this,Q0,[]),We(this,K0,[]),We(this,X0,[]),We(this,ey,[]),We(this,Gd,[]),We(this,Mp,!1),this.P=new dv,this.connectedCalled=!1,this.loadedCalled=!1,this[YB]=!0,We(this,tc,[]);const r=this,i=t??C6();We(r,ys,i),r.ready=r.P.promise,We(r,Po,MR(r)),r.component=i,te(r,ys).addController(r),te(r,ys).manager===void 0||(WB(r),queueMicrotask(()=>r.catchUpLifecycle()))}catchUpLifecycle(){const{manager:t}=te(this,ys);t.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),te(t,Mp)&&this.triggerLoad().then(()=>t.loadedCalled&&this.triggerLoaded()).catch(console.error)}get exports(){return te(this,Po)}set exports(t){const r=te(this,Po);r!==t&&(We(this,Po,t),te(this,tc).forEach(Ht),this.connectedCalled&&this.O!==!1&&te(this,ys).requestUpdate(this.O,r)),this.P.resolve(t)}setProvisionalExports(t,r=!0){We(this,Po,r?MR(t):t),te(this,tc).forEach(Ht)}watchExports(t){const r=()=>t(te(this,Po));return te(this,tc).push(r),()=>void te(this,tc).splice(te(this,tc).indexOf(r),1)}get use(){return l0(te(this,ys)),uoe}get useRef(){return l0(te(this,ys)),foe}get useRefSync(){return l0(te(this,ys)),KC}controllerRemoved(){te(this,ys).el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(t){te(this,Z0).push(t)}onDisconnected(t){te(this,J0).push(t)}onLoad(t){te(this,Cp).push(t)}onLoaded(t){te(this,Y0).push(t)}onUpdate(t){te(this,Q0).push(t)}onUpdated(t){te(this,K0).push(t)}onDestroy(t){te(this,X0).push(t)}onLifecycle(t){te(this,ey).push(t),this.connectedCalled&&te(this,ys).el.isConnected&&Nc(this,ty,W3).call(this,t)}triggerConnected(){const t=this;t.hostConnected&&Ht(t.hostConnected,t),te(t,Z0).forEach(Ht),t.triggerLifecycle(),t.connectedCalled=!0}triggerDisconnected(){const t=this;t.hostDisconnected&&Ht(t.hostDisconnected,t),te(t,J0).forEach(Ht),te(t,Gd).forEach(Ht),We(t,Gd,[])}async triggerLoad(){if(te(this,Mp))return;We(this,Mp,!0);const t=this;t.hostLoad&&await QS(t.hostLoad,t),te(this,Cp).length>0&&await Promise.allSettled(te(this,Cp).map(QS)),this.P.resolve(te(this,Po))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&Ht(this.hostLoaded,this),te(this,Y0).forEach(Ht),this.loadedCalled=!0)}triggerUpdate(t){this.hostUpdate&&Ht(this.hostUpdate,this,t),te(this,Q0).forEach(CR,t)}triggerUpdated(t){this.hostUpdated&&Ht(this.hostUpdated,this,t),te(this,K0).forEach(CR,t)}triggerDestroy(){this.hostDestroy&&Ht(this.hostDestroy,this),te(this,X0).forEach(Ht)}triggerLifecycle(){this.hostLifecycle&&Nc(this,ty,W3).call(this,()=>this.hostLifecycle()),te(this,ey).forEach(Nc(this,ty,W3),this)}},Z0=new WeakMap,J0=new WeakMap,Cp=new WeakMap,Y0=new WeakMap,Q0=new WeakMap,K0=new WeakMap,X0=new WeakMap,ey=new WeakMap,Gd=new WeakMap,Mp=new WeakMap,ys=new WeakMap,Po=new WeakMap,tc=new WeakMap,ty=new WeakSet,W3=function(t){l0(te(this,ys));const r=Ht(t);(Array.isArray(r)?r:[r]).forEach(s=>{typeof s=="function"?te(this,Gd).push(s):typeof s=="object"&&typeof s.remove=="function"&&te(this,Gd).push(s.remove)})},gB);function CR(e){Ht(e,void 0,this)}const boe=eM,MR=e=>{if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t={get(i,s,n){if(!((s==="exports"||s==="_exports")&&s in i&&i[s]===r)&&(s in i||s in Promise.prototype||typeof s=="symbol"))return typeof i=="function"?i[s]:Reflect.get(i,s,n)}},r=new Proxy(e,t);return r},goe=";",M8=",",voe=":",woe=1,_oe=2,Soe=4,$oe=8,xoe=16,Eoe=32,Toe=64,QB=e=>{var r,i;let t=e;for(;t=t.parentNode??t.host;)if((r=t==null?void 0:t.constructor)!=null&&r.lumina){const s=t;return(i=s.manager)!=null&&i.loadedCalled||(s.J??s._offspring).push(e),(s.I??s._postLoad).promise}return!1},AR={};function KB(){}const Ioe=(e,t)=>function(i,s){var o;if(!globalThis.customElements)return;const a=(s??i??{}).resourcesUrl;a&&e.setAssetPath(a);for(const[l,[d,f=""]]of Object.entries(t)){if(customElements.get(l))continue;const[p,m,y]=f.split(goe),b=p?p==null?void 0:p.split(M8).map(Coe):void 0,g=b==null?void 0:b.map(([w])=>w),v=(o=class extends e${constructor(){!v.B&&(v.B=d(),v.F()),super()}},o.observedAttributes=b==null?void 0:b.map(([,_])=>_).filter(_=>_!==""),o.C=g,o.E=m?m==null?void 0:m.split(M8):void 0,o.D=y==null?void 0:y.split(M8),o.L=l,o.K=e,o);customElements.define(l,v)}},Z3=Object.defineProperty,Coe=e=>{const t=e.split(voe);return t.length===1?[t[0],GB(t[0])]:t},Moe=globalThis.HTMLElement??KB;var bs,rc,ry,o2,t$;const cR=class cR extends Moe{constructor(){var s,n;super();st(this,o2);st(this,bs);st(this,rc);st(this,ry);We(this,rc,{}),We(this,ry,[]),this.I=new dv,this.H=new dv,this.J=[];const r=this,i=r.constructor;r._offspring=r.J,r._postLoad=r.I,(s=i.C)==null||s.forEach(a=>{Object.hasOwn(r,a)&&(te(r,rc)[a]=r[a],delete r[a])}),i.A?Nc(n=r,o2,t$).call(n,{a:i.A}):i.B.then(async a=>{var o,l;await i.K.p,Nc(l=r,o2,t$).call(l,await(((o=a.default)==null?void 0:o.then(d=>typeof d=="function"?{a:d}:d))??a))}).catch(a=>{r.H.reject(a),setTimeout(()=>{throw a})})}static F(){for(const r of this.C??[])Z3(this.prototype,r,{configurable:!0,enumerable:!0,get(){return te(this,rc)[r]},set(i){te(this,rc)[r]=i}});for(const r of this.E??[])Z3(this.prototype,r,{async value(...i){return te(this,bs)||await this.H.promise,await te(this,bs)[r](...i)},configurable:!0});for(const r of this.D??[])Z3(this.prototype,r,{value(...i){return te(this,bs)[r](...i)},configurable:!0})}get manager(){var r;return(r=te(this,bs))==null?void 0:r.manager}attributeChangedCallback(r,i,s){var n;(n=te(this,bs))==null||n.attributeChangedCallback(r,i,s),te(this,bs)||te(this,ry).push(r)}connectedCallback(){var r,i;te(this,bs)?(i=(r=te(this,bs)).connectedCallback)==null||i.call(r):queueMicrotask(()=>this.G=QB(this))}disconnectedCallback(){var r,i;(i=(r=te(this,bs))==null?void 0:r.disconnectedCallback)==null||i.call(r)}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){var r;(r=te(this,bs))==null||r.requestUpdate()}};bs=new WeakMap,rc=new WeakMap,ry=new WeakMap,o2=new WeakSet,t$=function(r){var m;const i=this.constructor,s=i.L,n=te(this,rc),a=Object.values(r).find(y=>y.L===s),o=`${s}--lazy`;let l=a;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);koe(l),!i.A&&(i.A=a,customElements.define(o,a)),a.N=this;const f=document.createElement(o);a.N=void 0,We(this,bs,f),We(this,rc,f),te(this,ry).forEach(y=>f.attributeChangedCallback(y,null,this.getAttribute(y))),Object.entries(n).forEach(Aoe,f);const p=this.isConnected;(p||this.G)&&((m=f.connectedCallback)==null||m.call(f),p||f.disconnectedCallback())},cR.lumina=!0;let e$=cR;function Aoe([e,t]){this[e]=t}const koe=e=>{const t=e.prototype,r=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){r.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){r.removeAttribute.call(this.el,s)},Z3(t,"isConnected",{get(){return Reflect.get(r,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const XB=HC(class extends WC{constructor(e){var t;if(super(e),e.type!==jd.ATTRIBUTE||e.name!=="class"||((t=e.strings)==null?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var i,s;if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in t)t[n]&&!((i=this.nt)!=null&&i.has(n))&&this.st.add(n);return this.render(t)}const r=e.element.classList;for(const n of this.st)n in t||(r.remove(n),this.st.delete(n));for(const n in t){const a=!!t[n];a===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(a?(r.add(n),this.st.add(n)):(r.remove(n),this.st.delete(n)))}return gc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eU="important",Loe=" !"+eU,tU=HC(class extends WC{constructor(e){var t;if(super(e),e.type!==jd.ATTRIBUTE||e.name!=="style"||((t=e.strings)==null?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{const i=e[r];return i==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(e,[t]){const{style:r}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const i of this.ft)t[i]==null&&(this.ft.delete(i),i.includes("-")?r.removeProperty(i):r[i]=null);for(const i in t){const s=t[i];if(s!=null){this.ft.add(i);const n=typeof s=="string"&&s.endsWith(Loe);i.includes("-")||n?r.setProperty(i,n?s.slice(0,-11):s,n?eU:""):r[i]=s}}return gc}});var ic,Ra,iy,vB;let Roe=(vB=class extends boe{constructor(r){super(r);st(this,ic);st(this,Ra);st(this,iy);this.destroyed=!1,this.R=!1,this.V=He,this.T=[],We(this,iy,new WeakMap),We(this,Ra,r),this.exports=void 0,this.hasDestroy=r$ in r&&typeof r.destroy=="function",oc.prototype.addController.call(r,{hostConnected:()=>{if(this.destroyed){const i=r.el.localName;throw r.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${r$} prop.`)}te(this,ic)!==void 0&&clearTimeout(te(this,ic)),XC();for(const i of r.M)"triggerConnected"in i?i.triggerConnected():Ht(i.hostConnected,i)},hostDisconnected:()=>{for(const i of r.M)"triggerDisconnected"in i?i.triggerDisconnected():Ht(i.hostDisconnected,i);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const i of r.M)"triggerUpdate"in i?i.triggerUpdate(this.Q):Ht(i.hostUpdate,i,this.Q)},hostUpdated:()=>{for(const i of r.M)"triggerUpdated"in i?i.triggerUpdated(this.Q):Ht(i.hostUpdated,i,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),l0(r)}async destroy(){if(!this.destroyed){te(this,Ra).el.isConnected&&(this.hasDestroy=!1,te(this,Ra).el.remove()),We(this,ic,void 0),this.destroyed=!0;for(const r of te(this,Ra).M)"triggerDestroy"in r?r.triggerDestroy():Ht(r.hostDestroy,r);te(this,Ra).M.splice(0)}}U(){te(this,ic)!==void 0&&clearTimeout(te(this,ic)),!te(this,Ra).el.isConnected&&!te(this,Ra).autoDestroyDisabled&&We(this,ic,Yae(()=>void te(this,Ra).destroy(),Ooe))}S(r,i){const s=this.T;this.V=He,this.T=[],s.forEach(n=>n(r,i))}W(r,i){(typeof i=="object"&&i!==null||typeof i=="function")&&te(this,iy).set(i,r)}X(r){if(typeof r=="object"&&r!==null||typeof r=="function")return te(this,iy).get(r)}},ic=new WeakMap,Ra=new WeakMap,iy=new WeakMap,vB),Ooe=1e3;const r$="autoDestroyDisabled";var Ap,l2,c2,kp,No,Dy,rU,iU,yu;let u2=(yu=class extends oc{constructor(){super();st(this,Dy);st(this,Ap);st(this,l2);st(this,c2);st(this,kp);st(this,No);this.M=[],this.manager=new Roe(this);const r=this,i=r.constructor,s=i.N,n=i.K.o,a=yu.prototype.shouldUpdate;We(r,kp,(s==null?void 0:s.H)??new dv),r.I=(s==null?void 0:s.I)??new dv,r.J=(s==null?void 0:s.J)??[],r._offspring=r.J,r._postLoad=r.I,r.el=s??r,We(r,c2,r.enableUpdating),r.enableUpdating=KB,r.shouldUpdate!==a&&(We(r,l2,r.shouldUpdate),r.shouldUpdate=a),n&&(We(r,Ap,new Map),i.elementProperties.forEach((o,l)=>te(r,Ap).set(l,n())))}static finalizeStyles(r){var n;const i=super.finalizeStyles(r),s=this.shadowRootOptions===AR;return((n=this.K)==null?void 0:n.commonStyles)===void 0||s?i:[this.K.commonStyles,...i]}static createProperty(r,i){const s=typeof i=="number"?i:Array.isArray(i)?i[0]:0,n=Array.isArray(i)?i[1]:void 0,a=(n==null?void 0:n.hasChanged)??YC,o={attribute:s&woe&&typeof r=="string"?GB(r):!1,reflect:!!(s&_oe),type:s&Soe?Boolean:s&$oe?Number:void 0,state:!!(s&xoe),readOnly:!!(s&Eoe),noAccessor:!!(s&Toe),c:!1,...n,hasChanged(l,d){const f=a(l,d);return o.c=f,f}};super.createProperty(r,o)}static getPropertyDescriptor(r,i,s){const n=this.K,a=super.getPropertyDescriptor(r,i,s);return s.d=a,{...a,get(){var o,l;return(o=n.t)==null||o.call(n,te(this,Ap).get(r)),(l=a.get)==null?void 0:l.call(this)},set(o){var d,f;const l=this.manager;if(s.readOnly&&!XS&&(l.R||l.connectedCalled))throw Error(`Cannot assign to read-only property "${r}" of ${this.el.localName}. Trying to assign "${o}"`);a.set.call(this,o??void 0),s.c&&((f=(d=te(this,Ap))==null?void 0:d.get(r))==null||f.notify()),l.T.length>0&&(l==null||l.S(r,o))}}}connectedCallback(){var s,n;if(this.el.hasAttribute("defer-hydration"))return;const r=(n=(s=this.manager).A)==null?void 0:n.call(s,()=>this.requestUpdate());We(this,No,r);const i=!this.manager.connectedCalled;super.connectedCallback(),i?queueMicrotask(()=>Nc(this,Dy,iU).call(this).catch(a=>{te(this,kp).reject(a),setTimeout(()=>{throw a})})):r&&this.requestUpdate()}disconnectedCallback(){var r;super.disconnectedCallback(),(r=te(this,No))==null||r.destroy(),We(this,No,void 0)}createRenderRoot(){const r=this.el.shadowRoot,i=this.constructor,s=i.shadowRootOptions,a=r??(s===AR?this.el:this.el.attachShadow(s));if(r)return oc.prototype.createRenderRoot.call(this),r;if(this.isConnected){const o=a.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...i.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return a}shouldUpdate(r){var i;return this.manager.Q=r,((i=te(this,l2))==null?void 0:i.call(this,r))??!0}update(r){te(this,No)?Nc(this,Dy,rU).call(this,r):super.update(r)}listen(r,i,s){const n=(i==null?void 0:i.bind(this))??i;this.manager.onLifecycle(()=>(this.el.addEventListener(r,n,s),()=>this.el.removeEventListener(r,n,s)))}listenOn(r,i,s,n){const a=(s==null?void 0:s.bind(this))??s;this.manager.onLifecycle(()=>(r.addEventListener(i,a,n),()=>r.removeEventListener(i,a,n)))}async componentOnReady(){return await te(this,kp).promise,this}addController(r){var i;this.M.push(r),!(QC in r)&&this.renderRoot&&this.el.isConnected&&((i=r.hostConnected)==null||i.call(r))}removeController(r){var i;this.M.splice(this.M.indexOf(r),1),(i=r.controllerRemoved)==null||i.call(r)}},Ap=new WeakMap,l2=new WeakMap,c2=new WeakMap,kp=new WeakMap,No=new WeakMap,Dy=new WeakSet,rU=function(r){try{te(this,No).clear(),this.manager.B(te(this,No),()=>mR(yu.prototype,this,"update").call(this,r))}catch(i){throw te(this,No).clear(),i}},iU=async function(){var n,a;const r=this.el.G??QB(this.el);r&&await r;const i=[];for(const o of this.M)"triggerLoad"in o?i.push(o.triggerLoad()):i.push(QS(o.hostLoad,o));await Promise.all(i),await((n=this.load)==null?void 0:n.call(this)),this.manager.hasDestroy&&this.manager.onUpdate(o=>o.has(r$)&&this.manager.U()),te(this,c2).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter(o=>{var l;return!((l=o.manager)!=null&&l.loadedCalled)});s.length&&await Promise.allSettled(s.map(async o=>await o.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const o of this.M)"triggerLoaded"in o?o.triggerLoaded():Ht(o.hostLoaded,o);(a=this.loaded)==null||a.call(this),te(this,kp).resolve()},yu.lumina=!0,yu);const Foe=e=>{let t;const r=s=>{var n;t=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},i={...e,getAssetPath(s){var a;const n=new URL(s,t);return n.origin!==((a=globalThis.location)==null?void 0:a.origin)?n.href:n.pathname},setAssetPath:r,customElement(s,n){n.K=i,n.L=s,customElements.get(s)||customElements.define(s,n)}};return r(e.defaultAssetPath),i},Sr=e=>typeof e=="object"&&e!=null?XB(e):e,Poe=e=>typeof e=="object"&&e!=null?tU(e):e,fBe=He;function Noe(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}const Doe={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const sU="calcite-mode-auto",nU="calcite-mode-dark",Voe="calcite-mode-light",A8={autoMode:sU,darkMode:nU,lightMode:Voe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},pBe={filter:250,nextTick:0,resize:150,reposition:100},hBe=10,mBe=25;function kR(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=()=>e.contains(nU)||e.contains(sU)&&t?"dark":"light",i=a=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:a}})),s=a=>{n!==a&&i(a),n=a};let n=r();i(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",a=>s(a.matches?"dark":"light")),new MutationObserver(()=>s(r())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const lc=globalThis.calciteConfig,yBe=(lc==null?void 0:lc.focusTrapStack)||[],zoe=(lc==null?void 0:lc.logLevel)||"info",LR="3.2.0",joe="2025-05-14",qoe="4f2d7eb58";function Boe(){if(lc&&lc.version)return;console.info(`Using Calcite Components ${LR} [Date: ${joe}, Revision: ${qoe}]`);const e=lc||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:LR,writable:!1}),globalThis.calciteConfig=e}function Uoe(){document.readyState==="interactive"?kR():document.addEventListener("DOMContentLoaded",()=>kR(),{once:!0}),Boe()}Uoe();const aU=Foe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.0/",hydratedAttribute:"calcite-hydrated"}),{customElement:f2,getAssetPath:oU,setAssetPath:Goe}=aU,Hoe=Ioe(aU,{"calcite-accordion":[()=>C(()=>import("./customElement-BqsoG8gY.js"),[]),"appearance,iconPosition,iconType,scale,selectionMode"],"calcite-accordion-item":[()=>C(()=>import("./customElement-BQ4tgu5O.js"),__vite__mapDeps([0,1])),"accordionParent:,appearance,description,expanded,heading,iconEnd,iconFlipRtl,iconPosition,iconStart,iconType,scale;setFocus"],"calcite-action":[()=>C(()=>import("./index-DUQWA4aA.js").then(e=>e.c),__vite__mapDeps([2,1])),"active,alignment,appearance,compact,disabled,dragHandle,icon,iconFlipRtl,indicator,label,loading,messageOverrides:,scale,text,textEnabled;setFocus"],"calcite-action-bar":[()=>C(()=>import("./customElement-BkGzoHJQ.js"),__vite__mapDeps([3,4,5,6,7])),"actionsEndGroupLabel,expandDisabled,expanded,floating,layout,messageOverrides:,overflowActionsDisabled,overlayPositioning,position,scale;overflowActions,setFocus"],"calcite-action-group":[()=>C(()=>import("./customElement-BHTO6LtZ.js"),__vite__mapDeps([8,6,5])),"columns,expanded,label,layout,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;setFocus"],"calcite-action-menu":[()=>C(()=>import("./customElement-Cy400UrR.js"),__vite__mapDeps([9,10,6])),"appearance,expanded,flipPlacements:,label,open,overlayPositioning,placement,scale;setFocus"],"calcite-action-pad":[()=>C(()=>import("./customElement-C9lGnuE_.js"),__vite__mapDeps([11,4,5,6])),"actionsEndGroupLabel,expandDisabled,expanded,layout,messageOverrides:,overlayPositioning,position,scale;setFocus"],"calcite-alert":[()=>C(()=>import("./customElement-BplUhlPY.js"),__vite__mapDeps([12,1,13,14,15])),"active,autoClose,autoCloseDuration,embedded,icon,iconFlipRtl,kind,label,messageOverrides:,numberingSystem,open,openAlertCount,placement,queue,scale;setFocus"],"calcite-autocomplete":[()=>C(()=>import("./customElement-xJ7-BKyx.js"),__vite__mapDeps([16,17,18,7,14,19,20])),"alignment,autocomplete:,disabled,flipPlacements:,form,icon,iconFlipRtl,inputValue,label,loading,maxLength,messageOverrides:,minLength,name,open,overlayPositioning,pattern,placeholder,placement,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;reposition,scrollContentTo,selectText,setFocus"],"calcite-autocomplete-item":[()=>C(()=>import("./customElement-y0nw6kFn.js"),__vite__mapDeps([21,22])),"active,description,disabled,guid,heading,iconEnd,iconFlipRtl,iconStart,inputValueMatchPattern:,label,scale,value"],"calcite-autocomplete-item-group":[()=>C(()=>import("./customElement-Cs7YDmUU.js"),[]),"disableSpacing,heading,label,scale"],"calcite-avatar":[()=>C(()=>import("./customElement-CHWzUdgT.js"),__vite__mapDeps([23,24,25])),"fullName,label,scale,thumbnail,userId,username"],"calcite-block":[()=>C(()=>import("./customElement-kMlywfyZ.js"),__vite__mapDeps([26,1,27,14,18,7,28])),"collapsible,description,disabled,dragDisabled,dragHandle,expanded,heading,headingLevel,iconEnd,iconFlipRtl,iconStart,label,loading,menuFlipPlacements:,menuPlacement,messageOverrides:,moveToItems:,open,overlayPositioning,setPosition,setSize,sortHandleOpen,status;setFocus"],"calcite-block-group":[()=>C(()=>import("./customElement-C2LJVPxX.js"),__vite__mapDeps([29,30,7])),"canPull:,canPut:,disabled,dragEnabled,group,label,loading;setFocus;putFailed"],"calcite-block-section":[()=>C(()=>import("./customElement-C0hkE6Lr.js"),__vite__mapDeps([31,1])),"expanded,iconEnd,iconFlipRtl,iconStart,messageOverrides:,open,status,text,toggleDisplay;setFocus"],"calcite-button":[()=>C(()=>Promise.resolve().then(()=>zPe),void 0),"alignment,appearance,disabled,download,form,href,iconEnd,iconFlipRtl,iconStart,kind,label,loading,messageOverrides:,name,rel,round,scale,splitChild,target,type,width;setFocus"],"calcite-card":[()=>C(()=>import("./customElement-CkYn48RX.js"),[]),"disabled,label,loading,messageOverrides:,selectable,selected,selectionMode,thumbnailPosition;setFocus"],"calcite-card-group":[()=>C(()=>import("./customElement-CYA9ocpz.js"),[]),"disabled,label,selectedItems:,selectionMode;setFocus"],"calcite-carousel":[()=>C(()=>import("./customElement-_B0kY0rZ.js"),__vite__mapDeps([32,17,33,25,10])),"arrowType,autoplay,autoplayDuration,controlOverlay,disabled,label,messageOverrides:,paused,selectedItem:;play,setFocus,stop"],"calcite-carousel-item":[()=>C(()=>import("./index-DhSvaCRK.js").then(e=>e.c),[]),"label,selected"],"calcite-checkbox":[()=>C(()=>import("./customElement-BzuyL7pD.js"),[]),"checked,disabled,form,hovered,indeterminate,label,name,required,scale,status,validity:,value;setFocus"],"calcite-chip":[()=>C(()=>Promise.resolve().then(()=>RFe),void 0),"appearance,closable,closed,closeOnDelete,disabled,icon,iconFlipRtl,interactive,kind,label,messageOverrides:,parentChipGroup:,scale,selected,selectionMode,value;setFocus"],"calcite-chip-group":[()=>C(()=>import("./index-Dl52LUXz.js").then(e=>e.c),[]),"disabled,label,scale,selectedItems:,selectionMode;setFocus"],"calcite-color-picker":[()=>C(()=>import("./customElement-Dgx5MptR.js"),__vite__mapDeps([34,17,1,24,25,35,36,7])),"allowEmpty,alphaChannel,channelsDisabled,clearable,color:,disabled,format,hexDisabled,messageOverrides:,numberingSystem,savedDisabled,scale,storageId,value;setFocus"],"calcite-color-picker-hex-input":[()=>C(()=>import("./customElement-CxQC6R_z.js"),__vite__mapDeps([37,1,24,25])),"allowEmpty,alphaChannel,hexLabel,messages:,numberingSystem,scale,value;setFocus"],"calcite-color-picker-swatch":[()=>C(()=>import("./customElement-5AZP4P59.js"),__vite__mapDeps([38,1,24,25])),"active,color,scale"],"calcite-combobox":[()=>C(()=>import("./customElement-8io65S4H.js"),__vite__mapDeps([39,1,40,41,42,20,7,18,14,43,19,44])),"allowCustomValues,clearDisabled,disabled,filteredItems:,filterProps:,filterText,flipPlacements:,form,label,maxItems,messageOverrides:,name,open,overlayPositioning,placeholder,placeholderIcon,placeholderIconFlipRtl,readOnly,required,scale,selectAllEnabled,selectedItems:,selectionDisplay,selectionMode,status,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-combobox-item":[()=>C(()=>import("./customElement-DZ3J-AMB.js"),__vite__mapDeps([45,1,44,22])),"active,ancestors:,description,disabled,filterDisabled,filterTextMatchPattern:,guid,heading,icon,iconFlipRtl,indeterminate,itemHidden,label,metadata:,scale,selected,selectionMode,shortHeading,textLabel,value"],"calcite-combobox-item-group":[()=>C(()=>import("./customElement-n7jcSnXp.js"),__vite__mapDeps([46,44])),"afterEmptyGroup,ancestors:,itemHidden,label,scale"],"calcite-date-picker":[()=>C(()=>import("./customElement-CTyQxjBU.js"),__vite__mapDeps([47,48,13,49])),"activeDate:,activeRange,headingLevel,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,numberingSystem,proximitySelectionDisabled,range,scale,value,valueAsDate:;reset,setFocus"],"calcite-date-picker-day":[()=>C(()=>import("./customElement-D2KFfo_P.js"),__vite__mapDeps([50,48,13])),"active,currentMonth,dateTimeFormat:,day,disabled,endOfRange,highlighted,range,rangeEdge,rangeHover,scale,selected,startOfRange,value:;setFocus"],"calcite-date-picker-month":[()=>C(()=>import("./customElement-De0qO0mz.js"),__vite__mapDeps([51,1,48,13])),"activeDate:,dateTimeFormat:,endDate:,headingLevel,hoverRange:,layout,localeData:,max:,messages:,min:,monthStyle,range,scale,selectedDate:,startDate:"],"calcite-date-picker-month-header":[()=>C(()=>import("./customElement-CIT_nHMU.js"),__vite__mapDeps([52,40,25,48,13])),"activeDate:,headingLevel,localeData:,max:,messages:,min:,monthStyle,position,scale,selectedDate:"],"calcite-dialog":[()=>C(()=>import("./customElement-B2SKlu7a.js"),__vite__mapDeps([53,1,54,55,14,56,57,58])),"beforeClose:,closeDisabled,description,dragEnabled,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,kind,loading,menuOpen,messageOverrides:,modal,open,outsideCloseDisabled,overlayPositioning,placement,resizable,scale,width,widthScale;scrollContentTo,setFocus,updateFocusTrapElements"],"calcite-dropdown":[()=>C(()=>import("./index-D3HxDNGM.js").then(e=>e.c),__vite__mapDeps([59,18,7,14,55])),"closeOnSelectDisabled,disabled,flipPlacements:,maxItems,offsetDistance,offsetSkidding,open,overlayPositioning,placement,scale,selectedItems:,type,width,widthScale;reposition,setFocus"],"calcite-dropdown-group":[()=>C(()=>import("./index-81aBFjVc.js").then(e=>e.c),__vite__mapDeps([60,61])),"groupTitle,position,scale,selectionMode"],"calcite-dropdown-item":[()=>C(()=>import("./index-CSSt9bo1.js").then(e=>e.c),__vite__mapDeps([62,61])),"disabled,href,iconEnd,iconFlipRtl,iconStart,label,rel,scale,selected,selectionMode,target;setFocus"],"calcite-fab":[()=>C(()=>import("./index-DWDCKkd5.js").then(e=>e.c),[]),"appearance,disabled,icon,iconFlipRtl,kind,label,loading,scale,text,textEnabled;setFocus"],"calcite-filter":[()=>C(()=>import("./customElement-DX-RJbr_.js"),__vite__mapDeps([63,42,20,7])),"disabled,filteredItems:,filterProps:,items:,label,messageOverrides:,placeholder,scale,value;filter,setFocus"],"calcite-flow":[()=>C(()=>import("./index-DB_P2JhB.js").then(e=>e.c),[]),"customItemSelectors;back,setFocus"],"calcite-flow-item":[()=>C(()=>import("./customElement-C2EfTVPI.js"),__vite__mapDeps([64,1,56])),"beforeBack:,beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,loading,menuOpen,messageOverrides:,overlayPositioning,scale,selected,showBackButton;scrollContentTo,setFocus"],"calcite-graph":[()=>C(()=>import("./customElement-Bk9tw4ha.js"),[]),"colorStops:,data:,highlightMax,highlightMin,max,min"],"calcite-handle":[()=>C(()=>import("./customElement-pBydEaTi.js"),[]),"blurUnselectDisabled,disabled,dragHandle,label,messageOverrides:,selected,setPosition,setSize;setFocus"],"calcite-icon":[()=>C(()=>Promise.resolve().then(()=>$Fe),void 0),"flipRtl,icon,preload,scale,textLabel"],"calcite-inline-editable":[()=>C(()=>import("./customElement-D_K02aZN.js"),[]),"afterConfirm:,controls,disabled,editingEnabled,loading,messageOverrides:,scale;setFocus"],"calcite-input":[()=>C(()=>import("./customElement-DVsQ4cqb.js"),__vite__mapDeps([65,40,1,13,19,66])),"accept,alignment,autocomplete:,clearable,disabled,editingEnabled,files:,form,groupSeparator,icon,iconFlipRtl,label,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,multiple,name,numberButtonType,numberingSystem,pattern,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,type,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-date-picker":[()=>C(()=>import("./customElement-CDzVrdsV.js"),__vite__mapDeps([67,57,48,13,18,7,14,49,19,66])),"disabled,flipPlacements:,focusTrapDisabled,form,headingLevel,label,layout,max,maxAsDate:,messageOverrides:,min,minAsDate:,monthStyle,name,numberingSystem,open,overlayPositioning,placement,proximitySelectionDisabled,range,readOnly,required,scale,status,validationIcon,validationMessage,validity:,value,valueAsDate:;reposition,setFocus"],"calcite-input-message":[()=>C(()=>import("./index-HupSxlqr.js").then(e=>e.c),[]),"icon,iconFlipRtl,scale,status"],"calcite-input-number":[()=>C(()=>import("./customElement-BZpfPgE0.js"),__vite__mapDeps([68,40,1,13,19,66])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,groupSeparator,icon,iconFlipRtl,integer,label,loading,localeFormat,max,maxLength,messageOverrides:,min,minLength,name,numberButtonType,numberingSystem,placeholder,prefixText,readOnly,required,scale,status,step,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-text":[()=>C(()=>import("./customElement-BwFRIaaW.js"),__vite__mapDeps([69,40,19,66])),"alignment,autocomplete:,clearable,disabled,editingEnabled,form,icon,iconFlipRtl,label,loading,maxLength,messageOverrides:,minLength,name,pattern,placeholder,prefixText,readOnly,required,scale,status,suffixText,validationIcon,validationMessage,validity:,value;selectText,setFocus"],"calcite-input-time-picker":[()=>C(()=>import("./customElement-B9eHUYDP.js"),__vite__mapDeps([70,35,19,66,13,71,22])),"disabled,focusTrapDisabled,form,hourFormat,max,messageOverrides:,min,name,numberingSystem,open,overlayPositioning,placement,readOnly,required,scale,status,step,validationIcon,validationMessage,validity:,value;reposition,setFocus"],"calcite-input-time-zone":[()=>C(()=>import("./customElement-CtAQ5BiG.js"),__vite__mapDeps([72,17,1,13])),"clearable,disabled,form,maxItems,messageOverrides:,mode,name,offsetStyle,open,overlayPositioning,readOnly,referenceDate,required,scale,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-label":[()=>C(()=>import("./index-BodaZSzH.js").then(e=>e.c),[]),"alignment,for,layout,scale"],"calcite-link":[()=>C(()=>import("./customElement-NJUizruy.js"),[]),"disabled,download,href,iconEnd,iconFlipRtl,iconStart,rel,target;setFocus"],"calcite-list":[()=>C(()=>import("./customElement-BnK57HBt.js"),__vite__mapDeps([73,1,74,30,75,13,7])),"canPull:,canPut:,disabled,displayMode,dragEnabled,filteredData:,filteredItems:,filterEnabled,filterLabel,filterPlaceholder,filterPredicate:,filterProps:,filterText,group,interactionMode,label,loading,messageOverrides:,numberingSystem,scale,selectedItems:,selectionAppearance,selectionMode;setFocus;putFailed"],"calcite-list-item":[()=>C(()=>import("./customElement-zvmf03gp.js"),__vite__mapDeps([76,1,28,74,77])),"active,bordered,closable,closed,description,disabled,displayMode,dragDisabled,dragHandle,expanded,filterHidden,iconEnd,iconFlipRtl,iconStart,interactionMode,label,messageOverrides:,metadata:,moveToItems:,open,scale,selected,selectionAppearance,selectionMode,setPosition,setSize,sortHandleOpen,unavailable,value;setFocus"],"calcite-list-item-group":[()=>C(()=>import("./index-BkYNxTcg.js").then(e=>e.c),__vite__mapDeps([78,77])),"disabled,filterHidden,heading,scale"],"calcite-loader":[()=>C(()=>Promise.resolve().then(()=>EOe),void 0),"complete,inline,label,scale,text,type,value"],"calcite-menu":[()=>C(()=>import("./customElement-D3H6i5sK.js"),[]),"label,layout,messageOverrides:;setFocus"],"calcite-menu-item":[()=>C(()=>import("./customElement-B3bUVr7e.js"),__vite__mapDeps([79,1])),"active,breadcrumb,href,iconEnd,iconFlipRtl,iconStart,isTopLevelItem,label,layout,messageOverrides:,open,rel,target,text,topLevelMenuLayout;setFocus"],"calcite-meter":[()=>C(()=>import("./customElement-Bs6iVP24.js"),__vite__mapDeps([80,1,13])),"appearance,disabled,fillType,form,groupSeparator,high,label,low,max,min,name,numberingSystem,rangeLabels,rangeLabelType,scale,unitLabel,value,valueLabel,valueLabelType"],"calcite-modal":[()=>C(()=>import("./customElement-CypjMQUX.js"),__vite__mapDeps([81,1,14,58,57])),"beforeClose:,closeButtonDisabled,docked,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,fullscreen,kind,messageOverrides:,open,opened,outsideCloseDisabled,scale,widthScale;scrollContent,setFocus,updateFocusTrapElements"],"calcite-navigation":[()=>C(()=>import("./customElement-BcVxEIWG.js"),[]),"label,navigationAction;setFocus"],"calcite-navigation-logo":[()=>C(()=>import("./customElement-CKMqBTkf.js"),__vite__mapDeps([82,1,27])),"active,description,heading,headingLevel,href,icon,iconFlipRtl,label,rel,target,thumbnail;setFocus"],"calcite-navigation-user":[()=>C(()=>import("./customElement-BPg9GnaA.js"),__vite__mapDeps([83,1])),"active,fullName,label,textDisabled,thumbnail,userId,username;setFocus"],"calcite-notice":[()=>C(()=>import("./index-CylWDiU4.js").then(e=>e.c),__vite__mapDeps([84,15,14])),"closable,icon,iconFlipRtl,kind,messageOverrides:,open,scale,width;setFocus"],"calcite-option":[()=>C(()=>import("./customElement-i6bJ_mLH.js"),[]),"disabled,label,selected,value"],"calcite-option-group":[()=>C(()=>import("./customElement-Dgg8yMNc.js"),[]),"disabled,label"],"calcite-pagination":[()=>C(()=>import("./customElement-BL2xzGlo.js"),__vite__mapDeps([85,1,13,33,25])),"groupSeparator,messageOverrides:,numberingSystem,pageSize,scale,startItem,totalItems;goTo,nextPage,previousPage,setFocus"],"calcite-panel":[()=>C(()=>import("./customElement-Cdy2UdZO.js"),__vite__mapDeps([86,1,6,27,18,7,56])),"beforeClose:,closable,closed,collapsed,collapseDirection,collapsible,description,disabled,heading,headingLevel,loading,menuFlipPlacements:,menuOpen,menuPlacement,messageOverrides:,overlayPositioning,scale;scrollContentTo,setFocus"],"calcite-popover":[()=>C(()=>import("./customElement-CeRUcNbK.js"),__vite__mapDeps([87,1,18,7,14,27,88,57])),"autoClose,closable,flipDisabled,flipPlacements:,focusTrapDisabled,focusTrapOptions:,heading,headingLevel,label,messageOverrides:,offsetDistance,offsetSkidding,open,overlayPositioning,placement,pointerDisabled,referenceElement,scale,triggerDisabled;reposition,setFocus,updateFocusTrapElements"],"calcite-progress":[()=>C(()=>import("./customElement-DVduDfiW.js"),[]),"label,reversed,text,type,value"],"calcite-radio-button":[()=>C(()=>import("./customElement-EH9yw4Lh.js"),__vite__mapDeps([89,10])),"checked,disabled,focused,form,hovered,label,name,required,scale,value;emitCheckedChange,setFocus"],"calcite-radio-button-group":[()=>C(()=>import("./customElement-DPwUCtqV.js"),__vite__mapDeps([90,19])),"disabled,layout,name,required,scale,selectedItem:,status,validationIcon,validationMessage;setFocus"],"calcite-rating":[()=>C(()=>import("./customElement-BNdfrl3N.js"),__vite__mapDeps([91,40,19])),"average,count,disabled,form,messageOverrides:,name,readOnly,required,scale,showChip,status,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-scrim":[()=>C(()=>Promise.resolve().then(()=>hFe),void 0),"loading,messageOverrides:"],"calcite-segmented-control":[()=>C(()=>import("./customElement-BvbjCOvx.js"),__vite__mapDeps([92,19])),"appearance,disabled,form,layout,name,required,scale,selectedItem:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-segmented-control-item":[()=>C(()=>import("./customElement-7G1zPIzO.js"),[]),"appearance,checked,iconEnd,iconFlipRtl,iconStart,layout,scale,value"],"calcite-select":[()=>C(()=>import("./customElement-CtCcFECJ.js"),__vite__mapDeps([93,19])),"disabled,form,label,name,required,scale,selectedOption:,status,validationIcon,validationMessage,validity:,value,width;setFocus"],"calcite-sheet":[()=>C(()=>import("./customElement-BpRhnInR.js"),__vite__mapDeps([94,1,54,14,55,35,58,57])),"beforeClose:,displayMode,embedded,escapeDisabled,focusTrapDisabled,focusTrapOptions:,height,heightScale,label,messageOverrides:,open,opened,outsideCloseDisabled,position,resizable,width,widthScale;setFocus,updateFocusTrapElements"],"calcite-shell":[()=>C(()=>import("./customElement-DlqfOMUh.js"),__vite__mapDeps([95,1])),"contentBehind"],"calcite-shell-center-row":[()=>C(()=>import("./customElement-Clf8GoIH.js"),__vite__mapDeps([96,1])),"detached,heightScale,position"],"calcite-shell-panel":[()=>C(()=>import("./customElement-CuoqWa23.js"),__vite__mapDeps([97,1,54,35,55])),"collapsed,displayMode,height,heightScale,layout,messageOverrides:,position,resizable,width,widthScale"],"calcite-slider":[()=>C(()=>import("./customElement-Dswb-aOn.js"),__vite__mapDeps([98,1,19,13,35])),"disabled,fillPlacement,form,groupSeparator,hasHistogram,histogram:,histogramStops:,labelFormatter:,labelHandles,labelTicks,max,maxLabel,maxValue,min,minLabel,minValue,mirrored,name,numberingSystem,pageStep,precise,required,scale,snap,status,step,ticks,validationIcon,validationMessage,validity:,value;setFocus"],"calcite-sort-handle":[()=>C(()=>import("./customElement-C0phmEuV.js"),__vite__mapDeps([99,1,18,7])),"disabled,flipPlacements:,label,messageOverrides:,messages:,moveToItems:,open,overlayPositioning,placement,scale,setPosition,setSize,widthScale;setFocus"],"calcite-sortable-list":[()=>C(()=>import("./customElement-DkW75xXt.js"),__vite__mapDeps([100,30])),"canPull:,canPut:,disabled,dragSelector,group,handleSelector,layout,loading"],"calcite-split-button":[()=>C(()=>import("./customElement-1f8sgvbs.js"),[]),"active,appearance,disabled,download,dropdownIconType,dropdownLabel,flipPlacements:,href,kind,loading,overlayPositioning,placement,primaryIconEnd,primaryIconFlipRtl,primaryIconStart,primaryLabel,primaryText,rel,scale,target,width;setFocus"],"calcite-stack":[()=>C(()=>import("./customElement-DxA3tCOv.js"),__vite__mapDeps([101,1,75])),"disabled"],"calcite-stepper":[()=>C(()=>import("./customElement-C2q3n_WQ.js"),[]),"icon,layout,messageOverrides:,numbered,numberingSystem,scale,selectedItem:;endStep,goToStep,nextStep,prevStep,startStep"],"calcite-stepper-item":[()=>C(()=>import("./customElement-62B3CJ2z.js"),__vite__mapDeps([102,13])),"complete,description,disabled,error,heading,icon,iconFlipRtl,itemHidden,layout,messageOverrides:,numbered,numberingSystem,scale,selected;setFocus"],"calcite-switch":[()=>C(()=>import("./index-Cdsbz-En.js").then(e=>e.c),[]),"checked,disabled,form,label,name,scale,value;setFocus"],"calcite-tab":[()=>C(()=>import("./customElement-C73sMXlM.js"),[]),"scale,selected,tab;getTabIndex;_updateAriaInfo"],"calcite-tab-nav":[()=>C(()=>import("./customElement-BQNiivLV.js"),__vite__mapDeps([103,1,41])),"bordered,layout,messageOverrides:,position,scale,selectedTitle:,storageId,syncId"],"calcite-tab-title":[()=>C(()=>import("./customElement-CjECWbfI.js"),__vite__mapDeps([104,1,43])),"bordered,closable,closed,disabled,iconEnd,iconFlipRtl,iconStart,layout,messageOverrides:,position,scale,selected,tab;activateTab,getTabIdentifier,getTabIndex;_updateAriaInfo"],"calcite-table":[()=>C(()=>import("./customElement-BBPzYguq.js"),__vite__mapDeps([105,13])),"bordered,caption,groupSeparator,interactionMode,layout,messageOverrides:,numbered,numberingSystem,pageSize,scale,selectedItems:,selectionDisplay,selectionMode,striped"],"calcite-table-cell":[()=>C(()=>import("./index-BnUw5EEJ.js").then(e=>e.c),[]),"alignment,colSpan,disabled,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowPositionLocalized,parentRowType,positionInRow,readCellContentsToAT,rowSpan,scale,selectionCell;setFocus"],"calcite-table-header":[()=>C(()=>import("./index-CKfAtrvh.js").then(e=>e.c),[]),"alignment,bodyRowCount,colSpan,description,heading,interactionMode,lastCell,messageOverrides:,numberCell,parentRowAlignment,parentRowIsSelected,parentRowType,positionInRow,rowSpan,scale,selectedRowCount,selectedRowCountLocalized,selectionCell,selectionMode;setFocus"],"calcite-table-row":[()=>C(()=>import("./customElement-DccTw-7j.js"),__vite__mapDeps([106,1])),"alignment,bodyRowCount,cellCount,disabled,interactionMode,itemHidden,lastVisibleRow,numbered,positionAll,positionSection,positionSectionLocalized,readCellContentsToAT,rowType,scale,selected,selectedRowCount,selectedRowCountLocalized,selectionMode"],"calcite-tabs":[()=>C(()=>import("./customElement-BgltbhlG.js"),[]),"bordered,layout,position,scale"],"calcite-text-area":[()=>C(()=>import("./customElement-BkhJZ-zN.js"),__vite__mapDeps([107,40,13,19,66,36,7])),"columns,disabled,form,groupSeparator,label,limitText,maxLength,messageOverrides:,minLength,name,numberingSystem,placeholder,readOnly,required,resize,rows,scale,status,validationIcon,validationMessage,validity:,value,wrap;selectText,setFocus"],"calcite-tile":[()=>C(()=>import("./customElement-cPvc_UeW.js"),[]),"active,alignment,description,disabled,embed,heading,href,icon,iconFlipRtl,interactive,label,layout,scale,selected,selectionAppearance,selectionMode;setFocus"],"calcite-tile-group":[()=>C(()=>import("./customElement-C9CC0JGL.js"),[]),"alignment,disabled,label,layout,scale,selectedItems:,selectionAppearance,selectionMode"],"calcite-tile-select":[()=>C(()=>import("./customElement-CHrsR5mx.js"),[]),"checked,description,disabled,heading,icon,iconFlipRtl,inputAlignment,inputEnabled,name,type,value,width;setFocus"],"calcite-tile-select-group":[()=>C(()=>import("./customElement-DVsMCxOB.js"),[]),"disabled,layout"],"calcite-time-picker":[()=>C(()=>import("./customElement-CgeF4x7a.js"),__vite__mapDeps([108,13,71,35])),"hourFormat,messageOverrides:,numberingSystem,scale,step,value;setFocus"],"calcite-tip":[()=>C(()=>import("./customElement-CASzh_IE.js"),__vite__mapDeps([109,1,27])),"closed,closeDisabled,heading,headingLevel,messageOverrides:,selected"],"calcite-tip-group":[()=>C(()=>import("./customElement-ClCcGEig.js"),[]),"groupTitle"],"calcite-tip-manager":[()=>C(()=>import("./customElement-a0cWQBPj.js"),__vite__mapDeps([110,1,27])),"closed,headingLevel,messageOverrides:;nextTip,previousTip"],"calcite-tooltip":[()=>C(()=>import("./index-C5F_oLvm.js").then(e=>e.c),__vite__mapDeps([111,18,7,14,88,1])),"closeOnClick,label,offsetDistance,offsetSkidding,open,overlayPositioning,placement,referenceElement;reposition"],"calcite-tree":[()=>C(()=>import("./customElement-_3ac2zds.js"),[]),"child,lines,parentExpanded,scale,selectedItems:,selectionMode"],"calcite-tree-item":[()=>C(()=>import("./customElement-Du_PtTWv.js"),__vite__mapDeps([112,1])),"depth,disabled,expanded,hasChildren,iconFlipRtl,iconStart,indeterminate,label,lines,parentExpanded,scale,selected,selectionMode"]});var Woe=":";function I0(...e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];if(typeof s=="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(typeof s=="object")for(const n in s)s[n]&&t.push(n)}const r=t.join(" ");return t.length=0,r}var Jp=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function Zoe(e,t){let r=e;for(;r;){if(r===t)return!0;if(!r.parentNode)return!1;r.parentNode instanceof ShadowRoot?r=r.parentNode.host:r=r.parentNode}return!1}function Joe(e,t,r){const{subscribe:i}=Yoe(t);return i(s=>{s.some(a=>Zoe(e,a.target))&&r()})}var k8={};function Yoe(e){const t=e.join(","),r=k8[t];if(r!==void 0)return r;const i=new Set,s=new MutationObserver(a=>i.forEach(o=>o(a)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe(a){return i.add(a),()=>{i.delete(a),i.size===0&&(s.disconnect(),k8[t]=void 0)}}};return k8[t]=n,n}function Qoe(e,t){var i,s;let r=e;for(;r;){const n=(i=r.closest)==null?void 0:i.call(r,t);if(n)return n;const a=(s=r.getRootNode)==null?void 0:s.call(r);if(a===globalThis.document)return null;r=a.host}return null}function Koe(e,t,r){const i=Qoe(e,`[${t}]`);return(i==null?void 0:i.getAttribute(t))??r}function qt(e,t,...r){try{return e==null?void 0:e.call(t,...r)}catch(i){console.error(i,e)}}async function i$(e,t,...r){try{const i=e==null?void 0:e.call(t,...r);return i instanceof Promise?await i:i}catch(i){console.error(i,e)}}var Xoe=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],ele=new Set(Xoe),P5="en",tle={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function rle(e,t,r=""){const i=`${t}/${r}`,s=`${i}${e}.json`;return L8[s]??(L8[s]=lU(e,i)),await L8[s]}var L8={};async function lU(e,t){const r=`${t}${e}.json`;try{const i=await fetch(r);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return e===P5?{}:await lU(P5,t)}function cU(e){var r;const t=Koe(e,"lang",((r=globalThis.navigator)==null?void 0:r.language)||P5);return{lang:t,t9nLocale:dU(t)}}function dU(e){const[t,r]=e.split("-"),i=t.toLowerCase();let s=i;return r&&(s=`${i}-${r.toUpperCase()}`),s=tle[s]??s,ele.has(s)?s:r?dU(i):P5}function ile(e,t,r,i){let s;const n=()=>void sle(e,t(),i).then(a=>{((s==null?void 0:s.lang)!==a.lang||s.t9nLocale!==a.t9nLocale||s.t9nStrings!==a.t9nStrings)&&r(a),s=a}).catch(console.error);return queueMicrotask(n),Joe(e,["lang"],n)}async function sle(e,t,r=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:i,t9nLocale:s}=cU(e),n=`${t}/${r}/t9n`,o=r===null?{}:await rle(s,n,"messages.");return{lang:i,t9nLocale:s,t9nStrings:o}}var tM=e=>e.replace(nle,(t,r)=>`${r===0?"":"-"}${t.toLowerCase()}`),nle=/[A-Z]+(?![a-z])|[A-Z]/gu;function ale(e,t){const r=t/ole;let i=0;const s=setInterval(()=>{i+=r,i>=t&&(clearInterval(s),e())},r);return s}var ole=4;function uU(e){return e!==void 0}function fU(e){var r,i;let t=e;for(;t=t.parentNode??t.host;)if((r=t==null?void 0:t.constructor)!=null&&r.lumina){const s=t;return(i=s.manager)!=null&&i.loadedCalled||s._offspring.push(e),s._postLoad.promise}return!1}var J3=Object.defineProperty;function lle(e){const t=e.split(Woe);return t.length===1?[t[0],tM(t[0])]:t}var cle=globalThis.HTMLElement??lle,sy;sy=class extends cle{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new Jp,this._postLoaded=new Jp,this._offspring=[],this._saveInstanceProperties();const t=this.constructor;t._LitConstructor?this._initializeComponent({a:t._LitConstructor}):t._loadPromise.then(this._initializeComponent.bind(this)).catch(r=>{this._postLoaded.reject(r),setTimeout(()=>{throw r})})}static _initializePrototype(){var t,r,i;(t=this._properties)==null||t.forEach(this._bindProp,this),(r=this._asyncMethods)==null||r.forEach(this._bindAsync,this),(i=this._syncMethods)==null||i.forEach(this._bindSync,this)}static _bindProp(t){J3(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this._store[t]},set(r){this._store[t]=r}})}static _bindAsync(t){J3(this.prototype,t,{async value(...r){return this._litElement||await this._postLoaded.promise,await this._litElement[t](...r)},configurable:!0})}static _bindSync(t){J3(this.prototype,t,{value(...r){return this._litElement[t](...r)},configurable:!0})}get manager(){var t;return(t=this._litElement)==null?void 0:t.manager}_saveInstanceProperties(){var i;const t=this.constructor,r=this;(i=t._properties)==null||i.forEach(s=>{Object.hasOwn(this,s)&&(this._store[s]=r[s],delete r[s])})}attributeChangedCallback(t,r,i){var s;(s=this._litElement)==null||s.attributeChangedCallback(t,r,i),this._litElement||this._pendingAttributes.push(t)}connectedCallback(){var t,r;this._litElement?(r=(t=this._litElement).connectedCallback)==null||r.call(t):queueMicrotask(()=>{this._ancestorLoad=fU(this)})}disconnectedCallback(){var t,r;(r=(t=this._litElement)==null?void 0:t.disconnectedCallback)==null||r.call(t)}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(t){var p;const r=this.constructor,i=r._name,s=this._store,n=Object.values(t).find(m=>m.tagName===i),a=`${i}--lazy`;let o=n;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);ule(o),!r._LitConstructor&&(r._LitConstructor=n,customElements.define(a,n)),n.lazy=this;const d=document.createElement(a);n.lazy=void 0,this._litElement=d,this._store=d,this._pendingAttributes.forEach(m=>{const y=this.getAttribute(m);d.attributeChangedCallback(m,null,y)}),Object.entries(s).forEach(dle,d);const f=this.isConnected;(f||this._ancestorLoad)&&((p=d.connectedCallback)==null||p.call(d),f||d.disconnectedCallback())}addController(){}requestUpdate(){var t;(t=this._litElement)==null||t.requestUpdate()}},sy.lumina=!0;function dle([e,t]){this[e]=t}function ule(e){const t=e.prototype,r=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){r.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){r.removeAttribute.call(this.el,s)},J3(t,"isConnected",{get(){return Reflect.get(r,"isConnected",this.el)}}))}var Wo={};function fle(e,t){var r;if(t){const i=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(i,([s,n])=>n.noAccessor?void 0:[s,[(n.readOnly?2048:0)|(n.state?32:16)]]).filter(uU))}else{const i=e.constructor,s=((r=i.__registerControllers)==null?void 0:r.call(i,e))??void 0;if(i.__registerControllers=void 0,typeof s!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(s).filter(([n,[a]])=>(a&63)!==0))}}function ple(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:(t&4)!==0?e==="false"?!1:e===""||!!e:(t&2)!==0?Number.parseFloat(e):(t&1)!==0?String(e):e}var hle=(e,t)=>{var r,i;return(i=(r=e.manager.internals.members)==null?void 0:r[t])==null?void 0:i[0]},rM=Symbol.for("controller"),mle=e=>typeof e=="object"&&e!==null&&(rM in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),eg;function d0(e){eg!==e&&(eg=e,queueMicrotask(()=>{eg===e&&(eg=void 0)}))}function Vy(e){return eg}var ff=[];function pU(e){if(e===void 0){ff=[];return}const t=ff.indexOf(e);ff=t===-1?[...ff,e]:ff.slice(0,t+1),queueMicrotask(()=>{ff=[]})}function hU(){return ff}var u0;function yle(e){u0!==e&&(u0=e,queueMicrotask(()=>{u0===e&&(u0=void 0)}))}function ble(){const e=u0;return u0=void 0,e}var gle=async(e,t)=>{const r=iM(e);if(r===void 0)return e;if(await r.ready,typeof t=="function"){const i=r.watchExports(s=>t(s,i))}return r.exports},vle=async e=>{const t=iM(e);return await t.ready,t},iM=e=>{const r=Vy().manager.internals.resolveExports(e);if(r!==void 0)return r;if(mle(e))return e;const i=ble();if(i!==void 0)return i},cc={setter:!1,getter:!1,readOnly:!1},N5=new WeakMap,mU;mU=rM;var yU=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new Jp,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[mU]=!0,this.ready=this._ready.promise,this._exports=OR(this),this._exportWatchers=new Set;const t=e??Vy();this.component=t,this.component.addController(this),this.component.manager===void 0||(pU(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(qt),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?OR(e):e,this._exportWatchers.forEach(qt)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return d0(this.component),gle}get useRef(){return d0(this.component),vle}get useRefSync(){return d0(this.component),iM}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&qt(e.hostConnected,e),this._callbacks.hostConnected.forEach(qt),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&qt(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(qt),this._lifecycleCleanups.forEach(qt),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await i$(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(i$)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&qt(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(qt),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&qt(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(RR,e)}triggerUpdated(e){const t=this;t.hostUpdated&&qt(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(RR,e)}triggerDestroy(){const e=this;e.hostDestroy&&qt(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(qt)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){d0(this.component);const t=qt(e);(Array.isArray(t)?t:[t]).forEach(i=>{typeof i=="function"?this._lifecycleCleanups.push(i):typeof i=="object"&&typeof i.remove=="function"&&this._lifecycleCleanups.push(i.remove)})}};function RR(e){qt(e,void 0,this)}var bU=yU;function OR(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(r,i,s){if(!(wle.has(i)&&i in r&&r[i]===t)&&(i in r||i in Promise.prototype||typeof i=="symbol"))return typeof r=="function"?r[i]:Reflect.get(r,i,s)},set:(r,i,s,n)=>Reflect.set(r,i,s,n)});return t}var wle=new Set(["exports","_exports"]);function _le(e,t,r){const i=Object.keys(e),s=i.length;sc===void 0&&queueMicrotask(sM),sc??(sc=new Map);let n=sc.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},sc.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(a=>a(i)),n.callbacks=[],n.keyCount=s),n.callbacks.push(a=>{const o=d=>qt(t,null,d),l=a[s];l===void 0?o(void 0):e[l]===r?o(l):o(void 0)}),r}var sc=void 0;function sM(){Array.from((sc==null?void 0:sc.entries())??[]).forEach(([e,{callbacks:t}])=>{const r=Object.keys(e);t.forEach(i=>i(r))}),sc=void 0}function dc(e,t,r){var i;const s=t,n=e.manager.internals;(i=n.allWatchers)[s]??(i[s]=[]);const a=n.allWatchers[s],o=r,l=(d,f,p)=>qt(o,null,d,f,p);return a.push(l),()=>{const d=a.indexOf(l);d!==-1&&a.splice(d,1)}}var Sle=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([r,[i]])=>{var s;i&2048&&((s=t.setters)[r]??(s[r]=[]),t.setters[r].push(t.readonlySetter))})},this.trackedValue=s$,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,r,i)=>{if(cc.readOnly)return t;throw new Error(`Cannot assign to read-only property "${i}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const r=this.keyTrackers;this.trackedValue=s$,this.keyTrackers=[],r.forEach(i=>i(e,t))}getSetProxy(e){const t=this.component,r=t.constructor.prototype;if(this._getSetProxy(r,e,"class"),t.manager.isLit)return;const i=t.el.constructor.prototype;r!==i&&this._getSetProxy(i,e,"html")}_getSetProxy(e,t,r){const i=this.component,s=hle(i,t);let n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));if(!n)return;const a=n.get,o=n.set,l=Sw in a,d=Sw in o;if(l&&d)return;const f=!l,p=!d,m=f?function(){let g=a.call(this);const v=N5.get(this);if(cc.getter||v===void 0)return g;const w=v.manager.internals;g=w.accessorGetter[t](g,t);const _=w.getters[t]??R8;for(let x=0;x<_.length;x++)g=_[x](g,t);return g}:a,y=p?function(g){var T;const v=a.call(this),w=N5.get(this);if(w===void 0){o.call(this,g);return}let _=w.manager.isLit?g??void 0:ple(g,s);const x=w.manager.internals;if(_===v)o.call(this,_);else{const k=cc.setter?R8:x.setters[t]??R8;for(let A=0;A<k.length&&(_=k[A](_,v,t),_!==v);A++);_=x.accessorSetter[t](_,v,t),o.call(this,_),_!==v&&((T=x.enabledWatchers[t])==null||T.forEach(A=>A(_,v,t)))}x.keyTrackers.length>0&&(x==null||x.firePropTrackers(t,g))}:o;f&&(m[Sw]=!0),p&&(y[Sw]=!0),Object.defineProperty(e,t,{...n,get:m,set:y})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},R8=[],Sw=Symbol(),s$=Symbol();function nM(e,t,r){const i=e.manager.internals;return i.trackedValue!==s$&&i.trackedValue!==r&&i.firePropTrackers(void 0,void 0),i.keyTrackers.length===0&&queueMicrotask(()=>i.firePropTrackers(void 0,void 0)),i.trackedValue=r,i.keyTrackers.push((s,n)=>qt(t,void 0,r===n?s:void 0)),r}function aM(e=[Vy(),...hU()],t,r){const i=Array.isArray(e)?e:[e];let s=i.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&t(o)};i.forEach(o=>_le(o,l=>n(l===void 0?void 0:{key:l,host:o,isReactive:!1}),r));const a=i.find(o=>"manager"in o&&typeof o.manager=="object"&&o.manager.component===o);return a&&nM(a,o=>n(o===void 0?void 0:{key:o,host:a,isReactive:!0}),r),r}function $le(e){cc.setter=!0;try{return e()}finally{cc.setter=!1}}function xle(e){cc.getter=!0;try{return e()}finally{cc.getter=!1}}function Ele(e){cc.readOnly=!0;try{return e()}finally{cc.readOnly=!1}}var M6=e=>(...t)=>{const r=hU(),i=new e(...t),s=i.exports;pU(r.at(-1));const n=i.component.manager.internals;n.markExports(i,s),i.watchExports(o=>n.markExports(i,o)),yle(i);const a=[i.component,...r].reverse();return aM(a,o=>o===void 0?void 0:Tle(i,o,s),s)};function Tle(e,{host:t,key:r,isReactive:i},s){const n=t,a=n[r]!==e.exports,o=n[r]!==s,l=s!==e.exports;if(a&&!o&&l&&(n[r]=e.exports),t===e.component){if(i){const f=e.component.manager.internals;o&&f.markExports(e,n[r]),dc(e.component,r,p=>{p!==e.exports&&f.markExports(e,p)})}e.assignedProperty=i?void 0:r}e.watchExports(()=>{var m;if(n[r]===e.exports)return;const f=e.component.manager;((m=f.internals.setters[r])==null?void 0:m.includes(f.internals.readonlySetter))?Ele(()=>{n[r]=e.exports}):n[r]=e.exports})}var Ile=(e,t)=>new Cle(e,t),Cle=class extends bU{constructor(e,t){const r="addController"in e,i=new Set;function s(l){var d;i.add(l),!(rM in l)&&e.renderRoot&&e.el.isConnected&&((d=l.hostConnected)==null||d.call(l))}function n(l){var d;i.delete(l),(d=l.controllerRemoved)==null||d.call(l)}const a=e;if(a.addController=s,a.removeController=n,!r){const l=t??e.constructor.__forceUpdate;a.requestUpdate=()=>l(e)}super(e),this.internals=new Sle(this.component),this.destroyed=!1,this._updatePromise=new Jp,this._originalLifecycles={},this.isLit=r,this.component.manager=this,fle(e,r),this._controllers=i,this.exports=void 0,this.hasDestroy=O8 in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const o=this.internals;Object.keys(o.members).forEach(l=>{o.accessorGetter[l]=FR,o.accessorSetter[l]=FR,o.getSetProxy(l)}),r?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(o.enableReadonly),d0(e),N5.set(e.el,e),N5.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,r=e.el===e;this._originalLifecycles={_connectedCallback:t||r?void 0:e.connectedCallback,_disconnectedCallback:t||r?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const i=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),n=this._update.bind(this),a=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:i,hostDisconnected:s,hostUpdate:n,hostUpdated:a}):(e.connectedCallback=i,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=n,e.componentDidUpdate=a),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){var t,r;if(this.destroyed){const i=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${O8} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,sM(),(t=e.enableReadonly)==null||t.call(e),this._controllers.forEach(Ale),(r=this._originalLifecycles._connectedCallback)==null||r.call(this.component)}_disconnectedCallback(){var e;this.destroyed||(this._controllers.forEach(kle),(e=this._originalLifecycles._disconnectedCallback)==null||e.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var e;await Promise.allSettled(Array.from(this._controllers,Lle)),await((e=this._originalLifecycles._load)==null?void 0:e.call(this.component)),this.hasDestroy&&dc(this.component,O8,()=>this._setAutoDestroyTimeout())}_loaded(){var e;this._controllers.forEach(Rle),(e=this._originalLifecycles._loaded)==null||e.call(this.component)}_update(){var t;const e=this.component;return this._controllers.forEach(Ole,e.$changes),(t=this._originalLifecycles._willUpdate)==null?void 0:t.call(this.component)}_updated(){var t;const e=this.component;if(this._controllers.forEach(Fle,e.$changes),(t=this._originalLifecycles._updated)==null||t.call(this.component),this.isLit)e.$changes=new Map;else{const r=this._updatePromise;this._updatePromise=new Jp,r.resolve(!0)}}async destroy(){var e;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(Ple),this._controllers.clear(),await((e=this._originalLifecycles._destroy)==null?void 0:e.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=ale(e,Mle)}}},O8="autoDestroyDisabled",Mle=1e3,FR=e=>e;function Ale(e){"triggerConnected"in e?e.triggerConnected():qt(e.hostConnected,e)}function kle(e){"triggerDisconnected"in e?e.triggerDisconnected():qt(e.hostDisconnected,e)}async function Lle(e){"triggerLoad"in e?await e.triggerLoad():await i$(e.hostLoad,e)}function Rle(e){"triggerLoaded"in e?e.triggerLoaded():qt(e.hostLoaded,e)}function Ole(e){"triggerUpdate"in e?e.triggerUpdate(this):qt(e.hostUpdate,e,this)}function Fle(e){"triggerUpdated"in e?e.triggerUpdated(this):qt(e.hostUpdated,e,this)}function Ple(e){"triggerDestroy"in e?e.triggerDestroy():qt(e.hostDestroy,e)}var Nle=e=>Vle(void 0,e),Dle=class extends yU{constructor(t,r){super(t);const i=this.exports;try{d0(this.component);const s=r(this.component,this),n=this.exports!==i;if(s instanceof Promise){n||this.setProvisionalExports(s);const a=s.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await a)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this._ready.reject(s),console.error(s)}}catchUpLifecycle(){}},Vle=M6(Dle),zle=e=>(t={})=>Nle((r,i)=>{const s=cU(r.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},a=r;i.onLifecycle(()=>ile(r.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:d,lang:f})=>{const p={...d,_lang:f,_t9nLocale:l,_loading:!1};i.exports=p;const m=d.componentLabel;typeof m=="string"&&"label"in r&&r.label==null&&(r.label??(r.label=m)),o(a.messageOverrides)},t.name));function o(l){const d=i.exports,f=d._original??d,p=gU(f,l);l&&(p._original=f),i.exports=p}return"messageOverrides"in a&&i.onLifecycle(()=>dc(a,"messageOverrides",o)),t.blocking?(i.setProvisionalExports(n,!1),i.ready):n});function gU(e,t){if(!t)return e;const r={...e};return Object.entries(t).forEach(([i,s])=>{typeof s=="object"?r[i]=gU(e[i],s):r[i]=s??e[i]}),r}var zy=e=>jle,PR="arcgisPropertyChange";function jle(...e){const t=Vy();let i=t[PR];return t.manager.isLit&&(i=t.constructor.$createEvent(PR,void 0,t)),t.manager.onLoad(()=>t.manager.onLifecycle(()=>e.map(s=>dc(t,s,()=>i.emit({name:s}))))),i}var vU=(e="",t={},r=Vy())=>{const i={emit:s=>{e===""&&sM();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return r.el.dispatchEvent(n),n}};return e===""&&aM(void 0,s=>{e=s.key},i),i},xu=vU.bind(null,""),qle=()=>{},Gp,Ac=(Gp=class extends oc{constructor(){var r,i,s;super(),this.el=this.constructor.lazy??this,this.manager=Ile(this),this._postLoad=((r=this.constructor.lazy)==null?void 0:r._postLoad)??new Jp,this._offspring=((i=this.constructor.lazy)==null?void 0:i._offspring)??[],this._postLoaded=((s=this.constructor.lazy)==null?void 0:s._postLoaded)??new Jp,this._enableUpdating=this.enableUpdating,this.enableUpdating=qle;const t=Gp.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){var s;const r=super.finalizeStyles(t),i=this.shadowRootOptions===Wo;return((s=this.runtime)==null?void 0:s.commonStyles)===void 0||i?r:[this.runtime.commonStyles,...r]}static createProperty(t,r){const i=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0;super.createProperty(t,{attribute:i&1&&typeof t=="string"?tM(t):!1,reflect:!!(i&2),type:i&4?Boolean:i&8?Number:void 0,state:!!(i&16),readOnly:!!(i&32),noAccessor:!!(i&64),...s})}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(r=>{this._postLoaded.reject(r),setTimeout(()=>{throw r})}))}createRenderRoot(){const t=this.el.shadowRoot,r=this.constructor,i=r.shadowRootOptions,n=t??(i===Wo?this.el:this.el.attachShadow(i));if(Object.defineProperty(this,"shadowRoot",{value:n}),t)return oc.prototype.createRenderRoot.call(this),t;if(this.isConnected){const a=n.getRootNode();a.adoptedStyleSheets=[...a.adoptedStyleSheets,...r.elementStyles.map(o=>"styleSheet"in o?o.styleSheet:o)]}return n}async _load(){const t=this.el._ancestorLoad??fU(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const r=this._offspring.filter(i=>{var s;return!((s=i.manager)!=null&&s.loadedCalled)});r.length&&await Promise.allSettled(r.map(async i=>await i.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){var r;return this.$changes=t,((r=this._originalShouldUpdate)==null?void 0:r.call(this,t))??!0}listen(t,r,i){const s=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,i),()=>this.el.removeEventListener(t,s,i)))}listenOn(t,r,i,s){const n=(i==null?void 0:i.bind(this))??i;this.manager.onLifecycle(()=>(t.addEventListener(r,n,s),()=>t.removeEventListener(r,n,s)))}async componentOnReady(){return await this._postLoaded.promise,this}},Gp.lumina=!0,Gp);Ac.$createEvent=vU;function Ble(e){let t;const r=s=>{var n;t=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},i={...e,getAssetPath(s){var a;const n=new URL(s,t);return n.origin!==((a=globalThis.location)==null?void 0:a.origin)?n.href:n.pathname},setAssetPath:r,customElement(s,n){n.runtime=i,n.tagName=s,customElements.get(s)||customElements.define(s,n)}};return r(e.defaultAssetPath),i}var $s=e=>typeof e=="object"&&e!=null?XB(e):e,Ule=e=>typeof e=="object"&&e!=null?tU(e):e,nc=He;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const Gle=Ble({defaultAssetPath:"https://js.arcgis.com/map-components/4.32/",hydratedAttribute:"hydrated"}),{customElement:Du,getAssetPath:wU,setAssetPath:gBe}=Gle;var Hle=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function Wle(e){return e.default!==void 0}async function Zle(){if(Hle)return await window.$arcgis.import("esri/core/reactiveUtils");const e=await C(()=>Promise.resolve().then(()=>pue),void 0);return Wle(e)?e.default:e}var F8;async function _U(){return F8??(F8=Zle()),await F8}var SU=(e,t)=>(r,i)=>Jle(r,e,i),oM=class extends bU{constructor(e,t,r){super(e),this._loadAccessor=t,this._options=r,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(Rp.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches)),nM(e,i=>{i&&(this._instancePropName=i)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){var o,l;this.reactiveUtils=await _U();const e=this.component,t=this._gatherParameters(),r=((l=(o=this._options)==null?void 0:o.editConstructorProperties)==null?void 0:l.call(e,t))??t,i=r instanceof Promise?await r:r,s=e,n=typeof this._instancePropName=="string"?s[this._instancePropName]:void 0;n!=null&&n!==this.exports?(this._instance=n,n.set(i)):this._instance=await this._createInstance(i),!e.manager.destroyed&&(Rp.watchComponentUpdates(this,this._instance,this._watchedProperties),Rp.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([r,i])=>[i,this.component[r]]).filter(([,r])=>r!==void 0))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},Jle=M6(oM),Rp={makeGetterProxy:(e,t,r,i)=>new Proxy({},{has:(s,n)=>typeof n=="string"||n in s,get:(s,n)=>{const a=Reflect.get(s,n);if(typeof n=="symbol"||n in Promise.prototype)return a;const o=n in s,l=(r==null?void 0:r.value)??!0;if(o||!l)return a;if(!t.has(n))return aM(e,d=>{d!==void 0&&t.set(d.key,n)},a)}}),watchComponentUpdates(e,t,r){function i(o,l){const d=r.get(l),f=t[d];return typeof f=="boolean"&&d!==l&&l.toLowerCase().includes("disable")?!f:f}const s=(o,l,d)=>{const f=r.get(d),p=t[f],m=typeof p=="boolean"&&f!==d&&d.toLowerCase().includes("disable");if((m?!p:n.manager.isLit?p??void 0:p)===o)return o;t[f]=m?!o:o;const b=t[f];return m?!b:b},n=e.component,a=n.manager.internals;r.forEach((o,l)=>{a.accessorGetter[l]=i,a.accessorSetter[l]=s})},watchAccessorUpdates(e,t,r){const{component:i}=e,s=i,n=t,a=Yle(t);xle(()=>r.forEach((o,l)=>{if(a.has(o))return;const d=s[l];let f=n[o];i.manager.isLit&&(f??(f=void 0));const m=typeof d=="boolean"&&o!==l&&l.toLowerCase().includes("disable")?!d:d;m!=null&&f!==m&&(n[o]=m)})),e.onLifecycle(()=>{if(!t.destroyed)return Array.from(r,([o,l])=>e.reactiveUtils.watch(()=>n[l],()=>{const d=n[l],p=typeof d=="boolean"&&l!==o&&o.toLowerCase().includes("disable")?!d:d;$le(()=>{s[o]=p})},{initial:!0}))})},reEmitAccessorEvents(e,t,r,i){if(!("on"in t&&typeof t.on=="function"))return;const n=Object.entries(e.component).map(([l,d])=>{const f=d;if(!l.startsWith(i)||l===i||typeof f!="object"||f===null||!("emit"in f)||typeof f.emit!="function")return;const p=f.emit,m=l.slice(i.length);return[tM(m).toLowerCase(),p]}).filter(uU);if(n.length===0)return;const a=t,o=()=>a;e.onLifecycle(()=>{if(!t.destroyed)return n.map(([l,d])=>r.on(o,l,d))})},async reCreate(e,t){const r=t.manager.useRefSync(e);r!==void 0&&await r.reCreate()}};function Yle(e){var i;const r=Object.entries(((i=e.__accessor__)==null?void 0:i.metadata)??{});return new Set(r.filter(([s,n])=>(n==null?void 0:n.readOnly)===!0).map(([s])=>s))}function wr(e,t){const r=Vy(),i=r.manager,s=_U();i.onLoaded(()=>{s.then(a=>i.onLifecycle(()=>a.on(e,t,n.emit)))});const n=r.constructor.$createEvent();return n}function c(e,t,r,i){var s,n=arguments.length,a=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(n<3?s(a):n>3?s(t,r,a):s(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function vBe(e,t){return function(r,i){t(r,i,e)}}function wBe(e,t,r,i){function s(n){return n instanceof r?n:new r(function(a){a(n)})}return new(r||(r=Promise))(function(n,a){function o(f){try{d(i.next(f))}catch(p){a(p)}}function l(f){try{d(i.throw(f))}catch(p){a(p)}}function d(f){f.done?n(f.value):s(f.value).then(o,l)}d((i=i.apply(e,[])).next())})}function _Be(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var i,s;if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:i,async:r})}return t}var Qle=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};function SBe(e){function t(n){e.error=e.hasError?new Qle(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&i===1)return i=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var n=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(n).then(s,function(a){return t(a),s()})}else i|=1}catch(a){t(a)}if(i===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}let Wd;function V(e){return typeof Wd[e]=="function"?Wd[e]=Wd[e](globalThis):Wd[e]}var wB,_B,SB,$B;Wd=(wB=globalThis.dojoConfig)!=null&&wB.has||(_B=globalThis.esriConfig)!=null&&_B.has?{...(SB=globalThis.dojoConfig)==null?void 0:SB.has,...($B=globalThis.esriConfig)==null?void 0:$B.has}:{},V.add=(e,t,r,i)=>{(i||Wd[e]===void 0)&&(Wd[e]=t),r&&V(e)},V.cache=Wd,V.add("big-integer-warning-enabled",!0),V.add("esri-deprecation-warnings",!0),V.add("esri-tests-disable-screenshots",!1),V.add("esri-tests-use-full-window",!1),V.add("esri-tests-post-to-influx",!0),V.add("esri-cim-animations-enable-status","enabled"),V.add("esri-cim-animations-spotlight",!1),V.add("esri-cim-animations-freeze-time",!1),V.add("enable-feature:multiple-highlights",!0),(()=>{var t;V.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(V.add("host-browser",e),V.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),V.add("dom",e),V("host-browser")){const r=navigator,i=r.userAgent,s=r.appVersion,n=parseFloat(s);if(V.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),V.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),V.add("khtml",s.includes("Konqueror")?n:void 0),V.add("edge",parseFloat(i.split("Edge/")[1])||void 0),V.add("opr",parseFloat(i.split("OPR/")[1])||void 0),V.add("webkit",!V("wp")&&!V("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),V.add("chrome",!V("edge")&&!V("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),V.add("android",!V("wp")&&parseFloat(i.split("Android ")[1])||void 0),V.add("safari",!s.includes("Safari")||V("wp")||V("chrome")||V("android")||V("edge")||V("opr")?void 0:parseFloat(s.split("Version/")[1])),V.add("mac",s.includes("Macintosh")),!V("wp")&&/(iPhone|iPod|iPad)/.test(i)){const a=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",l=parseFloat(o.replace(/_/,".").replaceAll("_",""));V.add(a,l),V.add("ios",l)}V("webkit")||(!i.includes("Gecko")||V("wp")||V("khtml")||V("edge")||V.add("mozilla",n),V("mozilla")&&V.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&V.add("esri-mobile",t),r&&V.add("esri-iPhone",r),V.add("esri-geolocation",!!navigator.geolocation)}V.add("esri-wasm","WebAssembly"in globalThis),V.add("esri-performance-mode-frames-between-render",20),V.add("esri-force-performance-mode",!1),V.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),V.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),V.add("esri-atomics","Atomics"in globalThis),V.add("esri-workers","Worker"in globalThis),V.add("web-feat:cache","caches"in globalThis),V.add("esri-workers-arraybuffer-transfer",!V("safari")||Number(V("safari"))>=12),V.add("workers-pool-size",8),V.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),V.add("featurelayer-simplify-payload-size-factors",[1,1,4]),V.add("featurelayer-fast-triangulation-enabled",!0),V.add("featurelayer-animation-enabled",!0),V.add("featurelayer-snapshot-enabled",!0),V.add("featurelayer-snapshot-point-min-threshold",8e4),V.add("featurelayer-snapshot-point-max-threshold",4e5),V.add("featurelayer-snapshot-point-coverage",.1),V.add("featurelayer-query-max-depth",4),V.add("featurelayer-query-pausing-enabled",!1),V.add("featurelayer-advanced-symbols",!1),V.add("featurelayer-pbf",!0),V.add("featurelayer-pbf-statistics",!1),V.add("feature-layers-workers",!0),V.add("feature-polyline-generalization-factor",1),V.add("mapview-transitions-duration",200),V.add("mapview-essential-goto-duration",200),V.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),V.add("mapserver-pbf-version-support",10.81),V.add("mapservice-popup-identify-max-tolerance",20),V.add("request-queue-concurrency-hosted",16),V.add("request-queue-concurrency-non-hosted",4),V.add("curve-densification-coarse-segments",128),V.add("curve-densification-max-segments",2e3),V.add("curve-densification-min-segments",3),V.add("curve-densification-pixels-per-segment",16),V.add("view-readyState-waiting-delay",1e3),V.add("gradient-depth-bias",.01),V.add("gradient-depth-epsilon",1e-8),V("host-webworker")||V("host-browser")&&(V.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),V.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{V.add("esri-image-decode",!0,!0,!0)}).catch(()=>{V.add("esri-image-decode",!1,!0,!0)})}return!1}),V.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const NR=new WeakMap;function Kle(e,t,r=!1){const i=`🛑 DEPRECATED - ${t}`;if(!r)return void e.warn(i);let s=NR.get(e);s||(s=new Set,NR.set(e,s)),s.has(t)||(s.add(t),e.warn(i))}function Xle(e,t,r={}){if(V("esri-deprecation-warnings")){const{moduleName:i}=r;uv(e,`Function: ${(i?i+"::":"")+t+"()"}`,r)}}function ece(e,t,r={}){if(V("esri-deprecation-warnings")){const{moduleName:i}=r;uv(e,`Property: ${(i?i+"::":"")+t}`,r)}}function tce(e,t,r={}){V("esri-deprecation-warnings")&&uv(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function uv(e,t,r={}){if(V("esri-deprecation-warnings")){const{replacement:i,version:s,see:n,warnOnce:a}=r;let o=t;if(i&&(o+=`
	🛠️ Replacement: ${i}`),s&&(o+=`
	⚙️ Version: ${s}`),n)if(Array.isArray(n)){o+=`
	🔗 See for more details:`;for(const l of n)o+=`
		${l}`}else o+=`
	🔗 See ${n} for more details.`;Kle(e,o,a)}}function $Be(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function rce(e,t){for(const r of e)if(r!=null&&t(r))return r}function D5(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let jy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(D5(t)){const i=this._getOrCreateGroup(r);for(const s of t)VR(s)&&i.push(s)}else VR(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has($w(t))}remove(t){if(typeof t!="string"&&D5(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(DR(this._getGroup(t)),this._groups.delete($w(t)),this):this}removeAll(){return this._groups.forEach(DR),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set($w(t),r),r}_getGroup(t){return this._groups.get($w(t))}};function $w(e){return e||"_default_"}function DR(e){for(const t of e)t instanceof jy?t.removeAll():t.remove()}function VR(e){return e!=null&&(!!e.remove||e instanceof jy)}function EBe(e){}function ice(e){return()=>e}function TBe(e){return e}let Y3=class pf{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*pf._m}getInt(){return this._seed=(pf._a*this._seed+pf._c)%pf._m,this._seed}getFloat(){return this.getInt()/(pf._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/pf._m*i}};Y3._m=2147483647,Y3._a=48271,Y3._c=0;const sce=1.5,IBe=1/sce,CBe=.5;function lM(e,t){return t?e.filter((r,i,s)=>s.findIndex(t.bind(null,r))===i):Array.from(new Set(e))}function A6(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function zR(e,t,r){let i,s;return r?(i=t.filter(n=>!e.some(a=>r(a,n))),s=e.filter(n=>!t.some(a=>r(a,n)))):(i=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:i,removed:s}}function MBe(e){return e&&typeof e.length=="number"}let $U=class{constructor(){this.last=0}};const xU=new $U;function n$(e,t,r,i){i=i||xU;const s=Math.max(0,i.last-10);for(let a=s;a<r;++a)if(e[a]===t)return i.last=a,a;const n=Math.min(s,r);for(let a=0;a<n;++a)if(e[a]===t)return i.last=a,a;return-1}function nce(e,t,r,i){const s=e.length,n=n$(e,t,s,i);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const Xn=new Set;function ace(e,t,r=e.length,i=t.length,s,n){if(i===0||r===0)return r;Xn.clear();for(let o=0;o<i;++o)Xn.add(t[o]);s=s||xU;const a=Math.max(0,s.last-10);for(let o=a;o<r;++o)if(Xn.has(e[o])&&(n==null||n.push(e[o]),Xn.delete(e[o]),e[o]=e[r-1],--r,--o,Xn.size===0||r===0))return Xn.clear(),r;for(let o=0;o<a;++o)if(Xn.has(e[o])&&(n==null||n.push(e[o]),Xn.delete(e[o]),e[o]=e[r-1],--r,--o,Xn.size===0||r===0))return Xn.clear(),r;return Xn.clear(),r}function oy(e,t,r){const i=e.length;if(t>=i)return e.slice();const s=cM(r),n=new Set,a=[];for(;a.length<t;){const o=Math.floor(s()*i);n.has(o)||(n.add(o),a.push(e[o]))}return a}function cM(e){return e?(jR.seed=e,()=>jR.getFloat()):Math.random}const jR=new Y3;function EU(e,t){const r=cM(t);for(let i=e.length-1;i>0;i--){const s=Math.floor(r()*(i+1)),n=e[i];e[i]=e[s],e[s]=n}return e}function TU(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function It(e,t){return e!=null}const kBe=[];function LBe(e){return e instanceof ArrayBuffer}function dM(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function IU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function CU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function uM(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function MU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function fM(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function AU(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function k6(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function L6(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function kU(e){return"buffer"in e}const LU=1024;function RBe(e){return L6(e)||k6(e)||fM(e)||uM(e)||dM(e)}function OBe(e){return L6(e)||k6(e)}function FBe(e){return L6(e)?179769e303:k6(e)?3402823e32:AU(e)?4294967295:MU(e)?65535:IU(e)||CU(e)?255:fM(e)?2147483647:uM(e)?32767:dM(e)?127:256}function oce(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function O(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=FU(e);if(t!=null)return t;if(V5(e))return e.clone();if(RU(e))return e.map(O);if(OU(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=O(e[i]);return r}function a$(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=FU(e);if(t!=null)return t;if(RU(e)){let i=!0;const s=e.map(n=>{const a=a$(n);return n!=null&&a==null&&(i=!1),a});return i?s:null}if(V5(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(OU(e))return null;const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const s=e[i],n=a$(s);if(s!=null&&n==null)return null;r[i]=n}return r}function V5(e){return typeof e.clone=="function"}function RU(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function OU(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function qR(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function FU(e){if(dM(e)||IU(e)||CU(e)||uM(e)||MU(e)||fM(e)||AU(e)||k6(e)||L6(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,O(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(O(r));return t}return null}function pM(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function PU(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&A6(e,t):e instanceof Set?t instanceof Set&&cce(e,t):e instanceof Map?t instanceof Map&&dce(e,t):!!qR(e)&&qR(t)&&lce(e,t))}function lce(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function cce(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function dce(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const s=t.get(r);if(s!==i||s===void 0&&!t.has(r))return!1}return!0}function hM(e,t,r=!1){return DU(e,t,r)}function p2(e,t){if(t!=null)return t[e]||NU(e.split("."),!1,t)}function Ot(e,t,r){const i=e.split("."),s=i.pop(),n=NU(i,!0,r);n&&s&&(n[s]=t)}function BR(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let i=0;i<e.length;i++)if(BR(e[i],r[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(BR(e[r],t[r]))return!0;return!1}return e!==t}function NU(e,t,r){let i=r;for(const s of e){if(i==null)return;if(!(s in i)){if(!t)return;i[s]={}}i=i[s]}return i}function DU(e,t,r){return t?Object.keys(t).reduce((i,s)=>{let n=i[s],a=t[s];return n===a?i:n===void 0?(i[s]=O(a),i):(Array.isArray(a)||Array.isArray(i)?(n=n?Array.isArray(n)?i[s]=n.slice():i[s]=[n]:i[s]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(o=>{n.includes(o)||n.push(o)}):i[s]=a.slice())):a&&typeof a=="object"?i[s]=DU(n,a,r):i.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(i[s]=a),i)},e||{}):e}var xB;const it={apiKey:void 0,applicationName:"",applicationUrl:(xB=globalThis.location)==null?void 0:xB.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(hM(it,globalThis.esriConfig,!0),delete it.has),!it.assetsPath){{const e="4.32";it.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}it.defaultAssetsPath=it.assetsPath}const uce=/\{([^}]+)\}/g;function UR(e){return e??""}function Ga(e,t){return t?e.replaceAll(uce,typeof t=="object"?(r,i)=>UR(p2(i,t)):(r,i)=>UR(t(i))):e}function PBe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t!=null&&t.includes(r)?r:`\\${r}`)}function VU(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let GR;function fv(e){return GR??(GR=new DOMParser),GR.parseFromString(e||"","text/html").body.innerText||""}function HR(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function NBe(e,...t){let r=e[0];for(let i=0;i<t.length;++i)r+=t[i]+e[i+1];return r}const WR={info:0,warn:1,error:2,none:3};let B=class Vs{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Vs._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=Vs.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,Vs._loggers.get(t)||new Vs({module:t})}_log(t,r,...i){if(this._matchLevel(t)){if(r!=="always"&&!Vs._throttlingDisabled){const s=pce(i),n=this._loggedMessages[t].get(s);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=Vs._tickCounter)return;this._loggedMessages[t].set(s,Vs._tickCounter),Vs._scheduleTickCounterIncrement()}for(const s of it.log.interceptors)if(s(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;i!=null;){const s=i[t];if(s!=null)return s;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",fce)}_matchLevel(t){const r=it.log.level||"warn";return WR[this._parentWithMember("level",r)]<=WR[t]}static _scheduleTickCounterIncrement(){Vs._tickCounterScheduled||(Vs._tickCounterScheduled=!0,Promise.resolve().then(()=>{Vs._tickCounter++,Vs._tickCounterScheduled=!1}))}};function fce(e,t,...r){console[e](`[${t}]`,...r)}function pce(...e){return VU(JSON.stringify(e,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}B._loggers=new Map,B._tickCounter=0,B._tickCounterScheduled=!1,B._throttlingDisabled=!1;function qy(e,t){if(e==null)throw new Error(t??"value is None")}function pt(e){return e==null||e.destroy(),null}function DBe(e){return e==null||e.dispose(),null}function Ft(e){return e==null||e.remove(),null}function Si(e){return e==null||e.abort(),null}function VBe(e){return e==null||e.release(),null}function hce(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function mce(e,t){let r;return e.some((i,s)=>(r=t(i,s),r!=null)),r??void 0}const zU=Symbol("Accessor-beforeDestroy"),yce={remove:()=>{}};function Je(e){return e?{remove(){e&&(e(),e=void 0)}}:yce}function jU(e){e.forEach(t=>t==null?void 0:t.remove())}function zBe(e){jU(e),e.length=0}function h2(e){return Je(()=>jU(e))}function jBe(e){return Je(()=>{var t;return(t=e())==null?void 0:t.remove()})}function qBe(e){return Je(()=>e==null?void 0:e.abort())}function bce(e){return Je(e!=null?()=>e.destroy():void 0)}function Cs(e){return e.__accessor__??null}function gce(e,t){var r;return((r=e==null?void 0:e.metadata)==null?void 0:r[t])!=null}function Q3(e,t,r){return r?z5(e,t,{policy:r,path:""}):z5(e,t,null)}function z5(e,t,r){return t?Object.keys(t).reduce((i,s)=>{const n=s;let a=null,o="merge";if(r&&(a=r.path?`${r.path}.${s}`:s,o=r.policy(a)),o==="replace"||o==="replace-arrays"&&Array.isArray(i[n]))return i[n]=t[n],i;if(i[n]===void 0)return i[n]=O(t[n]),i;let l=i[n],d=t[n];if(l===d)return i;if(Array.isArray(d)||Array.isArray(i))l=l?Array.isArray(l)?i[n]=l.slice():i[n]=[l]:i[n]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(f=>{l.includes(f)||l.push(f)}));else if(d&&typeof d=="object")if(r){const f=r.path;r.path=a,i[n]=z5(l,d,r),r.path=f}else i[n]=z5(l,d,null);else i.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(i[n]=d);return i},e||{}):e}function qU(e){return Array.isArray(e)?e:e.split(".")}function ZR(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function vce(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...ZR(r));return t}return ZR(e)}function BU(e,t,r,i){const s=vce(t);if(s.length!==1){const n=s.map(a=>i(e,a,r));return h2(n)}return i(e,s[0],r)}function UU(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const i=Cs(t);return gce(i,r)?i.get(r):t[r]}function GU(e,t,r){if(e==null)return e;const i=UU(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:GU(i,t,r+1)}function m2(e,t,r=0){return typeof t!="string"||t.includes(".")?GU(e,qU(t),r):UU(t,e)}function Ji(e,t){return m2(e,t)}function JR(e,t){return m2(t,e)!==void 0}var _s;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(_s||(_s={}));function y2(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const i in t)t[i]=O(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function R6(e,t){const r=y2(e);let i=r[t];return i||(i=r[t]={}),i}function wce(e,t){return Q3(e,t,Sce)}const _ce=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Sce(e){return _ce.test(e)?"replace":"merge"}function $ce(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function xce(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let Vu=class o${constructor(t,r,i,s=1,n=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let a=0;a<n;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let r;if(o$.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let s=0;s<i;s++)this._pool[s]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):xce(r)&&r.acquire(...t),r}release(t){t&&!o$.test.disabled&&(this._releaseFunction?this._releaseFunction(t):$ce(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Vu.test={disabled:!1};let Ece=class{constructor(t,r){this._observers=t,this._observer=r}remove(){TU(this._observers,this._observer)}},HU=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return Tce;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,s=!1;const n=r.length;for(let a=0;a<n;++a){const o=r[a];if(o.destroyed)s=!0;else if(o===t){i=!0;break}}return i||(r.push(t),s&&this._removeDestroyedObservers()),new Ece(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let i=0;for(let s=0;s<r;++s){for(;s+i<r&&t[s+i].destroyed;)++i;if(i>0){if(!(s+i<r))break;t[s]=t[s+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const Tce=Je();var Te;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(Te||(Te={}));const l$=Te.USER+1;function Zd(e){switch(e){case"defaults":return Te.DEFAULTS;case"service":return Te.SERVICE;case"portal-item":return Te.PORTAL_ITEM;case"web-scene":return Te.WEB_SCENE;case"web-map":return Te.WEB_MAP;case"link-chart":return Te.LINK_CHART;case"user":return Te.USER;default:return null}}function j5(e){switch(e){case Te.DEFAULTS:return"defaults";case Te.SERVICE:return"service";case Te.PORTAL_ITEM:return"portal-item";case Te.WEB_SCENE:return"web-scene";case Te.WEB_MAP:return"web-map";case Te.LINK_CHART:return"link-chart";case Te.USER:return"user"}}function Ice(e){return j5(e)}var at;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(at||(at={}));let O6=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){var t;(t=this.accessed)==null||t.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const q5=new O6,tg=[];let L1=q5;function ge(e){L1.onAccessed(e)}let K3=!1,X3=!1;function vc(e,t,r){if(K3)return mM(e,t,r);let i=null;return WU(e),i=t.call(r),ZU(),i}function Cce(e,t){return vc(q5,e,t)}function mM(e,t,r){const i=K3;K3=!0,WU(e);let s=null;try{s=t.call(r)}catch(n){X3&&B.getLogger("esri.core.accessorSupport.tracking").error(n)}return ZU(),K3=i,s}function WU(e){L1=e,tg.push(e)}function ZU(){const e=tg.length;if(e>1){const t=tg.pop();L1=tg[e-2],t.onTrackingEnd()}else if(e===1){const t=tg.pop();L1=q5,t.onTrackingEnd()}else L1=q5}function JU(e,t){if(t.flags&at.DepTrackingInitialized)return;t.flags|=at.DepTrackingInitialized;const r=X3;X3=!1,t.flags&at.AutoTracked?mM(t.trackingTarget,t.metadata.get,e):YU(e,t),X3=r}const Mce=[];function YU(e,t){t.flags&at.ExplicitlyTracking||(t.flags|=at.ExplicitlyTracking,mM(t.trackingTarget,()=>{const r=t.metadata.dependsOn||Mce;for(const i of r)if(typeof i!="string"||i.includes(".")){const s=qU(i);for(let n=0,a=e;n<s.length&&a!=null&&typeof a=="object";++n)a=YR(a,s[n],n!==s.length-1)}else YR(e,i,!1)}),t.flags&=~at.ExplicitlyTracking)}function YR(e,t,r){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=Cs(e);if(s){const n=s.propertiesByName.get(i);n&&(ge(n),JU(e,n))}return r?e[i]:void 0}let QR=class extends HU{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new O6(this),this.flags=0,this.flags=at.Dirty|(r.nonNullable?at.NonNullable:0)|(r.hasOwnProperty("value")?at.HasDefaultValue:0)|(r.get===void 0?at.DepTrackingInitialized:0)|(r.dependsOn===void 0?at.AutoTracked:0)}destroy(){this.flags&at.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&ge(this);const r=t.store,i=this.propertyName,s=this.flags,n=r.get(i);if(s&at.Computing||~s&at.Dirty&&r.has(i))return n;this.flags|=at.Computing;const a=t.host;let o;s&at.AutoTracked?o=vc(this.trackingTarget,this.metadata.get,a):(YU(a,this),o=this.metadata.get.call(a)),this.flags|=at.DepTrackingInitialized,r.set(i,o,Te.COMPUTED);const l=r.get(i);return l===n?this.flags&=~at.Dirty:Cce(this.commit,this),this.flags&=~at.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~at.Dirty,this.onCommitted()}onInvalidated(){~this.flags&at.Overridden&&(this.flags|=at.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onCommitted()}}},Ace=class QU{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new QU;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,O(i))}),r}get(t){return this._values.get(t)}originOf(){return Te.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function xw(e,t,r){return e!==void 0}function KR(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&at.NonNullable)||(i.lifecycle,_s.INITIALIZING,!1))}let kce=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=_s.INITIALIZING,this.store=new Ace,this.mutable=!0,this._origin=Te.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const s=new QR(i,r[i]);this.propertiesByName.set(i,s)}this.metadata=r}initialize(){this.lifecycle=_s.CONSTRUCTING}constructed(){this.lifecycle=_s.CONSTRUCTED}destroy(){this.lifecycle=_s.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==_s.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);this.mutable&&ge(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&at.HasDefaultValue)return"defaults"}return j5(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(xw(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.propertiesByName.get(t);xw(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const s=this.propertiesByName.get(r);if(!xw(s))return"";const n=new O6,a=vc(n,()=>{var d;return(d=s.metadata.get)==null?void 0:d.call(t)});let o=`${i}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;const l=n.accessed??new Set;if(l.size===0)return o;i+="  ";for(const d of l)d instanceof QR&&(o+=`${i}${d.propertyName}: undefined
`);return o}setAtOrigin(t,r,i){const s=this.propertiesByName.get(t);if(xw(s))return this._setAtOrigin(s,r,i)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&at.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&at.Overridden&&(r.flags&=~at.Overridden,r.notifyChange())}override(t,r){const i=this.propertiesByName.get(t);if(!KR(i,t,r,this))return;const s=i.metadata.cast;if(s){const n=this._cast(s,r),{valid:a,value:o}=n;if(P8.release(n),!a)return;r=o}i.flags|=at.Overridden,this._internalSet(i,r)}set(t,r){const i=this.propertiesByName.get(t);if(!KR(i,t,r,this))return;const s=i.metadata.cast;if(s){const a=this._cast(s,r),{valid:o,value:l}=a;if(P8.release(a),!o)return;r=l}const n=i.metadata.set;n?n.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=Zd(t)}getDefaultOrigin(){return j5(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==_s.INITIALIZING?this._origin:Te.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const s=this.store,n=t.propertyName;s.has(n,i)&&pM(r,s.get(n))&&~t.flags&at.Overridden&&i===s.originOf(n)||(t.invalidate(),s.set(n,r,i),t.commit(),JU(this.host,t))}_cast(t,r){const i=P8.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}},Lce=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const P8=new Vu(Lce);function Rce(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(p2(i,t)??"").toString())}let KU=class{constructor(t,r,i=void 0){this.name=t,this.details=i,this.message=(r&&Rce(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},I=class XU extends KU{constructor(t,r,i){super(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return O(r)}catch{return"[object]"}}))}}catch(t){throw B.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new XU(t.name,t.message,t.details)}};I.prototype.type="error";function B5(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))B5(e,i,t[i]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void B5(Ji(e,s),n,r)}const i=e.__accessor__;i!=null&&Oce(t,i),e[t]=r}}function Oce(e,t){if(V("esri-unknown-property-errors")&&!Fce(e,t))throw new I("set:unknown-property",Pce(e,t))}function Fce(e,t){return t.metadata[e]!=null}function Pce(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Nce;function Dce(){return Nce}var XR;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(XR||(XR={}));function Vce(e){e.length=0}let Wi=class{constructor(t=50,r=50){this._pool=new Vu(Array,void 0,Vce,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return N8.acquire()}static release(t){return N8.release(t)}static prune(){N8.prune()}};const N8=new Wi(100);let eG=class extends Vu{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Ew=[];function U5(e){Ew.push(e),Ew.length===1&&queueMicrotask(()=>{const t=Ew.slice();Ew.length=0;for(const r of t)r()})}let R1=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var c$;(function(e){const t=(n,a,o,l)=>{let d=a,f=a;const p=o>>>1,m=n[d-1];for(;f<=p;){f=d<<1,f<o&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,m)<=0)break;n[d-1]=y,d=f}n[d-1]=m},r=(n,a)=>n<a?-1:n>a?1:0;function i(n,a,o,l){a===void 0&&(a=0),o===void 0&&(o=n.length),l===void 0&&(l=r);for(let f=o>>>1;f>a;f--)t(n,f,o,l);const d=a+1;for(let f=o-1;f>a;f--){const p=n[a];n[a]=n[f],n[f]=p,t(n,d,f,l)}}function*s(n,a,o,l){a===void 0&&(a=0),o===void 0&&(o=n.length),l===void 0&&(l=r);for(let f=o>>>1;f>a;f--)t(n,f,o,l),yield;const d=a+1;for(let f=o-1;f>a;f--){const p=n[a];n[a]=n[f],n[f]=p,t(n,d,f,l),yield}}e.sort=i,e.iterableSort=s})(c$||(c$={}));const eO=c$,zce=1.5,jce=1.1;let Op=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new $U,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>tO(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const s=this.data[i];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,tO(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=n$(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(n$(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=ace(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){eO.sort(this.data,0,this.length,t)}iterableSort(t){return eO.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)if(t.call(r,i[n]))return i[n]}filterInPlace(t,r){let i=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(r,n,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=n,i++)}if(this._deallocator)for(let s=i;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=i,this._shrink(),this}forAll(t,r){const{data:i,length:s}=this;for(let n=0;n<s;++n)t.call(r,i[n],n,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const i=new Array(this.length);for(let s=0;s<this.length;++s)i[s]=t.call(r,this.data[s],s,this.data);return i}reduce(t,r){let i=r;for(let s=0;s<this.length;++s)i=t(i,this.data[s],s,this.data);return i}has(t){const r=this.length,i=this.data;for(let s=0;s<r;++s)if(i[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function tO(e){e.data.length>zce*e.length&&(e.data.length=Math.floor(e.length*jce))}function qce(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return Je(()=>e.clearTimeout(i))}}}const By=qce(globalThis);function F6(e){return Bce(e)||tG(e)}function Bce(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function tG(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function b2(e,t,r){if(!F6(e))throw new TypeError("target is not a Evented or EventTarget object");return tG(e)?Uce(e,t,r):e.on(t,r)}function Uce(e,t,r,i){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,r,i);return Je(()=>{for(const n of s)e.removeEventListener(n,r,i)})}return e.addEventListener(t,r,i),Je(()=>e.removeEventListener(t,r,i))}function rG(e,t,r){if(!F6(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=b2(e,t,s=>{i.remove(),r.call(e,s)});return i}function mt(e="Aborted"){return new I("AbortError",e)}function Ce(e,t="Aborted"){if(nn(e))throw mt(t)}function g2(e){return e instanceof AbortSignal?e:(e==null?void 0:e.signal)??void 0}function nn(e){const t=g2(e);return t!=null&&t.aborted}function Do(e){if(fr(e))throw e}function rO(e){if(!fr(e))throw e}function qn(e,t){const r=g2(e);if(r!=null){if(!r.aborted)return rG(r,"abort",()=>t());t()}}function yM(e,t){const r=g2(e);if(r!=null)return Ce(r),rG(r,"abort",()=>t(mt()))}function bM(e,t){return g2(t)==null?e:new Promise((r,i)=>{let s=qn(t,()=>i(mt()));const n=()=>{s=Ft(s)};e.then(n,n),e.then(r,i)})}function fr(e){return(e==null?void 0:e.name)==="AbortError"}async function Bo(e){try{return await e}catch(t){if(!fr(t))throw t;return}}async function wc(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(a=>e[a]),s=await wc(i),n={};return r.map((a,o)=>n[a]=s[o]),n}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(i,s)=>{const n=r[s];return n.status==="fulfilled"?{promise:i,value:n.value}:{promise:i,error:n.reason}}))}async function Gce(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function eUe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function gM(e,t=void 0,r){const i=new AbortController;return qn(r,()=>i.abort()),new Promise((s,n)=>{let a=setTimeout(()=>{a=0,s(t)},e);qn(i,()=>{a&&(clearTimeout(a),n(mt()))})})}function iG(e,t,r,i){const s=r&&"abort"in r?r:null;i!=null||s||(i=r);let n=setTimeout(()=>{n=0,s==null||s.abort()},t);const a=()=>i||new I("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(o=>{if(n===0)throw a();return clearTimeout(n),o},o=>{throw clearTimeout(n),n===0?a():o})}function Hce(e,t){const r=new AbortController,i=setTimeout(()=>r.abort(),t);return qn(e,()=>{r.abort(),clearTimeout(i)}),{...e,signal:r.signal}}function Ko(e){return e&&typeof e.then=="function"}function d$(e){return Ko(e)?e:Promise.resolve(e)}function Uo(e,t=-1){let r,i,s,n,a=null;const o=(...l)=>{if(r){i=l,n&&n.reject(mt()),n=Ms();const m=n.promise;if(a){const y=a;a=null,y.abort()}return m}if(s=n||Ms(),n=null,t>0){const m=new AbortController;r=d$(e(...l,m.signal));const y=r;gM(t).then(()=>{r===y&&(n?m.abort():a=m)})}else r=1,r=d$(e(...l));const d=()=>{const m=i;i=s=r=a=null,m!=null&&o(...m)},f=r,p=s;return f.then(d,d),f.then(p.resolve,p.reject),p.promise};return o}function Ms(){let e,t;const r=new Promise((s,n)=>{e=s,t=n}),i=s=>{e(s)};return i.resolve=s=>e(s),i.reject=s=>t(s),i.timeout=(s,n)=>By.setTimeout(()=>i.reject(n),s),i.promise=r,i}async function iO(e){await Promise.resolve(),Ce(e)}function tUe(e){return e}function Wce(e){return 1e3*e}function rUe(e){return e}function iUe(e){return .001*e}let Zce=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},Jce=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},u$=0;const $b={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},f$=["prepare","preRender","render","postRender","update","finish"],p$=[],Yp=new Op;let Yce=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,sG()}};function Qce(){Fp!=null&&(cancelAnimationFrame(Fp),Fp=requestAnimationFrame(vM))}function sG(){Fp==null&&(u$=performance.now(),Fp=requestAnimationFrame(vM))}const G5={frameTasks:Yp,willDispatch:!1,clearFrameTasks:Kce,dispatch:aG,executeFrameTasks:Xce,reschedule:Qce};function v2(e){const t=new Jce(e);return p$.push(t),G5.willDispatch||(G5.willDispatch=!0,U5(aG)),t}function ly(e){const t=new Zce(e);return Yp.push(t),sG(),new Yce(t)}let Fp=null;function Kce(e=!1){Yp.forAll(t=>{t.removed=!0}),e&&nG()}function vM(){const e=performance.now();Fp=null,Fp=Yp.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(vM):null,G5.executeFrameTasks(e)}function Xce(e){const t=e-u$;u$=e;const r=1e3/60,i=Math.max(0,t-r);$b.time=e,$b.frameDuration=r-i;for(let s=0;s<f$.length;s++){const n=performance.now(),a=f$[s];Yp.forAll(o=>{var l;o.paused||o.removed||(s===0&&o.ticks++,o.phases[a]&&($b.elapsedFrameTime=performance.now()-e,$b.deltaTime=o.ticks===0?0:t,(l=o.phases[a])==null||l.call(o,$b)))}),ide[s].push(performance.now()-n)}nG(),sde.push(performance.now()-e)}const Tw=new Op;function nG(){Yp.forAll(e=>{e.removed&&Tw.push(e)}),Yp.removeUnorderedMany(Tw.data,Tw.length),Tw.clear()}function aG(){for(;p$.length;){const e=p$.shift();e.isActive&&e.callback()}G5.willDispatch=!1}function ede(e=1,t){const r=Ms(),i=()=>{nn(t)?r.reject(mt()):e===0?r():(--e,U5(()=>i()))};return i(),r.promise}function tde(e){return ede(1,e)}async function rde(e){await tde(e),await new Promise(t=>requestAnimationFrame(()=>{e!=null&&e.aborted||t()}))}const ide=f$.map(e=>new R1(e)),sde=new R1("total");function oG(e,t){for(const r of e.values())if(t(r))return!0;return!1}function H5(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function sO(e,t){return t!=null&&e.add(t),e}function wM(e,t){const r=new Set;return H5(r,e),H5(r,t),r}function nde(e,t){const r=new Set;for(const i of t)e.has(i)&&r.add(i);return r}function oUe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function lUe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function ade(e,t){const r=new Set(e);for(const i of t)r.delete(i);return r}function ode(e,t){return ade(wM(e,t),nde(e,t))}let lde=0;function e9(){return++lde}let P6=class extends O6{constructor(t){super(new cde(t)),this._observer&&nO.register(this,new WeakRef(this._observer),this)}destroy(){var t,r;this._observer&&nO.unregister(this._observer),(t=this.accessed)==null||t.clear(),this.clear(),(r=this._observer)==null||r.destroy()}},cde=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=dde}};const nO=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function dde(){}let C0=!1;const W5=[];function lG(e,t){let r=new P6(n),i=null,s=!1;function n(){if(!r||s)return;if(C0)return void dG(n);const o=i;r.clear(),C0=!0,s=!0,i=vc(r,e),s=!1,C0=!1,t(i,o),uG()}function a(){r&&(r.destroy(),r=null,i=null)}return s=!0,i=vc(r,e),s=!1,Je(a)}function cG(e,t){let r=new P6(s),i=null;function s(){t(i,a)}function n(){r&&(r.destroy(),r=null),i=null}function a(){return r?(r.clear(),i=vc(r,e),i):null}return a(),Je(n)}function _M(e,t){let r=!1,i=!1;const s=!!(t!=null&&t.sync);let n=new P6(()=>{r||i||(i=!0,s?a():queueMicrotask(a))});function a(){i=!1,n&&!r&&(C0?dG(a):(n.clear(),C0=!0,r=!0,vc(n,e),r=!1,C0=!1,uG()))}function o(){n&&(n.destroy(),n=null)}return r=!0,vc(n,e),r=!1,Je(o)}function dG(e){W5.includes(e)||W5.unshift(e)}function uG(){for(;W5.length;)W5.pop()()}var O1;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(O1||(O1={}));let pv=class{constructor(){this.uid=e9(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,s,n){return this.pool.acquire(O1.Untracked,t,r,i,s,n,pM)}static acquireTracked(t,r,i,s){return this.pool.acquire(O1.Tracked,t,r,i,null,null,s)}notify(t,r){this.type===O1.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,s,n,a,o){this.uid=e9(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=s,this.target=n,this.path=a,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=e9(),this.removed=!0}};pv.pool=new eG(pv);const t9=new Wi,uc=new Set;let Z5;function J5(e){uc.delete(e),uc.add(e),Z5||(Z5=v2(pde))}function ude(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function fde(e){for(const t of uc.values())t.target===e&&(t.removed=!0)}function pde(){let e=10;for(;Z5&&e--;){Z5=null;const t=hde(),r=t9.acquire();for(const i of t){const s=i.uid;ude(i),s===i.uid&&i.removed&&r.push(i)}for(const i of uc)i.removed&&(r.push(i),uc.delete(i));for(const i of r)pv.pool.release(i);t9.release(r),t9.release(t),h$.forEach(i=>i())}}function hde(){const e=t9.acquire();e.length=uc.size;let t=0;for(const r of uc)e[t]=r,++t;return uc.clear(),e}const h$=new Set;function mde(e){return h$.add(e),Je(()=>h$.delete(e))}function yde(e,t,r){let i=BU(e,t,r,(s,n,a)=>{let o,l,d=cG(()=>m2(s,n),(f,p)=>{var m;((m=s.__accessor__)==null?void 0:m.lifecycle)===_s.DESTROYED||o&&o.uid!==l?i.remove():(o||(o=pv.acquireUntracked(f,a,p,s,n),l=o.uid),J5(o))});return Je(()=>{d.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,J5(o)),o=null),i=d=null})});return i}function bde(e,t,r){const i=BU(e,t,r,(s,n,a)=>{let o=!1;return lG(()=>m2(s,n),(l,d)=>{s.__accessor__.lifecycle!==_s.DESTROYED?o||(o=!0,pM(d,l)||a.call(s,l,d,n,s),o=!1):i.remove()})});return i}function gde(e,t,r,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==_s.DESTROYED?i?bde(e,t,r):yde(e,t,r):Je()}function vde(e,t,r){let i,s,n=cG(e,(a,o)=>{i&&i.uid!==s?n.remove():(i||(i=pv.acquireTracked(a,t,o,r),s=i.uid),J5(i))});return Je(()=>{n.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,J5(i)),i=null),n=null})}function wde(e,t,r){let i=!1;return lG(e,(s,n)=>{i||(i=!0,r(n,s)||t(s,n),i=!1)})}function _de(e,t,r=!1,i=PU){return r?wde(e,t,i):vde(e,t,i)}function aO(e){return oG(uc,t=>t.oldValue===e)}function Sde(e,t){for(const r of e.values())if(t(r))return!0;return!1}function fUe(e,t){for(const r of e.values())if(t(r))return r;return null}function Uy(e,t,r){const i=e.get(t);if(i!==void 0)return i;const s=r();return e.set(t,s),s}function pUe(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const M0=()=>B.getLogger("esri.core.accessorSupport.ensureTypes");function $de(e){return e==null?e:new Date(e)}function xde(e){return e==null?e:!!e}function w2(e){return e==null?e:e.toString()}function Zi(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function SM(e){return e==null?e:Math.round(parseFloat(e))}function Ede(e){return null}function Tde(e,t){return r=>{let i=e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function fG(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function Y5(e,t){return t!=null&&e&&!(t instanceof e)}function pG(e){return e&&"isCollection"in e}function oO(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Ide(e,t){if(!(t!=null&&t.constructor)||!pG(t.constructor))return m$(e,t)?t:new e(t);const r=oO(e.prototype.itemType),i=oO(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(m$(e,t),t):new e(t):t}function m$(e,t){return!!fG(t)&&(M0().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+N6(e)+"'"),!0)}function Gy(e,t){return t==null?t:pG(e)?Ide(e,t):Y5(e,t)?m$(e,t)?t:new e(t):t}function N6(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Cde=new WeakMap;function Mde(e){switch(e){case Number:return t=>Zi(t);case Ve:return SM;case Boolean:return xde;case String:return w2;case Date:return $de;case Hy:return Ede;default:return Uy(Cde,e,()=>Gy.bind(null,e))}}function yt(e,t){const r=Mde(e);return arguments.length===1?r:r(t)}function hv(e,t,r){return arguments.length===1?hv.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function Ade(e,t){return arguments.length===1?hv(r=>yt(e,r)):hv(r=>yt(e,r),t)}function hG(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>hG(e,t-1,i)):e(r)}function Q5(e,t,r){if(arguments.length===2)return n=>Q5(e,t,n);if(!r)return r;r=hG(e,t,r);let i=t,s=r;for(;i>0&&Array.isArray(s);)i--,s=s[0];if(s!==void 0)for(let n=0;n<i;n++)r=[r];return r}function kde(e,t,r){return arguments.length===2?Q5(i=>yt(e,i),t):Q5(i=>yt(e,i),t,r)}function mG(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function y$(e,t){if(arguments.length===2)return y$(e).call(null,t);const r=new Set,i=e.filter(o=>typeof o!="function"),s=e.filter(o=>typeof o=="function");for(const o of e)typeof o!="string"&&typeof o!="number"||r.add(o);let n=null,a=null;return(o,l)=>{if(o==null)return o;const d=typeof o,f=d==="string"||d==="number";return f&&(r.has(o)||s.some(p=>d==="string"&&p===String||d==="number"&&p===Number))||d==="object"&&s.some(p=>!Y5(o,p))?o:(f&&i.length?(n||(n=i.map(p=>typeof p=="string"?`'${p}'`:`${p}`).join(", ")),M0().error("Accessor#set",`'${o}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof o=="object"&&s.length?(a||(a=s.map(p=>N6(p)).join(", ")),M0().error("Accessor#set",`'${o}' is not a valid value for this property, value must be one of ${a}`)):M0().error("Accessor#set",`'${o}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Ha(e,t){if(arguments.length===2)return Ha(e).call(null,t);const r={},i=[],s=[];for(const l in e.typeMap){const d=e.typeMap[l];r[l]=yt(d),i.push(N6(d)),s.push(l)}const n=()=>`'${i.join("', '")}'`,a=()=>`'${s.join("', '")}'`,o=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Y5(e.base,l)||l==null)return l;const d=o(l)||e.defaultKeyValue,f=r[d];if(!f)return M0().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!Y5(e.typeMap[d],l))return l;if(typeof e.key=="string"&&!fG(l)){const p={};for(const m in l)m!==e.key&&(p[m]=l[m]);return f(p)}return f(l)}}let Ve=class{},Hy=class{};const yUe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Lde(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function yG(e){switch(e.type){case"native":return yt(e.value);case"array":return hv(yG(e.value));case"one-of":return Rde(e);default:return null}}function Rde(e){let t=null;return(r,i)=>g$(r,e)?r:(t==null&&(t=b$(e)),M0().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function b$(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ve:return"integer";case Date:return"date";case Hy:return"null";default:return N6(e.value)}case"array":return`array of ${b$(e.value)}`;case"one-of":{const t=e.values.map(r=>b$(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function g$(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Ve:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Hy:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!g$(r,t.value));case"one-of":return t.values.some(r=>g$(e,r))}}function u(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),s=R6(t,r);i&&(i.get||i.set?(s.get=i.get||s.get,s.set=i.set||s.set):"value"in i&&("value"in e&&B.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=i.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,d=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let p=Ji(this,l);if(typeof p=="function"){f||(f=l.split(".").slice(0,-1).join("."));const m=Ji(this,f);m&&(p=p.bind(m))}return p},s.readOnly||(s.set=d?function(p){this._override(r,p)}:function(p){B5(this,l,p)})}const a=e.type,o=e.types;if(!s.cast){let l;a?l=Ode(a):o&&(l=Array.isArray(o)?hv(Ha(o[0])):Ha(o)),e.cast=Fde(e.cast,l)}wce(s,e),e.range&&(s.cast=Tde(s.cast,e.range))}}function bG(e,t,r){const i=R6(e,r);i.json||(i.json={});let s=i.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Ode(e){let t=0,r=e;if(Lde(e))return yG(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(mG(i))return t===0?y$(i):Q5(y$(i),t);if(t===1)return Ade(i);if(t>1)return kde(i,t);const s=e;return s.from?s.from:yt(s)}function Fde(e,t){if(e||t)return e?t?(r,i)=>t(e(r,i),i):e:t}function Pde(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const s=t[i];r[i].forEach(n=>{t[n]=s}),delete t[i]}}}let Un=class extends KU{constructor(t,r,i){super(t,r,i)}};Un.prototype.type="warning";function gG(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const v$=()=>B.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function lO(e,t,r){var i,s;e&&(!r&&!t.read||(i=t.read)!=null&&i.reader||((s=t.read)==null?void 0:s.enabled)===!1||Vde(e)&&Ot("read.reader",Wy(e),t))}function Wy(e){var r,i;const t=e.ndimArray??0;if(t>1)return Dde(e);if(t===1)return cO(e);if("type"in e&&wG(e.type)){const s=(i=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:i.Type,n=cO(typeof s=="function"?{type:s}:{types:s});return(a,o,l)=>{const d=n(a,o,l);return d&&new e.type(d)}}return $M(e)}function $M(e){return"type"in e?Nde(e.type):zde(e.types)}function Nde(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void v$().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,i),n}:e.fromJSON}function vG(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(s=>vG(e,s,r,i-1)):e(t,void 0,r)}function Dde(e){const t=$M(e),r=vG.bind(null,t),i=e.ndimArray??0;return(s,n,a)=>{if(s==null)return s;s=r(s,a,i);let o=i,l=s;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let d=0;d<o;d++)s=[s];return s}}function cO(e){const t=$M(e);return(r,i,s)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const o of r){const l=t(o,void 0,s);l!==void 0&&a.push(l)}return a}const n=t(r,void 0,s);return n!==void 0?[n]:void 0}}function wG(e){if(!gG(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?xM(t.Type):_G(t.Type))}function Vde(e){return"types"in e?_G(e.types):xM(e.type)}function xM(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||wG(e))}function _G(e){for(const t in e.typeMap)if(!xM(e.typeMap[t]))return!1;return!0}function zde(e){let t=null;const r=e.errorContext??"type",i=e.validate;return(s,n,a)=>{if(s==null)return s;const o=typeof s;if(o!=="object")return void v$().error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);t||(t=jde(e));const l=e.key;if(typeof l!="string")return;const d=s[l],f=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const m=`Type '${d||"unknown"}' is not supported`;return a!=null&&a.messages&&s&&a.messages.push(new Un(`${r}:unsupported`,m,{definition:s,context:a})),void v$().error(m)}const p=new f;return p.read(s,a),i?i(p):p}}function jde(e){var r,i;const t={};for(const s in e.typeMap){const n=e.typeMap[s],a=y2(n.prototype);if(typeof e.key=="function")continue;const o=a[e.key];if(!o)continue;if((r=o.json)!=null&&r.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"){t[o.json.type[0]]=n;continue}const l=(i=o.json)==null?void 0:i.write;if(!(l!=null&&l.writer)){t[s]=n;continue}const d=l.target,f=typeof d=="string"?d:e.key,p={};l.writer(s,p,f),p[f]&&(t[p[f]]=n)}return t}function qde(e){if(e.json||(e.json={}),uO(e.json),fO(e.json),dO(e.json),e.json.origins)for(const t in e.json.origins)uO(e.json.origins[t]),fO(e.json.origins[t]),dO(e.json.origins[t]);return!0}function dO(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function uO(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function fO(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function pO(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&gG(e.type))?t.write.writer=Gde:r>1?t.write.writer=Hde(r):t.types?Array.isArray(t.types)?t.write.writer=Ude(t.types[0]):t.write.writer=Bde(t.types):t.write.writer=mv}function Bde(e){return(t,r,i,s)=>t?SG(t,e,s)?mv(t,r,i,s):void 0:mv(t,r,i,s)}function SG(e,t,r){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(r!=null&&r.messages){const i=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new I(`${i}:unsupported`,s,{definition:e,context:r})),B.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Ude(e){return(t,r,i,s)=>!t||!Array.isArray(t)?mv(t,r,i,s):mv(t.filter(n=>SG(n,e,s)),r,i,s)}function mv(e,t,r,i){Ot(r,K5(e,i),t)}function K5(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?X5(e):e}function X5(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Gde(e,t,r,i){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>K5(n,i)),typeof s.toArray=="function"&&(s=s.toArray())):s=[K5(e,i)],Ot(r,s,t)}function $G(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>$G(i,t,r-1)):K5(e,t)}function Hde(e){return(t,r,i,s)=>{let n;if(t===null)n=null;else{n=$G(t,s,e);let a=e,o=n;for(;a>0&&Array.isArray(o);)a--,o=o[0];if(o!==void 0)for(let l=0;l<a;l++)n=[n]}Ot(i,n,r)}}function Wde(e,t){return EM(e,"any",t==null?void 0:t.origin)}function w$(e,t){return EM(e,"read",t==null?void 0:t.origin)}function xG(e,t){return EM(e,"write",t==null?void 0:t.origin)}function EM(e,t,r){let i=e==null?void 0:e.json;if(i!=null&&i.origins&&r){let s;s=r==="link-chart"?i.origins[r]&&(t==="any"||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],s&&(t==="any"||t in s)&&(i=s)}return i}function Zde(e){var r;const t=Jde(e);if(e.json.origins)for(const i in e.json.origins){const s=e.json.origins[i],n=s.types?Yde(s):t;lO(n,s,!1),s.types&&!s.write&&((r=e.json.write)!=null&&r.enabled)&&(s.write={...e.json.write}),pO(n,s)}lO(t,e.json,!0),pO(t,e.json)}function Jde(e){return e.json.types?_$(e.json):e.type?EG(e):_$(e)}function Yde(e){return e.type?EG(e):_$(e)}function EG(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!mG(r);)r=r[0],t++;return{type:r,ndimArray:t}}function _$(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Qde(e){qde(e)&&(Pde(e),Zde(e))}const D8=new Set,V8=new Set;function S(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,Xde(t);const r=[],i=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!D8.has(s.initialize)&&(D8.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!V8.has(s.destroy)&&(V8.add(s.destroy),i.push(s.destroy)),s=Object.getPrototypeOf(s);D8.clear(),V8.clear();const n=class extends t{constructor(...o){if(super(...o),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const d=this[zU];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,d.call(this);for(let f=0;f<i.length;f++)i[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=y2(t.prototype),n.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:a,configurable:!0}),n}}function Kde(e,t){return t.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i===void 0)return;r.mutable&&ge(i);const s=r.store;return s.has(e)?s.get(e):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i!==void 0)return i.getComputed(r)}}function Xde(e){const t=e.prototype,r=y2(t),i={};for(const s of Object.getOwnPropertyNames(r)){const n=r[s];Qde(n),i[s]={enumerable:!0,configurable:!0,get:Kde(s,n),set(a){const o=this.__accessor__;if(o!==void 0){if(o.mutable)return o.initialized&&n.readOnly?hO("read-only",s):o.lifecycle===_s.CONSTRUCTED&&n.constructOnly?hO("construct-only",s):void o.set(s,a)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,i)}const hO=(e,t)=>{B.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var TG,IG;function eue(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const io=Symbol("Accessor-Handles"),S$=Symbol("Accessor-Initialized");let ie=class r9{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class a extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}y2(a.prototype);for(const o in t){const l=t[o];a.prototype[o]=typeof l=="function"?function(...d){const f=this.inherited;let p;this.inherited=function(...m){if(n.prototype[o])return n.prototype[o].apply(this,m)};try{p=l.apply(this,d)}catch(m){throw this.inherited=f,m}return this.inherited=f,p}:t[o]}for(const o in r){const l=eue(r[o]);u(l)(a.prototype,o)}return S(i)(a)}static freeze(t){return t instanceof r9?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof r9?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){var i;if(this[TG]=null,this[IG]=!1,this.constructor===r9)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new kce(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=((i=this.normalizeCtorArgs)==null?void 0:i.apply(this,t))??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[S$]=!0}initialize(){}[zU](){this[io]=pt(this[io])}destroy(){var t;this.destroyed||(fde(this),this.__accessor__.destroy(),(t=Dce())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[S$]}get destroyed(){var t;return((t=this.__accessor__)==null?void 0:t.lifecycle)===_s.DESTROYED||!1}commitProperty(t){Ji(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return B5(this,t,r),this}watch(t,r,i){return Xle(B.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),gde(this,t,r,i)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const s of i)s.remove();return}(this[io]??(this[io]=new jy)).add(t,r)}removeHandles(t){var r;(r=this[io])==null||r.remove(t)}removeAllHandles(){var t;(t=this[io])==null||t.removeAll()}removeHandlesReference(t){var r;(r=this[io])==null||r.removeReference(t)}hasHandles(t){var r;return((r=this[io])==null?void 0:r.has(t))===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};TG=io,IG=S$;function tue(e,t,r){return wc(e.map((i,s)=>t.apply(r,[i,s])))}async function rue(e,t,r){return(await wc(e.map((i,s)=>t.apply(r,[i,s])))).map(i=>i.value)}function TM(e){return{ok:!0,value:e}}function IM(e){return{ok:!1,error:e}}function iue(e){return e!=null&&e.ok===!0?e.value:null}function sue(e){return e!=null&&e.ok===!1?e.error:null}async function D6(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return TM(await e)}catch(t){return IM(t)}}async function nue(e){try{return TM(await e)}catch(t){return Do(t),IM(t)}}function _c(e,t){return new Kc(e,t)}let Kc=class extends ie{get value(){return iue(this._result)}get error(){return sue(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Si(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=t(i),this.promise.then(s=>{this._result=TM(s),this._cleanup()},s=>{this._result=IM(s),this._cleanup()}),this._abortHandle=qn(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ft(this._abortHandle),this._abortController=null}};c([u()],Kc.prototype,"value",null),c([u()],Kc.prototype,"error",null),c([u()],Kc.prototype,"finished",null),c([u()],Kc.prototype,"promise",void 0),c([u()],Kc.prototype,"_result",void 0),Kc=c([S("esri.core.asyncUtils.ReactiveTask")],Kc);let an=class CG{constructor(){this._emitter=new CG.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){var d;let a=(d=this._listenersMap)==null?void 0:d.get(s);if(!a)return!1;const o=this._target||this;let l=!1;for(const f of a.slice()){const p="deref"in f?f.deref():f;p?p==null||p.call(o,n):l=!0}return l&&(a=a.filter(f=>!("deref"in f)||f.deref()!=null),this._listenersMap.set(s,a)),a.length>0}on(s,n){if(Array.isArray(s)){const o=s.map(l=>this.on(l,n));return h2(o)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const a=this._listenersMap.get(s)||[];return a.push(n),this._listenersMap.set(s,a),Je(()=>{var d;const o=(d=this._listenersMap)==null?void 0:d.get(s),l=(o==null?void 0:o.indexOf(n))??-1;l>=0&&o.splice(l,1)})}once(s,n){const a=this.on(s,o=>{a.remove();const l="deref"in n?n.deref():n;l==null||l.call(null,o)});return a}hasEventListener(s){var a;const n=(a=this._listenersMap)==null?void 0:a.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let s=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=c([S("esri.core.Evented")],s),s};let r=class extends ie{constructor(){super(...arguments),this._emitter=new an.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,s){return this._emitter.emit(i,s)}on(i,s){return this._emitter.on(i,s)}once(i,s){return this._emitter.once(i,s)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=c([S("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(an);var tt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(tt||(tt={}));function CM(e){return(t,r)=>{t[r]=e}}let _2=class extends HU{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var Yl;let aue=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},oue=class{constructor(t,r,i,s,n){this.target=t,this.added=r,this.removed=i,this.start=s,this.deleteCount=n}};const pn=new Vu(aue,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function mO(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function z8(e){return e?e instanceof Gl?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function j8(e){if(e!=null&&e.length)return e[0]}function lue(e,t,r,i){const s=Math.min(e.length-r,t.length-i);let n=0;for(;n<s&&e[r+n]===t[i+n];)n++;return n}function MG(e,t,r,i){t&&t.forEach((s,n,a)=>{e.push(s),MG(e,r.call(i,s,n,a),r,i)})}const Dc=new Set,Vc=new Set,zc=new Set,q8=new Map;let cue=0,Gl=Yl=class extends an.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Yl}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new _2,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:cue++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Yl?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return ge(this._observable),this._items}set items(e){this._emitBeforeChanges(tt.ADD)||(this._splice(0,this.length,z8(e)),this._emitAfterChanges(tt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Je();if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),Je(()=>{i.removed=!0,r.splice(r.indexOf(i),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,i=this.on(e,s=>{var n;(n=r())==null||n.call(null,s),i.remove()});return i}add(e,t){if(ge(this._observable),this._emitBeforeChanges(tt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(tt.ADD),this}addMany(e,t=this._items.length){if(ge(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(tt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,z8(e)),this._emitAfterChanges(tt.ADD),this}at(e){if(ge(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(ge(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(tt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return ge(this._observable),this._createNewInstance({items:this._items.map(O)})}concat(...e){ge(this._observable);const t=e.map(z8);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(ge(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let s=0;s<i;s++)e.call(t,r[s],s,r);this._emitAfterChanges(tt.REMOVE)}destroyAll(){this.drain(mO)}destroyMany(e){const t=this.removeMany(e);return t.forEach(mO),t}every(e,t){return ge(this._observable),this._items.every(e,t)}filter(e,t){ge(this._observable);const r=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:r})}find(e,t){return ge(this._observable),this._items.find(e,t)}findIndex(e,t){return ge(this._observable),this._items.findIndex(e,t)}flatten(e,t){ge(this._observable);const r=[];return MG(r,this,e,t),new Yl(r)}forEach(e,t){return ge(this._observable),this._items.forEach(e,t)}getItemAt(e){return ge(this._observable),this._items[e]}getNextIndex(e){ge(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return ge(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return ge(this._observable),this._items.indexOf(e,t)}join(e=","){return ge(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return ge(this._observable),this._items.lastIndexOf(e,t)}map(e,t){ge(this._observable);const r=this._items.map(e,t);return new Yl({items:r})}reorder(e,t=this.length-1){ge(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(tt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(tt.MOVE)}return e}}pop(){if(ge(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const e=j8(this._splice(this.length-1,1));return this._emitAfterChanges(tt.REMOVE),e}push(...e){return ge(this._observable),this._emitBeforeChanges(tt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(tt.ADD)),this.length}reduce(e,t){ge(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){ge(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return ge(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(ge(this._observable),e<0||e>=this.length||this._emitBeforeChanges(tt.REMOVE))return;const t=j8(this._splice(e,1));return this._emitAfterChanges(tt.REMOVE),t}removeMany(e){if(ge(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(tt.REMOVE))return[];const t=e instanceof Yl?e.toArray():e,r=this._items,i=[],s=t.length;for(let n=0;n<s;n++){const a=t[n],o=r.indexOf(a);if(o>-1){const l=1+lue(t,r,n+1,o+1),d=this._splice(o,l);d&&d.length>0&&i.push.apply(i,d),n+=l-1}}return this._emitAfterChanges(tt.REMOVE),i}reverse(){if(ge(this._observable),this._emitBeforeChanges(tt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(tt.MOVE),this}shift(){if(ge(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const e=j8(this._splice(0,1));return this._emitAfterChanges(tt.REMOVE),e}slice(e=0,t=this.length){return ge(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return ge(this._observable),this._items.some(e,t)}sort(e){if(ge(this._observable),!this.length||this._emitBeforeChanges(tt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(tt.MOVE),this}_requiresSort(e=(t,r)=>t===r?0:t<r?-1:1){const t=this.length-1;for(let r=0;r<t;r++)if(e(this.items[r],this.items[r+1])>0)return!0;return!1}splice(e,t,...r){ge(this._observable);const i=(t?tt.REMOVE:0)|(r.length?tt.ADD:0);if(this._emitBeforeChanges(i))return[];const s=this._splice(e,t,r)||[];return this._emitAfterChanges(i),s}toArray(){return ge(this._observable),this._items.slice()}toJSON(){return ge(this._observable),this.toArray()}toLocaleString(){return ge(this._observable),this._items.toLocaleString()}toString(){return ge(this._observable),this._items.toString()}unshift(...e){return ge(this._observable),!e.length||this._emitBeforeChanges(tt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(tt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,s=this.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=v2(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(a=i.splice(e,t),this.hasEventListener("before-remove")){const o=pn.acquire();o.target=this,o.cancellable=!0;for(let l=0,d=a.length;l<d;l++)n=a[l],o.reset(n),this.emit("before-remove",o),o.defaultPrevented&&(a.splice(l,1),i.splice(e,0,n),e+=1,l-=1,d-=1);pn.release(o)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const o=pn.acquire();o.target=this,o.cancellable=!1;const l=a.length;for(let d=0;d<l;d++)o.reset(a[d]),this.emit("after-remove",o);pn.release(o)}}if(r!=null&&r.length){if(s){const f=[];for(const p of r){const m=s.ensureType(p);m==null&&p!=null||f.push(m)}r=f}const o=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),d=e===this.length;if(o||l){const f=pn.acquire();f.target=this,f.cancellable=!0;const p=pn.acquire();p.target=this,p.cancellable=!1;for(const m of r)o?(f.reset(m),this.emit("before-add",f),f.defaultPrevented||(d?i.push(m):i.splice(e++,0,m),this._set("length",i.length),l&&(p.reset(m),this.emit("after-add",p)))):(d?i.push(m):i.splice(e++,0,m),this._set("length",i.length),p.reset(m),this.emit("after-add",p));pn.release(p),pn.release(f)}else{if(d)for(const f of r)i.push(f);else i.splice(e,0,...r);this._set("length",i.length)}}if((r!=null&&r.length||a!=null&&a.length)&&this._notifyChangeEvent(r,a),this.hasEventListener("after-splice")){const o=new oue(this,r,a,e,t);this.emit("after-splice",o)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=pn.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,pn.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=pn.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),pn.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Dc.clear(),Vc.clear(),zc.clear();for(const{added:l,removed:d}of r){if(l)if(zc.size===0&&Vc.size===0)for(const f of l)Dc.add(f);else for(const f of l)Vc.has(f)?(zc.add(f),Vc.delete(f)):zc.has(f)||Dc.add(f);if(d)if(zc.size===0&&Dc.size===0)for(const f of d)Vc.add(f);else for(const f of d)Dc.has(f)?Dc.delete(f):(zc.delete(f),Vc.add(f))}const i=Wi.acquire();Dc.forEach(l=>{i.push(l)});const s=Wi.acquire();Vc.forEach(l=>{s.push(l)});const n=this._items,a=t.items,o=Wi.acquire();if(zc.forEach(l=>{a.indexOf(l)!==n.indexOf(l)&&o.push(l)}),t.listeners&&(i.length||s.length||o.length)){const l={target:this,added:i,removed:s,moved:o},d=t.listeners.length;for(let f=0;f<d;f++){const p=t.listeners[f];p.removed||p.callback.call(this,l)}}Wi.release(i),Wi.release(s),Wi.release(o)}Dc.clear(),Vc.clear(),zc.clear()}};Gl.ofType=e=>{if(!e)return Yl;if(q8.has(e))return q8.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const s=e.typeMap[i].prototype.declaredClass;t?t+=` | ${s}`:t=s}let r=class extends Yl{};return c([CM({Type:e,ensureType:typeof e=="function"?yt(e):Ha(e)})],r.prototype,"itemType",void 0),r=c([S(`esri.core.Collection<${t}>`)],r),q8.set(e,r),r},c([u()],Gl.prototype,"_updating",void 0),c([u()],Gl.prototype,"length",void 0),c([u()],Gl.prototype,"items",null),c([u({readOnly:!0})],Gl.prototype,"updating",null),Gl=Yl=c([S("esri.core.Collection")],Gl);const W=Gl;function U(e,t,r={}){return MM(e,t,r,kG)}function jr(e,t,r={}){return MM(e,t,r,LG)}function MM(e,t,r={},i){let s=null;const n=r.once?(a,o)=>{i(a)&&(Ft(s),t(a,o))}:(a,o)=>{i(a)&&t(a,o)};if(s=_de(e,n,r.sync,r.equals),r.initial){const a=e();n(a,a)}return s}function Er(e,t,r,i={}){let s=null,n=null,a=null;function o(){var f;s&&n&&(n.remove(),(f=i.onListenerRemove)==null||f.call(i,s),s=null,n=null)}function l(f){i.once&&i.once&&Ft(a),r(f)}const d=U(e,(f,p)=>{var m;o(),F6(f)&&(s=f,n=b2(f,t,l),(m=i.onListenerAdd)==null||m.call(i,f))},{sync:i.sync,initial:!0});return a=Je(()=>{d.remove(),o()}),a}function due(e,t){return AG(e,null,t)}function Wa(e,t){return AG(e,LG,t)}function AG(e,t,r){if(nn(r))return Promise.reject(mt());const i=e();if(t!=null&&t(i))return Promise.resolve(i);let s=null;function n(){s=Ft(s)}return new Promise((a,o)=>{s=h2([qn(r,()=>{n(),o(mt())}),MM(e,l=>{n(),a(l)},{sync:!1,once:!0},t??kG)])})}function kG(e){return!0}function LG(e){return!!e}function uue(e,t,r={}){let i=!1;const s=U(e,(n,a)=>{i||t(n,a)},r);return{remove(){s.remove()},pause(){i=!0},resume(){i=!1}}}function RG(e,t){const r=new W,i=Er(e,"after-splice",({added:s,start:n,deleteCount:a})=>{const o=r.splice(n,a);for(const l of o)l.remove();if(s!=null&&s.length){const l=s.map(t);r.addMany(l,n)}},{sync:!0,onListenerRemove:()=>r.drain(s=>s.remove()),onListenerAdd:s=>r.addMany(s.items.map(t))});return r.addHandles(i),r}function fue(e,t){const r=new W,i=RG(e,o=>_c(async l=>{const d=await t(o,l);if(nn(l))throw d.remove(),mt();return d})),s=()=>null,n=async o=>{const l=await o.promise,d=i.indexOf(o);d<0||r.splice(d,1,l)};r.addMany(i.items.map(s));for(const o of i)Bo(n(o));const a=i.on("after-splice",({added:o,start:l,deleteCount:d})=>{const f=r.splice(l,d);for(const p of f)p==null||p.remove();if(o!=null&&o.length){r.addMany(o.map(s),l);for(const p of o)Bo(n(p))}});return r.addHandles([bce(i),a]),r}const Za={sync:!0},we={initial:!0},Hi={sync:!0,initial:!0},pue=Object.freeze(Object.defineProperty({__proto__:null,autorun:_M,initial:we,mapCollection:RG,mapCollectionAsync:fue,on:Er,once:due,pausable:uue,sync:Za,syncAndInitial:Hi,watch:U,when:jr,whenOnce:Wa},Symbol.toStringTag,{value:"Module"})),OG=e=>{let t=class extends e{clone(){var l;const r=Cs(this);qy(r,"unable to clone instance of non-accessor class");const i=r.metadata,s=r.store,n={},a=new Map;for(const d in i){const f=i[d],p=s==null?void 0:s.originOf(d),m=f.clonable;if(f.readOnly||m===!1||p!==Te.USER&&p!==Te.DEFAULTS&&p!==Te.WEB_MAP&&p!==Te.WEB_SCENE)continue;const y=this[d];let b=null;b=typeof m=="function"?m(y):m==="reference"?y:a$(y),y!=null&&b==null||(p===Te.DEFAULTS?a.set(d,b):n[d]=b)}const o=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){const d=(l=Cs(o))==null?void 0:l.store;if(d)for(const[f,p]of a)d.set(f,p,Te.DEFAULTS)}return o}};return t=c([S("esri.core.Clonable")],t),t};let rg=class extends OG(ie){};rg=c([S("esri.core.Clonable")],rg),function(e){e.ClonableMixin=OG}(rg||(rg={}));const _e=rg;let hf=class extends _e{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return t!=null&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};c([u({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hf.prototype,"row",void 0),c([u({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hf.prototype,"column",void 0),c([u({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hf.prototype,"rows",void 0),c([u({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hf.prototype,"columns",void 0),hf=c([S("esri.CameraLayout")],hf);const FG=hf,yO=new Float32Array(1);function xUe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function As(e,t,r){return Math.min(Math.max(e,t),r)}function EUe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function ig(e,t,r){return e+(t-e)*r}function TUe(e,t,r,i,s){return ig(i,s,(e-t)/(r-t))}function Jd(e){return e*Math.PI/180}function PG(e){return 180*e/Math.PI}function IUe(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function CUe(e){return Math.acos(As(e,-1,1))}function hue(e){return Math.asin(As(e,-1,1))}function Ts(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}function NG(e,t,r=1e-6){return!Ts(e,t,r)&&e>t}function $$(e,t,r=1e-6){return!Ts(e,t,r)&&e<t}function mue(e,t,r=1e-6){return Ts(e,t,r)||e>t}const e_=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function x$(e){return e_.setFloat64(0,e),e_.getBigInt64(0)}function yue(e){return e_.setBigInt64(0,e),e_.getFloat64(0)}const i9=BigInt("1000000"),bue=DG(1);function DG(e){const t=x$(e=Math.abs(e)),r=yue(t<=i9?i9:t-i9);return Math.abs(e-r)}function MUe(e,t,r=bue){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&DG(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const i=x$(e),s=x$(t);return i<0!=s<0?!1:!((i<s?s-i:i-s)>i9)}function gue(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const i=Math.abs(e-t),s=Math.abs(e),n=Math.abs(t);if(e===0||t===0||s<1e-12&&n<1e-12){if(i>.01*r)return!1}else if(i/(s+n)>r)return!1;return!0}function vue(e){return VG(Math.max(-E$,Math.min(e,E$)))}function VG(e){return yO[0]=e,yO[0]}function AUe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Ts(t,1)&&Ts(r,1)&&Ts(i,1))}const E$=VG(34028234663852886e22);function kUe(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let i=t.toString().split("e");return i=(t=Math[e](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let AM=class{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,i=!1){return bO(this.range,this.min,this.max,t,r,i)}clamp(t,r=0){return As(t-r,this.min,this.max)+r}monotonic(t,r,i){return t<r?r:r+T$(this.range,t-r,i)}minimalMonotonic(t,r,i){return bO(this.range,t,t+this.range,r,i)}center(t,r,i){return r=this.monotonic(t,r,i),this.normalize((t+r)/2,i)}diff(t,r,i){return this.monotonic(t,r,i)-t}shortestSignedDiff(t,r){t=this.normalize(t);const i=(r=this.normalize(r))-t,s=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(i)<Math.abs(s)?i:s}contains(t,r,i){return r=this.minimalMonotonic(t,r),(i=this.minimalMonotonic(t,i))>t&&i<r}};function bO(e,t,r,i,s=0,n=!1){return(i-=s)<t?i+=T$(e,t-i):i>r&&(i-=T$(e,i-r)),n&&i===r&&(i=t),i+s}function T$(e,t,r=0){return Math.ceil((t-r)/e)*e+r}const RUe=new AM(0,2*Math.PI),OUe=new AM(-Math.PI,Math.PI),zG=new AM(0,360);let wue=class jG{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new jG;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,O(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||(i==null?void 0:i.origin)===r?i==null?void 0:i.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??Te.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>{var s;return((s=this._values.get(i))==null?void 0:s.origin)===t})}set(t,r,i){if((i=this._normalizeOrigin(i))===Te.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>i)return}this._values.set(t,new _ue(r,i))}delete(t,r){var i;(r=this._normalizeOrigin(r))!=null&&((i=this._values.get(t))==null?void 0:i.origin)!==r||this._values.delete(t)}has(t,r){var i;return(r=this._normalizeOrigin(r))!=null?((i=this._values.get(t))==null?void 0:i.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===Te.DEFAULTS?t:Te.USER}},_ue=class{constructor(t,r){this.value=t,this.origin=r}};function qG(e,t,r){t.keys().forEach(s=>{r.set(s,t.get(s),Te.DEFAULTS)});const i=e.metadata;Object.keys(i).forEach(s=>{e.internalGet(s)&&r.set(s,e.internalGet(s),Te.DEFAULTS)})}function Sue(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&JR(i,r))return!0}else for(const s of i)if(s===t||s.includes(".")&&s.indexOf(t)===0&&JR(s,r))return!0;return!1}function $ue(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function xue(e,t,r,i,s){let n=w$(t[r],s);$ue(n)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))n=w$(t[a],s),Sue(n,r,i)&&(e[a]=!0)}function Eue(e,t,r,i){const s=r.metadata,n=Wde(s[t],i),a=n==null?void 0:n.default;if(a===void 0)return;const o=typeof a=="function"?a.call(e,t,i):a;o!==void 0&&r.set(t,o)}const BG={origin:"service"};function UG(e,t,r=BG){if(!t||typeof t!="object")return;const i=Cs(e),s=i.metadata,n={};for(const a of Object.getOwnPropertyNames(t))xue(n,s,a,t,r);i.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(n)){const o=w$(s[a],r).read,l=o==null?void 0:o.source;let d;d=l&&typeof l=="string"?m2(t,l):t[a],o!=null&&o.reader&&(d=o.reader.call(e,d,t,r)),d!==void 0&&i.set(a,d)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(s))n[a]||Eue(e,a,i,r)}i.setDefaultOrigin("user")}function GG(e,t,r,i=BG){var n;const s={...i,messages:[]};r(s),(n=s.messages)==null||n.forEach(a=>{a.type!=="warning"||e.loaded?i!=null&&i.messages&&i.messages.push(a):e.loadWarnings.push(a)})}function Tue(e,t,r,i,s){var a,o;const n={};return(o=(a=t.write)==null?void 0:a.writer)==null||o.call(e,i,n,r,s),n}function HG(e,t,r,i,s,n){if(!(i!=null&&i.write))return!1;const a=Ji(e,r);if(!s&&i.write.overridePolicy){const o=i.write.overridePolicy.call(e,a,r,n??void 0);o!==void 0&&(s=o)}if(s||(s=i.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((a===null&&!s.allowNull&&!s.writerEnsuresNonNull||a===void 0)&&s.isRequired){const o=new I("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return o&&(n!=null&&n.messages)?n.messages.push(o):o&&!n&&B.getLogger("esri.core.accessorSupport.write").error(o.name,o.message),!1}return!(a===void 0||a===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===Te.DEFAULTS)&&Iue(e,r,n,i,a)||!s.ignoreOrigin&&(n!=null&&n.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<Zd(n.origin))}function Iue(e,t,r,i,s){const n=i.default;if(n===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const a=n.call(e,t,r??void 0);return A6(a,s)}return!1}return n===s}function Cue(e,t,r,i){const s=Cs(e),n=s.metadata,a=xG(n[t],i);return!!a&&HG(e,s,t,a,r,i)}function WG(e,t,r){var n,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Q3(t,e.toJSON(r));const i=Cs(e),s=i.metadata;for(const o in s){const l=xG(s[o],r);if(!HG(e,i,o,l,void 0,r))continue;const d=Ji(e,o),f=Tue(e,l,l.write&&typeof l.write.target=="string"?l.write.target:o,d,r);Object.keys(f).length>0&&(t=Q3(t,f),(a=(n=r==null?void 0:r.resources)==null?void 0:n.pendingOperations)!=null&&a.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>Q3(t,f,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:o,oldOrigin:Ice(i.store.originOf(o)),newOrigin:r.origin}))}return t}const ZG=e=>{let t=class extends e{constructor(...r){super(...r);const i=Cs(this),s=i.store,n=new wue;i.store=n,qG(i,s,n)}read(r,i){UG(this,r,i)}write(r,i){return WG(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return Mue.call(this,r,i)}};return t=c([S("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function Mue(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let sg=class extends ZG(ie){};sg=c([S("esri.core.JSONSupport")],sg),function(e){function t(r){return r&&typeof r=="object"&&"toJSON"in r&&typeof r.toJSON=="function"}e.JSONSupportMixin=ZG,e.isSerializable=t}(sg||(sg={}));const N=sg,Aue=Object.prototype.toString;function kue(e){const t="__accessorMetadata__"in e?yt(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Lue.apply(this,r)}}function Lue(e,t,r,i){R6(e,t).cast=i}function Rue(e){return(t,r)=>{R6(t,e).cast=t[r]}}function Oe(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&Aue.call(e[0])==="[object Function]"?kue(e[0]):e.length===1&&typeof e[0]=="string"?Rue(e[0]):void 0}function Y(e,t,r){let i,s;return t===void 0||Array.isArray(t)?(s=e,r=t,i=[void 0]):(s=t,i=Array.isArray(e)?e:[e]),(n,a)=>{const o=n.constructor.prototype;i.forEach(l=>{const d=bG(n,l,s);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=o[a],r&&(d.read.source=(d.read.source||[]).concat(r))})}}function Q(e,t,r){let i,s;return t===void 0?(s=e,i=[void 0]):typeof t!="string"?(s=e,i=[void 0],r=t):(s=t,i=Array.isArray(e)?e:[e]),(n,a)=>{const o=n.constructor.prototype;for(const l of i){const d=bG(n,l,s);d.write&&typeof d.write=="object"||(d.write={}),r&&(d.write.target=r),d.write.writer=o[a]}}}let ye=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Oue(t),this.apiValues=gO(this._apiToJSON),this.jsonValues=gO(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,s,n)=>{const a=this.toJSON(i);a!==void 0&&Ot(n,a,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function Oue(e){const t={};for(const r in e)t[e[r]]=r;return t}function gO(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function ar(){return function(e,t){return new ye(e,{ignoreUnknown:!0,...t})}}let kM=class{constructor(t,r,i,s,n,a){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=s,this.scaleHeight=n;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Bt=new kM(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Go=new kM(3396190,1/169.8944472236118,23e4,6e4,.111),Eu=new kM(1737400,0,0,0,0),Fue=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Pue={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function vO(e){const t=e==null?void 0:e.match(Fue);if(!t)return null;const[,r,i,s]=t;if(!r)return null;let n=null,a=null,o=null;const{devext:l,qaext:d,www:f}=Pue;if(i)if(n=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qa":({customBaseUrl:a,portalHostname:o}=d);break;default:return null}else({customBaseUrl:a,portalHostname:o}=f);else switch(r.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:o}=l);break;case"qaext":({customBaseUrl:a,portalHostname:o}=d);break;case"www":({customBaseUrl:a,portalHostname:o}=f);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:o,urlKey:n}}function Nue(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function JG(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function YG(e){const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer}function Due(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return btoa(r)}const Vue=()=>B.getLogger("esri.core.urlUtils"),Zy=it.request,wO="esri/config: esriConfig.request.proxyUrl is not set.",QG=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,KG=/^\s*http:/i,zue=/^\s*https:/i,jue=/^\s*file:/i,que=/:\d+$/,Bue=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Uue=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Gue=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let lu=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(Uue);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(Gue),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const Iw={},Hue=new lu(it.applicationUrl);let $i=Hue;const Wue=Zue();let LM=Wue;const RM=()=>$i,zUe=()=>LM;function Zue(){const e=$i.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${$i.scheme}://${$i.host}${$i.port!=null?`:${$i.port}`:""}`}${t}`}function Zt(e){if(!e)return null;const t={path:null,query:null},r=new lu(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,i),t.query=OM(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function OM(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const s=i.indexOf("=");let n,a;s<0?(n=decodeURIComponent(i),a=""):(n=decodeURIComponent(i.slice(0,s)),a=decodeURIComponent(i.slice(s+1)));let o=r[n];typeof o=="string"&&(o=r[n]=[o]),Array.isArray(o)?o.push(a):r[n]=a}return r}function yv(e,t){return e?Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const s=encodeURIComponent(r)+"=",n=t==null?void 0:t[r];return n?s+encodeURIComponent(n(i)):Array.isArray(i)?i.map(a=>N.isSerializable(a)?s+encodeURIComponent(JSON.stringify(a)):s+encodeURIComponent(a)).join("&"):N.isSerializable(i)?s+encodeURIComponent(JSON.stringify(i)):s+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function XG(e=!1){let t,r=Zy.proxyUrl;if(typeof e=="string"){t=iH(e);const i=V6(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw Vue().warn(wO),new I("urlUtils:proxy-not-set",wO);return t&&C$()&&(r=VM(r)),Zt(r)}function jUe(e,t=!1){const r=V6(e);let i,s;if(r){const n=FM(r.proxyUrl);i=n.path,s=n.query?OM(n.query):null}else if(t){const n=XG(e);i=n.path,s=n.query}if(i){const n=Zt(e);e=i+"?"+n.path;const a=yv({...s,...n.query});a&&(e=`${e}?${a}`)}return e}const xb={path:"",query:""};function FM(e){const t=e.indexOf("?");return t!==-1?(xb.path=e.slice(0,t),xb.query=e.slice(t+1)):(xb.path=e,xb.query=null),xb}function eH(e){return e=(e=r_(e=sfe(e=FM(e).path),!0)).toLowerCase()}function Jue(e){const t={proxyUrl:e.proxyUrl,urlPrefix:eH(e.urlPrefix)},r=Zy.proxyRules,i=t.urlPrefix;let s=r.length;for(let n=0;n<r.length;n++){const a=r[n].urlPrefix;if(i.indexOf(a)===0){if(i.length===a.length)return-1;s=n;break}a.indexOf(i)===0&&(s=n+1)}return r.splice(s,0,t),s}function V6(e){const t=Zy.proxyRules,r=eH(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function Yue(e,t){if(!e||!t)return!1;e=t_(e),t=t_(t);const r=vO(e),i=vO(t);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&cy(e,t,!0)}function tH(e,t){return e=t_(e),t=t_(t),r_(e)===r_(t)}function t_(e){const t=(e=Bn(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function I$(e,t=Zy.interceptors){const r=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i);if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function cy(e,t,r=!1){if(!e||!t)return!1;const i=A$(e),s=A$(t);return!(!r&&i.scheme!==s.scheme)&&i.host!=null&&s.host!=null&&i.host.toLowerCase()===s.host.toLowerCase()&&i.port===s.port}function PM(e){if(typeof e=="string"){if(!rn(e))return!0;e=A$(e)}if(cy(e,$i))return!0;const t=Zy.trustedServers||[];for(let r=0;r<t.length;r++){const i=Que(t[r]);for(let s=0;s<i.length;s++)if(cy(e,i[s]))return!0}return!1}function Que(e){return Iw[e]||(DM(e)||Zo(e)?Iw[e]=[new lu(xs(e))]:Iw[e]=[new lu(`http://${e}`),new lu(`https://${e}`)]),Iw[e]}function xs(e,t=LM,r){return Zo(e)?r!=null&&r.preserveProtocolRelative?e:$i.scheme==="http"&&$i.authority===tn(e).slice(2)?`http:${e}`:`https:${e}`:DM(e)?e:Qp(e[0]==="/"?ife(t):t,e)}function NM(e,t=LM,r){if(e==null||!rn(e))return e;const i=Bn(e),s=i.toLowerCase(),n=Bn(t).toLowerCase().replace(/\/+$/,""),a=r?Bn(r).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return e;const o=(p,m,y)=>(y=p.indexOf(m,y))===-1?p.length:y;let l=o(s,"/",s.indexOf("//")+2),d=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(d=l+1,l!==s.length);)l=o(s,"/",l+1);if(d===-1||a&&d<a.length)return e;e=i.slice(d);const f=n.slice(d-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let p=0;p<f;p++)e=`../${e}`;else e=`./${e}`;return e}function Bn(e){return e=ofe(e=afe(e=nfe(e=xs(e=e.trim()))))}function Qp(...e){const t=e.filter(It);if(!(t!=null&&t.length))return;const r=[];if(rn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(r.push(s.slice(0,n+1)),tfe(t[0])&&(r[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<i.length;s++){const n=i[s];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&s===i.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function tn(e,t=!1){if(e==null||z6(e)||kc(e))return null;let r=e.indexOf("://");if(r===-1&&Zo(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=r_(e,!0)),e}function rn(e){return Zo(e)||DM(e)}function z6(e){return e!=null&&e.slice(0,5)==="blob:"}function kc(e){return e!=null&&e.slice(0,5)==="data:"}function Kue(e){const t=Kp(e);return t!=null&&t.isBase64?YG(t.data):null}function qUe(e){return Due(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Xue=/^data:(.*?)(;base64)?,(.*)$/;function Kp(e){const t=e.match(Xue);if(!t)return null;const[,r,i,s]=t;return{mediaType:r,isBase64:!!i,data:s}}function rH(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function BUe(e){return(await fetch(e)).blob()}function UUe(e){const t=Kue(e);if(!t)return null;const r=Kp(e);return new Blob([t],{type:r.mediaType})}function Zo(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function DM(e){return e!=null&&QG.test(e)}function iH(e){return e!=null&&zue.test(e)||$i.scheme==="https"&&Zo(e)}function efe(e){return e!=null&&KG.test(e)||$i.scheme==="http"&&Zo(e)}function tfe(e){return e!=null&&jue.test(e)}function VM(e){return Zo(e)?`https:${e}`:e.replace(KG,"https:")}function rfe(){return $i.scheme==="http"}function C$(){return $i.scheme==="https"}function r_(e,t=!1){return Zo(e)?e.slice(2):(e=e.replace(QG,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function ife(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function zM(e){let t=0;if(rn(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function GUe(e,t){if(!e)return"";const r=Zt(e).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return i;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(s,"")}function sfe(e){return e.endsWith("/")?e:`${e}/`}function sH(e){return e.replace(/\/+$/,"")}function nfe(e){if(/^https?:\/\//i.test(e)){const t=FM(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function afe(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function ofe(e){const t=Zy.httpsDomains;if(!efe(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),que.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return rfe()&&i===$i.authority&&!Bue.test(e)||(C$()&&i===$i.authority||t&&t.some(s=>i===s||i.endsWith(`.${s}`))||C$()&&!V6(e))&&(e=VM(e)),e}function M$(e,t,r){if(!(t&&r&&e&&rn(e)))return e;const i=e.indexOf("//"),s=e.indexOf("/",i+2),n=e.indexOf(":",i+2),a=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(i+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(a)}`}function A$(e){return typeof e=="string"?new lu(xs(e)):(e.scheme||(e.scheme=$i.scheme),e)}function HUe(e){return lfe.test(e)}function nH(e,t){const r=Zt(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function aH(e,t,r){const i=Zt(e),s=i.query||{};return s[t]=String(r),`${i.path}?${yv(s)}`}function s9(e,t){if(!t)return e;const r=Zt(e),i=r.query||{};for(const[n,a]of Object.entries(t))a!=null&&(i[n]=a);const s=yv(i);return s?`${r.path}?${s}`:r.path}function WUe(e){if(e==null)return null;const t=e.match(oH);return t?t[2]:null}function _O(e){if(e==null)return null;const t=e.match(oH);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function ZUe(e){return typeof e=="string"?Kp(e)??{data:e}:new Promise((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(Kp(i.result)),i.onerror=s=>r(s)})}const oH=/([^.]*)\.([^/]*)$/,lfe=/(^data:image\/svg|\.svg$)/i,lH="20250407",cH="04d2b42da93678ca718b23aaf7e216985f10fa8e";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const dH="4.32";let Ee,jM=dH;jM="4.32.10";function JUe(e){Ee=e}function cfe(e){const t=Ee==null?void 0:Ee.findCredential(e);return t!=null&&t.token?aH(e,"token",t.token):e}V("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),V("host-webworker");function Tu(e,t){var i;const r=(i=t==null?void 0:t.url)==null?void 0:i.path;if(e&&r&&(e=xs(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=NM(e,t.portalItem.itemUrl);s!=null&&dfe.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return(e=k$(e,t==null?void 0:t.portal))&&j6.test(e)?BM(e):e}function S2(e,t,r=bv.YES){var s,n;if((e=e&&j6.test(e)?fH(e):e)==null)return e;!rn(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let i=xs(e);if(t){const a=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=t.url)==null?void 0:n.path);if(a){const o=k$(a,t.portal),l=k$(i,t.portal);i=NM(l,o,o),i!=null&&i!==l&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=uH(i,t==null?void 0:t.portal),rn(i)&&(i=Bn(i)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!rn(i)&&!kc(i)&&r===bv.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function qM(e,t,r){return Tu(e,r)}function Xp(e,t,r,i){const s=S2(e,i);s!==void 0&&(t[r]=s)}const j6=/\/items\/([^/]+)\/resources\/(.*)/,dfe=/^\.\/resources\//;function ufe(e){const t=(e==null?void 0:e.match(j6))??null;return(t==null?void 0:t[1])??null}function ffe(e){const t=(e==null?void 0:e.match(j6))??null;if(t==null)return null;const r=t[2],i=r.lastIndexOf("/");if(i===-1){const{path:a,extension:o}=_O(r);return{prefix:null,filename:a,extension:o}}const{path:s,extension:n}=_O(r.slice(i+1));return{prefix:r.slice(0,i),filename:s,extension:n}}function uH(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?M$(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function k$(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=RM();return cy(i,`${i.scheme}://${r}`)?M$(e,t.portalHostname,r):M$(e,r,t.portalHostname)}function BM(e){if(!e)return e||null;let t=e;return t&&Ee&&!Ee.findCredential(t)&&(t=JG(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function fH(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Ee&&!Ee.findCredential(t)&&(t=JG(t)),t}var bv;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(bv||(bv={}));const YUe=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return bv},ensureMainOnlineDomain:uH,fromCDNUrl:fH,fromJSON:Tu,itemIdFromResourceUrl:ufe,prefixAndFilenameFromResourceUrl:ffe,read:qM,toCDNUrl:BM,toJSON:S2,write:Xp},Symbol.toStringTag,{value:"Module"})),pH={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},hH=Object.values(pH),mH=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${hH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),pfe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${hH.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),hfe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function QUe(e){return mH.test(e)}function Iu(e){if(e==null)return null;const t=Zt(e),r=(t==null?void 0:t.path.match(mH))||(t==null?void 0:t.path.match(pfe));if(!r)return null;const[,i,s,n,a]=r,o=s.indexOf("/");return{title:UM(o!==-1?s.slice(o+1):s),serverType:pH[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:i}}}function mfe(e){const t=Zt(e).path.match(hfe);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function UM(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function yfe(e,t){const r=[];if(e){const i=Iu(e);i!=null&&i.title&&r.push(i.title)}if(t){const i=UM(t);r.push(i)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function gv(e){let t=tn(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function bfe(e,t){return e&&sH(nH(e,t))}function gfe(e){let{url:t}=e;if(!t)return{url:t};t=nH(t,e.logger);const r=Zt(t),i=Iu(r.path);let s;if(i!=null)i.sublayer!=null&&e.layer.layerId==null&&(s=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const n=mfe(r.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:sH(t),layerId:s}}function vfe(e,t,r,i,s){Xp(t,i,"url",s),i.url&&e.layerId!=null&&(i.url=Qp(i.url,r,e.layerId.toString()))}function KUe(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return r&&(i||s||n)}function XUe(e){var i;if(!e)return!1;const t=new lu(xs(e)),r=(i=t.authority)==null?void 0:i.toLowerCase();return r==="server.arcgisonline.com"||r==="services.arcgisonline.com"}const wfe=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function _fe(e){const t=tn(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!wfe.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function yH(e,t){return!(!it.apiKey||!_fe(e))}function Sfe(e,t,r=!1,i){return new Promise((s,n)=>{if(nn(i))return void n(SO());let a=()=>{d(),n(new Error(`Unable to load ${t}`))},o=()=>{const f=e;d(),s(f)},l=()=>{if(!e)return;const f=e;d(),f.src="",n(SO())};const d=()=>{V("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",o)),a=null,o=null,e=null,i!=null&&i.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};i!=null&&i.addEventListener("abort",l),V("esri-image-decode")?e.decode().then(o,a):(e.addEventListener("error",a),e.addEventListener("load",o))})}function SO(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const bH="Timeout exceeded";function $fe(){return new Error(bH)}function eGe(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===bH}function xfe(e){it.request.crossOriginNoCorsDomains||(it.request.crossOriginNoCorsDomains={});const t=it.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[tn(r)??""]=0:(t[tn("http://"+r)??""]=0,t[tn("https://"+r)??""]=0)}function Efe(e){const t=it.request.crossOriginNoCorsDomains;if(t){let r=tn(e);if(r)return r=r.toLowerCase(),!cy(r,RM())&&t[r]<Date.now()-36e5}return!1}async function Tfe(e){var s;const t=Zt(e);e=t.path,((s=t.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=it.request.crossOriginNoCorsDomains,i=tn(e);r&&i&&(r[i.toLowerCase()]=Date.now())}async function ze(e,t){var y;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=OM(t.query.toString().replaceAll("+"," ")));const r=kc(e),i=z6(e);i||r||(e=Bn(e));const s={url:e,requestOptions:{...t}},n=b=>({data:b,getAllHeaders:dy,getHeader:dy,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),a=I$(e,Rn.internalInterceptors);if(a){const b=await xO(a,s);if(b!=null)return n(b)}let o=I$(e);if(o){const b=await xO(o,s);if(b!=null)return n(b);o.after||o.error||(o=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(V("host-webworker")||V("host-node")))throw qa("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw qa("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||i)throw qa("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await kfe(),i_)return i_.execute(e,t);const l=new AbortController,d=qn(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:o,params:s,redoRequest:!1,useIdentity:Rn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},p=t.useRequestQueue?Pfe(f):R$(f),m=await p.finally(()=>d==null?void 0:d.remove());return(y=o==null?void 0:o.after)==null||y.call(o,m),m}let i_;const Rn=it.request,gH="FormData"in globalThis,Ife=new Set([499,498,403,401]),Cfe=new Set(["COM_0056","COM_0057","SB_0008"]),Mfe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],dy=()=>null,s_=Symbol();function Afe(e){const t=tn(e);t&&!ze._corsServers.includes(t)&&ze._corsServers.push(t)}function $O(e){const t=tn(e);return!t||t.endsWith(".arcgis.com")||ze._corsServers.includes(t)||PM(t)}function qa(e,t,r,i){let s="Error";const n={url:r.url,requestOptions:r.requestOptions,getAllHeaders:dy,getHeader:dy,ssl:!1};if(t instanceof I)return t.details?(t.details=O(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const a=i&&(()=>Array.from(i.headers)),o=i&&(f=>i.headers.get(f)),l=i==null?void 0:i.status,d=t.message;d&&(s=d),a&&o&&(n.getAllHeaders=a,n.getHeader=o),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=s_ in t?t[s_]:t}return fr(t)?mt():new I(e,s,n)}async function kfe(){V("host-webworker")&&!i_&&(i_=await C(()=>import("./request-7-c2q6k6.js"),[]))}async function L$(){Ee||await C(()=>import("./IdentityManager-D5EkCDch.js"),[])}async function Lfe(e){var o;const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,s=r.body;let n=null,a=null;if(gH&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(a=s),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Rn.priority,redirect:"follow",signal:i},(n||a)&&(e.fetchOptions.body=n||a),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(o=r.query)!=null&&o.token||n!=null&&n.get("token")),!e.hasToken&&yH(t)&&(r.query||(r.query={}),r.query.token=it.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!vH(t)&&!nn(i)){let l;r.authMode==="immediate"?(await L$(),l=await Ee.getCredential(t,{signal:i}),e.credential=l):r.authMode==="no-prompt"?(await L$(),l=await Ee.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=l):Ee&&(l=Ee.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function vH(e){return Mfe.some(t=>t.test(e))}async function Rfe(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions??{},s=z6(t)||kc(t),n=r.responseType||"json",a=s?0:r.timeout!=null?r.timeout:Rn.timeout;let o=!1;if(!s){e.useSSL&&(t=VM(t));let m={...r.query};e.credentialToken&&(m.token=e.credentialToken);let y=yv(m);V("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const b=t.length+1+y.length;let g;o=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||b>Rn.maxUrlLength;const v=r.useProxy||!!V6(t);if(v){const w=XG(t);g=w.path,!o&&g.length+1+b>Rn.maxUrlLength&&(o=!0),w.query&&(m={...w.query,...m})}if(i.method==="HEAD"&&(o||v)){if(o)throw b>Rn.maxUrlLength?qa("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):qa("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(v)throw qa("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(o?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=s9(t,m):(i.body=yv(m),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=s9(t,m),v&&(e.useProxy=!0,t=`${g}?${t}`),m.token&&gH&&i.body instanceof FormData&&!Nue(t)&&i.body.set("token",m.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!cy(t,RM())){if(PM(t))e.withCredentials=!0;else if(Ee){const w=Ee.findServerInfo(t);w!=null&&w.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(i.credentials="include",Efe(t)&&await Tfe(o?s9(t,m):t))}let l,d,f=0,p=!1;a>0&&(f=setTimeout(()=>{p=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")d=i,d.url=t,r.signal?d.signal=r.signal:delete d.signal;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||o||Ofe(r.headers)||!s&&!e.useProxy&&Rn.proxyUrl&&!$O(t)){if(ze._beforeFetch&&await ze._beforeFetch(t,i),l=await fetch(t,i),ze._afterFetch&&await ze._afterFetch(l),e.useProxy||Afe(t),r.responseType==="native")d=l;else if(i.method!=="HEAD")if(l.ok){switch(n){case"array-buffer":d=await l.arrayBuffer();break;case"blob":case"image":d=await l.blob();break;default:d=await l.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(d)switch(n){case"json":d=JSON.parse(d);break;case"xml":d=EO(d,"application/xml");break;case"document":d=EO(d,"text/html")}else d=null;if(d){if(n==="array-buffer"||n==="blob"){const m=l.headers.get("Content-Type");if(m&&/application\/json|text\/plain/i.test(m)&&d[n==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(d).json();y.error&&(d=y)}catch{}}n==="image"&&d instanceof Blob&&(d=await TO(URL.createObjectURL(d),e,!0))}}else{d=await l.text();try{d=JSON.parse(d)}catch{}}}else d=await TO(t,e)}catch(m){if(m.name==="AbortError")throw p?$fe():mt("Request canceled");if(!(!l&&m instanceof TypeError&&Rn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||$O(t))throw m;e.redoRequest=!0,Jue({proxyUrl:Rn.proxyUrl,urlPrefix:tn(t)??""})}finally{f&&clearTimeout(f)}return[l,d]}async function xO(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(s){r=qa("request:interceptor",s,t)}if((i instanceof Error||i instanceof I)&&(r=qa("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function Ofe(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function EO(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}ze._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],ze._beforeFetch=void 0,ze._afterFetch=void 0;const Ffe=new Map;async function Pfe(e){const t=Dfe(e.params.url);if(!t)return R$(e);const{QueueProcessor:r}=await C(()=>import("./QueueProcessor-DCWVM0GG.js"),[]);return Uy(Ffe,t.origin,()=>{const s=t.isHosted?V("request-queue-concurrency-hosted"):V("request-queue-concurrency-non-hosted");return new r({concurrency:s,process:n=>{if(nn(n.params.requestOptions))throw qa("",mt("Request canceled"),n.params);return R$(n)}})}).push(e)}async function R$(e){var n,a;let t,r;await Lfe(e);try{do[t,r]=await Rfe(e);while(!await Nfe(e,t,r))}catch(o){const l=qa("request:server",o,e.params,t);throw l.details.ssl=e.useSSL,(n=e.interceptor)!=null&&n.error&&e.interceptor.error(l),l}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&((a=r.user)!=null&&a.username)&&!PM(i)){const o=tn(i,!0);o&&Rn.trustedServers.push(o)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&xfe(r.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Ee){const o=Ee.findServerInfo(s.server);let l=o==null?void 0:o.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const d=Ee.findCredential(l,s.userId);d&&Ee._getIdenticalSvcIdx(l,d)===-1&&d.resources.unshift(l)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):dy,getHeader:t?o=>t.headers.get(o):dy,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Nfe(e,t,r){var d;if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let s,n;if(r&&(r.error&&typeof r.error=="object"?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[s_]=r,s.details=r.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[s_]=r,s;let a,o=null;s&&(n=Number(s.code),o=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a==null?void 0:a.toUpperCase());const l=i.authMode;if(n===403&&(o===4||(d=s.message)!=null&&d.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&Ife.has(n)&&!vH(e.params.url)&&(n!==403||(!a||!Cfe.has(a))&&(o==null||o===2&&e.credentialToken))){await L$();try{const f=await Ee.getCredential(e.params.url,{error:qa("request:server",s,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=f,e.credentialToken=f.token,e.useSSL=e.useSSL||f.ssl,!1}catch(f){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=f}}if(s)throw s;return!0}function TO(e,t,r=!1){const i=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Rn.priority,s.src=e,Sfe(s,e,r,i)}function Dfe(e){let t,r;return typeof e=="string"?(t=tn(e,!0),r=gv(e)):(t=e.origin,r=gv(e.toString())),t==null?null:{origin:t,isHosted:r}}function Et(e){if(!it.assetsPath)throw B.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new I("assets:path-not-set","config.assetsPath is not set");return Qp(it.assetsPath,e)}let B8,F=null;function GM(){return!!F}function Vfe(){return!!V("esri-wasm")}function wH(){return B8||(B8=C(()=>import("./pe-wasm-Co3DzcyP.js"),__vite__mapDeps([113,114])).then(e=>e.p).then(({default:e})=>e({locateFile:t=>Et(`esri/geometry/support/${t}`)})).then(e=>{$H(e)}),B8)}var O$,Rt;(function(e){function t(n,a,o){F.ensureCache.prepare();const l=fp(o),d=o===l,f=F.ensureFloat64(l),p=F._pe_geog_to_proj(F.getPointer(n),a,f);return p&&qd(o,a,f,d),p}function r(n,a,o,l){switch(l){case Rt.PE_TRANSFORM_P_TO_G:return i(n,a,o);case Rt.PE_TRANSFORM_G_TO_P:return t(n,a,o)}return 0}function i(n,a,o){return s(n,a,o,0)}function s(n,a,o,l){F.ensureCache.prepare();const d=fp(o),f=o===d,p=F.ensureFloat64(d),m=F._pe_proj_to_geog_center(F.getPointer(n),a,p,l);return m&&qd(o,a,p,f),m}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=s})(O$||(O$={})),function(e){function t(){e.PE_BUFFER_MAX=F.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=F.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=F.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=F.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=F.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=F.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=F.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=F.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=F.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=F.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=F.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=F.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=F.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=F.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=F.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=F.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=F.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=F.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=F.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=F.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=F.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=F.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=F.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=F.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=F.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=F.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=F.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=F.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=F.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=F.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=F.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=F.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Rt||(Rt={}));let _H=null;var F$;(function(e){const t={},r={},i=y=>{const b=y.getType();switch(b){case Rt.PE_TYPE_GEOGCS:y=F.castObject(y,F.PeGeogcs);break;case Rt.PE_TYPE_PROJCS:y=F.castObject(y,F.PeProjcs);break;case Rt.PE_TYPE_GEOGTRAN:y=F.castObject(y,F.PeGeogtran);break;default:b&Rt.PE_TYPE_UNIT&&(y=F.castObject(y,F.PeUnit))}return y};function s(){F.PeFactory.prototype.initialize(null)}function n(y){return a(Rt.PE_TYPE_COORDSYS,y)}function a(y,b){let g=null,v=t[y];if(v||(v={},t[y]=v),v.hasOwnProperty(String(b))&&(g=v[b],F.compare(g,F.NULL)&&(g=null)),!g){const w=F.PeFactory.prototype.factoryByType(y,b);F.compare(w,F.NULL)||(g=i(w),v[b]=g)}return g}function o(y,b){let g=null,v=r[y];if(v||(v={},r[y]=v),v.hasOwnProperty(b)&&(g=v[b],F.compare(g,F.NULL)&&(g=null)),!g){const w=F.PeFactory.prototype.fromString(y,b);F.compare(w,F.NULL)||(g=i(w),v[b]=g)}return g}function l(y){return a(Rt.PE_TYPE_GEOGCS,y)}function d(y){return a(Rt.PE_TYPE_GEOGTRAN,y)}function f(y){return F.PeFactory.prototype.getCode(y)}function p(y){return a(Rt.PE_TYPE_PROJCS,y)}function m(y){return a(Rt.PE_TYPE_UNIT,y)}e.initialize=s,e.coordsys=n,e.factoryByType=a,e.fromString=o,e.geogcs=l,e.geogtran=d,e.getCode=f,e.projcs=p,e.unit=m})(F$||(F$={}));let SH=null;var n_,P$,N$,D$,V$,z$,a_,j$,o_,l_,q$;function $H(e){function t(n,a,o){n[a]=o(n[a])}F=e,Rt.init(),n_.init(),a_.init(),o_.init(),l_.init(),_H=class extends F.PeDouble{constructor(n=NaN){super(n)}destroy(){F.destroy(this)}[Symbol.dispose](){this.destroy()}},SH=class extends F.PeGCSExtent{destroy(){F.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[F.PeAngunit,F.PeDatum,F.PeGeogcs,F.PeGeogtran,F.PeObject,F.PeParameter,F.PePrimem,F.PeProjcs,F.PeSpheroid,F.PeUnit];for(const n of r)t(n.prototype,"getName",a=>function(){return a.call(this,new Array(Rt.PE_NAME_MAX))});for(const n of[F.PeGeogtran,F.PeProjcs])t(n.prototype,"getParameters",a=>function(){const o=new Array(Rt.PE_PARM_MAX);let l=a.call(this);for(let d=0;d<o.length;d++){const f=F.getValue(l,"*");o[d]=f?F.wrapPointer(f,F.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return o});t(F.PeHorizon.prototype,"getCoord",n=>function(a=!1){const o=this.getSize();if(!o)return null;const l=[];return qd(l,o,n.call(this),a),l}),t(F.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const a=F._pe_getPeGTlistExtendedGTsSize();return function(){let o=null;const l=n.call(this);if(!F.compare(l,F.NULL)){o=[l];const d=this.getSteps();if(d>1){const f=F.getPointer(l);for(let p=1;p<d;p++)o.push(F.wrapPointer(f+a*p,F.PeGTlistExtendedGTs))}}return o}});const i=F._pe_getPeHorizonSize(),s=n=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(n))return a.get(n);let o=null;const l=n.call(this);if(!F.compare(l,F.NULL)){o=[l];const d=l.getNump();if(d>1){const f=F.getPointer(l);for(let p=1;p<d;p++)o.push(F.wrapPointer(f+i*p,F.PeHorizon))}}return a.set(n,o),o};t(F.PeProjcs.prototype,"horizonGcsGenerate",s),t(F.PeProjcs.prototype,"horizonPcsGenerate",s),F.PeObject.prototype.toString=function(n=Rt.PE_STR_OPTS_NONE){F.ensureCache.prepare();const a=F.getPointer(this),o=F.ensureInt8(new Array(Rt.PE_BUFFER_MAX));return F.UTF8ToString(F._pe_object_to_string_ext(a,n,o))},F.PeGeogcs.prototype.destroy=function(){this.Delete(),Aa(this),this.ptr=0},F.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},F.PeProjcs.prototype.destroy=function(){this.Delete(),Aa(this),this.ptr=0},F.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Aa(e){if(!e)return;const t=F.getClass(e);if(!t)return;const r=F.getCache(t);if(!r)return;const i=F.getPointer(e);i&&delete r[i]}function Cw(e,t){const r=[],i=new Array(t);for(let s=0;s<e;s++)r.push(F.ensureInt8(i));return r}function fp(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function qd(e,t,r,i=!1){if(i)for(let s=0;s<2*t;s++)e[s]=F.getValue(r+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=F.getValue(r,"double"),e[n][1]=F.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=F.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=F._pe_getPeGTlistExtendedEntrySize()}function i(s,n,a,o,l,d){let f=null;const p=new F.PeInteger(d);try{const m=F.PeGTlistExtended.prototype.getGTlist(s,n,a,o,l,p);if((d=p.val)&&(f=[m],d>1)){const y=F.getPointer(m);for(let b=1;b<d;b++)f.push(F.wrapPointer(y+t*b,F.PeGTlistExtendedEntry))}}finally{F.destroy(p)}return f}e.init=r,e.getGTlist=i})(n_||(n_={})),function(e){function t(r){if(r!=null&&r.length){for(const i of r)Aa(i),i.getEntries().forEach(s=>{Aa(s);const n=s.getGeogtran();Aa(n),n.getParameters().forEach(Aa),[n.getGeogcs1(),n.getGeogcs2()].forEach(a=>{Aa(a);const o=a.getDatum();Aa(o),Aa(o.getSpheroid()),Aa(a.getPrimem()),Aa(a.getUnit())})});F.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(P$||(P$={})),function(e){function t(r,i,s,n,a){F.ensureCache.prepare();const o=fp(s),l=s===o,d=F.ensureFloat64(o);let f=0;n&&(f=F.ensureFloat64(n));const p=F._pe_geog_to_geog(F.getPointer(r),i,d,f,a);return p&&qd(s,i,d,l),p}e.geogToGeog=t}(N$||(N$={})),function(e){function t(n,a,o,l,d,f,p,m){F.PeLineType.prototype.geodesic_coordinate(n,a,o,l,d,f,p,m)}function r(n,a,o,l,d,f,p,m,y){F.PeLineType.prototype.geodetic_coordinate(n,a,o,l,d,f,p,m,y)}function i(n,a,o,l,d,f,p,m,y,b){F.PeLineType.prototype.geodetic_distance(n,a,o,l,d,f,p,m,y,b)}function s(n,a,o,l,d,f,p,m,y){F.PeLineType.prototype.great_elliptic_distance(n,a,o,l,d,f,p,m,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=i,e.greatEllipticDistance=s}(D$||(D$={})),function(e){function t(a,o){return F.PeMath.prototype.phi_to_eta(a,o)}function r(a,o){return F.PeMath.prototype.eta_to_phi(a,o)}function i(a,o){return F.PeMath.prototype.phi_to_phig(a,o)}function s(a,o,l){return F.PeMath.prototype.q(a,o,l)}function n(a,o){return F.PeMath.prototype.q90(a,o)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=i,e.q=s,e.q90=n}(V$||(V$={})),function(e){const t=(d,f,p,m,y,b)=>{let g,v;switch(F.ensureCache.prepare(),d){case"dd":g=F._pe_geog_to_dd,v=Rt.PE_DD_MAX;break;case"ddm":g=F._pe_geog_to_ddm,v=Rt.PE_DDM_MAX;break;case"dms":g=F._pe_geog_to_dms,v=Rt.PE_DMS_MAX}let w=0;f&&(w=F.getPointer(f));const _=fp(m),x=F.ensureFloat64(_),T=Cw(p,v),k=g(w,p,x,y,F.ensureInt32(T));if(k)for(let A=0;A<p;A++)b[A]=F.UTF8ToString(T[A]);return k},r=(d,f,p,m,y)=>{let b;switch(F.ensureCache.prepare(),d){case"dd":b=F._pe_dd_to_geog;break;case"ddm":b=F._pe_ddm_to_geog;break;case"dms":b=F._pe_dms_to_geog}let g=0;f&&(g=F.getPointer(f));const v=m.map(T=>F.ensureString(T)),w=F.ensureInt32(v),_=F.ensureFloat64(new Array(2*p)),x=b(g,p,w,_);return x&&qd(y,p,_),x};function i(d,f,p,m,y){return t("dms",d,f,p,m,y)}function s(d,f,p,m){return r("dms",d,f,p,m)}function n(d,f,p,m,y){return t("ddm",d,f,p,m,y)}function a(d,f,p,m){return r("ddm",d,f,p,m)}function o(d,f,p,m,y){return t("dd",d,f,p,m,y)}function l(d,f,p,m){return r("dd",d,f,p,m)}e.geogToDms=i,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=a,e.geogToDd=o,e.ddToGeog=l}(z$||(z$={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=F.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=F.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=F.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(s,n,a,o,l,d,f){F.ensureCache.prepare();let p=0;s&&(p=F.getPointer(s));const m=fp(a),y=F.ensureFloat64(m),b=Cw(n,Rt.PE_MGRS_MAX),g=F.ensureInt32(b),v=F._pe_geog_to_mgrs_extended(p,n,y,o,l,d,g);if(v)for(let w=0;w<n;w++)f[w]=F.UTF8ToString(b[w]);return v}function i(s,n,a,o,l){F.ensureCache.prepare();let d=0;s&&(d=F.getPointer(s));const f=a.map(b=>F.ensureString(b)),p=F.ensureInt32(f),m=F.ensureFloat64(new Array(2*n)),y=F._pe_mgrs_to_geog_extended(d,n,p,o,m);return y&&qd(l,n,m),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(a_||(a_={})),function(e){function t(i,s,n,a,o,l,d){F.ensureCache.prepare();let f=0;i&&(f=F.getPointer(i));const p=fp(n),m=F.ensureFloat64(p),y=Cw(s,Rt.PE_MGRS_MAX),b=F.ensureInt32(y),g=F._pe_geog_to_usng(f,s,m,a,o,l,b);if(g)for(let v=0;v<s;v++)d[v]=F.UTF8ToString(y[v]);return g}function r(i,s,n,a){F.ensureCache.prepare();let o=0;i&&(o=F.getPointer(i));const l=n.map(m=>F.ensureString(m)),d=F.ensureInt32(l),f=F.ensureFloat64(new Array(2*s)),p=F._pe_usng_to_geog(o,s,d,f);return p&&qd(a,s,f),p}e.geogToUsng=t,e.usngToGeog=r}(j$||(j$={})),function(e){function t(){e.PE_UTM_OPTS_NONE=F.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=F.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=F.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(s,n,a,o,l){F.ensureCache.prepare();let d=0;s&&(d=F.getPointer(s));const f=fp(a),p=F.ensureFloat64(f),m=Cw(n,Rt.PE_UTM_MAX),y=F.ensureInt32(m),b=F._pe_geog_to_utm(d,n,p,o,y);if(b)for(let g=0;g<n;g++)l[g]=F.UTF8ToString(m[g]);return b}function i(s,n,a,o,l){F.ensureCache.prepare();let d=0;s&&(d=F.getPointer(s));const f=a.map(b=>F.ensureString(b)),p=F.ensureInt32(f),m=F.ensureFloat64(new Array(2*n)),y=F._pe_utm_to_geog(d,n,p,o,m);return y&&qd(l,n,m),y}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(o_||(o_={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=F.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=F.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=F.PePCSInfo.prototype.PE_POLE_POINT}function i(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,o=null;return t.has(s)&&(o=t.get(s),o[n]&&(a=o[n])),a||(a=F.PePCSInfo.prototype.generate(s,n),o||(o=[],t.set(s,o)),o[n]=a),a}e.init=r,e.generate=i}(l_||(l_={})),function(e){function t(){return F.PeVersion.prototype.version_string()}e.versionString=t}(q$||(q$={}));const zfe=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return O$},get PeDefs(){return Rt},get PeDouble(){return _H},get PeFactory(){return F$},get PeGCSExtent(){return SH},get PeGTTransformations(){return N$},get PeGTlistExtended(){return n_},get PeGTlistExtendedEntry(){return P$},get PeLineType(){return D$},get PeMath(){return V$},get PeNotationDms(){return z$},get PeNotationMgrs(){return a_},get PeNotationUsng(){return j$},get PeNotationUtm(){return o_},get PePCSInfo(){return l_},get PeVersion(){return q$},_init:$H,get _pe(){return F},isLoaded:GM,isSupported:Vfe,load:wH},Symbol.toStringTag,{value:"Module"}));var Fn;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Fn||(Fn={}));let h;const E={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)E[h]=0;for(h=2056;h<=2065;h++)E[h]=0;for(h=2067;h<=2135;h++)E[h]=0;for(h=2137;h<=2154;h++)E[h]=0;for(h=2161;h<=2170;h++)E[h]=0;for(h=2172;h<=2193;h++)E[h]=0;for(h=2195;h<=2198;h++)E[h]=0;for(h=2200;h<=2203;h++)E[h]=0;for(h=2205;h<=2217;h++)E[h]=0;for(h=2222;h<=2224;h++)E[h]=1;for(h=2225;h<=2250;h++)E[h]=2;for(h=2251;h<=2253;h++)E[h]=1;for(h=2257;h<=2264;h++)E[h]=2;for(h=2274;h<=2279;h++)E[h]=2;for(h=2280;h<=2282;h++)E[h]=1;for(h=2283;h<=2289;h++)E[h]=2;for(h=2290;h<=2292;h++)E[h]=0;for(h=2308;h<=2313;h++)E[h]=0;for(h=2315;h<=2491;h++)E[h]=0;for(h=2494;h<=2866;h++)E[h]=0;for(h=2867;h<=2869;h++)E[h]=1;for(h=2870;h<=2888;h++)E[h]=2;for(h=2891;h<=2895;h++)E[h]=2;for(h=2896;h<=2898;h++)E[h]=1;for(h=2902;h<=2908;h++)E[h]=2;for(h=2915;h<=2920;h++)E[h]=2;for(h=2921;h<=2923;h++)E[h]=1;for(h=2924;h<=2930;h++)E[h]=2;for(h=2931;h<=2962;h++)E[h]=0;for(h=2964;h<=2968;h++)E[h]=2;for(h=2969;h<=2973;h++)E[h]=0;for(h=2975;h<=2991;h++)E[h]=0;for(h=2995;h<=3051;h++)E[h]=0;for(h=3054;h<=3079;h++)E[h]=0;for(h=3081;h<=3088;h++)E[h]=0;for(h=3092;h<=3101;h++)E[h]=0;for(h=3106;h<=3138;h++)E[h]=0;for(h=3146;h<=3151;h++)E[h]=0;for(h=3153;h<=3166;h++)E[h]=0;for(h=3168;h<=3172;h++)E[h]=0;for(h=3174;h<=3203;h++)E[h]=0;for(h=3294;h<=3358;h++)E[h]=0;for(h=3367;h<=3403;h++)E[h]=0;for(h=3408;h<=3416;h++)E[h]=0;for(h=3417;h<=3438;h++)E[h]=2;for(h=3441;h<=3446;h++)E[h]=2;for(h=3447;h<=3450;h++)E[h]=0;for(h=3451;h<=3459;h++)E[h]=2;for(h=3460;h<=3478;h++)E[h]=0;for(h=3554;h<=3559;h++)E[h]=0;for(h=3560;h<=3570;h++)E[h]=2;for(h=3571;h<=3581;h++)E[h]=0;for(h=3594;h<=3597;h++)E[h]=0;for(h=3601;h<=3604;h++)E[h]=0;for(h=3637;h<=3639;h++)E[h]=0;for(h=3665;h<=3667;h++)E[h]=0;for(h=3693;h<=3695;h++)E[h]=0;for(h=3701;h<=3727;h++)E[h]=0;for(h=3728;h<=3739;h++)E[h]=2;for(h=3740;h<=3751;h++)E[h]=0;for(h=3753;h<=3760;h++)E[h]=2;for(h=3761;h<=3773;h++)E[h]=0;for(h=3775;h<=3777;h++)E[h]=0;for(h=3779;h<=3781;h++)E[h]=0;for(h=3783;h<=3785;h++)E[h]=0;for(h=3788;h<=3791;h++)E[h]=0;for(h=3797;h<=3802;h++)E[h]=0;for(h=3814;h<=3816;h++)E[h]=0;for(h=3825;h<=3829;h++)E[h]=0;for(h=3832;h<=3841;h++)E[h]=0;for(h=3844;h<=3852;h++)E[h]=0;for(h=3873;h<=3885;h++)E[h]=0;for(h=3890;h<=3893;h++)E[h]=0;for(h=3907;h<=3912;h++)E[h]=0;for(h=3942;h<=3950;h++)E[h]=0;for(h=3968;h<=3970;h++)E[h]=0;for(h=3973;h<=3976;h++)E[h]=0;for(h=3986;h<=3989;h++)E[h]=0;for(h=3994;h<=3997;h++)E[h]=0;for(h=4048;h<=4051;h++)E[h]=0;for(h=4056;h<=4063;h++)E[h]=0;for(h=4093;h<=4096;h++)E[h]=0;for(h=4390;h<=4398;h++)E[h]=0;for(h=4399;h<=4413;h++)E[h]=2;for(h=4418;h<=4433;h++)E[h]=2;for(h=4455;h<=4457;h++)E[h]=2;for(h=4484;h<=4489;h++)E[h]=0;for(h=4491;h<=4554;h++)E[h]=0;for(h=4568;h<=4589;h++)E[h]=0;for(h=4652;h<=4656;h++)E[h]=0;for(h=4766;h<=4800;h++)E[h]=0;for(h=5014;h<=5016;h++)E[h]=0;for(h=5069;h<=5072;h++)E[h]=0;for(h=5105;h<=5130;h++)E[h]=0;for(h=5167;h<=5188;h++)E[h]=0;for(h=5253;h<=5259;h++)E[h]=0;for(h=5269;h<=5275;h++)E[h]=0;for(h=5292;h<=5311;h++)E[h]=0;for(h=5329;h<=5331;h++)E[h]=0;for(h=5343;h<=5349;h++)E[h]=0;for(h=5355;h<=5357;h++)E[h]=0;for(h=5387;h<=5389;h++)E[h]=0;for(h=5459;h<=5463;h++)E[h]=0;for(h=5479;h<=5482;h++)E[h]=0;for(h=5518;h<=5520;h++)E[h]=0;for(h=5530;h<=5539;h++)E[h]=0;for(h=5550;h<=5552;h++)E[h]=0;for(h=5562;h<=5583;h++)E[h]=0;for(h=5623;h<=5625;h++)E[h]=2;for(h=5631;h<=5639;h++)E[h]=0;for(h=5649;h<=5653;h++)E[h]=0;for(h=5663;h<=5680;h++)E[h]=0;for(h=5682;h<=5685;h++)E[h]=0;for(h=5875;h<=5877;h++)E[h]=0;for(h=5896;h<=5899;h++)E[h]=0;for(h=5921;h<=5940;h++)E[h]=0;for(h=6050;h<=6125;h++)E[h]=0;for(h=6244;h<=6275;h++)E[h]=0;for(h=6328;h<=6348;h++)E[h]=0;for(h=6350;h<=6356;h++)E[h]=0;for(h=6366;h<=6372;h++)E[h]=0;for(h=6381;h<=6387;h++)E[h]=0;for(h=6393;h<=6404;h++)E[h]=0;for(h=6480;h<=6483;h++)E[h]=0;for(h=6511;h<=6514;h++)E[h]=0;for(h=6579;h<=6581;h++)E[h]=0;for(h=6619;h<=6624;h++)E[h]=0;for(h=6625;h<=6627;h++)E[h]=2;for(h=6628;h<=6632;h++)E[h]=0;for(h=6634;h<=6637;h++)E[h]=0;for(h=6669;h<=6692;h++)E[h]=0;for(h=6707;h<=6709;h++)E[h]=0;for(h=6720;h<=6723;h++)E[h]=0;for(h=6732;h<=6738;h++)E[h]=0;for(h=6931;h<=6933;h++)E[h]=0;for(h=6956;h<=6959;h++)E[h]=0;for(h=7005;h<=7007;h++)E[h]=0;for(h=7057;h<=7070;h++)E[h]=2;for(h=7074;h<=7082;h++)E[h]=0;for(h=7109;h<=7118;h++)E[h]=0;for(h=7119;h<=7127;h++)E[h]=1;for(h=7374;h<=7376;h++)E[h]=0;for(h=7528;h<=7586;h++)E[h]=0;for(h=7587;h<=7645;h++)E[h]=2;for(h=7692;h<=7696;h++)E[h]=0;for(h=7755;h<=7787;h++)E[h]=0;for(h=7791;h<=7795;h++)E[h]=0;for(h=7799;h<=7801;h++)E[h]=0;for(h=7803;h<=7805;h++)E[h]=0;for(h=7825;h<=7831;h++)E[h]=0;for(h=7845;h<=7859;h++)E[h]=0;for(h=8013;h<=8032;h++)E[h]=0;for(h=8065;h<=8068;h++)E[h]=1;for(h=8518;h<=8529;h++)E[h]=2;for(h=8533;h<=8536;h++)E[h]=2;for(h=8538;h<=8540;h++)E[h]=2;for(h=8677;h<=8679;h++)E[h]=0;for(h=8836;h<=8840;h++)E[h]=0;for(h=8857;h<=8859;h++)E[h]=0;for(h=8908;h<=8910;h++)E[h]=0;for(h=9154;h<=9159;h++)E[h]=0;for(h=9205;h<=9218;h++)E[h]=0;for(h=9271;h<=9273;h++)E[h]=0;for(h=9295;h<=9297;h++)E[h]=0;for(h=9356;h<=9360;h++)E[h]=0;for(h=9404;h<=9407;h++)E[h]=0;for(h=9476;h<=9482;h++)E[h]=0;for(h=9487;h<=9494;h++)E[h]=0;for(h=9697;h<=9699;h++)E[h]=0;for(h=9821;h<=9865;h++)E[h]=0;for(h=10285;h<=10291;h++)E[h]=0;for(h=10314;h<=10317;h++)E[h]=0;for(h=10448;h<=10465;h++)E[h]=0;for(h=10731;h<=10733;h++)E[h]=0;for(h=11114;h<=11118;h++)E[h]=0;for(h=20004;h<=20032;h++)E[h]=0;for(h=20047;h<=20049;h++)E[h]=0;for(h=20062;h<=20092;h++)E[h]=0;for(h=20135;h<=20138;h++)E[h]=0;for(h=20248;h<=20258;h++)E[h]=0;for(h=20348;h<=20358;h++)E[h]=0;for(h=20436;h<=20440;h++)E[h]=0;for(h=20822;h<=20824;h++)E[h]=0;for(h=20904;h<=20932;h++)E[h]=0;for(h=20934;h<=20936;h++)E[h]=0;for(h=21004;h<=21032;h++)E[h]=0;for(h=21035;h<=21037;h++)E[h]=0;for(h=21095;h<=21097;h++)E[h]=0;for(h=21148;h<=21150;h++)E[h]=0;for(h=21207;h<=21264;h++)E[h]=0;for(h=21307;h<=21364;h++)E[h]=0;for(h=21413;h<=21423;h++)E[h]=0;for(h=21453;h<=21463;h++)E[h]=0;for(h=21473;h<=21483;h++)E[h]=0;for(h=21780;h<=21782;h++)E[h]=0;for(h=21891;h<=21894;h++)E[h]=0;for(h=21896;h<=21899;h++)E[h]=0;for(h=22171;h<=22177;h++)E[h]=0;for(h=22181;h<=22187;h++)E[h]=0;for(h=22191;h<=22197;h++)E[h]=0;for(h=22207;h<=22222;h++)E[h]=0;for(h=22229;h<=22232;h++)E[h]=0;for(h=22234;h<=22236;h++)E[h]=0;for(h=22243;h<=22250;h++)E[h]=0;for(h=22262;h<=22265;h++)E[h]=0;for(h=22307;h<=22322;h++)E[h]=0;for(h=22348;h<=22357;h++)E[h]=0;for(h=22407;h<=22422;h++)E[h]=0;for(h=22462;h<=22465;h++)E[h]=0;for(h=22521;h<=22525;h++)E[h]=0;for(h=22607;h<=22622;h++)E[h]=0;for(h=22641;h<=22646;h++)E[h]=0;for(h=22648;h<=22657;h++)E[h]=0;for(h=22707;h<=22722;h++)E[h]=0;for(h=22762;h<=22765;h++)E[h]=0;for(h=22807;h<=22822;h++)E[h]=0;for(h=22991;h<=22994;h++)E[h]=0;for(h=23028;h<=23038;h++)E[h]=0;for(h=23301;h<=23333;h++)E[h]=2;for(h=23830;h<=23853;h++)E[h]=0;for(h=23866;h<=23872;h++)E[h]=0;for(h=23877;h<=23884;h++)E[h]=0;for(h=23886;h<=23894;h++)E[h]=0;for(h=23946;h<=23948;h++)E[h]=0;for(h=24311;h<=24313;h++)E[h]=0;for(h=24342;h<=24347;h++)E[h]=0;for(h=24370;h<=24374;h++)E[h]=10;for(h=24375;h<=24381;h++)E[h]=0;for(h=24718;h<=24721;h++)E[h]=0;for(h=24817;h<=24821;h++)E[h]=0;for(h=24877;h<=24882;h++)E[h]=0;for(h=24891;h<=24893;h++)E[h]=0;for(h=25391;h<=25395;h++)E[h]=0;for(h=25828;h<=25838;h++)E[h]=0;for(h=26191;h<=26195;h++)E[h]=0;for(h=26391;h<=26393;h++)E[h]=0;for(h=26701;h<=26722;h++)E[h]=0;for(h=26729;h<=26799;h++)E[h]=2;for(h=26801;h<=26803;h++)E[h]=2;for(h=26811;h<=26813;h++)E[h]=2;for(h=26847;h<=26870;h++)E[h]=2;for(h=26891;h<=26899;h++)E[h]=0;for(h=26901;h<=26923;h++)E[h]=0;for(h=26929;h<=26946;h++)E[h]=0;for(h=26948;h<=26998;h++)E[h]=0;for(h=27037;h<=27040;h++)E[h]=0;for(h=27205;h<=27232;h++)E[h]=0;for(h=27258;h<=27260;h++)E[h]=0;for(h=27391;h<=27398;h++)E[h]=0;for(h=27561;h<=27564;h++)E[h]=0;for(h=27571;h<=27574;h++)E[h]=0;for(h=27581;h<=27584;h++)E[h]=0;for(h=27591;h<=27594;h++)E[h]=0;for(h=27700;h<=27707;h++)E[h]=0;for(h=28191;h<=28193;h++)E[h]=0;for(h=28348;h<=28358;h++)E[h]=0;for(h=28402;h<=28432;h++)E[h]=0;for(h=28462;h<=28492;h++)E[h]=0;for(h=29118;h<=29122;h++)E[h]=0;for(h=29168;h<=29172;h++)E[h]=0;for(h=29177;h<=29185;h++)E[h]=0;for(h=29187;h<=29195;h++)E[h]=0;for(h=29900;h<=29903;h++)E[h]=0;for(h=30161;h<=30179;h++)E[h]=0;for(h=30491;h<=30494;h++)E[h]=0;for(h=30729;h<=30732;h++)E[h]=0;for(h=31251;h<=31259;h++)E[h]=0;for(h=31265;h<=31268;h++)E[h]=0;for(h=31275;h<=31279;h++)E[h]=0;for(h=31281;h<=31297;h++)E[h]=0;for(h=31461;h<=31469;h++)E[h]=0;for(h=31491;h<=31495;h++)E[h]=0;for(h=31917;h<=31922;h++)E[h]=0;for(h=31965;h<=32e3;h++)E[h]=0;for(h=32001;h<=32003;h++)E[h]=2;for(h=32005;h<=32031;h++)E[h]=2;for(h=32033;h<=32060;h++)E[h]=2;for(h=32064;h<=32067;h++)E[h]=2;for(h=32074;h<=32077;h++)E[h]=2;for(h=32081;h<=32086;h++)E[h]=0;for(h=32107;h<=32130;h++)E[h]=0;for(h=32133;h<=32159;h++)E[h]=0;for(h=32164;h<=32167;h++)E[h]=2;for(h=32180;h<=32199;h++)E[h]=0;for(h=32201;h<=32260;h++)E[h]=0;for(h=32301;h<=32360;h++)E[h]=0;for(h=32401;h<=32460;h++)E[h]=0;for(h=32501;h<=32560;h++)E[h]=0;for(h=32601;h<=32662;h++)E[h]=0;for(h=32664;h<=32667;h++)E[h]=2;for(h=32701;h<=32761;h++)E[h]=0;for(h=53001;h<=53004;h++)E[h]=0;for(h=53008;h<=53019;h++)E[h]=0;for(h=53021;h<=53032;h++)E[h]=0;for(h=53034;h<=53037;h++)E[h]=0;for(h=53042;h<=53046;h++)E[h]=0;for(h=53074;h<=53080;h++)E[h]=0;for(h=54001;h<=54004;h++)E[h]=0;for(h=54008;h<=54019;h++)E[h]=0;for(h=54021;h<=54032;h++)E[h]=0;for(h=54034;h<=54037;h++)E[h]=0;for(h=54042;h<=54046;h++)E[h]=0;for(h=54048;h<=54053;h++)E[h]=0;for(h=54074;h<=54080;h++)E[h]=0;for(h=54098;h<=54101;h++)E[h]=0;for(h=102001;h<=102040;h++)E[h]=0;for(h=102042;h<=102063;h++)E[h]=0;for(h=102065;h<=102067;h++)E[h]=0;for(h=102070;h<=102117;h++)E[h]=0;for(h=102122;h<=102216;h++)E[h]=0;for(h=102221;h<=102377;h++)E[h]=0;for(h=102382;h<=102388;h++)E[h]=0;for(h=102389;h<=102398;h++)E[h]=2;for(h=102399;h<=102444;h++)E[h]=0;for(h=102445;h<=102447;h++)E[h]=2;for(h=102448;h<=102458;h++)E[h]=0;for(h=102459;h<=102468;h++)E[h]=2;for(h=102469;h<=102499;h++)E[h]=0;for(h=102500;h<=102519;h++)E[h]=1;for(h=102520;h<=102524;h++)E[h]=0;for(h=102525;h<=102529;h++)E[h]=2;for(h=102530;h<=102588;h++)E[h]=0;for(h=102590;h<=102598;h++)E[h]=0;for(h=102601;h<=102603;h++)E[h]=0;for(h=102605;h<=102628;h++)E[h]=0;for(h=102629;h<=102646;h++)E[h]=2;for(h=102648;h<=102700;h++)E[h]=2;for(h=102701;h<=102703;h++)E[h]=0;for(h=102707;h<=102730;h++)E[h]=2;for(h=102733;h<=102758;h++)E[h]=2;for(h=102767;h<=102900;h++)E[h]=0;for(h=102901;h<=102933;h++)E[h]=2;for(h=102934;h<=102950;h++)E[h]=13;for(h=102951;h<=102963;h++)E[h]=0;for(h=102965;h<=102969;h++)E[h]=0;for(h=102971;h<=102973;h++)E[h]=0;for(h=102975;h<=102989;h++)E[h]=0;for(h=102990;h<=102992;h++)E[h]=1;for(h=102997;h<=103002;h++)E[h]=0;for(h=103003;h<=103008;h++)E[h]=2;for(h=103009;h<=103011;h++)E[h]=0;for(h=103012;h<=103014;h++)E[h]=2;for(h=103019;h<=103021;h++)E[h]=0;for(h=103022;h<=103024;h++)E[h]=2;for(h=103029;h<=103031;h++)E[h]=0;for(h=103032;h<=103034;h++)E[h]=2;for(h=103065;h<=103068;h++)E[h]=0;for(h=103074;h<=103076;h++)E[h]=0;for(h=103077;h<=103079;h++)E[h]=1;for(h=103080;h<=103082;h++)E[h]=0;for(h=103083;h<=103085;h++)E[h]=2;for(h=103090;h<=103093;h++)E[h]=0;for(h=103097;h<=103099;h++)E[h]=0;for(h=103100;h<=103102;h++)E[h]=2;for(h=103107;h<=103109;h++)E[h]=0;for(h=103110;h<=103112;h++)E[h]=2;for(h=103113;h<=103116;h++)E[h]=0;for(h=103117;h<=103120;h++)E[h]=2;for(h=103153;h<=103157;h++)E[h]=0;for(h=103158;h<=103162;h++)E[h]=2;for(h=103163;h<=103165;h++)E[h]=0;for(h=103166;h<=103168;h++)E[h]=1;for(h=103169;h<=103171;h++)E[h]=2;for(h=103186;h<=103188;h++)E[h]=0;for(h=103189;h<=103191;h++)E[h]=2;for(h=103192;h<=103195;h++)E[h]=0;for(h=103196;h<=103199;h++)E[h]=2;for(h=103200;h<=103224;h++)E[h]=0;for(h=103225;h<=103227;h++)E[h]=1;for(h=103232;h<=103237;h++)E[h]=0;for(h=103238;h<=103243;h++)E[h]=2;for(h=103244;h<=103246;h++)E[h]=0;for(h=103247;h<=103249;h++)E[h]=2;for(h=103254;h<=103256;h++)E[h]=0;for(h=103257;h<=103259;h++)E[h]=2;for(h=103264;h<=103266;h++)E[h]=0;for(h=103267;h<=103269;h++)E[h]=2;for(h=103300;h<=103375;h++)E[h]=0;for(h=103381;h<=103383;h++)E[h]=0;for(h=103384;h<=103386;h++)E[h]=1;for(h=103387;h<=103389;h++)E[h]=0;for(h=103390;h<=103392;h++)E[h]=2;for(h=103397;h<=103399;h++)E[h]=0;for(h=103400;h<=103471;h++)E[h]=2;for(h=103476;h<=103478;h++)E[h]=0;for(h=103479;h<=103481;h++)E[h]=2;for(h=103486;h<=103488;h++)E[h]=0;for(h=103489;h<=103491;h++)E[h]=2;for(h=103492;h<=103495;h++)E[h]=0;for(h=103496;h<=103499;h++)E[h]=2;for(h=103528;h<=103543;h++)E[h]=0;for(h=103544;h<=103548;h++)E[h]=2;for(h=103549;h<=103551;h++)E[h]=0;for(h=103552;h<=103554;h++)E[h]=1;for(h=103555;h<=103557;h++)E[h]=2;for(h=103558;h<=103560;h++)E[h]=0;for(h=103571;h<=103573;h++)E[h]=0;for(h=103574;h<=103576;h++)E[h]=2;for(h=103577;h<=103580;h++)E[h]=0;for(h=103581;h<=103583;h++)E[h]=2;for(h=103595;h<=103694;h++)E[h]=0;for(h=103696;h<=103699;h++)E[h]=0;for(h=103700;h<=103793;h++)E[h]=2;for(h=103794;h<=103890;h++)E[h]=0;for(h=103891;h<=103896;h++)E[h]=2;for(h=103900;h<=103971;h++)E[h]=2;for(h=103972;h<=103977;h++)E[h]=0;for(h=112e3;h<=112101;h++)E[h]=0;const xH=[102100,102113,3857,3785,900913],jfe=[104905,104971],qfe=[4326,...xH,...jfe],vv=[-20037508342788905e-9,20037508342788905e-9],B$=[-20037508342787e-6,20037508342787e-6],U8={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:vv,origin:B$,dx:1e-5},EH={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:vv,origin:B$,dx:1e-5},102100:U8,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:vv,origin:B$,dx:1e-5},3857:U8,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:U8};function Nt(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,i=t.wkid;if(r!=null||i!=null){if(r===i||on(e)&&on(t))return!0;const a=e.latestWkid;if(a!=null&&i===a)return!0;const o=t.latestWkid;return o!=null&&r===o}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Ti(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&EH[t]||null}function uy(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function zu(e){if(!Yi(e))return!1;const{wkid:t}=e;if(t)return E[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function Bfe(e){return!(HM(e)||WM(e))}function Cu(e){return(e==null?void 0:e.wkid)===4326}function tGe(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function U$(e){return(e==null?void 0:e.wkid)===Fn.CGCS2000}function on(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&xH.includes(t)}function Ufe(e){return(e==null?void 0:e.wkid)===32662}function q6(e){return e===Fn.GCSMARS2000||e===Fn.GCSMARS2000_SPHERE}function HM(e){return q6(e==null?void 0:e.wkid)}function B6(e){return e===Fn.GCSMOON2000}function WM(e){return B6(e==null?void 0:e.wkid)}function TH(e){const t=e==null?void 0:e.wkid;return t!=null&&t>=2e3&&qfe.includes(t)}function Yi(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const c_={wkid:4326,wkt:Ga(EH[4326].wkTemplate,{Central_Meridian:"0.0"})},IH={wkid:102100,latestWkid:3857},Gfe={wkid:32662};function ZM(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Hfe=ZM(Bt),JM=ZM(Go),YM=ZM(Eu),Wfe={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Bt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Zfe=JM.wkt.toUpperCase(),Jfe=YM.wkt.toUpperCase();function Yfe(e){if(e!=null&&Yi(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(q6(t))return Go;const i=r==null?void 0:r.toUpperCase();if(r&&i===Zfe)return Go;if(B6(t)||i&&i===Jfe)return Eu}return Bt}function rGe(e){return q6(e)?Go:B6(e)?Eu:Bt}function d_(e){return Nt(e,Hfe)}function Mu(e){return d_(e)||Nt(e,JM)||Nt(e,YM)}const QM=39.37,Qfe=Bt.radius*Math.PI/200,CH=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,fy=E,MH=/UNIT\[([^\]]+)]/i,Kfe=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Xfe=ar()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),ea=e=>e*e,jc=e=>e*e*e,wv={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ea(.001)},"square-centimeters":{inBaseUnits:ea(.01)},"square-decimeters":{inBaseUnits:ea(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ea(1e3)},"square-inches":{inBaseUnits:ea(.0254)},"square-feet":{inBaseUnits:ea(.3048)},"square-yards":{inBaseUnits:ea(.9144)},"square-miles":{inBaseUnits:ea(1609.344)},"square-nautical-miles":{inBaseUnits:ea(1852)},"square-us-feet":{inBaseUnits:ea(1200/3937)},acres:{inBaseUnits:.0015625*ea(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*jc(.001)},"cubic-centimeters":{inBaseUnits:1e3*jc(.01)},"cubic-decimeters":{inBaseUnits:1e3*jc(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*jc(1e3)},"cubic-inches":{inBaseUnits:1e3*jc(.0254)},"cubic-feet":{inBaseUnits:1e3*jc(.3048)},"cubic-yards":{inBaseUnits:1e3*jc(.9144)},"cubic-miles":{inBaseUnits:1e3*jc(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},epe=(()=>{const e={};for(const t in wv)for(const r in wv[t].units)e[r]=t;return e})();function tpe(e,t,r){return e*wv[r].units[t].inBaseUnits}function rpe(e,t,r){return e/wv[r].units[t].inBaseUnits}const AH=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],ipe=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function eh(e){const t=epe[e];if(!t)throw new Error("unknown type");return t}function IO(e,t=null){return t=t||eh(e),wv[t].baseUnit===e}function Ze(e,t,r){if(t===r)return e;const i=eh(t);if(i!==eh(r))throw new Error("incompatible units");const s=IO(t,i)?e:tpe(e,t,i);return IO(r,i)?s:rpe(s,r,i)}function iGe(e,t,r,i=!1){if(!i&&zu(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=ju(t);return s!==r&&(e=s?Ze(e,s,r):Ze(e*=Rs(t),"meters",r)),e}function sGe(e,t,r,i=!1){if(!i&&zu(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=ju(r);return t!==s&&(e=s?Ze(e,t,s):Ze(e,t,"meters")/Rs(r)),e}function spe(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function nGe(e){return spe(e)}function aGe(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function kH(e,t){const r=Ze(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function LH(e,t){const r=Ze(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function RH(e,t){const r=Ze(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function OH(e,t){const r=Ze(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function npe(e,t){const r=Ze(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function ape(e,t){const r=Ze(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function ope(e,t,r){return Ze(e,t,"meters")/(r*Math.PI/180)}function KM(e){return Xfe.fromJSON(e.toLowerCase())||null}function py(e){if(e!=null&&!Bfe(e))return 1;const t=Rs(e);return t>1e5?1:t}function FH(e){return Rs(e)>=Yfe(e).metersPerDegree?"meters":ju(e)}function Rs(e,t=Bt.metersPerDegree){return lpe(e,!0)??t}function lpe(e,t=!1){const r=(e==null?void 0:e.wkid)??null,i=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(r){if(q6(r))return Go.metersPerDegree;if(B6(r))return Eu.metersPerDegree;s=fy.values[fy[r]],!s&&t&&Kfe.has(r)&&(s=Qfe)}else i&&(DH(i)?s=CO(CH.exec(i),s):NH(i)&&(s=CO(MH.exec(i),s)));return s}function oGe(e){return zu(e)?1:Rs(e)}function CO(e,t){return e!=null&&e[1]?PH(e[1]):t}function PH(e){return parseFloat(e.split(",")[1])}function ju(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let i=null;if(t)i=fy.units[fy[t]];else if(r){const s=DH(r)?CH:NH(r)?MH:null;if(s){const n=s.exec(r);n!=null&&n[1]&&(i=dpe(n[1]))}}return i!=null?KM(i):null}function lGe(e){const t=ju(e);return t!=null&&AH.includes(t)?t:null}function cGe(e){const t=FH(e);return t!=null&&AH.includes(t)?t:null}function dGe(e){const t=ju(e);return t==null?null:ipe.get(t)}function NH(e){return/^GEOCCS/i.test(e)}function DH(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const cpe=1e-7;function dpe(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!KM(r)){const i=PH(e);r=null;const s=fy.values;for(let n=0;n<s.length;++n)if(Math.abs(i-s[n])<cpe){r=fy.units[n];break}}return r}function uGe(e){const t=ju(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const upe={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},fpe={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},ppe={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},hpe=ar()(upe),mpe=ar()(fpe),fGe=ar()(ppe);var so;let ct=so=class extends N{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return so.WebMercator;if((e==null?void 0:e.wkid)===4326)return so.WGS84;const t=new so;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Cu(this)}get isWebMercator(){return on(this)}get isGeographic(){return zu(this)}get isWrappable(){return TH(this)}get metersPerUnit(){return Rs(this)}get unit(){return ju(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===so.WGS84)return new so(c_);if(this===so.WebMercator)return new so(IH);const e=new so;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=O(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||i?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):r?s.id===t&&s.referenceServiceName===r:s.id===t}return Nt(this,e)}toJSON(e){return this.write(void 0,e)}};ct.GCS_NAD_1927=null,ct.WGS84=null,ct.WebMercator=null,ct.PlateCarree=null,c([u({readOnly:!0})],ct.prototype,"isWGS84",null),c([u({readOnly:!0})],ct.prototype,"isWebMercator",null),c([u({readOnly:!0})],ct.prototype,"isGeographic",null),c([u({readOnly:!0})],ct.prototype,"isWrappable",null),c([u({type:Ve,json:{write:!0}})],ct.prototype,"latestWkid",void 0),c([u({readOnly:!0})],ct.prototype,"metersPerUnit",null),c([u({readOnly:!0})],ct.prototype,"unit",null),c([u({type:Ve,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],ct.prototype,"wkid",void 0),c([u({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],ct.prototype,"wkt",void 0),c([Q("wkt"),Q("web-scene","wkt")],ct.prototype,"writeWkt",null),c([u({type:String,json:{write:!1}})],ct.prototype,"wkt2",void 0),c([u({type:Ve,json:{write:!0}})],ct.prototype,"vcsWkid",void 0),c([u({type:Ve,json:{write:!0}})],ct.prototype,"latestVcsWkid",void 0),c([u()],ct.prototype,"imageCoordinateSystem",void 0),ct=so=c([S("esri.geometry.SpatialReference")],ct),ct.prototype.toJSON.isDefaultToJSON=!0,ct.GCS_NAD_1927=ie.freeze(new ct({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),ct.WGS84=ie.freeze(new ct(c_)),ct.WebMercator=ie.freeze(new ct(IH)),ct.PlateCarree=ie.freeze(new ct(Gfe));const me=ct;let no=class extends N{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=me.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof me)return t;if(t!=null){const i=new me;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};c([u()],no.prototype,"type",void 0),c([u({readOnly:!0})],no.prototype,"cache",null),c([u({readOnly:!0})],no.prototype,"extent",null),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],no.prototype,"hasM",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],no.prototype,"hasZ",void 0),c([u({type:me,json:{write:!0},value:me.WGS84})],no.prototype,"spatialReference",void 0),c([Y("spatialReference")],no.prototype,"readSpatialReference",null),no=c([S("esri.geometry.Geometry")],no);const Lc=no;function hy(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new I("Mesh geometries are not supported for this operation")}function ype(e){e.forEach(hy)}const bpe=57.29577951308232,gpe=.017453292519943;function MO(e){return e*bpe}function AO(e){return e*gpe}function kO(e){return e/Bt.radius}function LO(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Bt.radius))}function G$(e){return e.wkid!=null||e.wkt!=null}const G8=[0,0];function u_(e,t,r,i,s){const n=e,a=s;if(a.spatialReference=r,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,G8,i);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,G8,i),[a.xmax,a.ymax]=t(n.xmax,n.ymax,G8,i);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const o="paths"in n?n.paths:n.rings,l=[];let d;for(let f=0;f<o.length;f++){const p=o[f];d=[],l.push(d);for(let m=0;m<p.length;m++)d.push(t(p[m][0],p[m][1],[0,0],i)),p[m].length>2&&d[m].push(p[m][2]),p[m].length>3&&d[m].push(p[m][3])}"paths"in a?a.paths=l:a.rings=l}else if("points"in n&&"points"in a){const o=n.points,l=[];for(let d=0;d<o.length;d++)l[d]=t(o[d][0],o[d][1],[0,0],i),o[d].length>2&&l[d].push(o[d][2]),o[d].length>3&&l[d].push(o[d][3]);a.points=l}return s}function A0(e,t){const r=e&&(G$(e)?e:e.spatialReference),i=t&&(G$(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!Nt(i,r)||on(i)&&Cu(r)||on(r)&&Cu(i))}function U6(e,t){if(e==null)return null;const r=e.spatialReference,i=t&&(G$(t)?t:t.spatialReference);return A0(r,i)?Nt(r,i)?O(e):on(i)?u_(e,wp,me.WebMercator,!1,O(e)):Cu(i)?u_(e,$2,me.WGS84,!1,O(e)):null:null}function wp(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=AO(t);return r[0]=AO(e)*Bt.radius,r[1]=Bt.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function $2(e,t,r=[0,0],i=!1){if(e===vv[0])r[0]=-180;else if(e===vv[1])r[0]=180;else{const s=MO(e/Bt.radius);r[0]=i?s:s-360*Math.floor((s+180)/360)}return r[1]=MO(Math.PI/2-2*Math.atan(Math.exp(-t/Bt.radius))),r}function cu(e,t=!1,r=O(e)){return hy(e),hy(r),u_(e,wp,me.WebMercator,t,r)}function f0(e,t=!1,r=O(e)){return hy(e),hy(r),u_(e,$2,me.WGS84,t,r)}function VH(e,t){const r=e.x-t.x,i=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+i*i+s*s)}function vpe(e){var t;return((t=zH(e,jH))==null?void 0:t[0])??null}function wpe(e){var t;return((t=zH(e,jH))==null?void 0:t[1])??null}function zH({x:e,y:t,spatialReference:r},i=[0,0]){if(r){if(on(r))return $2(e,t,i);if(zu(r))return i[0]=e,i[1]=t,i}return null}const jH=[0,0];var n9;const H8=[0,0];function RO(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Fi=n9=class extends Lc{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",ie.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],r=n[2],i=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,r=n.z,i=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new me(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)B.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)B.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const o=wp(n.longitude,n.latitude,H8);e=o[0],t=o[1]}}}else RO(r)?(s=r,r=null):RO(i)&&(s=i,i=null);const a={x:e,y:t};return a.x==null&&a.y!=null?B.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&B.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(a.spatialReference=s),r!=null&&(a.z=r),i!=null&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return wpe(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",wp(r,e,H8)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return vpe(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",wp(e,t,H8)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new n9;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return n9.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:i,m:s,spatialReference:n}=this,{z:a,m:o}=e;let{x:l,y:d,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,d]=wp(l,d),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,d]=$2(l,d),f=n}return t===l&&r===d&&i===a&&s===o&&n.wkid===f.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Ti(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,s=2*i;let n;return t>i?(n=Math.ceil(Math.abs(t-i)/s),t-=n*s):t<r&&(n=Math.ceil(Math.abs(t-r)/s),t+=n*s),this._set("x",t),this}distance(e){return VH(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([u({readOnly:!0})],Fi.prototype,"cache",null),c([u({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Fi.prototype,"hasM",null),c([u({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Fi.prototype,"hasZ",null),c([u({type:Number})],Fi.prototype,"latitude",null),c([u({type:Number})],Fi.prototype,"longitude",null),c([u({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Oe(e=>isNaN(e)?e:Zi(e))],Fi.prototype,"x",void 0),c([Q("x")],Fi.prototype,"writeX",null),c([Y("x")],Fi.prototype,"readX",null),c([u({type:Number,json:{write:!0}})],Fi.prototype,"y",void 0),c([u({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Fi.prototype,"z",void 0),c([u({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Fi.prototype,"m",void 0),Fi=n9=c([S("esri.geometry.Point")],Fi),Fi.prototype.toJSON.isDefaultToJSON=!0;const xe=Fi;let ao=class extends _e.ClonableMixin(N){constructor(...t){super(...t),this.position=new xe([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new FG}normalizeCtorArgs(t,r,i,s){if(t&&typeof t=="object"&&("x"in t||Array.isArray(t))){const n={position:t};return r!=null&&(n.heading=r),i!=null&&(n.tilt=i),s!=null&&(n.fov=s),n}return t}writePosition(t,r,i,s){const n=t.clone();n.x=Zi(t.x||0),n.y=Zi(t.y||0),n.z=t.hasZ?Zi(t.z||0):t.z,r[i]=n.write({},s)}readPosition(t,r){const i=new xe;return i.read(t,r),i.x=Zi(i.x||0),i.y=Zi(i.y||0),i.z=i.hasZ?Zi(i.z||0):i.z,i}equals(t){return t!=null&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};c([u({type:xe,json:{write:{isRequired:!0}}})],ao.prototype,"position",void 0),c([Q("position")],ao.prototype,"writePosition",null),c([Y("position")],ao.prototype,"readPosition",null),c([u({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Oe(e=>zG.normalize(Zi(e)))],ao.prototype,"heading",void 0),c([u({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Oe(e=>As(Zi(e),-180,180))],ao.prototype,"tilt",void 0),c([u({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Oe(e=>As(Zi(e,55),1,170))],ao.prototype,"fov",void 0),c([u({type:FG,nonNullable:!0,json:{read:!1,write:!1}})],ao.prototype,"layout",void 0),ao=c([S("esri.Camera")],ao);const _pe=ao,W8=[0,0];function x2(e,t){return t!=null&&Gi(e,t.x,t.y,t.z)}function mGe(e,t){var r;if(!((r=t.points)!=null&&r.length))return!1;for(const i of t.points)if(!my(e,i))return!1;return!0}function Spe(e,t){const{xmin:r,ymin:i,zmin:s,xmax:n,ymax:a,zmax:o}=t;return e.hasZ&&t.hasZ?Gi(e,r,i,s)&&Gi(e,r,a,s)&&Gi(e,n,a,s)&&Gi(e,n,i,s)&&Gi(e,r,i,o)&&Gi(e,r,a,o)&&Gi(e,n,a,o)&&Gi(e,n,i,o):Gi(e,r,i)&&Gi(e,r,a)&&Gi(e,n,a)&&Gi(e,n,i)}function my(e,t){return Gi(e,t[0],t[1])}function $pe(e,t){return Gi(e,t[0],t[1],t[2])}function Gi(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function XM(e,t){return W8[1]=t.y,W8[0]=t.x,xpe(e,W8)}function xpe(e,t){return eA(e.rings,t)}function eA(e,t){if(!e)return!1;if(Epe(e))return OO(!1,e,t);let r=!1;for(let i=0,s=e.length;i<s;i++)r=OO(r,e[i],t);return r}function Epe(e){return!Array.isArray(e[0][0])}function OO(e,t,r){const[i,s]=r;let n=e,a=0;for(let o=0,l=t.length;o<l;o++){a++,a===l&&(a=0);const[d,f]=t[o],[p,m]=t[a];(f<s&&m>=s||m<s&&f>=s)&&d+(s-f)/(m-f)*(p-d)<i&&(n=!n)}return n}function Tpe(e,t){return x2(e,t)}function Ipe(e,t){const r=e.hasZ&&t.hasZ;let i,s,n;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function Cpe(e,t){const{points:r,hasZ:i}=t,s=i?$pe:my;for(const n of r)if(s(e,n))return!0;return!1}const th=[0,0],rh=[0,0],ih=[0,0],sh=[0,0],Mpe=[th,rh,ih,sh],qH=[[ih,th],[th,rh],[rh,sh],[sh,ih]];function Ape(e,t){return kpe(e,t.rings)}function kpe(e,t){th[0]=e.xmin,th[1]=e.ymax,rh[0]=e.xmax,rh[1]=e.ymax,ih[0]=e.xmin,ih[1]=e.ymin,sh[0]=e.xmax,sh[1]=e.ymin;for(const r of Mpe)if(eA(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(my(e,i))return!0;for(let s=1;s<r.length;s++){const n=r[s];if(my(e,n)||BH(i,n,qH))return!0;i=n}}return!1}function Lpe(e,t){th[0]=e.xmin,th[1]=e.ymax,rh[0]=e.xmax,rh[1]=e.ymax,ih[0]=e.xmin,ih[1]=e.ymin,sh[0]=e.xmax,sh[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let s=i[0];if(my(e,s))return!0;for(let n=1;n<i.length;n++){const a=i[n];if(my(e,a)||BH(s,a,qH))return!0;s=a}}return!1}const Gr=[0,0];function Rpe(e){for(let t=0;t<e.length;t++){const r=e[t];for(let s=0;s<r.length-1;s++){const n=r[s],a=r[s+1];for(let o=t+1;o<e.length;o++)for(let l=0;l<e[o].length-1;l++){const d=e[o][l],f=e[o][l+1];if(H$(n,a,d,f,Gr)&&!(Gr[0]===n[0]&&Gr[1]===n[1]||Gr[0]===d[0]&&Gr[1]===d[1]||Gr[0]===a[0]&&Gr[1]===a[1]||Gr[0]===f[0]&&Gr[1]===f[1]))return!0}}const i=r.length;if(!(i<=4))for(let s=0;s<i-3;s++){let n=i-1;s===0&&(n=i-2);const a=r[s],o=r[s+1];for(let l=s+2;l<n;l++){const d=r[l],f=r[l+1];if(H$(a,o,d,f,Gr)&&!(Gr[0]===a[0]&&Gr[1]===a[1]||Gr[0]===d[0]&&Gr[1]===d[1]||Gr[0]===o[0]&&Gr[1]===o[1]||Gr[0]===f[0]&&Gr[1]===f[1]))return!0}}}return!1}function BH(e,t,r){for(let i=0;i<r.length;i++)if(H$(e,t,r[i][0],r[i][1]))return!0;return!1}function H$(e,t,r,i,s){const[n,a]=e,[o,l]=t,[d,f]=r,[p,m]=i,y=p-d,b=n-d,g=o-n,v=m-f,w=a-f,_=l-a,x=v*g-y*_;if(x===0)return!1;const T=(y*w-v*b)/x,k=(g*w-_*b)/x;return T>=0&&T<=1&&k>=0&&k<=1&&(s&&(s[0]=n+T*(o-n),s[1]=a+T*(l-a)),!0)}function Ope(e){switch(e){case"esriGeometryEnvelope":case"extent":return Ipe;case"esriGeometryMultipoint":case"multipoint":return Cpe;case"esriGeometryPoint":case"point":return Tpe;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Ape;case"esriGeometryPolyline":case"polyline":return Lpe}}var oa;function Fpe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function qc(e,t,r){return t==null?r:r==null?t:e(t,r)}let Rr=oa=class extends Lc{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,s){return Fpe(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?me.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:s??me.WGS84}}static fromPoint(e){return new oa({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new xe({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new oa;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&A0(t,r)&&(e=t.isWebMercator?cu(e):f0(e,!0)),e.type==="point"?x2(this,e):e.type==="extent"&&Spe(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&A0(t,r)&&(e=t.isWebMercator?cu(e):f0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Nt(t,r)&&A0(t,r)&&(e=t.isWebMercator?cu(e):f0(e,!0)),Ope(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=qc(Math.min,this.zmin,e.zmin),this.zmax=qc(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=qc(Math.min,this.mmin,e.mmin),this.mmax=qc(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=qc(Math.max,this.zmin,e.zmin),this.zmax=qc(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=qc(Math.max,this.mmin,e.mmin),this.mmax=qc(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Ti(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?f0(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=Z8(i.x,e).x),this.spatialReference=new me(Ga((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,s=this.xmin,n=this.xmax;return s>=r&&s<=i&&n>=r&&n<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const s=r??Ti(i);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let a=!0,o=!0;return n.forEach(l=>{l.hasZ||(a=!1),l.hasM||(o=!1)}),{rings:n.map(l=>{const d=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(a){const f=(l.zmax-l.zmin)/2;for(let p=0;p<d.length;p++)d[p].push(f)}if(o){const f=(l.mmax-l.mmin)/2;for(let p=0;p<d.length;p++)d[p].push(f)}return d}),hasZ:a,hasM:o,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:a}=this,o=this.width,l=this.xmin,d=this.xmax;let f;e=e||Ti(a);const[p,m]=e.valid;f=Z8(this.xmin,e);const y=f.x,b=f.frameId;f=Z8(this.xmax,e);const g=f.x,v=f.frameId,w=y===g&&o>0;if(o>2*m){const _=new oa(l<d?y:g,s,m,n,a),x=new oa(p,s,l<d?g:y,n,a),T=new oa(0,s,m,n,a),k=new oa(p,s,0,n,a),A=[],M=[];_.contains(T)&&A.push(b),_.contains(k)&&M.push(b),x.contains(T)&&A.push(v),x.contains(k)&&M.push(v);for(let R=b+1;R<v;R++)A.push(R),M.push(R);t.push({extent:_,frameIds:[b]},{extent:x,frameIds:[v]},{extent:T,frameIds:A},{extent:k,frameIds:M})}else y>g||w?t.push({extent:new oa(y,s,m,n,a),frameIds:[b]},{extent:new oa(p,s,g,n,a),frameIds:[v]}):t.push({extent:new oa(y,s,g,n,a),frameIds:[b]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const s={};r&&(s.zmin=this.zmin,s.zmax=this.zmax),i&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function Z8(e,t){const[r,i]=t.valid,s=2*i;let n,a=0;return e>i?(n=Math.ceil(Math.abs(e-i)/s),e-=n*s,a=n):e<r&&(n=Math.ceil(Math.abs(e-r)/s),e+=n*s,a=-n),{x:e,frameId:a}}c([u({readOnly:!0})],Rr.prototype,"cache",null),c([u({readOnly:!0})],Rr.prototype,"center",null),c([u({readOnly:!0})],Rr.prototype,"extent",null),c([u({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Rr.prototype,"hasM",null),c([u({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Rr.prototype,"hasZ",null),c([u({readOnly:!0})],Rr.prototype,"height",null),c([u({readOnly:!0})],Rr.prototype,"width",null),c([u({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Rr.prototype,"xmin",void 0),c([u({type:Number,json:{write:!0}})],Rr.prototype,"ymin",void 0),c([u({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Rr.prototype,"mmin",void 0),c([u({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Rr.prototype,"zmin",void 0),c([u({type:Number,json:{write:!0}})],Rr.prototype,"xmax",void 0),c([u({type:Number,json:{write:!0}})],Rr.prototype,"ymax",void 0),c([u({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Rr.prototype,"mmax",void 0),c([u({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Rr.prototype,"zmax",void 0),Rr=oa=c([S("esri.geometry.Extent")],Rr),Rr.prototype.toJSON.isDefaultToJSON=!0;const ht=Rr;function yy(e,t,r=!1){let{hasM:i,hasZ:s}=e;Array.isArray(t)?t.length!==4||i||s?t.length===3&&r&&!i?(s=!0,i=!1):t.length===3&&i&&s&&(i=!1,s=!1):(i=!0,s=!0):(s=!s&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=i}var W$;function FO(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function Ppe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Xc=W$=class extends Lc{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):Ppe(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=(s=r.points)==null?void 0:s[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new ht,r=this.hasZ,i=this.hasM,s=r?3:2,n=e[0],a=FO(Math.min),o=FO(Math.max);let l,d,f,p,[m,y]=n,[b,g]=n;for(let v=0,w=e.length;v<w;v++){const _=e[v],[x,T]=_;if(m=a(m,x),y=a(y,T),b=o(b,x),g=o(g,T),r&&_.length>2){const k=_[2];l=a(l,k),f=o(f,k)}if(i&&_.length>s){const k=_[s];d=a(d,k),p=o(p,k)}}return t.xmin=m,t.ymin=y,t.xmax=b,t.ymax=g,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=d,t.mmax=p):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=O(this.points)}addPoint(e){return yy(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:O(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new W$(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new xe(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new xe(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(yy(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([u({readOnly:!0})],Xc.prototype,"cache",null),c([u()],Xc.prototype,"extent",null),c([u({type:[[Number]],json:{write:{isRequired:!0}}})],Xc.prototype,"points",void 0),c([Q("points")],Xc.prototype,"writePoints",null),Xc=W$=c([S("esri.geometry.Multipoint")],Xc),Xc.prototype.toJSON.isDefaultToJSON=!0;const E2=Xc;function yGe(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function Npe(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var f_;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(f_||(f_={}));function bGe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,r=e.hasM;if(e.type==="point")return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const i=e.clone().normalize();if(!i)return null;let s=!1,n=!1;return i.forEach(a=>{a.hasZ&&(s=!0),a.hasM&&(n=!0)}),i.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const l=.5*(a.zmax-a.zmin);for(let d=0;d<o.length;d++)o[d].push(l)}if(n&&a.hasM){const l=.5*(a.mmax-a.mmin);for(let d=0;d<o.length;d++)o[d].push(l)}return o})}return null}function T2(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(r*r+i*i+s*s)}return Math.sqrt(r*r+i*i)}function UH(e,t,r){const i=e[0]+r*(t[0]-e[0]),s=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,s,e[2]+r*(t[2]-e[2])]:[i,s]}function Dpe(e,t,r,i){return Vpe(e,t,r[i],r[i+1])}function Vpe(e,t,r,i){const[s,n]=t,[a,o]=r,[l,d]=i,f=l-a,p=d-o,m=f*f+p*p,y=(s-a)*f+(n-o)*p,b=Math.min(1,Math.max(0,y/m));return e[0]=a+f*b,e[1]=o+p*b,e}function gGe(e,t,r,i,s,n){let a=r,o=i,l=s-a,d=n-o;if(l!==0||d!==0){const f=((e-a)*l+(t-o)*d)/(l*l+d*d);f>1?(a=s,o=n):f>0&&(a+=l*f,o+=d*f)}return l=e-a,d=t-o,l*l+d*d}function GH(e,t){return UH(e,t,.5)}function zpe(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=T2(e[i],e[i+1]);return r}function vGe(e,t){if(t<=0)return e[0];const r=e.length;let i=0;for(let s=0;s<r-1;++s){const n=T2(e[s],e[s+1]);if(t-i<n){const a=(t-i)/n;return UH(e[s],e[s+1],a)}i+=n}return e[r-1]}function HH(e,t=f_.X,r=f_.Y){let i=0;const s=e.length;let n=e[0];for(let a=1;a<s;a++){const o=e[a];i+=(o[t]-n[t])*(o[r]+n[r]),n=o}if(!WH(e)){const a=e[0];i+=(a[t]-n[t])*(a[r]+n[r])}return i>=0}function WH(e){const t=e.length;return t<3||A6(e[0],e[t-1])}function wGe(e){"rings"in e&&(jpe(e),qpe(e))}function jpe(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)WH(r)||(r.push(r[0].slice()),t=!0);return t}function qpe(e){if(!("rings"in e)||e.rings.length===0||HH(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function _Ge(e){return e.type!=="polygon"&&e.type!=="polyline"||Bpe(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function Bpe(e,t){const r=Ti(t);if(!r)return;const i=r.valid[0],s=r.valid[1],n=s-i;for(const a of e){let o=1/0,l=-1/0;for(const f of a){const p=Upe(f[0],i,s);o=Math.min(o,p),l=Math.max(l,p),f[0]=p}const d=l-o;n-d<d&&a.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function Upe(e,t,r){const i=r-t;return e<t?r-(t-e)%i:e>r?t+(e-t)%i:e}function SGe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[r,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return r.length===i.length&&r.every((s,n)=>s.length===i[n].length)}function $Ge(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Gpe(e){return e?Hpe(e.rings,e.hasZ??!1):null}function Hpe(e,t){if(!(e!=null&&e.length))return null;const r=[],i=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){const o=ZH(e[n],t,s);o&&i.push(o)}if(i.sort((n,a)=>{let o=n[2]-a[2];return o===0&&t&&(o=n[4]-a[4]),o}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?Wpe(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function ZH(e,t,r){let i=0,s=0,n=0,a=0,o=0;const l=e.length?e[0][0]:0,d=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let m=0;m<e.length;m++){const y=e[m],b=e[(m+1)%e.length],[g,v,w]=y,_=g-l,x=v-d,[T,k,A]=b,M=T-l,R=k-d,P=_*R-M*x;if(a+=P,i+=(_+M)*P,s+=(x+R)*P,t&&y.length>2&&b.length>2){const z=w-f,j=A-f,H=_*j-M*z;n+=(z+j)*H,o+=H}g<r[0]&&(r[0]=g),g>r[1]&&(r[1]=g),v<r[2]&&(r[2]=v),v>r[3]&&(r[3]=v),t&&(w<r[4]&&(r[4]=w),w>r[5]&&(r[5]=w))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const p=[i/(6*a)+l,s/(6*a)+d,a];return t&&(r[4]===r[5]||o===0?(p[3]=(r[4]+r[5])/2,p[4]=0):(p[3]=n/(6*o)+f,p[4]=o)),p}function xGe(e,t){let r=0,i=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let o=0;o<e.pathSize;o++){e.seekInPath(o);const l=[e.x,e.y];e.seekInPath((o+1)%e.pathSize);const d=[e.x,e.y],[f,p]=l,m=f-n,y=p-a,[b,g]=d,v=b-n,w=g-a,_=m*w-v*y;s+=_,r+=(m+v)*_,i+=(y+w)*_,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),p<t[2]&&(t[2]=p),p>t[3]&&(t[3]=p)}return s>0&&(s*=-1),s?(s*=.5,[r/(6*s)+n,i/(6*s)+a,s]):null}function Wpe(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,n=0,a=0,o=0;for(let l=0,d=e.length;l<d-1;l++){const f=e[l],p=e[l+1];if(f&&p){r[0]=f[0],r[1]=f[1],i[0]=p[0],i[1]=p[1],t&&f.length>2&&p.length>2&&(r[2]=f[2],i[2]=p[2]);const m=T2(r,i);if(m){s+=m;const y=GH(f,p);n+=m*y[0],a+=m*y[1],t&&y.length>2&&(o+=m*y[2])}}}return s>0?t?[n/s,a/s,o/s]:[n/s,a/s]:e.length?e[0]:null}function Zpe(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const i=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=ZH(Npe(e),e.hasZ,n);a&&s.push(a)}if(s.sort((a,o)=>{let l=a[2]-o[2];return l===0&&t&&(l=a[4]-o[4]),l}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],t&&(i[2]=s[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||t&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const a=e.pathSize?Jpe(e):null;if(!a)return null;i[0]=a[0],i[1]=a[1],t&&a.length>2&&(i[2]=a[2])}return i}function Jpe(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,n=0,a=0,o=0;if(e.nextPoint()){let l=e.x,d=e.y,f=e.z;for(;e.nextPoint();){const p=e.x,m=e.y,y=e.z;r[0]=l,r[1]=d,i[0]=p,i[1]=m,t&&(r[2]=f,i[2]=y);const b=T2(r,i);if(b){s+=b;const g=GH(r,i);n+=b*g[0],a+=b*g[1],t&&g.length>2&&(o+=b*g[2])}l=p,d=m,f=y}}return s>0?t?[n/s,a/s,o/s]:[n/s,a/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Ype=1e-6;function EGe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Ype){const s=Zpe(e);return s?[s[0],s[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)Kpe(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const Qpe=1/3;function Kpe(e,t,r){if(!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,s=r.y;r.nextPoint();let n,a=r.x-i,o=r.y-s,l=0,d=0;for(;r.nextPoint();)l=r.x-i,d=r.y-s,n=.5*Qpe*(l*o-d*a),e[0]+=n*(a+l),e[1]+=n*(o+d),a=l,o=d;const f=r.getCurrentRingArea(),p=[i,s];return p[0]-=t[0],p[1]-=t[1],p[0]*=f,p[1]*=f,e[0]+=p[0],e[1]+=p[1],e}function zr(e=ihe){return[e[0],e[1],e[2],e[3]]}function JH(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function TGe(e,t,r,i,s=zr()){return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s}function Xpe(e,t=zr()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function ehe(e,t,r=new ht){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r}function IGe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function CGe(e,t,r){if(t!=null)if("length"in t)Z$(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else JH(r,e)}function MGe(e,t,r=e){const i=t.length;let s=e[0],n=e[1],a=e[2],o=e[3];for(let l=0;l<i;l++){const d=t[l];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),o=Math.max(o,d[1])}return r[0]=s,r[1]=n,r[2]=a,r[3]=o,r}function AGe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function tA(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function rA(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function kGe(e){return tA(e)*rA(e)}function LGe(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function RGe(e){const t=tA(e),r=rA(e);return Math.sqrt(t*t+r*r)}function OGe(e,t){return the(e,t.x,t.y)}function the(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function FGe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function PGe(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])}function rhe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function NGe(e,t,r,i=e){return i[0]=e[0]+t,i[1]=e[1]+r,i[2]=e[2]+t,i[3]=e[3]+r,i}function DGe(e){return e?JH(e,PO):zr(PO)}function Z$(e){return e!=null&&e.length===4}function VGe(e,t){return Z$(e)&&Z$(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const PO=[1/0,1/0,-1/0,-1/0],ihe=[0,0,0,0];function YH(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function QH(e){return e.points!==void 0}function KH(e){return e.x!==void 0&&e.y!==void 0}function XH(e){return e.paths!==void 0}function eW(e){return e.rings!==void 0}function tW(e){function t(r,i){return r==null?i:i==null?r:e(r,i)}return t}const Yd=tW(Math.min),Qd=tW(Math.max);function zGe(e,t){return XH(t)?by(e,t.paths,!1,!1):eW(t)?by(e,t.rings,!1,!1):QH(t)?iA(e,t.points,!1,!1,!1,!1):YH(t)?rW(e,t):(KH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function jGe(e){let t,r,i,s;for(e.reset(),t=i=1/0,r=s=-1/0;e.nextPath();){const n=she(e);t=Math.min(n[0],t),i=Math.min(n[1],i),r=Math.max(n[2],r),s=Math.max(n[3],s)}return zr([t,i,r,s])}function she(e){let t,r,i,s;for(t=i=1/0,r=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),s=Math.max(e.y,s);return zr([t,i,r,s])}function qGe(e,t){return XH(t)?by(e,t.paths,!0,!1):eW(t)?by(e,t.rings,!0,!1):QH(t)?iA(e,t.points,!0,!1,!0,!1):YH(t)?rW(e,t,!0,!1,!0,!1):(KH(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function by(e,t,r,i){const s=r?3:2;if(!t.length||!t[0].length)return null;let n,a,o,l,[d,f]=t[0][0],[p,m]=t[0][0];for(let y=0;y<t.length;y++){const b=t[y];for(let g=0;g<b.length;g++){const v=b[g],[w,_]=v;if(d=Yd(d,w),f=Yd(f,_),p=Qd(p,w),m=Qd(m,_),r&&v.length>2){const x=v[2];n=Yd(n,x),a=Qd(a,x)}if(i&&v.length>s){const x=v[s];o=Yd(n,x),l=Qd(a,x)}}}return r?i?(e[0]=d,e[1]=f,e[2]=n,e[3]=o,e[4]=p,e[5]=m,e[6]=a,e[7]=l,e.length=8,e):(e[0]=d,e[1]=f,e[2]=n,e[3]=p,e[4]=m,e[5]=a,e.length=6,e):i?(e[0]=d,e[1]=f,e[2]=o,e[3]=p,e[4]=m,e[5]=l,e.length=6,e):(e[0]=d,e[1]=f,e[2]=p,e[3]=m,e.length=4,e)}function rW(e,t,r,i,s,n){const a=t.xmin,o=t.xmax,l=t.ymin,d=t.ymax;let f=t.zmin,p=t.zmax,m=t.mmin,y=t.mmax;return s?(f=f||0,p=p||0,n?(m=m||0,y=y||0,e[0]=a,e[1]=l,e[2]=f,e[3]=m,e[4]=o,e[5]=d,e[6]=p,e[7]=y,e):(e[0]=a,e[1]=l,e[2]=f,e[3]=o,e[4]=d,e[5]=p,e)):n?(m=m||0,y=y||0,e[0]=a,e[1]=l,e[2]=m,e[3]=o,e[4]=d,e[5]=y,e):(e[0]=a,e[1]=l,e[2]=o,e[3]=d,e)}function iA(e,t,r,i,s,n){const a=r?3:2,o=i&&n,l=r&&s;if(!t.length||!t[0].length)return null;let d,f,p,m,[y,b]=t[0],[g,v]=t[0];for(let w=0;w<t.length;w++){const _=t[w],[x,T]=_;if(y=Yd(y,x),b=Yd(b,T),g=Qd(g,x),v=Qd(v,T),l&&_.length>2){const k=_[2];d=Yd(d,k),f=Qd(f,k)}if(o&&_.length>a){const k=_[a];p=Yd(d,k),m=Qd(f,k)}}return s?(d=d||0,f=f||0,n?(p=p||0,m=m||0,e[0]=y,e[1]=b,e[2]=d,e[3]=p,e[4]=g,e[5]=v,e[6]=f,e[7]=m,e):(e[0]=y,e[1]=b,e[2]=d,e[3]=g,e[4]=v,e[5]=f,e)):n?(p=p||0,m=m||0,e[0]=y,e[1]=b,e[2]=p,e[3]=g,e[4]=v,e[5]=m,e):(e[0]=y,e[1]=b,e[2]=g,e[3]=v,e)}function nhe(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function ahe(e){return e.points!==void 0}function ohe(e){return e.x!==void 0&&e.y!==void 0}function lhe(e){return e.paths!==void 0}function che(e){return e.rings!==void 0}const sA=[];function iW(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function sW(e,t,r,i,s,n){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:s,zmax:n}}function nW(e,t,r,i,s,n){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:s,mmax:n}}function aW(e,t,r,i,s,n,a,o){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:s,ymax:n,zmax:a,mmax:o}}function nA(e,t=!1,r=!1){return t?r?aW(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):sW(e[0],e[1],e[2],e[3],e[4],e[5]):r?nW(e[0],e[1],e[2],e[3],e[4],e[5]):iW(e[0],e[1],e[2],e[3])}function dhe(e){return e?nhe(e)?e:ohe(e)?fhe(e):che(e)?aA(e):lhe(e)?oW(e):ahe(e)?uhe(e):null:null}function uhe(e){const{hasZ:t,hasM:r,points:i}=e;return nA(iA(sA,i,t??!1,r??!1),t,r)}function fhe(e){const{x:t,y:r,z:i,m:s}=e,n=s!=null;return i!=null?n?aW(t,r,i,s,t,r,i,s):sW(t,r,i,t,r,i):n?nW(t,r,s,t,r,s):iW(t,r,t,r)}function aA(e){const{hasZ:t,hasM:r,rings:i}=e,s=by(sA,i,t??!1,r??!1);return s?nA(s,t,r):null}function oW(e){const{hasZ:t,hasM:r,paths:i}=e,s=by(sA,i,t??!1,r??!1);return s?nA(s,t,r):null}var a9;function NO(e){return!Array.isArray(e[0])}function phe(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function hhe(e){var n,a;if(!e)return;let{rings:t,hasM:r,hasZ:i,spatialReference:s}=e;switch(t??(t=[]),phe(t)&&(t=[t]),(a=(n=t[0])==null?void 0:n[0])==null?void 0:a.length){case 4:i??(i=!0),r??(r=!0);break;case 3:i??(i=r!==!0),r??(r=!i);break;default:i??(i=!1),r??(r=!1)}return s??(s=me.WGS84),{...e,hasM:r,hasZ:i,rings:t,spatialReference:s}}let Mn=a9=class extends Lc{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let i=!1,s=!1;for(const a of t)a.hasZ&&(i=!0),a.hasM&&(s=!0);const n={rings:t.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(i&&a.hasZ){const l=a.zmin+.5*(a.zmax-a.zmin);for(let d=0;d<o.length;d++)o[d].push(l)}if(s&&a.hasM){const l=a.mmin+.5*(a.mmax-a.mmin);for(let d=0;d<o.length;d++)o[d].push(l)}return o}),spatialReference:r};return i&&(n.hasZ=!0),s&&(n.hasM=!0),new a9(n)}constructor(e){super(hhe(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Gpe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new xe;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=O(e)}get extent(){const e=aA(this),{spatialReference:t}=this;return e?new ht({...e,spatialReference:t}):null}get isSelfIntersecting(){return Rpe(this.rings)}writeRings(e,t){t.rings=O(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(NO(e)){const i=[];for(let s=0,n=e.length;s<n;s++)i[s]=e[s].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new a9;return e.spatialReference=this.spatialReference,e.rings=O(this.rings),e.curveRings=O(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([s,n,a,o],[l,d,f,p])=>s===l&&n===d&&(a==null&&f==null||a===f)&&(o==null&&p==null||o===p);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],a=e.rings[s];if(!A6(n,a,i))return!1}return!0}contains(e){if(!e)return!1;const t=U6(e,this.spatialReference);return XM(this,t??e)}isClockwise(e){const t=NO(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return HH(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new xe(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new xe(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new xe(r[0],r[1],r[2],r[3],this.spatialReference):new xe(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(yy(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new xe(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(s=>new xe(s,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(yy(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([u({readOnly:!0})],Mn.prototype,"cache",null),c([u({readOnly:!0})],Mn.prototype,"centroid",null),c([u({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Mn.prototype,"curveRings",void 0),c([Q("curveRings")],Mn.prototype,"writeCurveRings",null),c([u({readOnly:!0})],Mn.prototype,"extent",null),c([u({readOnly:!0})],Mn.prototype,"isSelfIntersecting",null),c([u({type:[[[Number]]],json:{write:{isRequired:!0}}})],Mn.prototype,"rings",void 0),c([Q("rings")],Mn.prototype,"writeRings",null),Mn=a9=c([S("esri.geometry.Polygon")],Mn);const Gn=Mn;Mn.prototype.toJSON.isDefaultToJSON=!0;var J$;function mhe(e){return!Array.isArray(e[0])}function yhe(e){var t;return typeof((t=e[0])==null?void 0:t[0])=="number"}function bhe(e){var n,a;if(!e)return;let{paths:t,hasM:r,hasZ:i,spatialReference:s}=e;switch(t??(t=[]),yhe(t)&&(t=[t]),(a=(n=t[0])==null?void 0:n[0])==null?void 0:a.length){case 4:i??(i=!0),r??(r=!0);break;case 3:i??(i=r!==!0),r??(r=!i);break;default:i??(i=!1),r??(r=!1)}return s??(s=me.WGS84),{...e,hasM:r,hasZ:i,paths:t,spatialReference:s}}let Mo=J$=class extends Lc{constructor(e){super(bhe(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=O(e)}get extent(){const e=oW(this),{spatialReference:t}=this;return e?new ht({...e,spatialReference:t}):null}writePaths(e,t){t.paths=O(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(mhe(e)){const i=[];for(let s=0,n=e.length;s<n;s++)i[s]=e[s].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new J$;return e.spatialReference=this.spatialReference,e.paths=O(this.paths),e.curvePaths=O(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,s=this.hasM;return i&&!s?new xe(r[0],r[1],r[2],void 0,this.spatialReference):s&&!i?new xe(r[0],r[1],void 0,r[2],this.spatialReference):i&&s?new xe(r[0],r[1],r[2],r[3],this.spatialReference):new xe(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(yy(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(s=>new xe(s,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new xe(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(yy(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([u({readOnly:!0})],Mo.prototype,"cache",null),c([u({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Mo.prototype,"curvePaths",void 0),c([Q("curvePaths")],Mo.prototype,"writeCurvePaths",null),c([u({readOnly:!0})],Mo.prototype,"extent",null),c([u({type:[[[Number]]],json:{write:{isRequired:!0}}})],Mo.prototype,"paths",void 0),c([Q("paths")],Mo.prototype,"writePaths",null),Mo=J$=c([S("esri.geometry.Polyline")],Mo);const Nn=Mo;Mo.prototype.toJSON.isDefaultToJSON=!0;function G6(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function lW(e){return e.points!==void 0}function cW(e){return e.x!==void 0&&e.y!==void 0}function H6(e){return e.paths!==void 0||e.curvePaths!==void 0}function fc(e){return e.rings!==void 0||e.curveRings!==void 0}function Ja(e){return e==null?null:e instanceof Lc?e:cW(e)?xe.fromJSON(e):H6(e)?Nn.fromJSON(e):fc(e)?Gn.fromJSON(e):lW(e)?E2.fromJSON(e):G6(e)?ht.fromJSON(e):null}function Jy(e){return e?cW(e)?"esriGeometryPoint":H6(e)?"esriGeometryPolyline":fc(e)?"esriGeometryPolygon":G6(e)?"esriGeometryEnvelope":lW(e)?"esriGeometryMultipoint":null:null}const ghe={esriGeometryPoint:xe,esriGeometryPolyline:Nn,esriGeometryPolygon:Gn,esriGeometryEnvelope:ht,esriGeometryMultipoint:E2,esriGeometryMultiPatch:Gn};function vhe(e){return e&&ghe[e]||null}const whe=ar()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),DO=ar()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),fh={base:Lc,key:"type",typeMap:{extent:ht,multipoint:E2,point:xe,polyline:Nn,polygon:Gn}};var Y$;let ed=Y$=class extends N{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new Y$({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};c([u({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J8}}}}})],ed.prototype,"rotation",void 0),c([Oe("rotation")],ed.prototype,"castRotation",null),c([u({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J8}}}}})],ed.prototype,"scale",void 0),c([u({types:fh,json:{read:Ja,write:!0,origins:{"web-scene":{read:Ja,write:{overridePolicy:J8}}}}})],ed.prototype,"targetGeometry",void 0),c([u({type:_pe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],ed.prototype,"camera",void 0),ed=Y$=c([S("esri.Viewpoint")],ed);const Tr=ed;function J8(){return{enabled:!this.camera}}let em=class extends W{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(_M(()=>this._refresh(),Za))}destroy(){this.getCollections=null}_refresh(){const t=this.getCollections!=null?this.getCollections():null;if(t==null)return void this.removeAll();let r=0;for(const i of t)i!=null&&(r=this._processCollection(r,i));this.splice(r,this.length)}_createNewInstance(t){return new W(t)}_processCollection(t,r){if(!r)return t;const i=this.itemFilterFunction??(s=>!!s);for(const s of r)if(s){if(i(s)){const n=this.indexOf(s,t);n>=0?n!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const a of n)t=this._processCollection(t,a);else t=this._processCollection(t,n)}}return t}};c([u()],em.prototype,"getCollections",void 0),c([u()],em.prototype,"getChildrenFunction",void 0),c([u()],em.prototype,"itemFilterFunction",void 0),em=c([S("esri.core.CollectionFlattener")],em);const _v=em;let p_=class{constructor(t=r=>r.values().next().value){this._peeker=t,this._observable=new _2,this._items=new Set}get length(){return ge(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let t;for(t of this._items);return t}peek(){if(this.length!==0)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return ge(this._observable),this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const r=this.length;return this._items.forEach(i=>{t(i)||this._items.delete(i)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){ge(this._observable),yield*this._items}};const dW=new FinalizationRegistry(e=>{e.close()});function _he(e,t){dW.register(e,t,t)}function She(e){dW.unregister(e)}function uW(e,t){return new Proxy({},{get:(r,i,s)=>(...n)=>{let a,o;const l=n[n.length-1];return $he(l)&&(a=l.signal,o=l.transferList,n.pop()),e.apply(t?`${t}.${i.toString()}`:i.toString(),n,{transferList:o,signal:a})}})}function $he(e){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&("signal"in e||"transferList"in e||Object.keys(e).length===0)}const xhe={statsWorker:()=>C(()=>Promise.resolve().then(()=>Mze),void 0),geometryEngineWorker:()=>C(()=>import("./geometryEngineWorker-D8XUGeOs.js"),__vite__mapDeps([115,116,117,114])),arcadeGeometryOperatorsWorker:()=>C(()=>import("./operatorsWorker-CQNHSg78.js"),[]),CSVSourceWorker:()=>C(()=>import("./CSVSourceWorker-CEM7a68f.js"),__vite__mapDeps([118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133])),EdgeProcessingWorker:()=>C(()=>import("./EdgeProcessingWorker-CUSpdRDm.js"),__vite__mapDeps([134,135,136,137,138,139,140,141,142,143,144,145])),ElevationSamplerWorker:()=>C(()=>import("./ElevationSamplerWorker-ClEaroup.js"),__vite__mapDeps([146,130,147,148,149,150,151,152,153,154,155,137,156])),FeatureServiceSnappingSourceWorker:()=>C(()=>import("./FeatureServiceSnappingSourceWorker-B89g0pE0.js"),__vite__mapDeps([157,120,121,122,123,124,125,126,127,128,129,130,131,158])),GeoJSONSourceWorker:()=>C(()=>import("./GeoJSONSourceWorker-DpQLNVoQ.js"),__vite__mapDeps([159,122,120,121,123,124,125,126,127,128,129,130,131,160,119,133,161])),LercWorker:()=>C(()=>import("./LercWorker-BVDp_8XQ.js"),[]),MemorySourceWorker:()=>C(()=>import("./MemorySourceWorker-CptL7fzv.js"),__vite__mapDeps([162,122,163,120,121,123,124,125,126,127,128,129,130,131,133,161,119])),PBFDecoderWorker:()=>C(()=>import("./PBFDecoderWorker-CfUKJqpB.js"),__vite__mapDeps([164,165,122])),FeaturePipelineWorker:()=>C(()=>import("./FeaturePipelineWorker-BihvyAt8.js"),__vite__mapDeps([166,167,168,144,169,170,125,122,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,131,121,123,124,126,127,187,188,189,190,191,160,119,133,161,192,193,194])),PointCloudWorker:()=>C(()=>import("./PointCloudWorker-v9x-MeWS.js"),__vite__mapDeps([195,196,149,197,198,199,200,142,201,150,151,152,202])),RasterWorker:()=>C(()=>import("./RasterWorker-DxV1Fruj.js"),__vite__mapDeps([203,204,205,114,206,207,208])),SceneLayerSnappingSourceWorker:()=>C(()=>import("./SceneLayerSnappingSourceWorker-w1SGmTPR.js"),__vite__mapDeps([209,210,211,149,202,150,197,212,136,137,138,139,140,141,142,143,144,145])),SceneLayerWorker:()=>C(()=>import("./SceneLayerWorker-DlqEoxHf.js"),__vite__mapDeps([213,147,155,214,153,211,149,202,150,197,215,200,142,216,176,217,218,219,220,201,196,151,152])),WFSSourceWorker:()=>C(()=>import("./WFSSourceWorker-B0fKFkeh.js"),__vite__mapDeps([221,122,120,121,123,124,125,126,127,128,129,130,131,160,119,161,222,223])),WorkerTileHandler:()=>C(()=>import("./WorkerTileHandler-W9f5p6El.js"),__vite__mapDeps([224,225,174,177,226,227,182,228,229,144,184,172])),Lyr3DWorker:()=>C(()=>import("./Lyr3DWorker-AYm-ztmZ.js"),[]),Feature3DPipelineWorker:()=>C(()=>import("./Feature3DPipelineWorker-BlOcvO7t.js"),__vite__mapDeps([230,121,122,123,124,125,126,127,130,141,231,214,153,232,150,136,137,138,233,211,149,202,197,210,234,142,219,220,218,235,236,237,238,201,196,151,152,143,144,239,176,212,240,241,242,198,154,147,243,244,245,246,217,247])),TextureCompressionWorker:()=>C(()=>import("./TextureCompressionWorker-WQkZ45N1.js"),__vite__mapDeps([248,237]))},fW="worker:port-closed";var Kr;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Kr||(Kr={}));let Ehe=0;function pW(){return Ehe++}function The(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Sv(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function oA(e,t,r,i){if(t.type===Kr.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Kr.INVOKE&&t.type!==Kr.RESPONSE)return void e.postMessage(t);let s;if(The(r)?(s=VO(r.transferList),t.data=r.result):(s=VO(i),t.data=r),s){if(V("ff")){for(const n of s)if("byteLength"in n&&n.byteLength>267386880){const a="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case Kr.INVOKE:throw a;case Kr.RESPONSE:return void oA(e,{type:Kr.RESPONSE,jobId:t.jobId,error:Sv(a)})}}}e.postMessage(t,s)}else e.postMessage(t)}function $v(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function VO(e){if(!(e!=null&&e.length))return null;if(V("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!Ihe(r));return t.length?t:null}function Ihe(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="ArrayBuffer"}async function GGe(e){try{return await e}catch(t){const r=(t==null?void 0:t.name)===fW;if(!(fr(t)||r))throw t;return}}const{CLOSE:zO,ABORT:jO,INVOKE:qO,RESPONSE:Eb,OPEN_PORT:BO,ON:Che}=Kr,Mhe=2;let Ahe=class{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Kr.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}},Au=class tm{static connect(t,r){const i=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const n=new tm(i.port1,{channel:i,client:s,schedule:r});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),tm.clients.set(n,s),i.port2}static loadWorker(t){const r=xhe[t];return r?r():Promise.resolve(null)}constructor(t,r,i){this._port=t,this._jobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Ahe(s=>this._onInvokeMessage(s)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:zO}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){const s=i==null?void 0:i.signal,n=i==null?void 0:i.transferList;if(!this._port)return Promise.reject(new I(fW,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const a=pW();return new Promise((o,l)=>{if(nn(s))return this._processWork(),void l(mt());const d=qn(s,()=>{const p=this._outJobs.get(a);p&&(this._outJobs.delete(a),this._processWork(),Ft(p.abortHandle),this._post({type:jO,jobId:a}),l(mt()))}),f={resolve:o,reject:l,abortHandle:d,debugInfo:t};this._outJobs.set(a,f),this._post({type:qO,jobId:a,methodName:t,abortable:s!=null},r,n)})}createInvokeProxy(t){return uW(this,t)}on(t,r){const i=new MessageChannel;function s(n){r(n.data)}return this._port.postMessage({type:Kr.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",s),i.port1.start(),Je(()=>{i.port1.postMessage({type:Kr.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const t=new MessageChannel;return this._post({type:BO,port:t.port2}),t.port1}_processWork(){var a;if(this._outJobs.size>=Mhe)return;const t=(a=this._jobQueue)==null?void 0:a.pop();if(!t)return;const{methodName:r,data:i,invokeOptions:s,resolver:n}=t;this.apply(r,i,s).then(o=>n.resolve(o)).catch(o=>n.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{Ft(t.abortHandle),t.reject(mt(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){this._schedule!=null?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){const i=$v(t);if(i)switch(i.type){case Eb:this._onResponseMessage(i);break;case qO:r?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case jO:this._onAbortMessage(i);break;case zO:this._onCloseMessage();break;case BO:this._onOpenPortMessage(i);break;case Che:this._onOnMessage(i)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,s=r.get(i);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),r.delete(i))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&tm.clients.get(this)===t&&t.destroy(),tm.clients.delete(this),t!=null&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:i,data:s=[],abortable:n}=t,a=n?new AbortController:null,o=this._inJobs;let l,d=this._client,f=d[r];try{if(!f&&r&&r.includes(".")){const p=r.split(".");for(let m=0;m<p.length-1;m++)d=d[p[m]],f=d[p[m+1]]}if(typeof f!="function")throw new TypeError(`${r} is not a function`);s.push({client:this,signal:a?a.signal:null}),l=f.apply(d,s)}catch(p){return void this._post({type:Eb,jobId:i,error:Sv(p)})}Ko(l)?(o.set(i,{controller:a,promise:l}),l.then(p=>{o.has(i)&&(o.delete(i),this._post({type:Eb,jobId:i},p))},p=>{o.has(i)&&(o.delete(i),fr(p)||this._post({type:Eb,jobId:i,error:Sv(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:Eb,jobId:i},l)}_onOpenPortMessage(t){new tm(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,i=this._client.on(t.eventType,n=>{r.postMessage(n)}),s=b2(t.port,"message",n=>{const a=$v(n);(a==null?void 0:a.type)===Kr.CLOSE&&(s.remove(),i.remove(),r.close())})}_onResponseMessage(t){const{jobId:r,error:i,data:s}=t,n=this._outJobs;if(!n.has(r))return;const a=n.get(r);n.delete(r),this._processWork(),Ft(a.abortHandle),i?a.reject(I.fromJSON(JSON.parse(i))):a.resolve(s)}_post(t,r,i){return oA(this._port,t,r,i)}};Au.kernelInfo={buildDate:lH,fullVersion:jM,revision:cH},Au.clients=new Map;let khe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new p_}destroy(){this.close()}get closed(){var t;return!((t=this._clients)!=null&&t.length)}open(t,r){return new Promise((i,s)=>{let n=!0;const a=o=>{Ce(r.signal),n&&(n=!1,o())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let o=0;o<t.length;++o){const l=t[o];Ko(l)?this._clientPromises[o]=l.then(d=>(this._clients[o]=new Au(d,r,this._ongoingJobsQueue),a(i),this._clients[o]),()=>(a(s),null)):(this._clients[o]=new Au(l,r,this._ongoingJobsQueue),this._clientPromises[o]=Promise.resolve(this._clients[o]),a(i))}})}broadcast(t,r,i){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];s[n]=a.then(o=>o==null?void 0:o.invoke(t,r,i))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject(mt(`Worker closing, aborting job calling '${t.methodName}'`));for(const r of this._clientPromises)r.then(i=>i==null?void 0:i.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,She(this)}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){const s=Ms();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const a=this._clients[n];a?a.jobAdded():this._clientPromises[n].then(o=>o==null?void 0:o.jobAdded())}return s.promise}createInvokeProxy(t){return uW(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>h2(this._clients.map(i=>i.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let i=r.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(r[s]=n.openPort()),--i==0&&t(r)})})}get test(){}};const Lhe={async request(e,t){var a,o;const r=e.options,i=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=i==="native"||i==="native-request-init"?"native-request-init":i&&["blob","json","text"].includes(i)&&((a=I$(e.url))!=null&&a.after)?i:"array-buffer";const s=await ze(e.url,r),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((o=s.requestOptions)==null?void 0:o.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}};let F1;var EB,TB;const Rhe=((EB=globalThis.esriConfig)==null?void 0:EB.locale)??((TB=globalThis.dojoConfig)==null?void 0:TB.locale);var IB;const P1=(IB=globalThis.document)==null?void 0:IB.documentElement;function hW(){var r;const e=P1==null?void 0:P1.getAttribute("lang"),t=(r=globalThis.navigator)==null?void 0:r.language;return Rhe??e??t??"en"}function Ii(){return F1===void 0&&(F1=hW()),F1}function ZGe(e=Ii()){const t=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const o9=[];function lA(e){return o9.push(e),Je(()=>o9.splice(o9.indexOf(e),1))}const l9=[];function cA(e){return l9.push(e),Je(()=>l9.splice(l9.indexOf(e),1))}function UO(){const e=hW();F1!==e&&([...l9].forEach(t=>t(e)),F1=e,[...o9].forEach(t=>t(e)))}var CB;(CB=globalThis.addEventListener)==null||CB.call(globalThis,"languagechange",UO),P1&&new MutationObserver(()=>{UO()}).observe(P1,{attributeFilter:["lang"]});const ks="system",nh="unknown",Jo="UTC",Ohe=Intl.DateTimeFormat().resolvedOptions().timeZone,GO=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class ph extends Error{}class Fhe extends ph{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Phe extends ph{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class Nhe extends ph{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class p0 extends ph{}class mW extends ph{constructor(t){super(`Invalid unit ${t}`)}}class wi extends ph{}class Bc extends ph{constructor(){super("Zone is an abstract class")}}const se="numeric",Ya="short",sn="long",h_={year:se,month:se,day:se},yW={year:se,month:Ya,day:se},Dhe={year:se,month:Ya,day:se,weekday:Ya},bW={year:se,month:sn,day:se},gW={year:se,month:sn,day:se,weekday:sn},vW={hour:se,minute:se},wW={hour:se,minute:se,second:se},_W={hour:se,minute:se,second:se,timeZoneName:Ya},SW={hour:se,minute:se,second:se,timeZoneName:sn},$W={hour:se,minute:se,hourCycle:"h23"},xW={hour:se,minute:se,second:se,hourCycle:"h23"},EW={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:Ya},TW={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:sn},IW={year:se,month:se,day:se,hour:se,minute:se},CW={year:se,month:se,day:se,hour:se,minute:se,second:se},MW={year:se,month:Ya,day:se,hour:se,minute:se},AW={year:se,month:Ya,day:se,hour:se,minute:se,second:se},Vhe={year:se,month:Ya,day:se,weekday:Ya,hour:se,minute:se},kW={year:se,month:sn,day:se,hour:se,minute:se,timeZoneName:Ya},LW={year:se,month:sn,day:se,hour:se,minute:se,second:se,timeZoneName:Ya},RW={year:se,month:sn,day:se,weekday:sn,hour:se,minute:se,timeZoneName:sn},OW={year:se,month:sn,day:se,weekday:sn,hour:se,minute:se,second:se,timeZoneName:sn};class hh{get type(){throw new Bc}get name(){throw new Bc}get ianaName(){return this.name}get isUniversal(){throw new Bc}offsetName(t,r){throw new Bc}formatOffset(t,r){throw new Bc}offset(t){throw new Bc}equals(t){throw new Bc}get isValid(){throw new Bc}}let Y8=null;class W6 extends hh{static get instance(){return Y8===null&&(Y8=new W6),Y8}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return BW(t,r,i)}formatOffset(t,r){return N1(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let c9={};function zhe(e){return c9[e]||(c9[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),c9[e]}const jhe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qhe(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,n,a,o,l,d,f]=i;return[a,s,n,o,l,d,f]}function Bhe(e,t){const r=e.formatToParts(t),i=[];for(let s=0;s<r.length;s++){const{type:n,value:a}=r[s],o=jhe[n];n==="era"?i[o]=a:Pe(o)||(i[o]=parseInt(a,10))}return i}let Mw={};class Ls extends hh{static create(t){return Mw[t]||(Mw[t]=new Ls(t)),Mw[t]}static resetCache(){Mw={},c9={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ls.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return BW(t,r,i,this.name)}formatOffset(t,r){return N1(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const i=zhe(this.name);let[s,n,a,o,l,d,f]=i.formatToParts?Bhe(i,r):qhe(i,r);o==="BC"&&(s=-Math.abs(s)+1);const m=J6({year:s,month:n,day:a,hour:l===24?0:l,minute:d,second:f,millisecond:0});let y=+r;const b=y%1e3;return y-=b>=0?b:1e3+b,(m-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let HO={};function Uhe(e,t={}){const r=JSON.stringify([e,t]);let i=HO[r];return i||(i=new Intl.ListFormat(e,t),HO[r]=i),i}let Q$={};function K$(e,t={}){const r=JSON.stringify([e,t]);let i=Q$[r];return i||(i=new Intl.DateTimeFormat(e,t),Q$[r]=i),i}let X$={};function Ghe(e,t={}){const r=JSON.stringify([e,t]);let i=X$[r];return i||(i=new Intl.NumberFormat(e,t),X$[r]=i),i}let ex={};function Hhe(e,t={}){const{base:r,...i}=t,s=JSON.stringify([e,i]);let n=ex[s];return n||(n=new Intl.RelativeTimeFormat(e,t),ex[s]=n),n}let ng=null;function Whe(){return ng||(ng=new Intl.DateTimeFormat().resolvedOptions().locale,ng)}let WO={};function Zhe(e){let t=WO[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,WO[e]=t}return t}function Jhe(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let i,s;try{i=K$(e).resolvedOptions(),s=e}catch{const l=e.substring(0,r);i=K$(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:a}=i;return[s,n,a]}}function Yhe(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function Qhe(e){const t=[];for(let r=1;r<=12;r++){const i=ae.utc(2009,r,1);t.push(e(i))}return t}function Khe(e){const t=[];for(let r=1;r<=7;r++){const i=ae.utc(2016,11,13+r);t.push(e(i))}return t}function Aw(e,t,r,i){const s=e.listingMode();return s==="error"?null:s==="en"?r(t):i(t)}function Xhe(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class eme{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:n,...a}=i;if(!r||Object.keys(a).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=Ghe(t,o)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):hA(t,3);return _r(r,this.padTo)}}}class tme{constructor(t,r,i){this.opts=i,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&Ls.create(o).valid?(s=o,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=K$(r,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class rme{constructor(t,r,i){this.opts={style:"long",...i},!r&&jW()&&(this.rtf=Hhe(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):Eme(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const ime={firstDay:1,minimalDays:4,weekend:[6,7]};class ft{static fromOpts(t){return ft.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,s,n=!1){const a=t||nr.defaultLocale,o=a||(n?"en-US":Whe()),l=r||nr.defaultNumberingSystem,d=i||nr.defaultOutputCalendar,f=tx(s)||nr.defaultWeekSettings;return new ft(o,l,d,f,a)}static resetCache(){ng=null,Q$={},X$={},ex={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:s}={}){return ft.create(t,r,i,s)}constructor(t,r,i,s,n){const[a,o,l]=Jhe(t);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=i||l||null,this.weekSettings=s,this.intl=Yhe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Xhe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:ft.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,tx(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Aw(this,t,HW,()=>{const i=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Qhe(n=>this.extract(n,i,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1){return Aw(this,t,JW,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Khe(n=>this.extract(n,i,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return Aw(this,void 0,()=>YW,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ae.utc(2016,11,13,9),ae.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Aw(this,t,QW,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[ae.utc(-40,1,1),ae.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,r,i){const s=this.dtFormatter(t,r),n=s.formatToParts(),a=n.find(o=>o.type.toLowerCase()===i);return a?a.value:null}numberFormatter(t={}){return new eme(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new tme(t,this.intl,r)}relFormatter(t={}){return new rme(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Uhe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:qW()?Zhe(this.locale):ime}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Q8=null;class $r extends hh{static get utcInstance(){return Q8===null&&(Q8=new $r(0)),Q8}static instance(t){return t===0?$r.utcInstance:new $r(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new $r(Y6(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${N1(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${N1(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return N1(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class sme extends hh{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bd(e,t){if(Pe(e)||e===null)return t;if(e instanceof hh)return e;if(dme(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?W6.instance:r==="utc"||r==="gmt"?$r.utcInstance:$r.parseSpecifier(r)||Ls.create(e)}else return du(e)?$r.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new sme(e)}const dA={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ZO={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nme=dA.hanidec.replace(/[\[|\]]/g,"").split("");function ame(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(dA.hanidec)!==-1)t+=nme.indexOf(e[r]);else for(const s in ZO){const[n,a]=ZO[s];i>=n&&i<=a&&(t+=i-n)}}return parseInt(t,10)}else return t}let rm={};function ome(){rm={}}function ta({numberingSystem:e},t=""){const r=e||"latn";return rm[r]||(rm[r]={}),rm[r][t]||(rm[r][t]=new RegExp(`${dA[r]}${t}`)),rm[r][t]}let JO=()=>Date.now(),YO="system",QO=null,KO=null,XO=null,eF=60,tF,rF=null;class nr{static get now(){return JO}static set now(t){JO=t}static set defaultZone(t){YO=t}static get defaultZone(){return Bd(YO,W6.instance)}static get defaultLocale(){return QO}static set defaultLocale(t){QO=t}static get defaultNumberingSystem(){return KO}static set defaultNumberingSystem(t){KO=t}static get defaultOutputCalendar(){return XO}static set defaultOutputCalendar(t){XO=t}static get defaultWeekSettings(){return rF}static set defaultWeekSettings(t){rF=tx(t)}static get twoDigitCutoffYear(){return eF}static set twoDigitCutoffYear(t){eF=t%100}static get throwOnInvalid(){return tF}static set throwOnInvalid(t){tF=t}static resetCaches(){ft.resetCache(),Ls.resetCache(),ae.resetCache(),ome()}}class Va{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const FW=[0,31,59,90,120,151,181,212,243,273,304,334],PW=[0,31,60,91,121,152,182,213,244,274,305,335];function Dn(e,t){return new Va("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function uA(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function NW(e,t,r){return r+(I2(e)?PW:FW)[t-1]}function DW(e,t){const r=I2(e)?PW:FW,i=r.findIndex(n=>n<t),s=t-r[i];return{month:i+1,day:s}}function fA(e,t){return(e-t+7)%7+1}function m_(e,t=4,r=1){const{year:i,month:s,day:n}=e,a=NW(i,s,n),o=fA(uA(i,s,n),r);let l=Math.floor((a-o+14-t)/7),d;return l<1?(d=i-1,l=xv(d,t,r)):l>xv(i,t,r)?(d=i+1,l=1):d=i,{weekYear:d,weekNumber:l,weekday:o,...Q6(e)}}function iF(e,t=4,r=1){const{weekYear:i,weekNumber:s,weekday:n}=e,a=fA(uA(i,1,t),r),o=k0(i);let l=s*7+n-a-7+t,d;l<1?(d=i-1,l+=k0(d)):l>o?(d=i+1,l-=k0(i)):d=i;const{month:f,day:p}=DW(d,l);return{year:d,month:f,day:p,...Q6(e)}}function K8(e){const{year:t,month:r,day:i}=e,s=NW(t,r,i);return{year:t,ordinal:s,...Q6(e)}}function sF(e){const{year:t,ordinal:r}=e,{month:i,day:s}=DW(t,r);return{year:t,month:i,day:s,...Q6(e)}}function nF(e,t){if(!Pe(e.localWeekday)||!Pe(e.localWeekNumber)||!Pe(e.localWeekYear)){if(!Pe(e.weekday)||!Pe(e.weekNumber)||!Pe(e.weekYear))throw new p0("Cannot mix locale-based week fields with ISO-based week fields");return Pe(e.localWeekday)||(e.weekday=e.localWeekday),Pe(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Pe(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function lme(e,t=4,r=1){const i=Z6(e.weekYear),s=Vn(e.weekNumber,1,xv(e.weekYear,t,r)),n=Vn(e.weekday,1,7);return i?s?n?!1:Dn("weekday",e.weekday):Dn("week",e.weekNumber):Dn("weekYear",e.weekYear)}function cme(e){const t=Z6(e.year),r=Vn(e.ordinal,1,k0(e.year));return t?r?!1:Dn("ordinal",e.ordinal):Dn("year",e.year)}function VW(e){const t=Z6(e.year),r=Vn(e.month,1,12),i=Vn(e.day,1,y_(e.year,e.month));return t?r?i?!1:Dn("day",e.day):Dn("month",e.month):Dn("year",e.year)}function zW(e){const{hour:t,minute:r,second:i,millisecond:s}=e,n=Vn(t,0,23)||t===24&&r===0&&i===0&&s===0,a=Vn(r,0,59),o=Vn(i,0,59),l=Vn(s,0,999);return n?a?o?l?!1:Dn("millisecond",s):Dn("second",i):Dn("minute",r):Dn("hour",t)}function Pe(e){return typeof e>"u"}function du(e){return typeof e=="number"}function Z6(e){return typeof e=="number"&&e%1===0}function dme(e){return typeof e=="string"}function ume(e){return Object.prototype.toString.call(e)==="[object Date]"}function jW(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function qW(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function fme(e){return Array.isArray(e)?e:[e]}function aF(e,t,r){if(e.length!==0)return e.reduce((i,s)=>{const n=[t(s),s];return i&&r(i[0],n[0])===i[0]?i:n},null)[1]}function pme(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function gy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tx(e){if(e==null)return null;if(typeof e!="object")throw new wi("Week settings must be an object");if(!Vn(e.firstDay,1,7)||!Vn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Vn(t,1,7)))throw new wi("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Vn(e,t,r){return Z6(e)&&e>=t&&e<=r}function hme(e,t){return e-t*Math.floor(e/t)}function _r(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Rd(e){if(!(Pe(e)||e===null||e===""))return parseInt(e,10)}function Xu(e){if(!(Pe(e)||e===null||e===""))return parseFloat(e)}function pA(e){if(!(Pe(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function hA(e,t,r=!1){const i=10**t;return(r?Math.trunc:Math.round)(e*i)/i}function I2(e){return e%4===0&&(e%100!==0||e%400===0)}function k0(e){return I2(e)?366:365}function y_(e,t){const r=hme(t-1,12)+1,i=e+(t-r)/12;return r===2?I2(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function J6(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function oF(e,t,r){return-fA(uA(e,1,t),r)+t-1}function xv(e,t=4,r=1){const i=oF(e,t,r),s=oF(e+1,t,r);return(k0(e)-i+s)/7}function rx(e){return e>99?e:e>nr.twoDigitCutoffYear?1900+e:2e3+e}function BW(e,t,r,i=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(n.timeZone=i);const a={timeZoneName:t,...n},o=new Intl.DateTimeFormat(r,a).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function Y6(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,s=r<0||Object.is(r,-0)?-i:i;return r*60+s}function UW(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new wi(`Invalid unit value ${e}`);return t}function b_(e,t){const r={};for(const i in e)if(gy(e,i)){const s=e[i];if(s==null)continue;r[t(i)]=UW(s)}return r}function N1(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${_r(r,2)}:${_r(i,2)}`;case"narrow":return`${s}${r}${i>0?`:${i}`:""}`;case"techie":return`${s}${_r(r,2)}${_r(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Q6(e){return pme(e,["hour","minute","second","millisecond"])}const mme=["January","February","March","April","May","June","July","August","September","October","November","December"],GW=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yme=["J","F","M","A","M","J","J","A","S","O","N","D"];function HW(e){switch(e){case"narrow":return[...yme];case"short":return[...GW];case"long":return[...mme];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const WW=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ZW=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bme=["M","T","W","T","F","S","S"];function JW(e){switch(e){case"narrow":return[...bme];case"short":return[...ZW];case"long":return[...WW];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const YW=["AM","PM"],gme=["Before Christ","Anno Domini"],vme=["BC","AD"],wme=["B","A"];function QW(e){switch(e){case"narrow":return[...wme];case"short":return[...vme];case"long":return[...gme];default:return null}}function _me(e){return YW[e.hour<12?0:1]}function Sme(e,t){return JW(t)[e.weekday-1]}function $me(e,t){return HW(t)[e.month-1]}function xme(e,t){return QW(t)[e.year<0?0:1]}function Eme(e,t,r="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&n){const p=e==="days";switch(t){case 1:return p?"tomorrow":`next ${s[e][0]}`;case-1:return p?"yesterday":`last ${s[e][0]}`;case 0:return p?"today":`this ${s[e][0]}`}}const a=Object.is(t,-0)||t<0,o=Math.abs(t),l=o===1,d=s[e],f=i?l?d[1]:d[2]||d[1]:l?s[e][0]:e;return a?`${o} ${f} ago`:`in ${o} ${f}`}function lF(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const Tme={D:h_,DD:yW,DDD:bW,DDDD:gW,t:vW,tt:wW,ttt:_W,tttt:SW,T:$W,TT:xW,TTT:EW,TTTT:TW,f:IW,ff:MW,fff:kW,ffff:RW,F:CW,FF:AW,FFF:LW,FFFF:OW};class xi{static create(t,r={}){return new xi(t,r)}static parseFormat(t){let r=null,i="",s=!1;const n=[];for(let a=0;a<t.length;a++){const o=t.charAt(a);o==="'"?(i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),r=null,i="",s=!s):s||o===r?i+=o:(i.length>0&&n.push({literal:/^\s+$/.test(i),val:i}),i=o,r=o)}return i.length>0&&n.push({literal:s||/^\s+$/.test(i),val:i}),n}static macroTokenToFormatOpts(t){return Tme[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return _r(t,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,b)=>this.loc.extract(t,y,b),a=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",o=()=>i?_me(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,b)=>i?$me(t,y):n(b?{month:y}:{month:y,day:"numeric"},"month"),d=(y,b)=>i?Sme(t,y):n(b?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const b=xi.macroTokenToFormatOpts(y);return b?this.formatWithSystemDefault(t,b):y},p=y=>i?xme(t,y):n({era:y},"era"),m=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return lF(xi.parseFormat(r),m)}formatDurationFromString(t,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>d=>{const f=i(d);return f?this.num(l.get(f),d.length):d},n=xi.parseFormat(r),a=n.reduce((l,{literal:d,val:f})=>d?l:l.concat(f),[]),o=t.shiftTo(...a.map(i).filter(l=>l));return lF(n,s(o))}}const KW=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yy(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function Qy(...e){return t=>e.reduce(([r,i,s],n)=>{const[a,o,l]=n(t,s);return[{...r,...a},o||i,l]},[{},null,1]).slice(0,2)}function Ky(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const s=r.exec(e);if(s)return i(s)}return[null,null]}function XW(...e){return(t,r)=>{const i={};let s;for(s=0;s<e.length;s++)i[e[s]]=Rd(t[r+s]);return[i,null,r+s]}}const eZ=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ime=`(?:${eZ.source}?(?:\\[(${KW.source})\\])?)?`,mA=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,tZ=RegExp(`${mA.source}${Ime}`),yA=RegExp(`(?:T${tZ.source})?`),Cme=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mme=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ame=/(\d{4})-?(\d{3})/,kme=XW("weekYear","weekNumber","weekDay"),Lme=XW("year","ordinal"),Rme=/(\d{4})-(\d\d)-(\d\d)/,rZ=RegExp(`${mA.source} ?(?:${eZ.source}|(${KW.source}))?`),Ome=RegExp(`(?: ${rZ.source})?`);function L0(e,t,r){const i=e[t];return Pe(i)?r:Rd(i)}function Fme(e,t){return[{year:L0(e,t),month:L0(e,t+1,1),day:L0(e,t+2,1)},null,t+3]}function Xy(e,t){return[{hours:L0(e,t,0),minutes:L0(e,t+1,0),seconds:L0(e,t+2,0),milliseconds:pA(e[t+3])},null,t+4]}function C2(e,t){const r=!e[t]&&!e[t+1],i=Y6(e[t+1],e[t+2]),s=r?null:$r.instance(i);return[{},s,t+3]}function M2(e,t){const r=e[t]?Ls.create(e[t]):null;return[{},r,t+1]}const Pme=RegExp(`^T?${mA.source}$`),Nme=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Dme(e){const[t,r,i,s,n,a,o,l,d]=e,f=t[0]==="-",p=l&&l[0]==="-",m=(y,b=!1)=>y!==void 0&&(b||y&&f)?-y:y;return[{years:m(Xu(r)),months:m(Xu(i)),weeks:m(Xu(s)),days:m(Xu(n)),hours:m(Xu(a)),minutes:m(Xu(o)),seconds:m(Xu(l),l==="-0"),milliseconds:m(pA(d),p)}]}const Vme={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bA(e,t,r,i,s,n,a){const o={year:t.length===2?rx(Rd(t)):Rd(t),month:GW.indexOf(r)+1,day:Rd(i),hour:Rd(s),minute:Rd(n)};return a&&(o.second=Rd(a)),e&&(o.weekday=e.length>3?WW.indexOf(e)+1:ZW.indexOf(e)+1),o}const zme=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jme(e){const[,t,r,i,s,n,a,o,l,d,f,p]=e,m=bA(t,s,i,r,n,a,o);let y;return l?y=Vme[l]:d?y=0:y=Y6(f,p),[m,new $r(y)]}function qme(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Bme=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ume=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Gme=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function cF(e){const[,t,r,i,s,n,a,o]=e;return[bA(t,s,i,r,n,a,o),$r.utcInstance]}function Hme(e){const[,t,r,i,s,n,a,o]=e;return[bA(t,o,r,i,s,n,a),$r.utcInstance]}const Wme=Yy(Cme,yA),Zme=Yy(Mme,yA),Jme=Yy(Ame,yA),Yme=Yy(tZ),iZ=Qy(Fme,Xy,C2,M2),Qme=Qy(kme,Xy,C2,M2),Kme=Qy(Lme,Xy,C2,M2),Xme=Qy(Xy,C2,M2);function e0e(e){return Ky(e,[Wme,iZ],[Zme,Qme],[Jme,Kme],[Yme,Xme])}function t0e(e){return Ky(qme(e),[zme,jme])}function r0e(e){return Ky(e,[Bme,cF],[Ume,cF],[Gme,Hme])}function i0e(e){return Ky(e,[Nme,Dme])}const s0e=Qy(Xy);function n0e(e){return Ky(e,[Pme,s0e])}const a0e=Yy(Rme,Ome),o0e=Yy(rZ),l0e=Qy(Xy,C2,M2);function c0e(e){return Ky(e,[a0e,iZ],[o0e,l0e])}const dF="Invalid Duration",sZ={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},d0e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...sZ},hn=146097/400,Eh=146097/4800,u0e={years:{quarters:4,months:12,weeks:hn/7,days:hn,hours:hn*24,minutes:hn*24*60,seconds:hn*24*60*60,milliseconds:hn*24*60*60*1e3},quarters:{months:3,weeks:hn/28,days:hn/4,hours:hn*24/4,minutes:hn*24*60/4,seconds:hn*24*60*60/4,milliseconds:hn*24*60*60*1e3/4},months:{weeks:Eh/7,days:Eh,hours:Eh*24,minutes:Eh*24*60,seconds:Eh*24*60*60,milliseconds:Eh*24*60*60*1e3},...sZ},_p=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],f0e=_p.slice(0).reverse();function Uc(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Qe(i)}function nZ(e,t){let r=t.milliseconds??0;for(const i of f0e.slice(1))t[i]&&(r+=t[i]*e[i].milliseconds);return r}function uF(e,t){const r=nZ(e,t)<0?-1:1;_p.reduceRight((i,s)=>{if(Pe(t[s]))return i;if(i){const n=t[i]*r,a=e[s][i],o=Math.floor(n/a);t[s]+=o*r,t[i]-=o*a*r}return s},null),_p.reduce((i,s)=>{if(Pe(t[s]))return i;if(i){const n=t[i]%1;t[i]-=n,t[s]+=n*e[i][s]}return s},null)}function p0e(e){const t={};for(const[r,i]of Object.entries(e))i!==0&&(t[r]=i);return t}class Qe{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let i=r?u0e:d0e;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||ft.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return Qe.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new wi(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Qe({values:b_(t,Qe.normalizeUnit),loc:ft.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(du(t))return Qe.fromMillis(t);if(Qe.isDuration(t))return t;if(typeof t=="object")return Qe.fromObject(t);throw new wi(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=i0e(t);return i?Qe.fromObject(i,r):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=n0e(t);return i?Qe.fromObject(i,r):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new wi("need to specify a reason the Duration is invalid");const i=t instanceof Va?t:new Va(t,r);if(nr.throwOnInvalid)throw new Nhe(i);return new Qe({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new mW(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?xi.create(this.loc,i).formatDurationFromString(this,t):dF}toHuman(t={}){if(!this.isValid)return dF;const r=_p.map(i=>{const s=this.values[i];return Pe(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=hA(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},ae.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?nZ(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t),i={};for(const s of _p)(gy(r.values,s)||gy(this.values,s))&&(i[s]=r.get(s)+this.get(s));return Uc(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=UW(t(this.values[i],i));return Uc(this,{values:r},!0)}get(t){return this[Qe.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...b_(t,Qe.normalizeUnit)};return Uc(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:s}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:s,conversionAccuracy:i};return Uc(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return uF(this.matrix,t),Uc(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=p0e(this.normalize().shiftToAll().toObject());return Uc(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>Qe.normalizeUnit(a));const r={},i={},s=this.toObject();let n;for(const a of _p)if(t.indexOf(a)>=0){n=a;let o=0;for(const d in i)o+=this.matrix[d][a]*i[d],i[d]=0;du(s[a])&&(o+=s[a]);const l=Math.trunc(o);r[a]=l,i[a]=(o*1e3-l*1e3)/1e3}else du(s[a])&&(i[a]=s[a]);for(const a in i)i[a]!==0&&(r[n]+=a===n?i[a]:i[a]/this.matrix[n][a]);return uF(this.matrix,r),Uc(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Uc(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of _p)if(!r(this.values[i],t.values[i]))return!1;return!0}}const Th="Invalid Interval";function h0e(e,t){return!e||!e.isValid?sr.invalid("missing or invalid start"):!t||!t.isValid?sr.invalid("missing or invalid end"):t<e?sr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class sr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new wi("need to specify a reason the Interval is invalid");const i=t instanceof Va?t:new Va(t,r);if(nr.throwOnInvalid)throw new Phe(i);return new sr({invalid:i})}static fromDateTimes(t,r){const i=Tb(t),s=Tb(r),n=h0e(i,s);return n??new sr({start:i,end:s})}static after(t,r){const i=Qe.fromDurationLike(r),s=Tb(t);return sr.fromDateTimes(s,s.plus(i))}static before(t,r){const i=Qe.fromDurationLike(r),s=Tb(t);return sr.fromDateTimes(s.minus(i),s)}static fromISO(t,r){const[i,s]=(t||"").split("/",2);if(i&&s){let n,a;try{n=ae.fromISO(i,r),a=n.isValid}catch{a=!1}let o,l;try{o=ae.fromISO(s,r),l=o.isValid}catch{l=!1}if(a&&l)return sr.fromDateTimes(n,o);if(a){const d=Qe.fromISO(s,r);if(d.isValid)return sr.after(n,d)}else if(l){const d=Qe.fromISO(i,r);if(d.isValid)return sr.before(o,d)}}return sr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(t,r);let s;return r!=null&&r.useLocaleWeeks?s=this.end.reconfigure({locale:i.locale}):s=this.end,s=s.startOf(t,r),Math.floor(s.diff(i,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?sr.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Tb).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),i=[];let{s}=this,n=0;for(;s<this.e;){const a=r[n]||this.e,o=+a>+this.e?this.e:a;i.push(sr.fromDateTimes(s,o)),s=o,n+=1}return i}splitBy(t){const r=Qe.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,s=1,n;const a=[];for(;i<this.e;){const o=this.start.plus(r.mapUnits(l=>l*s));n=+o>+this.e?this.e:o,a.push(sr.fromDateTimes(i,n)),i=n,s+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:sr.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return sr.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],a)=>n?n.overlaps(a)||n.abutsStart(a)?[s,n.union(a)]:[s.concat([n]),a]:[s,a],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...n),o=a.sort((l,d)=>l.time-d.time);for(const l of o)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&s.push(sr.fromDateTimes(r,l.time)),r=null);return sr.merge(s)}difference(...t){return sr.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Th}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=h_,r={}){return this.isValid?xi.create(this.s.loc.clone(r),t).formatInterval(this):Th}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Th}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Th}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Th}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Th}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Qe.invalid(this.invalidReason)}mapEndpoints(t){return sr.fromDateTimes(t(this.s),t(this.e))}}class kw{static hasDST(t=nr.defaultZone){const r=ae.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Ls.isValidZone(t)}static normalizeZone(t){return Bd(t,nr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||ft.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||ft.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||ft.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||ft.create(r,i,n)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||ft.create(r,i,n)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||ft.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||ft.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ft.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return ft.create(r,null,"gregory").eras(t)}static features(){return{relative:jW(),localeWeek:qW()}}}function fF(e,t){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(Qe.fromMillis(i).as("days"))}function m0e(e,t,r){const i=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const f=fF(l,d);return(f-f%7)/7}],["days",fF]],s={},n=e;let a,o;for(const[l,d]of i)r.indexOf(l)>=0&&(a=l,s[l]=d(e,t),o=n.plus(s),o>t?(s[l]--,e=n.plus(s),e>t&&(o=e,s[l]--,e=n.plus(s))):e=o);return[e,s,o,a]}function y0e(e,t,r,i){let[s,n,a,o]=m0e(e,t,r);const l=t-s,d=r.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);d.length===0&&(a<t&&(a=s.plus({[o]:1})),a!==s&&(n[o]=(n[o]||0)+l/(a-s)));const f=Qe.fromObject(n,i);return d.length>0?Qe.fromMillis(l,i).shiftTo(...d).plus(f):f}const b0e="missing Intl.DateTimeFormat.formatToParts support";function nt(e,t=r=>r){return{regex:e,deser:([r])=>t(ame(r))}}const g0e=" ",aZ=`[ ${g0e}]`,oZ=new RegExp(aZ,"g");function v0e(e){return e.replace(/\./g,"\\.?").replace(oZ,aZ)}function pF(e){return e.replace(/\./g,"").replace(oZ," ").toLowerCase()}function ra(e,t){return e===null?null:{regex:RegExp(e.map(v0e).join("|")),deser:([r])=>e.findIndex(i=>pF(r)===pF(i))+t}}function hF(e,t){return{regex:e,deser:([,r,i])=>Y6(r,i),groups:t}}function Lw(e){return{regex:e,deser:([t])=>t}}function w0e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function _0e(e,t){const r=ta(t),i=ta(t,"{2}"),s=ta(t,"{3}"),n=ta(t,"{4}"),a=ta(t,"{6}"),o=ta(t,"{1,2}"),l=ta(t,"{1,3}"),d=ta(t,"{1,6}"),f=ta(t,"{1,9}"),p=ta(t,"{2,4}"),m=ta(t,"{4,6}"),y=v=>({regex:RegExp(w0e(v.val)),deser:([w])=>w,literal:!0}),g=(v=>{if(e.literal)return y(v);switch(v.val){case"G":return ra(t.eras("short"),0);case"GG":return ra(t.eras("long"),0);case"y":return nt(d);case"yy":return nt(p,rx);case"yyyy":return nt(n);case"yyyyy":return nt(m);case"yyyyyy":return nt(a);case"M":return nt(o);case"MM":return nt(i);case"MMM":return ra(t.months("short",!0),1);case"MMMM":return ra(t.months("long",!0),1);case"L":return nt(o);case"LL":return nt(i);case"LLL":return ra(t.months("short",!1),1);case"LLLL":return ra(t.months("long",!1),1);case"d":return nt(o);case"dd":return nt(i);case"o":return nt(l);case"ooo":return nt(s);case"HH":return nt(i);case"H":return nt(o);case"hh":return nt(i);case"h":return nt(o);case"mm":return nt(i);case"m":return nt(o);case"q":return nt(o);case"qq":return nt(i);case"s":return nt(o);case"ss":return nt(i);case"S":return nt(l);case"SSS":return nt(s);case"u":return Lw(f);case"uu":return Lw(o);case"uuu":return nt(r);case"a":return ra(t.meridiems(),0);case"kkkk":return nt(n);case"kk":return nt(p,rx);case"W":return nt(o);case"WW":return nt(i);case"E":case"c":return nt(r);case"EEE":return ra(t.weekdays("short",!1),1);case"EEEE":return ra(t.weekdays("long",!1),1);case"ccc":return ra(t.weekdays("short",!0),1);case"cccc":return ra(t.weekdays("long",!0),1);case"Z":case"ZZ":return hF(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return hF(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return Lw(/[a-z_+-/]{1,256}?/i);case" ":return Lw(/[^\S\n\r]/);default:return y(v)}})(e)||{invalidReason:b0e};return g.token=e,g}const S0e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function $0e(e,t,r){const{type:i,value:s}=e;if(i==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[i];let a=i;i==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=S0e[a];if(typeof o=="object"&&(o=o[n]),o)return{literal:!1,val:o}}function x0e(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function E0e(e,t,r){const i=e.match(t);if(i){const s={};let n=1;for(const a in r)if(gy(r,a)){const o=r[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(i.slice(n,n+l))),n+=l}return[i,s]}else return[i,{}]}function T0e(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return Pe(e.z)||(r=Ls.create(e.z)),Pe(e.Z)||(r||(r=new $r(e.Z)),i=e.Z),Pe(e.q)||(e.M=(e.q-1)*3+1),Pe(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Pe(e.u)||(e.S=pA(e.u)),[Object.keys(e).reduce((n,a)=>{const o=t(a);return o&&(n[o]=e[a]),n},{}),r,i]}let X8=null;function I0e(){return X8||(X8=ae.fromMillis(1555555555555)),X8}function C0e(e,t){if(e.literal)return e;const r=xi.macroTokenToFormatOpts(e.val),i=uZ(r,t);return i==null||i.includes(void 0)?e:i}function lZ(e,t){return Array.prototype.concat(...e.map(r=>C0e(r,t)))}class cZ{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=lZ(xi.parseFormat(r),t),this.units=this.tokens.map(i=>_0e(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,s]=x0e(this.units);this.regex=RegExp(i,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[r,i]=E0e(t,this.regex,this.handlers),[s,n,a]=i?T0e(i):[null,null,void 0];if(gy(i,"a")&&gy(i,"H"))throw new p0("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:n,specificOffset:a}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function dZ(e,t,r){return new cZ(e,r).explainFromTokens(t)}function M0e(e,t,r){const{result:i,zone:s,specificOffset:n,invalidReason:a}=dZ(e,t,r);return[i,s,n,a]}function uZ(e,t){if(!e)return null;const i=xi.create(t,e).dtFormatter(I0e()),s=i.formatToParts(),n=i.resolvedOptions();return s.map(a=>$0e(a,e,n))}const e7="Invalid DateTime",A0e=864e13;function ag(e){return new Va("unsupported zone",`the zone "${e.name}" is not supported`)}function t7(e){return e.weekData===null&&(e.weekData=m_(e.c)),e.weekData}function r7(e){return e.localWeekData===null&&(e.localWeekData=m_(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function ef(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ae({...r,...t,old:r})}function fZ(e,t,r){let i=e-t*60*1e3;const s=r.offset(i);if(t===s)return[i,t];i-=(s-t)*60*1e3;const n=r.offset(i);return s===n?[i,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function Rw(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function d9(e,t,r){return fZ(J6(e),t,r)}function mF(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:i,month:s,day:Math.min(e.c.day,y_(i,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=Qe.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=J6(n);let[l,d]=fZ(o,r,e.zone);return a!==0&&(l+=a,d=e.zone.offset(l)),{ts:l,o:d}}function Ih(e,t,r,i,s,n){const{setZone:a,zone:o}=r;if(e&&Object.keys(e).length!==0||t){const l=t||o,d=ae.fromObject(e,{...r,zone:l,specificOffset:n});return a?d:d.setZone(o)}else return ae.invalid(new Va("unparsable",`the input "${s}" can't be parsed as ${i}`))}function Ow(e,t,r=!0){return e.isValid?xi.create(ft.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function i7(e,t){const r=e.c.year>9999||e.c.year<0;let i="";return r&&e.c.year>=0&&(i+="+"),i+=_r(e.c.year,r?6:4),t?(i+="-",i+=_r(e.c.month),i+="-",i+=_r(e.c.day)):(i+=_r(e.c.month),i+=_r(e.c.day)),i}function yF(e,t,r,i,s,n){let a=_r(e.c.hour);return t?(a+=":",a+=_r(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=":")):a+=_r(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=_r(e.c.second),(e.c.millisecond!==0||!i)&&(a+=".",a+=_r(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?a+="Z":e.o<0?(a+="-",a+=_r(Math.trunc(-e.o/60)),a+=":",a+=_r(Math.trunc(-e.o%60))):(a+="+",a+=_r(Math.trunc(e.o/60)),a+=":",a+=_r(Math.trunc(e.o%60)))),n&&(a+="["+e.zone.ianaName+"]"),a}const pZ={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},k0e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},L0e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hZ=["year","month","day","hour","minute","second","millisecond"],R0e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],O0e=["year","ordinal","hour","minute","second","millisecond"];function F0e(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new mW(e);return t}function bF(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return F0e(e)}}function P0e(e){return f9[e]||(u9===void 0&&(u9=nr.now()),f9[e]=e.offset(u9)),f9[e]}function gF(e,t){const r=Bd(t.zone,nr.defaultZone);if(!r.isValid)return ae.invalid(ag(r));const i=ft.fromObject(t);let s,n;if(Pe(e.year))s=nr.now();else{for(const l of hZ)Pe(e[l])&&(e[l]=pZ[l]);const a=VW(e)||zW(e);if(a)return ae.invalid(a);const o=P0e(r);[s,n]=d9(e,o,r)}return new ae({ts:s,zone:r,loc:i,o:n})}function vF(e,t,r){const i=Pe(r.round)?!0:r.round,s=(a,o)=>(a=hA(a,i||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,o)),n=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return s(n(r.unit),r.unit);for(const a of r.units){const o=n(a);if(Math.abs(o)>=1)return s(o,a)}return s(e>t?-0:0,r.units[r.units.length-1])}function wF(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let u9,f9={};class ae{constructor(t){const r=t.zone||nr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new Va("invalid input"):null)||(r.isValid?null:ag(r));this.ts=Pe(t.ts)?nr.now():t.ts;let s=null,n=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[s,n]=[t.old.c,t.old.o];else{const o=du(t.o)&&!t.old?t.o:r.offset(this.ts);s=Rw(this.ts,o),i=Number.isNaN(s.year)?new Va("invalid input"):null,s=i?null:s,n=i?null:o}this._zone=r,this.loc=t.loc||ft.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new ae({})}static local(){const[t,r]=wF(arguments),[i,s,n,a,o,l,d]=r;return gF({year:i,month:s,day:n,hour:a,minute:o,second:l,millisecond:d},t)}static utc(){const[t,r]=wF(arguments),[i,s,n,a,o,l,d]=r;return t.zone=$r.utcInstance,gF({year:i,month:s,day:n,hour:a,minute:o,second:l,millisecond:d},t)}static fromJSDate(t,r={}){const i=ume(t)?t.valueOf():NaN;if(Number.isNaN(i))return ae.invalid("invalid input");const s=Bd(r.zone,nr.defaultZone);return s.isValid?new ae({ts:i,zone:s,loc:ft.fromObject(r)}):ae.invalid(ag(s))}static fromMillis(t,r={}){if(du(t))return t<-864e13||t>A0e?ae.invalid("Timestamp out of range"):new ae({ts:t,zone:Bd(r.zone,nr.defaultZone),loc:ft.fromObject(r)});throw new wi(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(du(t))return new ae({ts:t*1e3,zone:Bd(r.zone,nr.defaultZone),loc:ft.fromObject(r)});throw new wi("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=Bd(r.zone,nr.defaultZone);if(!i.isValid)return ae.invalid(ag(i));const s=ft.fromObject(r),n=b_(t,bF),{minDaysInFirstWeek:a,startOfWeek:o}=nF(n,s),l=nr.now(),d=Pe(r.specificOffset)?i.offset(l):r.specificOffset,f=!Pe(n.ordinal),p=!Pe(n.year),m=!Pe(n.month)||!Pe(n.day),y=p||m,b=n.weekYear||n.weekNumber;if((y||f)&&b)throw new p0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&f)throw new p0("Can't mix ordinal dates with month/day");const g=b||n.weekday&&!y;let v,w,_=Rw(l,d);g?(v=R0e,w=k0e,_=m_(_,a,o)):f?(v=O0e,w=L0e,_=K8(_)):(v=hZ,w=pZ);let x=!1;for(const z of v){const j=n[z];Pe(j)?x?n[z]=w[z]:n[z]=_[z]:x=!0}const T=g?lme(n,a,o):f?cme(n):VW(n),k=T||zW(n);if(k)return ae.invalid(k);const A=g?iF(n,a,o):f?sF(n):n,[M,R]=d9(A,d,i),P=new ae({ts:M,zone:i,o:R,loc:s});return n.weekday&&y&&t.weekday!==P.weekday?ae.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${P.toISO()}`):P.isValid?P:ae.invalid(P.invalid)}static fromISO(t,r={}){const[i,s]=e0e(t);return Ih(i,s,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,s]=t0e(t);return Ih(i,s,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,s]=r0e(t);return Ih(i,s,r,"HTTP",r)}static fromFormat(t,r,i={}){if(Pe(t)||Pe(r))throw new wi("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=i,a=ft.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[o,l,d,f]=M0e(a,t,r);return f?ae.invalid(f):Ih(o,l,i,`format ${r}`,t,d)}static fromString(t,r,i={}){return ae.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,s]=c0e(t);return Ih(i,s,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new wi("need to specify a reason the DateTime is invalid");const i=t instanceof Va?t:new Va(t,r);if(nr.throwOnInvalid)throw new Fhe(i);return new ae({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const i=uZ(t,ft.fromObject(r));return i?i.map(s=>s?s.val:null).join(""):null}static expandFormat(t,r={}){return lZ(xi.parseFormat(t),ft.fromObject(r)).map(s=>s.val).join("")}static resetCache(){u9=void 0,f9={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?t7(this).weekYear:NaN}get weekNumber(){return this.isValid?t7(this).weekNumber:NaN}get weekday(){return this.isValid?t7(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?r7(this).weekday:NaN}get localWeekNumber(){return this.isValid?r7(this).weekNumber:NaN}get localWeekYear(){return this.isValid?r7(this).weekYear:NaN}get ordinal(){return this.isValid?K8(this.c).ordinal:NaN}get monthShort(){return this.isValid?kw.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?kw.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?kw.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?kw.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,i=J6(this.c),s=this.zone.offset(i-t),n=this.zone.offset(i+t),a=this.zone.offset(i-s*r),o=this.zone.offset(i-n*r);if(a===o)return[this];const l=i-a*r,d=i-o*r,f=Rw(l,a),p=Rw(d,o);return f.hour===p.hour&&f.minute===p.minute&&f.second===p.second&&f.millisecond===p.millisecond?[ef(this,{ts:l}),ef(this,{ts:d})]:[this]}get isInLeapYear(){return I2(this.year)}get daysInMonth(){return y_(this.year,this.month)}get daysInYear(){return this.isValid?k0(this.year):NaN}get weeksInWeekYear(){return this.isValid?xv(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xv(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:s}=xi.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:s}}toUTC(t=0,r={}){return this.setZone($r.instance(t),r)}toLocal(){return this.setZone(nr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=Bd(t,nr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(r||i){const n=t.offset(this.ts),a=this.toObject();[s]=d9(a,n,t)}return ef(this,{ts:s,zone:t})}else return ae.invalid(ag(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const s=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return ef(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=b_(t,bF),{minDaysInFirstWeek:i,startOfWeek:s}=nF(r,this.loc),n=!Pe(r.weekYear)||!Pe(r.weekNumber)||!Pe(r.weekday),a=!Pe(r.ordinal),o=!Pe(r.year),l=!Pe(r.month)||!Pe(r.day),d=o||l,f=r.weekYear||r.weekNumber;if((d||a)&&f)throw new p0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new p0("Can't mix ordinal dates with month/day");let p;n?p=iF({...m_(this.c,i,s),...r},i,s):Pe(r.ordinal)?(p={...this.toObject(),...r},Pe(r.day)&&(p.day=Math.min(y_(p.year,p.month),p.day))):p=sF({...K8(this.c),...r});const[m,y]=d9(p,this.o,this.zone);return ef(this,{ts:m,o:y})}plus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t);return ef(this,mF(this,r))}minus(t){if(!this.isValid)return this;const r=Qe.fromDurationLike(t).negate();return ef(this,mF(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},s=Qe.normalizeUnit(t);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(s==="weeks")if(r){const n=this.loc.getStartOfWeek(),{weekday:a}=this;a<n&&(i.weekNumber=this.weekNumber-1),i.weekday=n}else i.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);i.month=(n-1)*3+1}return this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?xi.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):e7}toLocaleString(t=h_,r={}){return this.isValid?xi.create(this.loc.clone(r),t).formatDateTime(this):e7}toLocaleParts(t={}){return this.isValid?xi.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const a=t==="extended";let o=i7(this,a);return o+="T",o+=yF(this,a,r,i,s,n),o}toISODate({format:t="extended"}={}){return this.isValid?i7(this,t==="extended"):null}toISOWeekDate(){return Ow(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:n=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+yF(this,a==="extended",r,t,i,n):null}toRFC2822(){return Ow(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ow(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?i7(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(r||t)&&(i&&(s+=" "),r?s+="z":t&&(s+="ZZ")),Ow(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():e7}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return Qe.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=fme(r).map(Qe.normalizeUnit),a=t.valueOf()>this.valueOf(),o=a?this:t,l=a?t:this,d=y0e(o,l,n,s);return a?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(ae.now(),t,r)}until(t){return this.isValid?sr.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(r,i)<=s&&s<=n.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||ae.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),vF(r,this.plus(i),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?vF(t.base||ae.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ae.isDateTime))throw new wi("min requires all arguments be DateTimes");return aF(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(ae.isDateTime))throw new wi("max requires all arguments be DateTimes");return aF(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:s=null,numberingSystem:n=null}=i,a=ft.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return dZ(a,t,r)}static fromStringExplain(t,r,i={}){return ae.fromFormatExplain(t,r,i)}static buildFormatParser(t,r={}){const{locale:i=null,numberingSystem:s=null}=r,n=ft.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return new cZ(n,t)}static fromFormatParser(t,r,i={}){if(Pe(t)||Pe(r))throw new wi("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=i,a=ft.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!a.equals(r.locale))throw new wi(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);const{result:o,zone:l,specificOffset:d,invalidReason:f}=r.explainFromTokens(t);return f?ae.invalid(f):Ih(o,l,i,`format ${r.format}`,t,d)}static get DATE_SHORT(){return h_}static get DATE_MED(){return yW}static get DATE_MED_WITH_WEEKDAY(){return Dhe}static get DATE_FULL(){return bW}static get DATE_HUGE(){return gW}static get TIME_SIMPLE(){return vW}static get TIME_WITH_SECONDS(){return wW}static get TIME_WITH_SHORT_OFFSET(){return _W}static get TIME_WITH_LONG_OFFSET(){return SW}static get TIME_24_SIMPLE(){return $W}static get TIME_24_WITH_SECONDS(){return xW}static get TIME_24_WITH_SHORT_OFFSET(){return EW}static get TIME_24_WITH_LONG_OFFSET(){return TW}static get DATETIME_SHORT(){return IW}static get DATETIME_SHORT_WITH_SECONDS(){return CW}static get DATETIME_MED(){return MW}static get DATETIME_MED_WITH_SECONDS(){return AW}static get DATETIME_MED_WITH_WEEKDAY(){return Vhe}static get DATETIME_FULL(){return kW}static get DATETIME_FULL_WITH_SECONDS(){return LW}static get DATETIME_HUGE(){return RW}static get DATETIME_HUGE_WITH_SECONDS(){return OW}}function Tb(e){if(ae.isDateTime(e))return e;if(e&&e.valueOf&&du(e.valueOf()))return ae.fromJSDate(e);if(e&&typeof e=="object")return ae.fromObject(e);throw new wi(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const N0e="shortOffset";function D0e(e){return"timeZoneIANA"in e}function V0e(e){return e.startsWith("UTC")}function g_(e,t=!1){return{json:{read:{source:e,reader:(r,i)=>i[e]?p9(i[e]):null},write:!!t&&{allowNull:!0,writer(r,i){i[e]=r?z0e(r):null}}}}}function p9(e,t=ks){return e?D0e(e)?e.timeZoneIANA:j0e(e,t):t}function z0e(e){return{timeZoneIANA:e}}function j0e(e,t=ks){if(!e||!GO.has(e.timeZone))return t;const r=GO.get(e.timeZone);return V0e(e.timeZone)||e.respectsDaylightSaving?r:q0e(r)}function q0e(e){const t=ae.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${$r.instance(-r).formatOffset(0,"narrow")}`}function mZ(e,t,r,i,s){if(t&&s==="date")return{timeZone:Jo,timeZoneName:void 0};const n=i.timeStyle||i.hour,a=r===nh;return{timeZone:a?s==="timestamp-offset"?void 0:e??Jo:r,timeZoneName:a&&n?N0e:void 0}}function yZ(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));return e===ks||e===nh||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const B0e={year:void 0,month:void 0,day:void 0,weekday:void 0},U0e={hour:void 0,minute:void 0,second:void 0},bZ={timeZone:Jo},eo={year:"numeric",month:"numeric",day:"numeric"},Ib={year:"numeric",month:"long",day:"numeric"},Cb={year:"numeric",month:"short",day:"numeric"},Mb={year:"numeric",month:"long",weekday:"long",day:"numeric"},Od={hour:"numeric",minute:"numeric"},mf={...Od,second:"numeric"},gZ={hourCycle:"h23"},Ab={...Od,...gZ},kb={...mf,...gZ},vZ={"short-date":eo,"short-date-short-time":{...eo,...Od},"short-date-short-time-24":{...eo,...Ab},"short-date-long-time":{...eo,...mf},"short-date-long-time-24":{...eo,...kb},"short-date-le":eo,"short-date-le-short-time":{...eo,...Od},"short-date-le-short-time-24":{...eo,...Ab},"short-date-le-long-time":{...eo,...mf},"short-date-le-long-time-24":{...eo,...kb},"long-month-day-year":Ib,"long-month-day-year-short-time":{...Ib,...Od},"long-month-day-year-short-time-24":{...Ib,...Ab},"long-month-day-year-long-time":{...Ib,...mf},"long-month-day-year-long-time-24":{...Ib,...kb},"day-short-month-year":Cb,"day-short-month-year-short-time":{...Cb,...Od},"day-short-month-year-short-time-24":{...Cb,...Ab},"day-short-month-year-long-time":{...Cb,...mf},"day-short-month-year-long-time-24":{...Cb,...kb},"long-date":Mb,"long-date-short-time":{...Mb,...Od},"long-date-short-time-24":{...Mb,...Ab},"long-date-long-time":{...Mb,...mf},"long-date-long-time-24":{...Mb,...kb},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Od,"long-time":mf},G0e=ar()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),wZ={ar:"ar-u-nu-latn-ca-gregory"};let ix=new WeakMap;const K6=vZ["short-date-short-time"];function H0e(e){let t=ix.get(e);if(!t){const r=Ii(),i=wZ[r]||r,s=X6(e.timeZone??ks),n={...e,timeZone:s};t=new Intl.DateTimeFormat(i,n),ix.set(e,t)}return t}function Ud(e){return vZ[e]}function Qi(e,t=K6){return H0e(t).format(e)}function W0e(e,t=K6){return Qi(new Date(e),{...t,...bZ,...U0e})}function Z0e(e,t=K6){return Qi(new Date(`1970-01-01T${e}Z`),{...t,...bZ,...B0e})}function J0e(e,t=K6){if(t.timeZone)return Qi(new Date(e),t);const r=ae.fromISO(e,{setZone:!0}),i=Ii(),s=wZ[i]??i,n=r.offset===0?Jo:t.timeZone,a={...t,timeZone:n};return r.toLocaleString(a,{locale:s})}function X6(e){switch(e){case ks:return Ohe;case nh:return Jo;default:return e}}cA(()=>{ix=new WeakMap});const Y0e={ar:"ar-u-nu-latn"};let h9=new WeakMap,_Z={};function sx(e){const t=e||_Z;if(!h9.has(t)){const r=Ii(),i=Y0e[Ii()]||r;h9.set(t,new Intl.NumberFormat(i,e))}return h9.get(t)}function v_(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Mi(e,t){return Object.is(e,-0)&&(e=0),sx(t).format(e)}function JGe(e,t=Ii()){var i,s;if(!e)return null;let r=_F.get(t);if(!r){const n=sx().formatToParts(12345.6),a=[...sx({useGrouping:!1}).format(9876543210)].reverse(),o=new Map(a.map((y,b)=>[y,b])),l=new RegExp(`[${(i=n.find(y=>y.type==="group"))==null?void 0:i.value}]`,"g"),d=new RegExp(`[${(s=n.find(y=>y.type==="decimal"))==null?void 0:s.value}]`),f=new RegExp(`[${a.join("")}]`,"g"),p=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,m=/[-\u2212\u2013\u2014\u2015]/g;r=y=>{if((y=y.trim().replaceAll(l,"").replace(d,".").replace(f,g=>String(o.get(g))).replaceAll(p,"").replaceAll(m,"-"))==="")return null;const b=Number(y);return isNaN(b)?null:b},_F.set(t,r)}return r(e)}cA(()=>{h9=new WeakMap,_Z={}});const _F=new Map,SZ=()=>B.getLogger("esri.intl.substitute");function ku(e,t,r={}){const{format:i={}}=r;return Ga(e,s=>Q0e(s,t,i))}function Q0e(e,t,r){let i,s;const n=e.indexOf(":");if(n===-1?i=e.trim():(i=e.slice(0,n).trim(),s=e.slice(n+1).trim()),!i)return"";const a=p2(i,t);if(a==null)return"";const o=(s?r==null?void 0:r[s]:null)??(r==null?void 0:r[i]);return o?K0e(a,o):s?X0e(a,s):gA(a)}function K0e(e,t){switch(t.type){case"date":return Qi(e,t.intlOptions);case"number":return Mi(e,t.intlOptions);default:return SZ().warn("missing format descriptor for key {key}"),gA(e)}}function X0e(e,t){switch(t.toLowerCase()){case"dateformat":return Qi(e);case"numberformat":return Mi(e);default:return SZ().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Qi(e):/^numberformat/i.test(t)?Mi(e):gA(e)}}function gA(e){switch(typeof e){case"string":return e;case"number":return Mi(e);case"boolean":return""+e;default:return e instanceof Date?Qi(e):""}}const SF=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,$Z={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function eye(e){return e in $Z}function $F(e){if(eye(e)){const t=$Z[e];return t===!0?e:t}return null}const og=[],R0=new Map;function xF(e){for(const t of R0.keys())EZ(e.pattern,t)&&R0.delete(t)}function tye(e){return og.includes(e)||(xF(e),og.unshift(e)),Je(()=>{const t=og.indexOf(e);t>-1&&(og.splice(t,1),xF(e))})}async function e4(e){const t=Ii();R0.has(e)||R0.set(e,rye(e,t));const r=R0.get(e);return r&&await iye.add(r),r}function xZ(e){if(!SF.test(e))return null;const t=SF.exec(e);if(t===null)return null;const[,r,i]=t;return $F(r+(i?"-"+i.toUpperCase():""))??$F(r)}async function rye(e,t){const r=[];for(const i of og)if(EZ(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(s){r.push(s)}throw r.length?new I("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new I("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function EZ(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}cA(()=>{R0.clear()});const iye=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Ms())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function sye(e,t,r,i){const s=t.exec(r);if(!s)throw new I("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const n=s[1]?`${s[1]}/`:"",a=s[2],o=xZ(i),l=`${n}${a}.json`,d=o?`${n}${a}_${o}.json`:l;let f;try{f=await EF(e(d))}catch(p){if(d===l)throw new I("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p});try{f=await EF(e(l))}catch(m){throw new I("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m})}}return f}async function EF(e){if(TF.fetchBundleAsset!=null)return TF.fetchBundleAsset(e);const t=await ze(e,{responseType:"text"});return JSON.parse(t.data)}let nye=class{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let s;s=typeof i=="string"?n=>new URL(n,new URL(i,window.location.href)).href:i instanceof URL?n=>new URL(n,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return sye(this.getAssetUrl,this.matcher,t,r)}};function aye(e){return new nye(e)}const TF={};tye(aye({pattern:"esri/",location:Et}));const IF={};function oye(e){var r;const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:((r=e.packages)==null?void 0:r.slice())||[],paths:{...IF.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=IF.baseUrl),t}let lye=class{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...i)=>t[r](...i)})}},m9=class{constructor(){this._dispatcher=new lye,this._workerPostMessage({type:Kr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){U5(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,i){this._dispatcher.addEventListener(t,r,i)}removeEventListener(t,r,i){this._dispatcher.removeEventListener(t,r,i)}_workerPostMessage(t){U5(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=$v(t);if(r&&r.type===Kr.OPEN){const{modulePath:i,jobId:s}=r;let n=await Au.loadWorker(i);n||(n=await import(i));const a=Au.connect(n);this._workerPostMessage({type:Kr.OPENED,jobId:s,data:a})}}};const nx=()=>B.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:cye}=Kr,dye='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Fw,Pw;const CF="Failed to create Worker. Fallback to execute module in main thread";async function uye(){if(!V("esri-workers"))return MF(new m9);if(!Fw&&!Pw)try{const t=dye.split("{CONFIGURATION}").join(fye());Fw=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Pw=t||{}}let e;if(Fw)try{e=new Worker(Fw,{name:"esri-worker-"+pye++})}catch{nx().warn(CF,Pw),e=new m9}else nx().warn(CF,Pw),e=new m9;return MF(e)}async function MF(e){return new Promise(t=>{function r(s){const n=$v(s);n&&n.type===cye&&(e.removeEventListener("message",r),e.removeEventListener("error",i),t(e))}function i(s){s.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",i),nx().warn("Failed to create Worker. Fallback to execute module in main thread",s),(e=new m9).addEventListener("message",r),e.addEventListener("error",i)}e.addEventListener("message",r),e.addEventListener("error",i)})}function fye(){let e;if(it.default!=null){const s={...it};delete s.default,e=JSON.parse(JSON.stringify(s))}else e=JSON.parse(JSON.stringify(it));e.assetsPath=xs(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?xs(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=Ii(),e.has={"esri-csp-restrictions":V("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":V("esri-2d-update-debug"),"esri-2d-log-updating":V("esri-2d-log-updating"),"featurelayer-pbf":V("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":V("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":V("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":V("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":V("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":V("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":V("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":V("featurelayer-snapshot-enabled"),"esri-atomics":V("esri-atomics"),"esri-shared-array-buffer":V("esri-shared-array-buffer"),"esri-tiles-debug":V("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":V("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":V("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=xs(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=xs(e.workers.workerPath):e.workers.workerPath=xs(Et("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=it.workers.loaderConfig,r=oye({baseUrl:t==null?void 0:t.baseUrl,locale:Ii(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t==null?void 0:t.has},map:{...t==null?void 0:t.map},paths:{...t==null?void 0:t.paths},packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{buildDate:lH,fullVersion:jM,revision:cH}})}let pye=0;const{ABORT:AF,INVOKE:hye,OPEN:mye,OPENED:yye,RESPONSE:Lb}=Kr;let bye=class TZ{static async create(t){const r=await uye();return new TZ(r,t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",i=>{i.preventDefault(),B.getLogger("esri.core.workers.WorkerOwner").error(i)})}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:i}=r,s=pW();return new Promise((n,a)=>{const o={resolve:n,reject:a,abortHandle:yM(i,()=>{this._outJobs.delete(s),this._post({type:AF,jobId:s})})};this._outJobs.set(s,o),this._post({type:mye,jobId:s,modulePath:t})})}_onMessage(t){const r=$v(t);if(r)switch(r.type){case yye:this._onOpenedMessage(r);break;case Lb:this._onResponseMessage(r);break;case AF:this._onAbortMessage(r);break;case hye:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,i=t.jobId,s=r.get(i);s&&(s.controller&&s.controller.abort(),r.delete(i))}_onInvokeMessage(t){const{methodName:r,jobId:i,data:s,abortable:n}=t,a=n?new AbortController:null,o=this._inJobs,l=Lhe[r];let d;try{if(typeof l!="function")throw new TypeError(`${r} is not a function`);d=l.call(null,s,{signal:a?a.signal:null})}catch(f){return void this._post({type:Lb,jobId:i,error:Sv(f)})}Ko(d)?(o.set(i,{controller:a,promise:d}),d.then(f=>{o.has(i)&&(o.delete(i),this._post({type:Lb,jobId:i},f))},f=>{o.has(i)&&(o.delete(i),f||(f={message:"Error encountered at method"+r}),fr(f)||this._post({type:Lb,jobId:i,error:Sv(f||{message:`Error encountered at method ${r}`})}))})):this._post({type:Lb,jobId:i},d)}_onOpenedMessage(t){const{jobId:r,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),Ft(s.abortHandle),s.resolve(i))}_onResponseMessage(t){const{jobId:r,error:i,data:s}=t,n=this._outJobs.get(r);n&&(this._outJobs.delete(r),Ft(n.abortHandle),i?n.reject(I.fromJSON(JSON.parse(i))):n.resolve(s))}_post(t,r,i){return oA(this.worker,t,r,i)}};const kF=V("host-browser")?Math.min(navigator.hardwareConcurrency-1,V("workers-pool-size")??8):0;let Sp=V("esri-mobile")?Math.min(kF,3):kF;Sp||(Sp=V("safari")&&V("mac")?7:2);let LF=0;const y9=[];function gye(){CZ()}async function Nw(e,t){const r=new khe,{registryTarget:i,...s}=t;return await r.open(e,s),i&&_he(i,r),r}async function IZ(e,t={}){if(typeof e!="string")throw new I("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(V("host-webworker")&&!V("esri-workers")&&(r="local"),r==="local"){let i=await Au.loadWorker(e);i||(i=await import(e)),Ce(t.signal);const s=t.client||i;return Nw([Au.connect(i,t.schedule)],{...t,client:s})}if(await CZ(),Ce(t.signal),r==="dedicated"){const i=LF++%Sp;return Nw([await y9[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,Sp);if(i<Sp){const s=new Array(i);for(let n=0;n<i;++n){const a=LF++%Sp;s[n]=y9[a].open(e,t)}return Nw(s,t)}}return Nw(y9.map(i=>i.open(e,t)),t)}let Dw=null;async function CZ(){if(Dw)return Dw;new AbortController;const e=[];for(let t=0;t<Sp;t++){const r=bye.create(t).then(i=>(y9[t]=i,i));e.push(r)}return Dw=Promise.all(e),Dw}function qu(){return[0,0,0]}function vA(e){return[e[0],e[1],e[2]]}function eb(e,t,r){return[e,t,r]}function vye(e,t,r){return[e,t,r]}function wye(e,t=qu()){const r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function _ye(e,t){return new Float64Array(e,t,3)}function MZ(){return qu()}function AZ(){return eb(1,1,1)}function kZ(){return eb(1,0,0)}function LZ(){return eb(0,1,0)}function RZ(){return eb(0,0,1)}const Sye=MZ(),OZ=AZ(),$ye=kZ(),xye=LZ(),Eye=RZ();Object.freeze(Object.defineProperty({__proto__:null,ONES:OZ,UNIT_X:$ye,UNIT_Y:xye,UNIT_Z:Eye,ZEROS:Sye,clone:vA,create:qu,createView:_ye,freeze:vye,fromArray:wye,fromValues:eb,ones:AZ,unitX:kZ,unitY:LZ,unitZ:RZ,zeros:MZ},Symbol.toStringTag,{value:"Module"}));const XGe=Math.PI/180,eHe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Gc=Bt.radius,ia=Bt.eccentricitySquared,Tye={a1:Gc*ia,a2:Gc*ia*Gc*ia,a3:Gc*ia*ia/2,a4:Gc*ia*Gc*ia*2.5,a5:Gc*ia+Gc*ia*ia/2,a6:1-ia},tHe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:Bt.radius,f:Bt.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Eu.radius,f:Eu.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Go.radius,f:Go.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Go.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var D;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(D||(D={}));const Iye={[D.WGS84]:{[D.CGCS2000]:Lt,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:Lt,[D.SPHERICAL_ECEF]:V1,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:O0,[D.PLATE_CARREE]:F0,[D.WGS84]:Lt,[D.WGS84_ECEF]:D0},[D.CGCS2000]:{[D.CGCS2000]:Lt,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:Lt,[D.SPHERICAL_ECEF]:V1,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:O0,[D.PLATE_CARREE]:F0,[D.WGS84]:Lt,[D.WGS84_ECEF]:D0},[D.GCSMARS2000]:{[D.CGCS2000]:null,[D.GCSMARS2000]:Lt,[D.GCSMOON2000]:null,[D.LON_LAT]:Lt,[D.SPHERICAL_ECEF]:null,[D.SPHERICAL_MARS_PCPF]:FF,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:null,[D.PLATE_CARREE]:null,[D.WGS84]:null,[D.WGS84_ECEF]:null},[D.GCSMOON2000]:{[D.CGCS2000]:null,[D.GCSMARS2000]:null,[D.GCSMOON2000]:Lt,[D.LON_LAT]:Lt,[D.SPHERICAL_ECEF]:null,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:OF,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:null,[D.PLATE_CARREE]:null,[D.WGS84]:null,[D.WGS84_ECEF]:null},[D.WEB_MERCATOR]:{[D.CGCS2000]:D1,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:D1,[D.SPHERICAL_ECEF]:Mye,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:Lt,[D.PLATE_CARREE]:Lye,[D.WGS84]:D1,[D.WGS84_ECEF]:Aye},[D.WGS84_ECEF]:{[D.CGCS2000]:V0,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:V0,[D.SPHERICAL_ECEF]:jye,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:qye,[D.PLATE_CARREE]:Rye,[D.WGS84]:V0,[D.WGS84_ECEF]:Lt},[D.SPHERICAL_ECEF]:{[D.CGCS2000]:N0,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:N0,[D.SPHERICAL_ECEF]:Lt,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:Dye,[D.PLATE_CARREE]:Oye,[D.WGS84]:N0,[D.WGS84_ECEF]:Vye},[D.SPHERICAL_MARS_PCPF]:{[D.CGCS2000]:null,[D.GCSMARS2000]:NF,[D.GCSMOON2000]:null,[D.LON_LAT]:NF,[D.SPHERICAL_ECEF]:null,[D.SPHERICAL_MARS_PCPF]:Lt,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:null,[D.PLATE_CARREE]:null,[D.WGS84]:null,[D.WGS84_ECEF]:null},[D.SPHERICAL_MOON_PCPF]:{[D.CGCS2000]:null,[D.GCSMARS2000]:null,[D.GCSMOON2000]:PF,[D.LON_LAT]:PF,[D.SPHERICAL_ECEF]:null,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:Lt,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:null,[D.PLATE_CARREE]:null,[D.WGS84]:null,[D.WGS84_ECEF]:null},[D.UNKNOWN]:{[D.CGCS2000]:null,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:null,[D.SPHERICAL_ECEF]:null,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:Lt,[D.WEB_MERCATOR]:null,[D.PLATE_CARREE]:null,[D.WGS84]:null,[D.WGS84_ECEF]:null},[D.LON_LAT]:{[D.CGCS2000]:Lt,[D.GCSMARS2000]:Lt,[D.GCSMOON2000]:Lt,[D.LON_LAT]:Lt,[D.SPHERICAL_ECEF]:V1,[D.SPHERICAL_MARS_PCPF]:FF,[D.SPHERICAL_MOON_PCPF]:OF,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:O0,[D.PLATE_CARREE]:F0,[D.WGS84]:Lt,[D.WGS84_ECEF]:D0},[D.PLATE_CARREE]:{[D.CGCS2000]:P0,[D.GCSMARS2000]:null,[D.GCSMOON2000]:null,[D.LON_LAT]:P0,[D.SPHERICAL_ECEF]:Fye,[D.SPHERICAL_MARS_PCPF]:null,[D.SPHERICAL_MOON_PCPF]:null,[D.UNKNOWN]:null,[D.WEB_MERCATOR]:Pye,[D.PLATE_CARREE]:Lt,[D.WGS84]:P0,[D.WGS84_ECEF]:Nye}};function FZ(e,t){var r;return(r=Cye(e,t))==null?void 0:r.projector}function Cye(e,t){if(e==null||t==null)return null;if(al.source.spatialReference===e&&al.dest.spatialReference===t)return al;const r=RF(e,al.source),i=RF(t,al.dest);return r===D.UNKNOWN&&i===D.UNKNOWN?Nt(e,t)?al.projector=Lt:al.projector=null:al.projector=Iye[r][i],al}function RF(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=Rs(e,1)),d_(e)?t.spatialReferenceId=D.SPHERICAL_ECEF:Cu(e)?t.spatialReferenceId=D.WGS84:on(e)?t.spatialReferenceId=D.WEB_MERCATOR:Ufe(e)?t.spatialReferenceId=D.PLATE_CARREE:e.wkt===Wfe.wkt?t.spatialReferenceId=D.WGS84_ECEF:e.wkid===Fn.CGCS2000?t.spatialReferenceId=D.CGCS2000:e.wkt===JM.wkt?t.spatialReferenceId=D.SPHERICAL_MARS_PCPF:e.wkt===YM.wkt?t.spatialReferenceId=D.SPHERICAL_MOON_PCPF:HM(e)?t.spatialReferenceId=D.GCSMARS2000:WM(e)?t.spatialReferenceId=D.GCSMOON2000:t.spatialReferenceId=D.UNKNOWN):D.UNKNOWN}function Lt(e,t,r,i){e!==r&&(r[i++]=e[t++],r[i++]=e[t++],r[i]=e[t])}function D1(e,t,r,i){r[i]=wy*(e[t]/Pp),r[i+1]=wy*(PZ-2*Math.atan(Math.exp(-e[t+1]/Pp))),r[i+2]=e[t+2]}function Mye(e,t,r,i){const s=e[t]/Pp,n=PZ-2*Math.atan(Math.exp(-e[t+1]/Pp)),a=Pp+e[t+2],o=Math.cos(n)*a;r[i]=Math.cos(s)*o,r[i+1]=Math.sin(s)*o,r[i+2]=Math.sin(n)*a}function Aye(e,t,r,i){D1(e,t,r,i),D0(r,i,r,i)}function kye(e,t,r,i,s){const n=.4999999*Math.PI,a=As(vy*e[t+1],-n,n),o=Math.sin(a);r[i++]=vy*e[t]*s.radius,r[i++]=s.halfSemiMajorAxis*Math.log((1+o)/(1-o)),r[i]=e[t+2]}function O0(e,t,r,i){kye(e,t,r,i,Bt)}function F0(e,t,r,i){r[i]=e[t]*DF,r[i+1]=e[t+1]*DF,r[i+2]=e[t+2]}function P0(e,t,r,i){r[i]=e[t]*VF,r[i+1]=e[t+1]*VF,r[i+2]=e[t+2]}function Lye(e,t,r,i){D1(e,t,r,i),F0(r,i,r,i)}function Rye(e,t,r,i){V0(e,t,r,i),F0(r,i,r,i)}function Oye(e,t,r,i){N0(e,t,r,i),F0(r,i,r,i)}function Fye(e,t,r,i){P0(e,t,r,i),V1(r,i,r,i)}function Pye(e,t,r,i){P0(e,t,r,i),O0(r,i,r,i)}function Nye(e,t,r,i){P0(e,t,r,i),D0(r,i,r,i)}function wA(e,t,r,i,s){const n=s+e[t+2],a=vy*e[t+1],o=vy*e[t],l=Math.cos(a)*n;r[i]=Math.cos(o)*l,r[i+1]=Math.sin(o)*l,r[i+2]=Math.sin(a)*n}function OF(e,t,r,i){wA(e,t,r,i,Eu.radius)}function FF(e,t,r,i){wA(e,t,r,i,Go.radius)}function V1(e,t,r,i){wA(e,t,r,i,Bt.radius)}function _A(e,t,r,i,s){const n=e[t],a=e[t+1],o=e[t+2],l=Math.sqrt(n*n+a*a+o*o),d=hue(o/(l===0?1:l)),f=Math.atan2(a,n);r[i++]=wy*f,r[i++]=wy*d,r[i]=l-s}function PF(e,t,r,i){_A(e,t,r,i,Eu.radius)}function NF(e,t,r,i){_A(e,t,r,i,Go.radius)}function N0(e,t,r,i){_A(e,t,r,i,Bt.radius)}function Dye(e,t,r,i){N0(e,t,r,i),O0(r,i,r,i)}function Vye(e,t,r,i){N0(e,t,r,i),D0(r,i,r,i)}function zye(e,t,r,i,s){const n=vy*e[t],a=vy*e[t+1],o=e[t+2],l=Math.sin(a),d=Math.cos(a),f=s.radius/Math.sqrt(1-s.eccentricitySquared*l*l);r[i++]=(f+o)*d*Math.cos(n),r[i++]=(f+o)*d*Math.sin(n),r[i++]=(f*(1-s.eccentricitySquared)+o)*l}function D0(e,t,r,i){zye(e,t,r,i,Bt)}function V0(e,t,r,i){const s=Tye,n=e[t],a=e[t+1],o=e[t+2];let l,d,f,p,m,y,b,g,v,w,_,x,T,k,A,M,R,P,z,j,H;l=Math.abs(o),d=n*n+a*a,f=Math.sqrt(d),p=d+o*o,m=Math.sqrt(p),j=Math.atan2(a,n),y=o*o/p,b=d/p,k=s.a2/m,A=s.a3-s.a4/m,b>.3?(g=l/m*(1+b*(s.a1+k+y*A)/m),z=Math.asin(g),w=g*g,v=Math.sqrt(1-w)):(v=f/m*(1-y*(s.a5-k-b*A)/m),z=Math.acos(v),w=1-v*v,g=Math.sqrt(w)),_=1-Bt.eccentricitySquared*w,x=Bt.radius/Math.sqrt(_),T=s.a6*x,k=f-x*v,A=l-T*g,R=v*k+g*A,M=v*A-g*k,P=M/(T/_+R),z+=P,H=R+M*P/2,o<0&&(z=-z),r[i++]=wy*j,r[i++]=wy*z,r[i]=H}function jye(e,t,r,i){V0(e,t,r,i),V1(r,i,r,i)}function qye(e,t,r,i){V0(e,t,r,i),O0(r,i,r,i)}const al={source:{spatialReference:null,spatialReferenceId:D.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:D.UNKNOWN,metersPerUnit:1},projector:Lt},vy=Jd(1),wy=PG(1),PZ=.5*Math.PI,Pp=Bt.radius,DF=Pp*Math.PI/180,VF=180/(Pp*Math.PI);function A2(e,t,r,i,s,n,a=Math.floor(e.length/3)){const o=FZ(t,s);if(o==null)return!1;if(o===Lt){if(e===i&&r===n)return!0;const d=r+3*a;for(let f=r,p=n;f<d;f++,p++)i[p]=e[f];return!0}const l=r+3*a;for(let d=r,f=n;d<l;d+=3,f+=3)o(e,d,i,f);return!0}const rHe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:A2},Symbol.toStringTag,{value:"Module"}));function zF(e,t,r,i,s,n){return Vw[0]=e,Vw[1]=t,Vw[2]=r,A2(Vw,i,0,s,n,0)}const Vw=qu();let zw=0,s7=class ax{static fromGE(t){const r=new ax;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=zw++,t?(this._wkt=t.wkt!=null?t.wkt:null,this._wkid=t.wkid!=null?t.wkid:-1,this._isInverse=t.isInverse!=null&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=zw++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=zw++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=zw++}getInverse(){const t=new ax;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}},w_=class lg{static cacheKey(t,r){var i,s,n,a,o,l;return[((i=t.wkid)==null?void 0:i.toString())??"-1",((s=t.wkt)==null?void 0:s.toString())??"",((n=t.wkt2)==null?void 0:n.toString())??"",((a=r.wkid)==null?void 0:a.toString())??"-1",((o=r.wkt)==null?void 0:o.toString())??"",((l=r.wkt2)==null?void 0:l.toString())??""].join()}static fromGE(t){const r=new lg;let i="";for(const s of t.steps){const n=s7.fromGE(s);r.steps.push(n),i+=n.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=i,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t==null?void 0:t.steps)for(const r of t.steps)r instanceof s7?this.steps.push(r):this.steps.push(new s7({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const t=new lg;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){const i=this.steps[r];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(const r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,i){this._cachedProjection[lg.cacheKey(t,r)]=i}getCachedGeTransformation(t,r){let i="";for(const n of this.steps)i+=n.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);const s=this._cachedProjection[lg.cacheKey(t,r)];return s===void 0?null:s}};function NZ(e,t,r){if(t==null||r==null||r.vcsWkid||Nt(t,r)||Mu(t)||Mu(r))return null;const i=py(t)/py(r);if(i===1)return null;switch(e){case"point":case"esriGeometryPoint":return s=>Bye(s,i);case"polyline":case"esriGeometryPolyline":return s=>Gye(s,i);case"polygon":case"esriGeometryPolygon":return s=>Uye(s,i);case"multipoint":case"esriGeometryMultipoint":return s=>Hye(s,i);case"extent":case"esriGeometryEnvelope":return s=>Wye(s,i);default:return null}}function Bye(e,t){(e==null?void 0:e.z)!=null&&(e.z*=t)}function Uye(e,t){if(e)for(const r of e.rings)for(const i of r)i.length>2&&(i[2]*=t)}function Gye(e,t){if(e)for(const r of e.paths)for(const i of r)i.length>2&&(i[2]*=t)}function Hye(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function Wye(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let Ba=null,Lu=null,z1=null,b9={};const SA=new _2;function Rc(){return!!Ba&&GM()}function DZ(){return!!Rc()||(ge(SA),Sc(),!1)}function VZ(e,t){return!e||!t||Hn(e,t)||DZ()}function Zye(e,t){return!Hn(e,t)&&!Rc()}function Sc(e){return z1==null&&(z1=Promise.all([wH(),C(()=>import("./geometryEngineBase-B0ZyeKAX.js"),__vite__mapDeps([117,114])).then(t=>t.g),C(()=>import("./hydrated-DPosBJV4.js"),[])])),z1.then(([,t,{hydratedAdapter:r}])=>{Ce(e),Lu=r,Ba=t.default,Ba._enableProjection(zfe),SA.notify()})}function Bu(e,t,r=null,i=null){return Array.isArray(e)?e.length===0?[]:(ype(e),Ev(Lu,e,e[0].spatialReference,t,r,i)):(hy(e),Ev(Lu,[e],e.spatialReference,t,r,i)[0])}function Ev(e,t,r,i,s=null,n=null){if(r==null||i==null)return t;if(Hn(r,i,s))return t.map(a=>g9(a,r,i));if(s==null&&d_(r))return t.map(a=>g9(a,r,me.WGS84)).map(a=>Tv(a,i));if(s==null&&d_(i))return t.map(a=>Tv(a,me.WGS84)).map(a=>g9(a,me.WGS84,i));if(s==null){const a=w_.cacheKey(r,i);b9[a]!==void 0?s=b9[a]:((s=jZ(r,i,void 0))==null&&(s=new w_),b9[a]=s)}if(Ba==null||e==null)throw new t4;return n!=null?Ba._project(e,t,r,i,s,n):Ba._project(e,t,r,i,s)}function Jye(e,t){const r=zZ([e],t);return r.pending!=null?{pending:r.pending,geometry:null}:r.geometries!=null?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function zZ(e,t){if(!Rc()){for(const r of e)if(r!=null&&!Nt(r.spatialReference,t)&&Yi(r.spatialReference)&&Yi(t)&&!Hn(r.spatialReference,t))return ge(SA),{pending:Sc(),geometries:null}}return{pending:null,geometries:e.map(r=>r==null?null:Nt(r.spatialReference,t)?r:Yi(r.spatialReference)&&Yi(t)?Tv(r,t):null)}}function jZ(e,t,r=null){if(e==null||t==null)return null;if(Ba==null||Lu==null)throw new t4;const i=Ba._getTransformation(Lu,e,t,r,r==null?void 0:r.spatialReference);return i!==null?w_.fromGE(i):null}function Yye(e,t,r=null){if(Ba==null||Lu==null)throw new t4;const i=Ba._getTransformationBySuitability(Lu,e,t,r,r==null?void 0:r.spatialReference);if(i!==null){const s=[];for(const n of i)s.push(w_.fromGE(n));return s}return[]}let t4=class extends I{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function Qye(){Ba=null,Lu=null,z1=null,b9={}}const Kye={get loadPromise(){return z1}};function Tv(e,t){try{const r=Bu(e,t);if(r==null)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const i=NZ(r.type,e.spatialReference,t);return i!=null&&i(r),r}catch(r){if(!(r instanceof t4))throw r;return null}}async function Xye(e,t,r){const i=e.spatialReference;return i!=null&&t!=null&&await r4(i,t,null,r),Tv(e,t)}function Hn(e,t,r){return!r&&(!!Nt(e,t)||Yi(e)&&Yi(t)&&!!FZ(e,t))}function ebe(e,t){if(Nt(e,t))return!0;if(!Yi(e)||!Yi(t))return!1;const r=Cu(e)||on(e)||U$(e),i=Cu(t)||on(t)||U$(t);return r&&i}async function r4(e,t,r,i){if(Rc())return iO(i);if(Array.isArray(e)){for(const{source:s,dest:n,geographicTransformation:a}of e)if(s&&n&&!Hn(s,n,a))return Sc(i)}else if(e&&t&&!Hn(e,t,r))return Sc(i);return iO(i)}function g9(e,t,r){return e?"x"in e?qZ(e,t,new xe,r,0):"xmin"in e?HZ(e,t,new ht,r,0):"rings"in e?GZ(e,t,new Gn,r,0):"paths"in e?UZ(e,t,new Nn,r,0):"points"in e?BZ(e,t,new E2,r,0):null:null}function tbe(e,t,r=t.spatialReference,i=0){return r!=null&&e.spatialReference!=null&&qZ(e,e.spatialReference,t,r,i)!=null}function qZ(e,t,r,i,s){_i[0]=e.x,_i[1]=e.y;const n=e.z;return _i[2]=n!==void 0?n:s,A2(_i,t,0,_i,i,0)?(r.x=_i[0],r.y=_i[1],r.spatialReference=i,n!==void 0||Mu(i)?(r.z=_i[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),e.m===void 0?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function rbe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&BZ(e,e.spatialReference,t,r,i)!=null}function BZ(e,t,r,i,s){const{points:n,hasZ:a,hasM:o}=e,l=[],d=n.length,f=[];for(const m of n)f.push(m[0],m[1],a?m[2]:s);if(!A2(f,t,0,f,i,0,d))return null;const p=a||Mu(i);for(let m=0;m<d;++m){const y=3*m,b=f[y],g=f[y+1];p&&o?l.push([b,g,f[y+2],n[m][3]]):p?l.push([b,g,f[y+2]]):o?l.push([b,g,n[m][2]]):l.push([b,g])}return r.points=l,r.spatialReference=i,r.hasZ=a,r.hasM=o,r}function ibe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&UZ(e,e.spatialReference,t,r,i)!=null}function UZ(e,t,r,i,s){const{paths:n,hasZ:a,hasM:o}=e,l=[];if(!WZ(n,a??!1,o??!1,t,l,i,s))return null;const d=a||Mu(i);return r.paths=l,r.spatialReference=i,r.hasZ=d,r.hasM=o,r}function sbe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&GZ(e,e.spatialReference,t,r,i)!=null}function GZ(e,t,r,i,s){const{rings:n,hasZ:a,hasM:o}=e,l=[];if(!WZ(n,a??!1,o??!1,t,l,i,s))return null;const d=a||Mu(i);return r.rings=l,r.spatialReference=i,r.hasZ=d,r.hasM=o,r}function nbe(e,t,r=t.spatialReference,i=0){return e.spatialReference!=null&&r!=null&&HZ(e,e.spatialReference,t,r,i)!=null}function HZ(e,t,r,i,s){const{xmin:n,ymin:a,xmax:o,ymax:l,hasZ:d,hasM:f}=e,p=d?e.zmin:s;if(!zF(n,a,p,t,_i,i))return null;const m=d||Mu(i);r.xmin=_i[0],r.ymin=_i[1],m&&(r.zmin=_i[2]);const y=d?e.zmax:s;return zF(o,l,y,t,_i,i)?(r.xmax=_i[0],r.ymax=_i[1],m&&(r.zmax=_i[2]),f&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null}function WZ(e,t,r,i,s,n,a=0){const o=new Array;for(const f of e)for(const p of f)o.push(p[0],p[1],t?p[2]:a);if(!A2(o,i,0,o,n,0))return!1;let l=0;s.length=0;const d=t||Mu(n);for(const f of e){const p=new Array;for(const m of f)d&&r?p.push([o[l++],o[l++],o[l++],m[3]]):d?p.push([o[l++],o[l++],o[l++]]):r?(p.push([o[l++],o[l++],m[2]]),l++):(p.push([o[l++],o[l++]]),l++);s.push(p)}return!0}const _i=qu(),sHe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Hn,getTransformation:jZ,getTransformations:Yye,initializeProjection:r4,isEqualBaseGCS:ebe,isLoaded:Rc,isLoadedOrLoad:DZ,isLoadedOrLoadFor:VZ,load:Sc,project:Bu,projectExtent:nbe,projectMany:Ev,projectMultipoint:rbe,projectOrLoad:Jye,projectOrLoadMany:zZ,projectPoint:tbe,projectPolygon:sbe,projectPolyline:ibe,projectWithZConversion:Xye,projectWithoutEngine:g9,requiresLoad:Zye,test:Kye,tryProjectWithZConversion:Tv,unload:Qye},Symbol.toStringTag,{value:"Module"}));var ox;let oo=ox=class extends N{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new ox({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([u({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],oo.prototype,"cols",void 0),c([u({type:Ve,json:{write:!0}})],oo.prototype,"level",void 0),c([u({type:String,json:{write:!0}})],oo.prototype,"levelValue",void 0),c([u({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],oo.prototype,"origin",void 0),c([u({type:Number,json:{write:!0}})],oo.prototype,"resolution",void 0),c([u({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],oo.prototype,"rows",void 0),c([u({type:Number,json:{write:!0}})],oo.prototype,"scale",void 0),oo=ox=c([S("esri.layers.support.LOD")],oo);const On=oo;let abe=class{constructor(t,r,i,s,n=void 0){this.id=t,this.level=r,this.row=i,this.col=s,this.extent=n}};var td;const jF=new ye({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let ei=td=class extends N{static create(e={}){const{resolutionFactor:t=1,scales:r,size:i=256,spatialReference:s=me.WebMercator,numLODs:n=24}=e;if(!Yi(s)){const p=[];if(r)for(let m=0;m<r.length;m++){const y=r[m];p.push(new On({level:m,scale:y,resolution:y}))}else{let m=5e-4;for(let y=n-1;y>=0;y--)p.unshift(new On({level:y,scale:m,resolution:m})),m*=2}return new td({dpi:96,lods:p,origin:new xe(0,0,s),size:[i,i],spatialReference:s})}const a=Ti(s),o=e.origin?new xe({x:e.origin.x,y:e.origin.y,spatialReference:s}):new xe(a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),l=96,d=1/(Rs(s)*39.37*l),f=[];if(r)for(let p=0;p<r.length;p++){const m=r[p],y=m*d;f.push(new On({level:p,scale:m,resolution:y}))}else{let p=zu(s)?512/i*5916575275917094e-7:256/i*591657527591555e-6;const m=Math.ceil(n/t);f.push(new On({level:0,scale:p,resolution:p*d}));for(let y=1;y<m;y++){const b=p/2**t,g=b*d;f.push(new On({level:y,scale:b,resolution:g})),p=b}}return new td({dpi:l,lods:f,origin:o,size:[i,i],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const r=Ti(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}readOrigin(e,t){return xe.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,r=0;const i=[],s=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach(n=>{i.push(n.scale),t=n.scale>t?n.scale:t,r=n.scale<r?n.scale:r,s[n.level]=n})),this._set("scales",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const r=Math.floor(e),i=r+1;return t[r]/(t[r]/t[i])**(e-r)}scaleToZoom(e){const t=this.scales,r=t.length-1;let i=0;for(;i<r;i++){const s=t[i],n=t[i+1];if(s<=e)return i;if(n===e)return i+1;if(s>e&&n<e)return i+Math.log(s/e)/Math.log(s/n)}return i}tileAt(e,t,r,i){const s=this.lodAt(e);if(!s)return null;let n,a;if(typeof t=="number")n=t,a=r;else if(Nt(t.spatialReference,this.spatialReference))n=t.x,a=t.y,i=r;else{const d=U6(t,this.spatialReference);if(d==null)return null;n=d.x,a=d.y,i=r}const o=s.resolution*this.size[0],l=s.resolution*this.size[1];return i||(i=new abe(null,0,0,0,zr())),i.level=e,i.row=Math.floor((this.origin.y-a)/l+.001),i.col=Math.floor((n-this.origin.x)/o+.001),this.updateTileInfo(i),i}updateTileInfo(e,t=td.ExtrapolateOptions.NONE){let r=this.lodAt(e.level);if(!r&&t===td.ExtrapolateOptions.POWER_OF_TWO){const a=this.lods[this.lods.length-1];a.level<e.level&&(r=a)}if(!r)return;const i=e.level-r.level,s=r.resolution*this.size[0]/2**i,n=r.resolution*this.size[1]/2**i;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=zr()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*n,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+n}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const r=this.lodAt(t.level);if(r==null)return null;const{resolution:i}=r,s=i*this.size[0],n=i*this.size[1];return e[0]=this.origin.x+t.col*s,e[1]=this.origin.y-(t.row+1)*n,e[2]=e[0]+s,e[3]=e[1]+n,e}lodAt(e){var t;return((t=this._levelToLOD)==null?void 0:t[e])??null}clone(){return td.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const t=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&t===0)return this;const r=[],i=this.lods.length-t;for(let s=0;s<i;s++){const n=s+t,{scale:a,resolution:o}=n>=0?this.lods[n]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new On({level:s,scale:a,resolution:o}))}return new td({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let r=0;r<e.length;r++){const i=e[r];this._upsampleLevels[i.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/i.resolution:0},t=i}}};c([u({type:Number,json:{write:!0}})],ei.prototype,"compressionQuality",void 0),c([u({type:Number,json:{write:!0}})],ei.prototype,"dpi",void 0),c([u({type:String,json:{read:jF.read,write:jF.write,origins:{"web-scene":{read:!1,write:!1}}}})],ei.prototype,"format",void 0),c([u({readOnly:!0})],ei.prototype,"isWrappable",null),c([u({type:xe,json:{write:!0}})],ei.prototype,"origin",void 0),c([Y("origin")],ei.prototype,"readOrigin",null),c([u({type:[On],value:null,json:{write:!0}})],ei.prototype,"lods",null),c([u({readOnly:!0})],ei.prototype,"scales",void 0),c([u({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],ei.prototype,"size",void 0),c([Y("size",["rows","cols"])],ei.prototype,"readSize",null),c([Q("size",{cols:{type:Ve},rows:{type:Ve}})],ei.prototype,"writeSize",null),c([u({type:me,json:{write:!0}})],ei.prototype,"spatialReference",void 0),ei=td=c([S("esri.layers.support.TileInfo")],ei),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(ei||(ei={}));const j1=ei,v9={widthBreakpoint:{getValue(e){const t=e.viewSize[0],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],r=e.breakpoints,i=this.values;return t<=r.xsmall?i.xsmall:t<=r.small?i.small:t<=r.medium?i.medium:t<=r.large?i.large:i.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,r=t[0],i=t[1],s=this.values;return i>=r?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},n7={xsmall:544,small:768,medium:992,large:1200};function obe(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function a7(e,t){return t?v9[e].valueToClassName[t].split(" "):[]}const lbe=e=>{let t=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=n7}initialize(){this.addHandles(U(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),we))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!obe(r)){const i=JSON.stringify(n7,null,2);console.warn("provided breakpoints are not valid, using defaults:"+i),r=n7}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=Wi.acquire(),i=Wi.acquire();let s,n=!1;for(s in v9){const a=this[s],o=v9[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==o&&(n=!0,this[s]=o,a7(s,a).forEach(l=>i.push(l)),a7(s,o).forEach(l=>r.push(l)))}n&&(this._applyClassNameChanges(r,i),Wi.release(r),Wi.release(i))}_applyClassNameChanges(r,i){const s=this.container;s&&(i.forEach(n=>s.classList.remove(n)),r.forEach(n=>s.classList.add(n)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let i;for(i in v9)a7(i,this[i]).forEach(s=>r.classList.remove(s))}};return c([u()],t.prototype,"breakpoints",null),c([u()],t.prototype,"orientation",void 0),c([u()],t.prototype,"widthBreakpoint",void 0),c([u()],t.prototype,"heightBreakpoint",void 0),t=c([S("esri.views.BreakpointsOwner")],t),t};function $A(e){return typeof e=="string"?document.getElementById(e):e??null}function qF(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}let Np=class extends ie{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,i={}){return this._installWatch(t,r,i,U)}addWhen(t,r,i={}){return this._installWatch(t,r,i,jr)}addOnCollectionChange(t,r,{initial:i=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([Er(t,"after-changes",this._createSyncUpdatingCallback(),Za),Er(t,"change",r,{onListenerAdd:i?a=>r({added:a.toArray(),removed:[]}):void 0,onListenerRemove:s?a=>r({added:[],removed:a.toArray()}):void 0})],n),Je(()=>this.removeHandles(n))}addPromise(t){if(t==null)return t;const r=++this._handleId;this.addHandles(Je(()=>{this._pendingPromises.delete(t)&&(this._pendingPromises.size!==0||this.hasHandles(jw)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);const i=()=>this.removeHandles(r);return t.then(i,i),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,i={},s){const n=++this._handleId;i.sync||this._installSyncUpdatingWatch(t,n);const a=s(t,r,i);return this.addHandles(a,n),Je(()=>this.removeHandles(n))}_installSyncUpdatingWatch(t,r){const i=this._createSyncUpdatingCallback(),s=U(t,i,{sync:!0,equals:()=>!1});return this.addHandles(s,r),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(jw),++this._scheduleHandleId;const t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(v2(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(jw))}),jw)}}};c([u({readOnly:!0})],Np.prototype,"updating",void 0),Np=c([S("esri.core.support.UpdatingHandles")],Np);const jw=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __=function(){return __=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},__.apply(this,arguments)},lx={exports:{}},Yt={},cx={exports:{}},mh={};function ZZ(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function cbe(e,t,r){}function dbe(e,t,r){}var ube=/javascript\s*\:/img;function fbe(e,t){return ube.test(t)?"":t}mh.whiteList=ZZ();mh.getDefaultWhiteList=ZZ;mh.onAttr=cbe;mh.onIgnoreAttr=dbe;mh.safeAttrValue=fbe;var pbe={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,s;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,s=e.length;i<s;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Rb=pbe;function hbe(e,t){e=Rb.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,s=0,n=0,a="";function o(){if(!i){var f=Rb.trim(e.slice(s,n)),p=f.indexOf(":");if(p!==-1){var m=Rb.trim(f.slice(0,p)),y=Rb.trim(f.slice(p+1));if(m){var b=t(s,a.length,m,y,f);b&&(a+=b+"; ")}}}s=n+1}for(;n<r;n++){var l=e[n];if(l==="/"&&e[n+1]==="*"){var d=e.indexOf("*/",n+2);if(d===-1)break;n=d+1,s=n+1,i=!1}else l==="("?i=!0:l===")"?i=!1:l===";"?i||o():l===`
`&&o()}return Rb.trim(a)}var mbe=hbe,qw=mh,ybe=mbe;function BF(e){return e==null}function bbe(e){var t={};for(var r in e)t[r]=e[r];return t}function JZ(e){e=bbe(e||{}),e.whiteList=e.whiteList||qw.whiteList,e.onAttr=e.onAttr||qw.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||qw.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||qw.safeAttrValue,this.options=e}JZ.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,s=r.onAttr,n=r.onIgnoreAttr,a=r.safeAttrValue,o=ybe(e,function(l,d,f,p,m){var y=i[f],b=!1;if(y===!0?b=y:typeof y=="function"?b=y(p):y instanceof RegExp&&(b=y.test(p)),b!==!0&&(b=!1),p=a(f,p),!!p){var g={position:d,sourcePosition:l,source:m,isWhite:b};if(b){var v=s(f,p,g);return BF(v)?f+":"+p:v}else{var v=n(f,p,g);if(!BF(v))return v}}});return o};var gbe=JZ;(function(e,t){var r=mh,i=gbe;function s(a,o){var l=new i(o);return l.process(a)}t=e.exports=s,t.FilterCSS=i;for(var n in r)t[n]=r[n]})(cx,cx.exports);var xA=cx.exports,EA={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,s;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,s=e.length;i<s;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},vbe=xA.FilterCSS,wbe=xA.getDefaultWhiteList,S_=EA;function YZ(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var QZ=new vbe;function _be(e,t,r){}function Sbe(e,t,r){}function $be(e,t,r){}function xbe(e,t,r){}function KZ(e){return e.replace(Tbe,"&lt;").replace(Ibe,"&gt;")}function Ebe(e,t,r,i){if(r=sJ(r),t==="href"||t==="src"){if(r=S_.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(Bw.lastIndex=0,Bw.test(r))return""}else if(t==="style"){if(UF.lastIndex=0,UF.test(r)||(GF.lastIndex=0,GF.test(r)&&(Bw.lastIndex=0,Bw.test(r))))return"";i!==!1&&(i=i||QZ,r=i.process(r))}return r=nJ(r),r}var Tbe=/</g,Ibe=/>/g,Cbe=/"/g,Mbe=/&quot;/g,Abe=/&#([a-zA-Z0-9]*);?/gim,kbe=/&colon;?/gim,Lbe=/&newline;?/gim,Bw=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,UF=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,GF=/u\s*r\s*l\s*\(.*/gi;function XZ(e){return e.replace(Cbe,"&quot;")}function eJ(e){return e.replace(Mbe,'"')}function tJ(e){return e.replace(Abe,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function rJ(e){return e.replace(kbe,":").replace(Lbe," ")}function iJ(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return S_.trim(t)}function sJ(e){return e=eJ(e),e=tJ(e),e=rJ(e),e=iJ(e),e}function nJ(e){return e=XZ(e),e=KZ(e),e}function Rbe(){return""}function Obe(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(a){return r?!0:S_.indexOf(e,a)!==-1}var s=[],n=!1;return{onIgnoreTag:function(a,o,l){if(i(a))if(l.isClosing){var d="[/removed]",f=l.position+d.length;return s.push([n!==!1?n:l.position,f]),n=!1,d}else return n||(n=l.position),"[removed]";else return t(a,o,l)},remove:function(a){var o="",l=0;return S_.forEach(s,function(d){o+=a.slice(l,d[0]),l=d[1]}),o+=a.slice(l),o}}}function Fbe(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var s=e.indexOf("-->",i);if(s===-1)break;r=s+3}return t}function Pbe(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}Yt.whiteList=YZ();Yt.getDefaultWhiteList=YZ;Yt.onTag=_be;Yt.onIgnoreTag=Sbe;Yt.onTagAttr=$be;Yt.onIgnoreTagAttr=xbe;Yt.safeAttrValue=Ebe;Yt.escapeHtml=KZ;Yt.escapeQuote=XZ;Yt.unescapeQuote=eJ;Yt.escapeHtmlEntities=tJ;Yt.escapeDangerHtml5Entities=rJ;Yt.clearNonPrintableCharacter=iJ;Yt.friendlyAttrValue=sJ;Yt.escapeAttrValue=nJ;Yt.onIgnoreTagStripAll=Rbe;Yt.StripTagBody=Obe;Yt.stripCommentTag=Fbe;Yt.stripBlankChar=Pbe;Yt.cssFilter=QZ;Yt.getDefaultCSSWhiteList=wbe;var i4={},Fd=EA;function Nbe(e){var t=Fd.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=Fd.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function Dbe(e){return e.slice(0,2)==="</"}function Vbe(e,t,r){var i="",s=0,n=!1,a=!1,o=0,l=e.length,d="",f="";e:for(o=0;o<l;o++){var p=e.charAt(o);if(n===!1){if(p==="<"){n=o;continue}}else if(a===!1){if(p==="<"){i+=r(e.slice(s,o)),n=o,s=o;continue}if(p===">"){i+=r(e.slice(s,n)),f=e.slice(n,o+1),d=Nbe(f),i+=t(n,i.length,d,f,Dbe(f)),s=o+1,n=!1;continue}if(p==='"'||p==="'")for(var m=1,y=e.charAt(o-m);y.trim()===""||y==="=";){if(y==="="){a=p;continue e}y=e.charAt(o-++m)}}else if(p===a){a=!1;continue}}return s<e.length&&(i+=r(e.substr(s))),i}var zbe=/[^a-zA-Z0-9\\_:.-]/gim;function jbe(e,t){var r=0,i=0,s=[],n=!1,a=e.length;function o(m,y){if(m=Fd.trim(m),m=m.replace(zbe,"").toLowerCase(),!(m.length<1)){var b=t(m,y||"");b&&s.push(b)}}for(var l=0;l<a;l++){var d=e.charAt(l),f,p;if(n===!1&&d==="="){n=e.slice(r,l),r=l+1,i=e.charAt(r)==='"'||e.charAt(r)==="'"?r:Bbe(e,l+1);continue}if(n!==!1&&l===i){if(p=e.indexOf(d,l+1),p===-1)break;f=Fd.trim(e.slice(i+1,p)),o(n,f),n=!1,l=p,r=l+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(p=qbe(e,l),p===-1){f=Fd.trim(e.slice(r,l)),o(f),n=!1,r=l+1;continue}else{l=p-1;continue}else if(p=Ube(e,l-1),p===-1){f=Fd.trim(e.slice(r,l)),f=HF(f),o(n,f),n=!1,r=l+1;continue}else continue}return r<e.length&&(n===!1?o(e.slice(r)):o(n,HF(Fd.trim(e.slice(r))))),Fd.trim(s.join(" "))}function qbe(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Bbe(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function Ube(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Gbe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function HF(e){return Gbe(e)?e.substr(1,e.length-2):e}i4.parseTag=Vbe;i4.parseAttr=jbe;var Hbe=xA.FilterCSS,La=Yt,aJ=i4,Wbe=aJ.parseTag,Zbe=aJ.parseAttr,w9=EA;function Uw(e){return e==null}function Jbe(e){var t=w9.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=w9.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=w9.trim(e.slice(0,-1))),{html:e,closing:r}}function Ybe(e){var t={};for(var r in e)t[r]=e[r];return t}function Qbe(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(i){return i.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function oJ(e){e=Ybe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=La.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=Qbe(e.whiteList||e.allowList):e.whiteList=La.whiteList,e.onTag=e.onTag||La.onTag,e.onTagAttr=e.onTagAttr||La.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||La.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||La.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||La.safeAttrValue,e.escapeHtml=e.escapeHtml||La.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Hbe(e.css))}oJ.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,s=r.onTag,n=r.onIgnoreTag,a=r.onTagAttr,o=r.onIgnoreTagAttr,l=r.safeAttrValue,d=r.escapeHtml,f=t.cssFilter;r.stripBlankChar&&(e=La.stripBlankChar(e)),r.allowCommentTag||(e=La.stripCommentTag(e));var p=!1;r.stripIgnoreTagBody&&(p=La.StripTagBody(r.stripIgnoreTagBody,n),n=p.onIgnoreTag);var m=Wbe(e,function(y,b,g,v,w){var _={sourcePosition:y,position:b,isClosing:w,isWhite:Object.prototype.hasOwnProperty.call(i,g)},x=s(g,v,_);if(!Uw(x))return x;if(_.isWhite){if(_.isClosing)return"</"+g+">";var T=Jbe(v),k=i[g],A=Zbe(T.html,function(M,R){var P=w9.indexOf(k,M)!==-1,z=a(g,M,R,P);return Uw(z)?P?(R=l(g,M,R,f),R?M+'="'+R+'"':M):(z=o(g,M,R,P),Uw(z)?void 0:z):z});return v="<"+g,A&&(v+=" "+A),T.closing&&(v+=" /"),v+=">",v}else return x=n(g,v,_),Uw(x)?d(v):x},d);return p&&(m=p.remove(m)),m};var Kbe=oJ;(function(e,t){var r=Yt,i=i4,s=Kbe;function n(o,l){var d=new s(l);return d.process(o)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=s,function(){for(var o in r)t[o]=r[o];for(var l in i)t[l]=i[l]}();function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=e.exports)})(lx,lx.exports);var Ch=lx.exports,Xbe=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},ege=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=__(__({},Ch.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,o,l){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?i.sanitizeUrl(o):Ch.safeAttrValue(n,a,o,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!r?s=t:t&&r?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(n){if(n==="whiteList")s.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]);else if(n==="css"){var a=t.css.whiteList;a!=null&&t.css instanceof Object&&Object.keys(a).forEach(function(o){return s.css.whiteList[o]=a[o]})}else s[n]=t[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Ch.FilterXSS(s)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r??{}).isProtocolRequired,s=i===void 0?!0:i,n=this._trim(t.substring(0,t.indexOf(":"))),a=t==="/",o=/^#/.test(t),l=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return a||o||l?Ch.escapeAttrValue(t):!n&&!s?Ch.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,s):Ch.safeAttrValue(t,r,i,s)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(i){return r._entityMap[i]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,s){return r.test(i)?i:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(s){Array.isArray(i[s])&&Array.isArray(r[s])?r[s]=r[s].concat(i[s]):r[s]=i[s]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var s=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(o,l){var d=i.validate(l,r);return d.isValid?o.concat([l]):(s=!0,o.concat([d.sanitized]))},[]);else if(Xbe(t)){var a=Object.keys(t);n=a.reduce(function(o,l){var d=t[l],f=i.validate(d,r);return f.isValid?o[l]=d:(s=!0,o[l]=f.sanitized),o},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return s?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const s4=new Map;function lJ(){s4.clear()}function tge(e){return s4.get(e)}function rge(e,t){s4.set(e,t)}function o7(e){s4.delete(e)}function h0(...e){const t=Wi.acquire();for(let i=0;i<e.length;i++){const s=e[i],n=typeof s;if(n==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(n==="object")for(const a in s)s[a]&&t.push(a)}const r=t.join(" ");return Wi.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(i=>{var s;lJ();for(const n of i)(s=e.get(n.target))==null||s(n)}),r=(i,s,n)=>(e.set(i,s),t.observe(i,n),Je(()=>{t.unobserve(i),e.delete(i)}));return(i,s,n)=>{let a=null;return h2([U(()=>typeof i=="function"?i():i,o=>{a==null||a.remove(),o&&(a=r(o,s,n))},Hi),Je(()=>a==null?void 0:a.remove())])}})();function za(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function WF(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function ZF(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const ige=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],sge=ige.reduce((e,t)=>(e[t]=[],e),{}),nge=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],cJ=new ege({whiteList:sge,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(nge.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function age(e){return e==="Enter"||e===" "}async function ac(e,t){await rde(g2(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const dJ="http://www.w3.org/",n4=`${dJ}2000/svg`,uJ=`${dJ}1999/xlink`;let JF=[],TA=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},IA=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),fJ=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},oge=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(IA(e[i],t))return i}return-1},l7=(e,t,r,i)=>{let s=e[t];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<e.length;a++)if(a!==t){let o=e[a];if(IA(o,s))throw new Error(`${r.vnodeSelector} had a ${s.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},lge=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},dx=[],ux=!1,pJ=e=>{(e.children||[]).forEach(pJ),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},YF=()=>{ux=!1,dx.forEach(pJ),dx.length=0},QF=e=>{dx.push(e),ux||(ux=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(YF,{timeout:16}):setTimeout(YF,16))},KF=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),QF(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),QF(e))},cge=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,s=Object.keys(t),n=s.length;for(let a=0;a<n;a++){let o=s[a],l=t[o];if(o==="className")throw new Error('Property "className" is not supported, use "class".');if(o==="class")px(e,l,!0);else if(o==="classes"){let d=Object.keys(l),f=d.length;for(let p=0;p<f;p++){let m=d[p];l[m]&&e.classList.add(m)}}else if(o==="styles"){let d=Object.keys(l),f=d.length;for(let p=0;p<f;p++){let m=d[p],y=l[m];y&&(fJ(y),r.styleApplyer(e,m,y))}}else if(o!=="key"&&l!=null){let d=typeof l;d==="function"?(o.lastIndexOf("on",0)===0&&(i&&(l=i(o,l,e,t)),o==="oninput"&&function(){let f=l;l=function(p){f.apply(this,[p]),p.target["oninput-value"]=p.target.value}}()),e[o]=l):r.namespace===n4?o==="href"?e.setAttributeNS(uJ,o,l):e.setAttribute(o,l):d==="string"&&o!=="value"?o==="innerHTML"?e[o]=cJ.sanitize(l):fx(e)&&o in e?e[o]=l:e.setAttribute(o,l):e[o]=l}}};function fx(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let $_,dge=(e,t,r)=>{if(t)for(let i of t)q1(i,e,void 0,r)},hJ=(e,t,r)=>{dge(e,t.children,r),t.text&&(e.textContent=t.text),cge(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},q1=(e,t,r,i)=>{let s,n=0,a=e.vnodeSelector,o=t.ownerDocument;if(a==="")s=e.domNode=o.createTextNode(e.text),r!==void 0?t.insertBefore(s,r):t.appendChild(s);else{for(let l=0;l<=a.length;++l){let d=a.charAt(l);if(l===a.length||d==="."||d==="#"){let f=a.charAt(n-1),p=a.slice(n,l);f==="."?s.classList.add(p):f==="#"?s.id=p:(p==="svg"&&(i=TA(i,{namespace:n4})),i.namespace!==void 0?s=e.domNode=o.createElementNS(i.namespace,p):(s=e.domNode=e.domNode||o.createElement(p),p==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(s,r):s.parentNode!==t&&t.appendChild(s)),n=l+1}}hJ(s,e,i)}},px=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},uge=(e,t,r,i)=>{if(!r)return;let s=!1,n=Object.keys(r),a=n.length;for(let o=0;o<a;o++){let l=n[o],d=r[l],f=t[l];if(l==="class")f!==d&&(px(e,f,!1),px(e,d,!0));else if(l==="classes"){let p=e.classList,m=Object.keys(d),y=m.length;for(let b=0;b<y;b++){let g=m[b],v=!!d[g];v!==!!f[g]&&(s=!0,v?p.add(g):p.remove(g))}}else if(l==="styles"){let p=Object.keys(d),m=p.length;for(let y=0;y<m;y++){let b=p[y],g=d[b];g!==f[b]&&(s=!0,g?(fJ(g),i.styleApplyer(e,b,g)):i.styleApplyer(e,b,""))}}else if(d||typeof f!="string"||(d=""),l!=="value"||fx(e)){if(d!==f){let p=typeof d;p==="function"&&i.eventHandlerInterceptor||(i.namespace===n4?l==="href"?e.setAttributeNS(uJ,l,d):e.setAttribute(l,d):p==="string"?l==="innerHTML"?e[l]=cJ.sanitize(d):l==="role"&&d===""?e.removeAttribute(l):fx(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]!==d&&(e[l]=d),s=!0)}}else{let p=e[l];p!==d&&(e["oninput-value"]?p===e["oninput-value"]:d!==f)&&(e[l]=d,e["oninput-value"]=void 0),d!==f&&(s=!0)}}return s},fge=(e,t,r,i,s)=>{if(r===i)return!1;i=i||JF;let n,a=(r=r||JF).length,o=i.length,l=0,d=0,f=!1;for(;d<o;){let p=l<a?r[l]:void 0,m=i[d];if(p!==void 0&&IA(p,m))f=$_(p,m,s)||f,l++;else{let y=oge(r,m,l+1);if(y>=0){for(n=l;n<y;n++)KF(r[n]),l7(r,n,e,"removed");f=$_(r[y],m,s)||f,l=y+1}else q1(m,t,l<a?r[l].domNode:void 0,s),lge(m),l7(i,d,e,"added")}d++}if(a>l)for(n=l;n<a;n++)KF(r[n]),l7(r,n,e,"removed");return f};$_=(e,t,r)=>{let i=e.domNode,s=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(a,i),t.domNode=a,s=!0,s}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=TA(r,{namespace:n4})),e.text!==t.text&&(n=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,n=fge(t,i,e.children,t.children,r)||n,n=uge(i,e.properties,t.properties,r)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),s};let Gw=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,$_(i,r,t)},domNode:e.domNode});const pge={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let cg=e=>TA(pge,e),Kd={append:(e,t,r)=>(r=cg(r),q1(t,e,void 0,r),Gw(t,r)),insertBefore:(e,t,r)=>(r=cg(r),q1(t,e.parentNode,e,r),Gw(t,r)),merge:(e,t,r)=>(r=cg(r),t.domNode=e,hJ(e,t,r),Gw(t,r)),replace:(e,t,r)=>(r=cg(r),q1(t,e.parentNode,e,r),e.parentNode.removeChild(e),Gw(t,r))},mJ,hge=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};mJ=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let mge=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?mJ(r.children,s=>s.domNode===i):void 0}),r},yge=(e,t,r)=>{let i=function(s){r("domEvent",s);let n=t(),a=hge(s.currentTarget,n.domNode);a.reverse();let o,l=mge(n.getLastRender(),a);return e.scheduleRender(),l&&(o=l.properties[`on${s.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",s),o};return(s,n,a,o)=>i},x_=e=>{let t,r,i=cg(e),s=i.performanceLogger,n=!0,a=!1,o=[],l=[],d=(p,m,y)=>{let b,g=()=>b;i.eventHandlerInterceptor=yge(t,g,s),b=p(m,y(),i),o.push(b),l.push(y)},f=()=>{if(r=void 0,n){n=!1,s("renderStart",void 0);for(let p=0;p<o.length;p++){let m=l[p]();s("rendered",void 0),o[p].update(m),s("patched",void 0)}s("renderDone",void 0),n=!0}};return t={renderNow:f,scheduleRender:()=>{r||a||(r=requestAnimationFrame(f))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),a=!0},resume:()=>{a=!1,n=!0,t.scheduleRender()},append:(p,m)=>{d(Kd.append,p,m)},insertBefore:(p,m)=>{d(Kd.insertBefore,p,m)},merge:(p,m)=>{d(Kd.merge,p,m)},replace:(p,m)=>{d(Kd.replace,p,m)},detach:p=>{for(let m=0;m<l.length;m++)if(l[m]===p)return l.splice(m,1),o.splice(m,1)[0];throw new Error("renderFunction was not found")}},t},rd=class extends ie{constructor(){super(...arguments),this.items=new W,this._watchUpdatingTracking=new Np,this._callbacks=new Map,this._projector=x_(),this._hiddenProjector=x_()}get needsRender(){return this.items.length>0}get updating(){var t;return((t=this._watchUpdatingTracking)==null?void 0:t.updating)??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,r=>{for(const i of r.added){const s=()=>i.render();this._callbacks.set(i,s),this._projector.append(this.surface,s)}for(const i of r.removed){const s=this._projector.detach(this._callbacks.get(i));this.surface.removeChild(s.domNode),this._callbacks.delete(i)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){const r=this._hiddenSurface,i=this._hiddenProjector;let s;const n=()=>(s=t.render(),s);i.append(r,n),i.renderNow();const a={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const o=s.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(i.detach(n);r.firstChild;)r.removeChild(r.firstChild);return a}overlaps(t,r){const i=this.computeBoundingRect(t),s=this.computeBoundingRect(r);return Math.max(i.left,s.left)<=Math.min(i.right,s.right)&&Math.max(i.top,s.top)<=Math.min(i.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){const i=!!(r!=null&&r.disableDecorations);if(!this.items.some(n=>n.visible&&!(i&&n.isDecoration)))return;const s=t.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{i&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};c([u({readOnly:!0})],rd.prototype,"surface",void 0),c([u({readOnly:!0})],rd.prototype,"items",void 0),c([u({readOnly:!0})],rd.prototype,"needsRender",null),c([u({readOnly:!0})],rd.prototype,"_watchUpdatingTracking",void 0),c([u({readOnly:!0})],rd.prototype,"updating",null),rd=c([S("esri.views.overlay.ViewOverlay")],rd);const XF=rd,c7=[0,0];function bge(e){const t=(e.ownerDocument||window.document).defaultView,r=e.getBoundingClientRect();return c7[0]=r.left+((t==null?void 0:t.pageXOffset)??0),c7[1]=r.top+((t==null?void 0:t.pageYOffset)??0),c7}function eP(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}function gge(e){const t=document.createElement("div");return e.appendChild(t),t}const Mh=16,Ob=750,vge=512,wge=2,_ge=e=>{let t=class extends e{constructor(...r){super(...r),this._freqInfo={freq:Mh,time:Ob},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([U(()=>this.cursor,i=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",i)}),U(()=>this.navigating,i=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",i.toString())})])}initialize(){this.addHandles([U(()=>this.ui,(r,i)=>this._handleUIChange(r,i),we),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){var r;this.destroyed||((r=this.ui)==null||r.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const i=this._get("container"),s=$A(r);if(s||typeof r!="string"||B.getLogger(this).error("#container",`element with id '${r}' not found`),i===s)return;if(this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(eP(this.root),this._set("root",null)),this.userContent&&(qF(this.userContent,i),eP(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const n=document.createElement("div");n.className="esri-view-user-storage",qF(s,n),s.appendChild(n),this._set("userContent",n);const a=document.createElement("div");a.className="esri-view-root",s.insertBefore(a,s.firstChild),this._set("root",a);const o=document.createElement("div");o.className="esri-view-surface",o.setAttribute("role","application"),o.tabIndex=0,a.appendChild(o),this._set("surface",o);const l=new XF;a.appendChild(l.surface),this._set("overlay",l),this.addHandles(U(()=>l.needsRender,d=>{d&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=ly({render:()=>{var f;return(f=this.overlay)==null?void 0:f.render()}}):this._overlayRenderTaskHandle=Ft(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,i,s){const n=this.position;return r-=n?n[0]:0,i-=n?n[1]:0,s?(s[0]=r,s[1]=i):s=[r,i],s}containerToPage(r,i,s){const n=this.position;return r+=n?n[0]:0,i+=n?n[1]:0,s?(s[0]=r,s[1]=i):s=[r,i],s}_handleUIChange(r,i){this.removeHandles("ui"),i&&i!==r&&i.destroy(),r&&(r.view=this,this.addHandles(U(()=>this.root,s=>{r.container=s?gge(s):null},we),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Mh,r.time=Ob;const i=ly({prepare:a=>{const o=this._measure(),l=this._freqInfo;if(l.time+=a.deltaTime,o&&(l.freq=Mh,this._get("resizing")||this._set("resizing",!0)),l.time<l.freq)return;l.time=0;const d=this._position();l.freq=d||o?Mh:Math.min(Ob,l.freq*wge),!o&&l.freq>=vge&&(i.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(a=>{r.freq=Mh,r.time=Ob,i.resume()});this.container!=null&&s.observe(this.container);const n=Je(()=>s.disconnect());this.addHandles([b2(window,"resize",()=>{r.freq=Mh,r.time=Ob,i.resume()}),n,i],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,i=r?r.clientWidth:0,s=r?r.clientHeight:0;if(i===0||s===0)return this.suspended||this._set("suspended",!0),!1;const n=this.width,a=this.height;return i===n&&s===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",i),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:n,oldHeight:a,width:i,height:s}),!0)}_position(){const r=this.container,i=this.position,s=r&&bge(r);return!!s&&(!i||s[0]!==i[0]||s[1]!==i[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return c([u()],t.prototype,"container",null),c([u({readOnly:!0})],t.prototype,"focused",null),c([u({readOnly:!0})],t.prototype,"height",void 0),c([u()],t.prototype,"messagesCommon",void 0),c([u({type:XF})],t.prototype,"overlay",void 0),c([u({readOnly:!0})],t.prototype,"position",void 0),c([u({readOnly:!0})],t.prototype,"resizing",void 0),c([u({readOnly:!0})],t.prototype,"root",void 0),c([u({value:null,readOnly:!0})],t.prototype,"size",null),c([u({readOnly:!0})],t.prototype,"surface",void 0),c([u({readOnly:!0})],t.prototype,"suspended",void 0),c([u({nonNullable:!0})],t.prototype,"ui",void 0),c([u({readOnly:!0})],t.prototype,"userContent",void 0),c([u({readOnly:!0})],t.prototype,"width",void 0),c([u()],t.prototype,"widthBreakpoint",void 0),t=c([S("esri.views.DOMContainer")],t),t},Sge=V("mac")?"Meta":"Control",$ge=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),xge=e=>$ge.has(e);let Ege=class{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const r=t.modifiers;for(const i of this.keyModifiers)if(!r.has(i))return!1;return!0}},qr=class{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const r=this._incoming[t];for(const i of r)this._incomingEventMatches.push(i.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(r=>this._handleEvent(r)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,i){let s;typeof r=="function"?(i=r,s=[]):s=r||[];const n=typeof t=="string"?new Ege(t,s):t,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},o=f=>{const p=this._incoming[f.match.eventType];if(p){const m=p.indexOf(f);p.splice(m,1),a(),this._manager&&this._manager.updateDependencies()}},l=new Tge(n,i,{onPause:o,onRemove:o,onResume:f=>{const p=this._incoming[f.match.eventType];p&&!p.includes(f)&&(p.push(f),a(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[n.eventType];return d||(d=[],this._incoming[n.eventType]=d),d.push(l),a(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw new Error("There is already a callback registered for this outgoing InputEvent: "+t);const r=new Ige(t,{onEmit:(i,s,n,a)=>{var o;(o=this._manager)==null||o.emit(i.eventType,s,n,a)},onRemove:i=>{var s;delete this._outgoing[i.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!0)}stopCapturingPointer(t){var r;(r=this._manager)==null||r.setPointerCapture(t,!1)}refreshHasPendingInputs(){var t;(t=this._manager)==null||t.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){var i;const r=this._incoming[t.type];if(r){for(const s of r)if(s.match.matches(t)&&((i=s.callback)==null||i.call(s,t),t.shouldStopPropagation()))break}}},Tge=class{constructor(t,r,i){this.match=t,this._callback=r,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Ige=class{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,i){this._removed||this._handler.onEmit(this,t,r,i)}remove(){this._removed=!0,this._handler.onRemove(this)}},Cge=class extends qr{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",r=>this._update(r.data))}_update(t){const r=t.native.pointerType==="touch"?"touch":"mouse",{x:i,y:s}=t;r===this._value&&this._x===i&&this._y===s||(this._value=r,this._x=i,this._y=s,this._onChange(r,i,s))}},Mge=class{constructor(t,r){this._observable=new _2,this._value=t,this._equalityFunction=r}get value(){return ge(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}};function _y(e,t=PU){return new Mge(e,t)}let Age=class extends qr{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=_y(!1),this._onPointerAdd=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{t.pointerType==="touch"&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},kge=class{constructor(t,r){this._owner=r,this._properties={},this._afterDispatchHandle=null;for(const i in t){const s=t[i],n=new eG(s,void 0,void 0,2,2);this._properties[i]={pool:n,acquired:[]}}this._afterDispatchHandle=mde(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const t in this._properties){const r=this._properties[t];for(const i of r.acquired)aO(i)||r.pool.release(i);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){const r=this._owner._get(t),i=this._properties[t];let s=i.pool.acquire();for(i.acquired.push(s);s===r;)i.acquired.push(s),s=i.pool.acquire();return s}_release(){for(const t in this._properties){const r=this._properties[t];let i=0;for(const s of r.acquired)aO(s)?r.acquired[i++]=s:r.pool.release(s);r.acquired.length=i}}},mn=class extends ie{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Sge,this._latestPointerType="mouse",this._propertiesPool=new kge({latestPointerLocation:Oge},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const t=Object.keys(this._nameToGroup);for(const r of t)this.uninstallHandlers(r);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,i=uu.INTERNAL){if(this._nameToGroup[t]||r.length===0)return;const s={name:t,handlers:r.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let n=s.handlers.length-1;n>=0;n--){const a=s.handlers[n];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(o,l,d,f,p)=>{this._emitInputEvent(a.priorityIndex+1,o,l,d,p,f)},setPointerCapture:(o,l)=>{this._setPointerCapture(s,a,o,l)},setEventCallback:o=>{a.eventCallback=o},setUninstallCallback:o=>{a.uninstallCallback=o},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){const r=this._nameToGroup[t];r?(r.handlers.forEach(i=>{var s;i.removed=!0,(s=i.uninstallCallback)==null||s.call(i)}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):B.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return this._nameToGroup[t]!==void 0}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const t=new Set,r=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const s=this._handlers[i];s.priorityIndex=i,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const s=this._handlersPriority[i];s.priorityIndex=i;let n=s.handler.hasSideEffects;if(!n){for(const a of s.handler.outgoingEventTypes)if(t.has(a)){n=!0;break}}if(n)for(const a of s.handler.incomingEventMatches){t.add(a.eventType);for(const o of a.keyModifiers)xge(o)||r.add(o)}s.active=n}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,i){this._latestPointerType=t;const s=this._get("latestPointerLocation");if(s==null||s.x!==r||s.y!==i){const n=this._propertiesPool.get("latestPointerLocation");n.x=r,n.y=i,this._set("latestPointerLocation",n)}}_onEventReceived(t,r){if(t==="pointer-capture-lost"){const n=r;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(t,r);const i=this.test.timestamp!=null?this.test.timestamp:r.native?r.native.timestamp:void 0,s=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,i,s)}_updateKeyModifiers(t,r){if(!r)return;let i=!1;const s=()=>{i||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),i=!0)},n=(o,l)=>{l&&!this._activeKeyModifiers.has(o)?(s(),this._activeKeyModifiers.add(o)):!l&&this._activeKeyModifiers.has(o)&&(s(),this._activeKeyModifiers.delete(o))};if(t==="key-down"||t==="key-up"){const o=r.key;this._keyModifiers.has(o)&&n(o,t==="key-down")}const a=r.native;n("Alt",!!(a!=null&&a.altKey)),n("Control",!!(a!=null&&a.ctrlKey)),n("Ctrl",!!(a!=null&&a.ctrlKey)),n("Shift",!!(a!=null&&a.shiftKey)),n("Meta",!!(a!=null&&a.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new Cge((t,r,i)=>this._setLatestPointer(t,r,i)),this._multiTouchHandler=new Age,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],uu.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,uu.INTERNAL)}_setPointerCapture(t,r,i,s){const n=t.name+"-"+r.priorityIndex,a=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,a),s?(a.add(n),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):a.has(n)&&(a.delete(n),a.size===0&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,i,s){this._emitInputEvent(0,t,r,i,s)}_emitInputEvent(t,r,i,s,n,a){const o=s!==void 0?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),l=n!==void 0&&n,d={event:new Lge(r,i,o,a||this._activeKeyModifiers,l),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(t){this._currentPropagation={events:new p_,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){var r,i,s;this._paused=!1;const t=this._currentPropagation;if(t){for(;t.events.length>0;){const{event:n,priorityIndex:a}=t.events.pop(),o=(r=n.data)==null?void 0:r.eventId;if(!(o!=null&&this._stoppedPropagationEventIds.has(o)))for(t.currentHandler=this._handlersPriority[a];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!n.shouldStopPropagation()&&((s=(i=t.currentHandler).eventCallback)==null||s.call(i,n)),n.shouldStopPropagation()){o!=null&&this._stoppedPropagationEventIds.add(o);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){const r=new p_;r.push(t);const i=this._currentPropagation;if(i){for(;i.events.length;)r.push(i.events.pop());i.events=r,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(const i of t.handler.incomingEventMatches)for(const s of r.handler.incomingEventMatches){if(i.eventType!==s.eventType)continue;const n=i.keyModifiers.filter(a=>s.keyModifiers.includes(a));if(n.length===i.keyModifiers.length!=(n.length===s.keyModifiers.length))return i.keyModifiers.length>s.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){const r=[];for(const i of t){let s=0;for(;s<r.length&&this._compareHandlerPriority(i,r[s])>=0;)s++;r.splice(s,0,i)}return r}get debug(){const t=r=>{const i=this._setPointerCapture;this._setPointerCapture=()=>{},r(),this._setPointerCapture=i};return{injectEvent:(r,i)=>{t(()=>this._onEventReceived(r,i))},disablePointerCapture:t}}};c([u({readOnly:!0})],mn.prototype,"hasPendingInputs",null),c([u({constructOnly:!0})],mn.prototype,"eventSource",void 0),c([u({constructOnly:!0})],mn.prototype,"recognizers",void 0),c([u()],mn.prototype,"_latestPointerType",void 0),c([u()],mn.prototype,"latestPointerType",null),c([u()],mn.prototype,"multiTouchActive",null),c([u({readOnly:!0})],mn.prototype,"latestPointerLocation",void 0),c([u()],mn.prototype,"_paused",void 0),c([u({readOnly:!0})],mn.prototype,"updating",null),mn=c([S("esri.views.input.InputManager")],mn);let Lge=class{constructor(t,r,i,s,n){this.type=t,this.data=r,this.timestamp=i,this.modifiers=s,this.cancelable=n,this._propagationState=Pd.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Pd.STOPPED}shouldStopPropagation(){return!!(this._propagationState&Pd.STOPPED)}async(t){this._propagationState|=Pd.PAUSED;const r=(i,s)=>{this._propagationState&=~Pd.PAUSED;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw i;return i};return(typeof t=="function"?t():t).then(i=>r(i,!1),i=>r(i,!0))}shouldPausePropagation(t){return!!(this._propagationState&Pd.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}};var Pd;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Pd||(Pd={}));const uu={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let Rge=class{};const Oge=Rge;function Hc(e){return e!=null&&"open"in e&&"declaredClass"in e}function tP(e){return e!=null&&"declaredClass"in e&&"dockOptions"in e}const Fge=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([U(()=>[this.ui,this.popup],([r,i],s)=>{const n="popup",a="manual";if(s){const[o,l]=s;o&&Hc(l)&&(l.view=null,tP(l)&&o.remove(l,n))}r&&Hc(i)&&(i.view=this,tP(i)&&r.add(i,{key:n,position:a,internal:!0}))},we),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&(Hc(this.popup)?this.popup.viewModel.handleViewClick(r):r.async(async()=>{await this.setupPopup(),Hc(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(r)}))},uu.WIDGET)]),Wa(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{C(()=>import("./Popup-DjLks0Bx.js"),__vite__mapDeps([249,250,251]))})}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(Hc(this.popup))return this.popup.open(r);try{if(await this.setupPopup(),!this.popup)return void B.getLogger(this).error(new I("view:null-popup","Popup is null and can't be opened"));this.popup.open(r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),Hc(this.popup)&&this.popup.close()}async fetchPopupFeatures(r,i){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,i),i)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!Hc(this.popup))return this._popupSetupTask=_c(async i=>{const{default:s}=await C(()=>import("./Popup-DjLks0Bx.js"),__vite__mapDeps([249,250,251]));if(Ce(i),!this.popup||Hc(this.popup))return;const n=this.popup;delete n.open,delete n.close,this.popup=new s(n)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:i},s){const n=[],a=[];let o=!1;const l=Hce(s,V("popup-view-fetch-timeout")??Nge),d=m=>{const y=new Pge(m);return a.push(y),n.push(y.promise),y},f=m=>{const y=a.at(-1);return y&&y.layerView===m&&!o?y:d(m)};for(const m of i)"graphic"in m?(f(m.layerView).graphics.push(m.graphic),o=!1):(n.push(m.layerView.fetchPopupFeaturesAtLocation(m.mapPoint,l)),o=!0);a.map(m=>m.resolve(l));const p=Gce(n).then(m=>m.filter(y=>!!y).flat());return{pendingFeatures:n,allGraphicsPromise:p,location:r}}async _getPopupHits(r,i){const{hits:s,location:n}=await this.popupHitTest(r);Ce(i);const a=[];for(const o of s)if("graphic"in o){if(this._isValidPopupGraphic(o.graphic,i)){const l=this._isValidPopupGraphicsLayerView(o.layerView)?o.layerView:void 0;a.push({graphic:o.graphic,layerView:l})}}else this._isValidPopupLocationLayerView(o.layerView)&&a.push({mapPoint:o.mapPoint,layerView:o.layerView});return{hits:a,location:n}}_isValidPopupGraphic(r,i){return r&&!!r.getEffectivePopupTemplate(i==null?void 0:i.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return c([u()],t.prototype,"popup",void 0),c([u()],t.prototype,"popupEnabled",void 0),t=c([S("esri.views.PopupView")],t),t};let Pge=class{constructor(t){this.layerView=t,this._resolver=Ms(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){const{layerView:r,graphics:i,_resolver:s}=this;if(!r)return s.resolve(i),s.promise;let n;return r.fetchPopupFeaturesFromGraphics(i,t).catch(a=>(n=a,null)).then(a=>{a?s.resolve(a):s.reject(n)}),s.promise}};const Nge=5e3;function $c(e,t,r=W){return t||(t=new r),t===e||(t.removeAll(),Dge(e)?t.addMany(e):e&&t.add(e)),t}function yJ(e){return e}function Dge(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Nd;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Nd||(Nd={}));let Vge=class{constructor(){this._resolver=Ms(),this._status=Nd.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Nd.RESOLVED,this._cleanUp()},()=>{this._status=Nd.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Nd.RESOLVED}isRejected(){return this._status===Nd.REJECTED}isFulfilled(){return this._status!==Nd.PENDING}abort(){this._resolver.reject(mt())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Ms(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==i||fr(s)||this._resolver.reject(s)}),t.resolve()}};const bJ=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new Vge,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=c([S("esri.core.Promise")],t),t};let dg=class extends bJ(ie){};dg=c([S("esri.core.Promise")],dg),function(e){e.EsriPromiseMixin=bJ}(dg||(dg={}));const yh=dg,zge="not-loaded",jge="loading",qge="failed",rP="loaded",gJ=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const s=this.load.bind(this);this.load=n=>{const a=new Promise((o,l)=>{const d=yM(n,l);this.destroyed&&l(new I("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(o,l).finally(()=>{d&&d.remove()})});if(this.loadStatus===zge){this._set("loadStatus",jge);const o=this._loadController=new AbortController;s({signal:o.signal})}return i(),a}})),this.when(()=>{this._set("loadStatus",rP),this._loadController=null},i=>{this._set("loadStatus",qge),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Si(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===rP}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new I("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return c([u({readOnly:!0})],t.prototype,"loaded",null),c([u({readOnly:!0})],t.prototype,"loadError",void 0),c([u({clonable:!1})],t.prototype,"loadStatus",void 0),c([u({type:[Un],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([S("esri.core.Loadable")],t),t};let ug=class extends gJ(yh){};ug=c([S("esri.core.Loadable")],ug),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=gJ,e.isLoadable=t}(ug||(ug={}));const Ai=ug;async function a4(e,t){return await e.load(),Bge(e,t)}async function Bge(e,t){const r=[],i=(...n)=>{for(const a of n)a!=null&&(Array.isArray(a)?i(...a):W.isCollection(a)?a.forEach(o=>i(o)):Ai.isLoadable(a)&&r.push(a))};t(i);let s=null;if(await rue(r,async n=>{const a=await D6(Uge(n)?n.loadAll():n.load());a.ok!==!1||s||(s=a)}),s)throw s.error;return e}function Uge(e){return"loadAll"in e&&typeof e.loadAll=="function"}let Hw;function Gge(e){return Hw&&!Hw.destroyed||(Hw=e()),Hw}var hx;const Hge=new ye({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let yn=hx=class extends ie{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new hx({categories:this.categories?O(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let i="";if(this.extent){const a=U6(this.extent,me.WGS84);a!=null&&(i=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:r,bbox:i,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>Hge.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};c([u()],yn.prototype,"categories",void 0),c([u()],yn.prototype,"disableExtraQuery",void 0),c([u({type:ht})],yn.prototype,"extent",void 0),c([u()],yn.prototype,"filter",void 0),c([u()],yn.prototype,"num",void 0),c([u()],yn.prototype,"query",void 0),c([u()],yn.prototype,"sortField",void 0),c([u()],yn.prototype,"sortOrder",null),c([u()],yn.prototype,"start",void 0),yn=hx=c([S("esri.portal.PortalQueryParams")],yn);const Na=yn;var mx;let hr=mx=class extends N{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new I("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new mx({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=yt(Na,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Na,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Na,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(i=>{const s=i.contentCategorySetsGroupQuery;if(s){const n=new Na({disableExtraQuery:!0,num:1,query:s});return r.queryGroups(n,t)}throw new I("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const s=i.results[0],n=new Na({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new I("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};c([u()],hr.prototype,"access",void 0),c([u({type:Date})],hr.prototype,"created",void 0),c([u()],hr.prototype,"description",void 0),c([u()],hr.prototype,"id",void 0),c([u()],hr.prototype,"isInvitationOnly",void 0),c([u({type:Date})],hr.prototype,"modified",void 0),c([u()],hr.prototype,"owner",void 0),c([u()],hr.prototype,"portal",void 0),c([u()],hr.prototype,"snippet",void 0),c([u()],hr.prototype,"sortField",void 0),c([u()],hr.prototype,"sortOrder",void 0),c([u()],hr.prototype,"sourceJSON",void 0),c([u()],hr.prototype,"tags",void 0),c([u()],hr.prototype,"thumbnail",void 0),c([u({readOnly:!0})],hr.prototype,"thumbnailUrl",null),c([u()],hr.prototype,"title",void 0),c([u({readOnly:!0})],hr.prototype,"url",null),hr=mx=c([S("esri.portal.PortalGroup")],hr);const yx=hr;let yf=class extends ie{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([u()],yf.prototype,"nextQueryParams",void 0),c([u()],yf.prototype,"queryParams",void 0),c([u()],yf.prototype,"results",void 0),c([u()],yf.prototype,"total",void 0),yf=c([S("esri.portal.PortalQueryResult")],yf);const Wge=yf;let ml=class extends N{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new I("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([u({type:Date})],ml.prototype,"created",void 0),c([u()],ml.prototype,"id",void 0),c([u()],ml.prototype,"portal",void 0),c([u()],ml.prototype,"title",void 0),c([u({readOnly:!0})],ml.prototype,"url",null),c([u()],ml.prototype,"username",void 0),ml=c([S("esri.portal.PortalFolder")],ml);const Zge=ml;var bx;let wt=bx=class extends N{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,i=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),r!=null&&(typeof r=="string"?s.query.text=r:typeof r=="object"&&(s.query.text=JSON.stringify(r))));let n=this.userContentUrl;return i&&(n+="/"+(typeof i=="string"?i:i.id)),this.portal.request(n+"/addItem",s).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",i=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},a=await this.portal.request(r,n);for(const o of a.results){const l=e.find(p=>o.itemId===p.id),d=o.success;let f=null;d?(l.id=null,l.portal=null):o.error&&(f=new I("portal:delete-item-failed",o.error.message,o.error)),i.push({item:l,success:d,error:f})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const s=Zge.fromJSON(i);return s.portal=this.portal,s}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=yx.fromJSON(r);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??(e={});let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await C(()=>Promise.resolve().then(()=>vJ),void 0),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:i});let n;return s!=null&&s.items?(n=s.items.map(a=>{const o=r.fromJSON(a);return o.portal=this.portal,o}),await Promise.all(n.map(a=>a.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new yx({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new I("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new I("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new bx({sourceJSON:e});return t.read(e),t}};c([u()],wt.prototype,"access",void 0),c([u({type:Date})],wt.prototype,"created",void 0),c([u()],wt.prototype,"culture",void 0),c([u()],wt.prototype,"description",void 0),c([u()],wt.prototype,"email",void 0),c([u()],wt.prototype,"favGroupId",void 0),c([u()],wt.prototype,"fullName",void 0),c([u({type:Date})],wt.prototype,"modified",void 0),c([u()],wt.prototype,"orgId",void 0),c([u()],wt.prototype,"portal",void 0),c([u()],wt.prototype,"preferredView",void 0),c([u()],wt.prototype,"privileges",void 0),c([u()],wt.prototype,"region",void 0),c([u()],wt.prototype,"role",void 0),c([u()],wt.prototype,"roleId",void 0),c([u()],wt.prototype,"sourceJSON",void 0),c([u()],wt.prototype,"thumbnail",void 0),c([u({readOnly:!0})],wt.prototype,"thumbnailUrl",null),c([u()],wt.prototype,"units",void 0),c([u({readOnly:!0})],wt.prototype,"userContentUrl",null),c([u({readOnly:!0})],wt.prototype,"url",null),c([u()],wt.prototype,"username",void 0),c([u()],wt.prototype,"userLicenseTypeId",void 0),c([u()],wt.prototype,"userType",void 0),wt=bx=c([S("esri.portal.PortalUser")],wt);const CA=wt;var zs;let Fb;const iP={PortalGroup:()=>Promise.resolve({default:yx}),PortalItem:()=>C(()=>Promise.resolve().then(()=>vJ),void 0),PortalUser:()=>Promise.resolve({default:CA})};let X=zs=class extends N.JSONSupportMixin(Ai){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=it.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){sP.unregister(this),this.defaultBasemap=pt(this.defaultBasemap),this.defaultDevBasemap=pt(this.defaultDevBasemap),this.defaultVectorBasemap=pt(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ft(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)it.request.trustedServers.includes(t)||it.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return yH(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=CA.fromJSON(e),t.portal=this),t}load(e){const t=C(()=>Promise.resolve().then(()=>b1e),void 0).then(({default:r})=>{Ce(e),Fb=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var i;if(!this.hasAPIKey&&Ee){const s=Ee;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==zs.AUTH_MODE_AUTO&&this.authMode!==zs.AUTH_MODE_NO_PROMPT||((i=this._esriIdCredentialCreateHandle)==null||i.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",Jge(new WeakRef(this))),sP.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await C(async()=>{const{default:r}=await import("./ElevationLayer-CyNamyab.js");return{default:r}},__vite__mapDeps([252,253,254,255,256]))).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(e,t);r.unshift(...i)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new Na;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const r=(await this.queryItems(t,e)).results.find(i=>i.type==="Web Scene");return r?new Fb({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):nn(e)?Promise.reject(mt()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Na({num:100,sortField:"title"});if(t!=null&&t.length){const i=[];for(const s of t)i.push(`(title:"${s.title}" AND owner:${s.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(s=>s.results)}return nn(e)?Promise.reject(mt()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Ii();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Ii();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Gge(()=>new zs)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Ii().toLowerCase()},withCredentials:!0,...r};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(i,s)}queryPortal(e,t,r,i){const s=yt(Na,t),n=a=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...i}).then(o=>{const l=s.clone();return l.start=o.nextStart,new Wge({nextQueryParams:l,queryParams:s,total:o.total,results:zs._resultsToTypedArray(a,{portal:this},o,i)})}).then(o=>Promise.all(o.results.map(l=>typeof l.when=="function"?l.when():o)).then(()=>o,l=>(Do(l),o)));return r&&iP[r]?iP[r]().then(({default:a})=>(Ce(i),n(a))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new I("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===zs.AUTH_MODE_ANONYMOUS||this.authMode===zs.AUTH_MODE_NO_PROMPT&&!Ee)return Promise.reject(new I("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Ee?Ee.getCredential(this.restUrl,{prompt:this.authMode!==zs.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(i=>{const s=zs._resultsToTypedArray(r,{portal:this},i);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():i)).then(()=>s,()=>s)})}request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===zs.AUTH_MODE_ANONYMOUS||this.authMode===zs.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:a="auto",responseType:o="json",signal:l}=t,d={authMode:i,body:s,cacheBust:n,method:a,query:r,responseType:o,timeout:0,signal:l};return t.withCredentials&&(d.withCredentials=!0),ze(this._normalizeSSL(e),d).then(f=>f.data)}toJSON(){throw new I("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new zs({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new I("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Na;r.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const i=await this.queryGroups(r,t);if(!i.total)return[];const s=i.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(r,t);return n.total?n.results.filter(a=>a.type==="Web Map").map(a=>new Fb({portalItem:a})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(this.hasAPIKey)return[];const i=new Na({query:r,disableExtraQuery:!0}),s=await this.queryGroups(i,t);if(!s.total)return[];const n=s.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const a=await n.queryItems(i,t);return a.total?a.results.filter(o=>o.type==="Web Scene").map(o=>new Fb({portalItem:o})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Fb.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,i){let s;if(r){const n=i!=null?i.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(s=s.map(a=>{const o=Object.assign(e?e.fromJSON(a):a,t);return typeof o.load=="function"&&o.load(n),o}))}else s=[];return s}};X.AUTH_MODE_ANONYMOUS="anonymous",X.AUTH_MODE_AUTO="auto",X.AUTH_MODE_IMMEDIATE="immediate",X.AUTH_MODE_NO_PROMPT="no-prompt",c([u()],X.prototype,"access",void 0),c([u()],X.prototype,"allSSL",void 0),c([u()],X.prototype,"authMode",void 0),c([u()],X.prototype,"authorizedCrossOriginDomains",void 0),c([Y("authorizedCrossOriginDomains")],X.prototype,"readAuthorizedCrossOriginDomains",null),c([u()],X.prototype,"basemapGalleryGroupQuery",void 0),c([u({json:{name:"3DBasemapGalleryGroupQuery"}})],X.prototype,"basemapGalleryGroupQuery3D",void 0),c([u()],X.prototype,"bingKey",void 0),c([u()],X.prototype,"canListApps",void 0),c([u()],X.prototype,"canListData",void 0),c([u()],X.prototype,"canListPreProvisionedItems",void 0),c([u()],X.prototype,"canProvisionDirectPurchase",void 0),c([u()],X.prototype,"canSearchPublic",void 0),c([u()],X.prototype,"canShareBingPublic",void 0),c([u()],X.prototype,"canSharePublic",void 0),c([u()],X.prototype,"canSignInArcGIS",void 0),c([u()],X.prototype,"canSignInIDP",void 0),c([u()],X.prototype,"colorSetsGroupQuery",void 0),c([u()],X.prototype,"commentsEnabled",void 0),c([u({type:Date})],X.prototype,"created",void 0),c([u()],X.prototype,"credential",void 0),c([u()],X.prototype,"culture",void 0),c([u()],X.prototype,"currentVersion",void 0),c([u()],X.prototype,"customBaseUrl",void 0),c([u()],X.prototype,"default3DBasemapQuery",void 0),c([u()],X.prototype,"defaultBasemap",void 0),c([Y("defaultBasemap")],X.prototype,"readDefaultBasemap",null),c([u()],X.prototype,"defaultDevBasemap",void 0),c([Y("defaultDevBasemap")],X.prototype,"readDefaultDevBasemap",null),c([u({type:ht})],X.prototype,"defaultExtent",void 0),c([u()],X.prototype,"defaultVectorBasemap",void 0),c([Y("defaultVectorBasemap")],X.prototype,"readDefaultVectorBasemap",null),c([u()],X.prototype,"description",void 0),c([u()],X.prototype,"devBasemapGalleryGroupQuery",void 0),c([u()],X.prototype,"eueiEnabled",void 0),c([u({readOnly:!0})],X.prototype,"extraQuery",null),c([u()],X.prototype,"featuredGroups",void 0),c([u()],X.prototype,"featuredItemsGroupQuery",void 0),c([u()],X.prototype,"galleryTemplatesGroupQuery",void 0),c([u()],X.prototype,"layoutGroupQuery",void 0),c([u()],X.prototype,"livingAtlasGroupQuery",void 0),c([u({readOnly:!0})],X.prototype,"hasAPIKey",null),c([u()],X.prototype,"hasCategorySchema",void 0),c([u()],X.prototype,"hasClassificationSchema",void 0),c([u()],X.prototype,"helpBase",void 0),c([u()],X.prototype,"helperServices",void 0),c([u()],X.prototype,"helpMap",void 0),c([u()],X.prototype,"homePageFeaturedContent",void 0),c([u()],X.prototype,"homePageFeaturedContentCount",void 0),c([u()],X.prototype,"httpPort",void 0),c([u()],X.prototype,"httpsPort",void 0),c([u()],X.prototype,"id",void 0),c([u()],X.prototype,"ipCntryCode",void 0),c([u({readOnly:!0})],X.prototype,"isOrganization",null),c([u()],X.prototype,"isPortal",void 0),c([u()],X.prototype,"isReadOnly",void 0),c([u({readOnly:!0})],X.prototype,"itemPageUrl",null),c([u()],X.prototype,"layerTemplatesGroupQuery",void 0),c([u()],X.prototype,"maxTokenExpirationMinutes",void 0),c([u({type:Date})],X.prototype,"modified",void 0),c([u()],X.prototype,"name",void 0),c([u()],X.prototype,"portalHostname",void 0),c([u()],X.prototype,"portalMode",void 0),c([u()],X.prototype,"portalProperties",void 0),c([u()],X.prototype,"region",void 0),c([u()],X.prototype,"recycleBinEnabled",void 0),c([u({readOnly:!0})],X.prototype,"restUrl",null),c([u()],X.prototype,"rotatorPanels",void 0),c([u()],X.prototype,"showHomePageDescription",void 0),c([u()],X.prototype,"sourceJSON",void 0),c([u()],X.prototype,"staticImagesUrl",void 0),c([u({json:{name:"2DStylesGroupQuery"}})],X.prototype,"stylesGroupQuery2d",void 0),c([u({json:{name:"stylesGroupQuery"}})],X.prototype,"stylesGroupQuery3d",void 0),c([u()],X.prototype,"supportsHostedServices",void 0),c([u()],X.prototype,"symbolSetsGroupQuery",void 0),c([u()],X.prototype,"templatesGroupQuery",void 0),c([u()],X.prototype,"thumbnail",void 0),c([u({readOnly:!0})],X.prototype,"thumbnailUrl",null),c([u()],X.prototype,"units",void 0),c([u()],X.prototype,"url",void 0),c([u()],X.prototype,"urlKey",void 0),c([Y("urlKey")],X.prototype,"readUrlKey",null),c([u()],X.prototype,"user",void 0),c([Y("user")],X.prototype,"readUser",null),c([u()],X.prototype,"use3dBasemaps",void 0),c([u()],X.prototype,"useDefault3dBasemap",void 0),c([u()],X.prototype,"useStandardizedQuery",void 0),c([u()],X.prototype,"useVectorBasemaps",void 0),c([u()],X.prototype,"vectorBasemapGalleryGroupQuery",void 0),X=zs=c([S("esri.portal.Portal")],X);const Mr=X,sP=new FinalizationRegistry(e=>{e.remove()});function Jge(e){const t=Ee;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let yl=class extends ie{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t!=null&&t.portalItem&&t.path?{...t,path:nP(t.path,t.portalItem)}:t}set path(t){t!=null&&rn(t)?B.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return nP(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const i=this.cdnUrl;if(i==null)throw new I("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:t,query:{token:this.portalItem.apiKey,_ts:r!=null&&r.cacheBust?Date.now():null},signal:r==null?void 0:r.signal})}async update(t,r){const{addOrUpdateResources:i}=await C(()=>import("./resourceUtils-DJ14Qe9U.js"),[]);return await i(this.portalItem,[{resource:this,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"update",r),this}hasPath(){return this.path!=null}};function nP(e,t){return e==null?e:(e=e.replace(/^\/+/,""),t!=null&&rn(e)&&(e=NM(e,t.itemUrl)),e==null?void 0:e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}c([u()],yl.prototype,"portalItem",void 0),c([u({type:String,value:null})],yl.prototype,"path",null),c([Oe("path")],yl.prototype,"_castPath",null),c([u({type:String,readOnly:!0})],yl.prototype,"url",null),c([u({type:String,readOnly:!0})],yl.prototype,"cdnUrl",null),c([u({type:String,readOnly:!0})],yl.prototype,"itemRelativeUrl",null),yl=c([S("esri.portal.PortalItemResource")],yl);const Yge=yl;let fg=class extends ie{constructor(t){super(t),this.created=null,this.rating=null}};c([u({type:Date})],fg.prototype,"created",void 0),c([u()],fg.prototype,"rating",void 0),fg=c([S("esri.portal.PortalRating")],fg);const d7=fg;var bf;const Qge=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),Kge=new Set(["KML","GeoJson","CSV"]);let ke=bf=class extends N.JSONSupportMixin(Ai){static from(e){return Gy(bf,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":e==="Image Service"?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Video Service"?r="Video Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Geocoding Service"?r="Locator":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e!=null&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="Raster function template"?r="Raster Function Template":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.includes("configurableApp")?r="Instant App":e==="Insights Page"?r="Insights Report":e==="Excalibur Imagery Project"?r="Excalibur Project":e==="3DTiles Service"?r="3D tiles layer":e==="3DTiles Package"&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new ht(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){var y;const e=((y=this.type)==null?void 0:y.toLowerCase())||"",t=this.typeKeywords||[],r="esri/images/portal/",i="16";let s,n=!1,a=!1,o=!1,l=!1,d=!1,f=!1,p=!1,m=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.includes("Hosted Service"),e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.includes("Table"),o=t.includes("Route Layer"),l=t.includes("Markup"),d=t.includes("Spatiotemporal"),f=t.includes("UtilityNetwork"),s=d&&a?"spatiotemporaltable":a?"table":o?"routelayer":l?"markup":d?"spatiotemporal":f?"utilitynetwork":n?"featureshosted":"features"):e==="map service"||e==="wms"||e==="wmts"?(d=t.includes("Spatiotemporal"),p=t.includes("Relational"),s=d||p?"mapimages":n||t.includes("Tiled")||e==="wmts"?"maptiles":"mapimages"):s=e==="scene service"?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="video service"?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":e==="geoprocessing service"?t.includes("Web Tool")?"tool":"layers":e==="geodata service"?"geodataservice":e==="3dtiles service"?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):e==="web map"||e==="cityengine web scene"?s="maps":e==="web scene"?s=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.includes("configurableApp")?s="instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?s="apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.includes("ArcGIS Pro")||e==="explorer map"&&t.indexOf("Explorer Document")?s="mapsgray":e==="service definition"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="netcdf"||e==="administrative report"?s="datafiles":e==="360 vr experience"?s="360vr":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?s="appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?s="addindesktop":e==="pdf"?s="pdf":e==="microsoft word"?s="word":e==="microsoft excel"?s="excel":e==="microsoft powerpoint"?s="ppt":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="workflow manager package"||e==="explorer map"&&t.includes("Explorer Mapping Application")||t.includes("Document")?s="datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?s="toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?s="layersgray":e==="analysis model"?s="analysismodel":e==="scene package"?s="scenepackage":e==="3dtiles package"?s="3dtileslayerpackage":e==="3dtiles service"?s="3dtileslayer":e==="mobile scene package"?s="mobilescenepackage":e==="tile package"||e==="compact tile package"?s="tilepackage":e==="task file"?s="taskfile":e==="report template"?s="report-template":e==="statistical data collection"?s="statisticaldatacollection":e==="insights workbook"?s="workbook":e==="insights model"?s="insightsmodel":e==="insights page"?s="insightspage":e==="insights theme"?s="insightstheme":e==="hub initiative"?s="hubinitiative":e==="hub page"?s="hubpage":e==="hub site application"?s="hubsite":e==="hub event"?s="hubevent":e==="hub project"?s="hubproject":e==="relational database connection"?s="relationaldatabaseconnection":e==="big data file share"?s="datastorecollection":e==="image collection"?s="imagecollection":e==="desktop style"?s="desktopstyle":e==="style"?s=t.includes("Dictionary")?"dictionarystyle":"style":e==="dashboard"?s="dashboard":e==="raster function template"?s="rasterprocessingtemplate":e==="vector tile package"?s="vectortilepackage":e==="ortho mapping project"?s="orthomappingproject":e==="ortho mapping template"?s="orthomappingtemplate":e==="solution"?s="solutions":e==="geopackage"?s="geopackage":e==="deep learning package"?s="deeplearningpackage":e==="real time analytic"?s="realtimeanalytics":e==="reality mapping project"?s="realitymappingproject":e==="big data analytic"?s="bigdataanalytics":e==="feed"?s="feed":e==="excalibur imagery project"?s="excaliburimageryproject":e==="notebook"?s="notebook":e==="storymap"?s="storymap":e==="survey123 add in"?s="survey123addin":e==="mission"?s="mission":e==="mission report"?s="missionreport":e==="mission template"?s="missiontemplate":e==="quickcapture project"?s="quickcaptureproject":e==="pro report"?s="proreport":e==="pro report template"?s="proreporttemplate":e==="urban model"?s="urbanmodel":e==="urban project"?s="urbanproject":e==="web experience"?s="experiencebuilder":e==="web experience template"?s="webexperiencetemplate":e==="experience builder widget"?s="experiencebuilderwidget":e==="experience builder widget package"?s="experiencebuilderwidgetpackage":e==="workflow"?s="workflow":e==="kernel gateway connection"?s="kernelgatewayconnection":e==="insights script"?s="insightsscript":e==="hub initiative template"?s="hubinitiativetemplate":e==="storymap theme"?s="storymaptheme":e==="knowledge graph"?s="knowledgegraph":e==="knowledge graph layer"?s="knowledgegraphlayer":e==="knowledge studio project"?s="knowledgestudio":e==="native application"?s="nativeapp":e==="native application installer"?s="nativeappinstaller":e==="web link chart"?s="linkchart":e==="knowledge graph web investigation"?s="investigation":e==="ogcfeatureserver"?s="features":e==="pro presentation"?s="propresentation":e==="pro project"?s="proproject":e==="insights workbook package"?s="insightsworkbookpackage":e==="apache parquet"?s="apacheparquet":e==="notebook code snippet library"?s="notebookcodesnippets":e==="suitability model"?s="suitabilitymodel":e==="esri classifier definition"?s="classifierdefinition":e==="esri classification schema"?s="classificationschema":e==="insights data engineering workbook"?s="dataengineeringworkbook":e==="insights data engineering model"?s="dataengineeringmodel":e==="deep learning studio project"?s="deeplearningproject":e==="discussion"?s="discussion":e==="allsource project"?s="allsourceproject":e==="api key"?s="apikey":e==="data pipeline"?s="datapipelines":e==="group layer"?(m=t.includes("Map"),s=m?"layergroup2d":"layergroup"):s=e==="media layer"?"onlinemedialayer":e==="form"?t.includes("Survey123")?"survey":"datafilesgray":e==="csv"?"csv":e==="image"?"image":"maps",s?Et(r+s+i+".png"):null}get isLayer(){return this.type!=null&&Qge.has(this.type)}get itemCdnUrl(){return BM(this.itemUrl)}get itemPageUrl(){var t;const e=(t=this.portal)==null?void 0:t.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){var r;const e=this.itemUrl,t=this.thumbnail;return e&&t?((r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`))??null:null}get userItemUrl(){var r,i,s;const e=(r=this.portal)==null?void 0:r.restUrl;if(!e)return null;const t=this.owner||((s=(i=this.portal)==null?void 0:i.user)==null?void 0:s.username);return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=Mr.getDefault()),r=t.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:e!=null?e.signal:null,query:{token:this.apiKey}}):{}).then(i=>{this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},r=e instanceof d7?e.rating:e;return r==null||isNaN(r)||typeof e!="number"||(t.query.rating=r),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new d7({rating:r,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:O(this.applicationProxies),avgRating:this.avgRating,categories:O(this.categories),classification:O(this.classification),created:O(this.created),culture:this.culture,description:this.description,extent:O(this.extent),groupCategories:O(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:O(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:O(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:O(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:O(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new bf({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){var t;const e=this.toJSON();for(const r of["tags","typeKeywords","categories"])e[r]=(t=e[r])==null?void 0:t.join(", ");for(const r of["extent","classification"]){const i=e[r];i&&(e[r]=JSON.stringify(i))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return t.rating!=null?(t.created=new Date(t.created),new d7(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},bf)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e==null?void 0:e.data,r={method:"post"};r.query=this.createPostQuery();for(const i in r.query)r.query[i]===null&&(r.query[i]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new I("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new I("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:i,folder:s,tags:n,title:a}=e||{},o={method:"post",query:{copyPrivateResources:i==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!i,tags:n==null?void 0:n.join(","),title:a}},{itemId:l}=await t.request(`${r}/copy`,o);return new bf({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if(typeof t=="string")kc(t)?i.query={data:t}:i.query={url:xs(t)},r!=null&&(i.query.filename=r);else{const s=new FormData;r!=null?s.append("file",t,r):s.append("file",t),i.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,i).then(()=>this.reload())}):Promise.reject(new I("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await C(()=>import("./resourceUtils-DJ14Qe9U.js"),[]);return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:i}=await C(()=>import("./resourceUtils-DJ14Qe9U.js"),[]);return e.portalItem=this,await i(this,[{resource:e,content:t,compress:r==null?void 0:r.compress,access:r==null?void 0:r.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await C(()=>import("./resourceUtils-DJ14Qe9U.js"),[]);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new I("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await C(()=>import("./resourceUtils-DJ14Qe9U.js"),[]);return t(this,e)}resourceFromPath(e){return new Yge({portalItem:this,path:e})}toJSON(){var r,i;const e=this.extent,t={accessInformation:this.accessInformation,categories:O(this.categories),classification:O(this.classification),created:(r=this.created)==null?void 0:r.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(i=this.modified)==null?void 0:i.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:O(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:O(this.typeKeywords),url:this.url};return oce(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new bf({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([u({type:["private","shared","org","public"]})],ke.prototype,"access",void 0),c([u()],ke.prototype,"accessInformation",void 0),c([u({type:String})],ke.prototype,"apiKey",void 0),c([u({json:{read:{source:"appProxies"}}})],ke.prototype,"applicationProxies",void 0),c([u()],ke.prototype,"avgRating",void 0),c([u()],ke.prototype,"categories",void 0),c([u()],ke.prototype,"classification",void 0),c([u({type:Date})],ke.prototype,"created",void 0),c([u()],ke.prototype,"culture",void 0),c([u()],ke.prototype,"description",void 0),c([u({readOnly:!0})],ke.prototype,"displayName",null),c([u({type:ht})],ke.prototype,"extent",void 0),c([Y("extent")],ke.prototype,"readExtent",null),c([u()],ke.prototype,"groupCategories",void 0),c([u({readOnly:!0})],ke.prototype,"iconUrl",null),c([u()],ke.prototype,"id",void 0),c([u({readOnly:!0})],ke.prototype,"isLayer",null),c([u({type:Boolean,readOnly:!0})],ke.prototype,"isOrgItem",void 0),c([u()],ke.prototype,"itemControl",void 0),c([u({readOnly:!0})],ke.prototype,"itemPageUrl",null),c([u({readOnly:!0})],ke.prototype,"itemUrl",null),c([u()],ke.prototype,"licenseInfo",void 0),c([u({type:Date})],ke.prototype,"modified",void 0),c([u()],ke.prototype,"name",void 0),c([u()],ke.prototype,"numComments",void 0),c([u()],ke.prototype,"numRatings",void 0),c([u()],ke.prototype,"numViews",void 0),c([u()],ke.prototype,"owner",void 0),c([u()],ke.prototype,"ownerFolder",void 0),c([u({type:Mr})],ke.prototype,"portal",void 0),c([u()],ke.prototype,"screenshots",void 0),c([u()],ke.prototype,"size",void 0),c([u()],ke.prototype,"snippet",void 0),c([u()],ke.prototype,"sourceJSON",void 0),c([u({type:String})],ke.prototype,"sourceUrl",void 0),c([u({type:String})],ke.prototype,"spatialReference",void 0),c([u()],ke.prototype,"tags",void 0),c([u()],ke.prototype,"thumbnail",void 0),c([u({readOnly:!0})],ke.prototype,"thumbnailUrl",null),c([u()],ke.prototype,"title",void 0),c([u()],ke.prototype,"type",void 0),c([u()],ke.prototype,"typeKeywords",void 0),c([u({type:String,json:{read(e,t){var r;if(Kge.has(t.type)){const i=(r=this.portal)==null?void 0:r.restUrl;e||(e=i&&this.id?`${i}/content/items/${this.id}/data`:null)}return e}}})],ke.prototype,"url",void 0),c([u({readOnly:!0})],ke.prototype,"userItemUrl",null),ke=bf=c([S("esri.portal.PortalItem")],ke);const Ho=ke,vJ=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));async function Xge(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await e4("esri/t9n/basemaps");return r[e]||r[t]}const Iv={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Et("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Et("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Et("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Et("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Et("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Et("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}};let bl=class extends ie{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const t=this.language;let r=t==="local"||t==="global"?t:xZ(t??Ii())??"global";return r=r==="no"?"nb":r,r}};c([u()],bl.prototype,"apiKey",void 0),c([u()],bl.prototype,"id",void 0),c([u()],bl.prototype,"language",void 0),c([u()],bl.prototype,"places",void 0),c([u()],bl.prototype,"serviceUrl",void 0),c([u()],bl.prototype,"worldview",void 0),bl=c([S("esri.support.BasemapStyle")],bl);const e1e=bl;function t1e(e){return _J(e)||r1e(e)}function wJ(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function r1e(e){return(e==null?void 0:e.type)==="scene"}function i1e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Ss(e){return(e==null?void 0:e.type)==="subtype-sublayer"}function _J(e){const t=e==null?void 0:e.type;return t==="imagery-tile"||t==="tile"||t==="open-street-map"||t==="vector-tile"||t==="web-tile"||t==="wmts"}function s1e(e){const t=e==null?void 0:e.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}const CHe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function gx(e){const t=e==null?void 0:e.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function MHe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function o4(e){var t;return(e==null?void 0:e.type)==="feature"&&!e.url&&((t=e.source)==null?void 0:t.type)==="memory"}function AHe(e){var r;const t=e==null?void 0:e.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&((r=e==null?void 0:e.source)==null?void 0:r.type)==="feature-layer"}function n1e(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const r=e.activeLayer.tileMatrixSets;if(r)return r}return null}async function MA(e,t){const r=Ee==null?void 0:Ee.findServerInfo(e);if((r==null?void 0:r.currentVersion)!=null)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const s=`${e.slice(0,i)}/rest/info`,n=t!=null?t.signal:null,{data:a}=await ze(s,{query:{f:"json"},responseType:"json",signal:n});return(a==null?void 0:a.owningSystemUrl)||null}function SJ(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function $J(e){return SJ(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function a1e(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function o1e(e){return!!a1e(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const l1e=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),xJ=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),c1e=new Set([...xJ,"link-chart"]);function d1e(e){switch(e.layerContainerType){case"basemap":return l1e;case"operational-layers":return e.origin==="link-chart"?c1e:xJ;default:return null}}function u1e(e,t){if(t.restrictedWebMapWriting){const r=d1e(t);return r==null||r.has(e.type)&&!o4(e)}return!0}function f1e(e,t){var r;if(t)if(o4(e)){const i=p2("featureCollection.layers",t),s=(r=i==null?void 0:i[0])==null?void 0:r.layerDefinition;s&&aP(e,s)}else e.type!=="group"&&aP(e,t)}function aP(e,t){"maxScale"in e&&(t.maxScale=X5(e.maxScale)??void 0),"minScale"in e&&(t.minScale=X5(e.minScale)??void 0)}function p1e(e,t){if(f1e(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=X5(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts"))if(o4(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function vx(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r!=null&&r.messages&&r.messages.push(new I("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(o4(e)&&!e.isTable)t=e.resourceInfo;else if(u1e(e,r)){const i={};return e.write(i,r)?i:null}return t!=null&&p1e(e,t=O(t)),t}var pg;let h1e=0,js=pg=class extends N.JSONSupportMixin(Ai){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+h1e++,this.baseLayers=new W,this.referenceLayers=new W;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type==="elevation"&&B.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=i=>{i.parent=null};this.addHandles([this.baseLayers.on("after-add",i=>t(i.item)),this.referenceLayers.on("after-add",i=>t(i.item)),this.baseLayers.on("after-remove",i=>r(i.item)),this.referenceLayers.on("after-remove",i=>r(i.item))])}initialize(){this.when().catch(e=>{B.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const r of e)r.destroy();const t=this.referenceLayers.toArray();for(const r of t)r.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=pt(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",$c(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e&&(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach(s=>{const n=vx(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);n!=null&&i.push(n)}),this.referenceLayers.forEach(s=>{const n=vx(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);n!=null&&(s.type!=="scene"&&(n.isReference=!0),i.push(n))})),t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",$c(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return a4(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>V5(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>V5(t)?t.clone():t)};return this.loaded&&(e.loadStatus="loaded"),new pg({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){var r;return e=e||{},t!=null&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(i=>{const s=O(i);return s.url&&Zo(s.url)&&(s.url=`https:${s.url}`),s.templateUrl&&Zo(s.templateUrl)&&(s.templateUrl=`https:${s.templateUrl}`),s})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:i}=this;Ce(e);const s=[];if(t){const n=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,n,e)),t.data.id&&!t.data.title){const a=t.data.id;s.push(Xge(a).then(o=>{o&&this.read({title:o},t.context)}))}}else r?s.push(this._loadFromItem(r,e)):i&&s.push(this._loadFromStylesService(i,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,r){var l,d;const i=(l=this.resourceInfo)==null?void 0:l.context,s=((d=this.portalItem)==null?void 0:d.portal)||(i==null?void 0:i.portal)||null,n=y1e[(i==null?void 0:i.origin)||""]??"web-map",{populateOperationalLayers:a}=await C(async()=>{const{populateOperationalLayers:f}=await import("./layersCreator-C81A2h45.js");return{populateOperationalLayers:f}},__vite__mapDeps([257,258,259,260,261,262])),o=[];if(Ce(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const f={context:{...i,origin:n,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},p=b=>n==="web-scene"&&b.layerType==="ArcGISSceneServiceLayer"||b.isReference,m=a(this.baseLayers,e.baseMapLayers.filter(b=>!p(b)),f);o.push(m);const y=a(this.referenceLayers,e.baseMapLayers.filter(p),f);o.push(y)}await Promise.allSettled(o)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),s=Zt(e.itemUrl??"");return this._set("resourceInfo",{data:i.baseMap??{},context:{origin:m1e[e.type||""]??"web-map",portal:e.portal||Mr.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Mr.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}async _loadFromStylesService(e,t){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,i=`${r}/styles/${e.id}/self`,s=`${r}/webmaps/${e.id}`,[n,a]=await Promise.all([(await ze(i,{query:{token:e.apiKey},signal:t==null?void 0:t.signal})).data,(await ze(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:e.apiKey},signal:t==null?void 0:t.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=n.thumbnailUrl);const o=Zt(s);if(this._set("resourceInfo",{data:a.baseMap??{},context:{origin:"web-map",url:o}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:a.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,o,t),e.apiKey)for(const l of[...this.baseLayers,...this.referenceLayers])"apiKey"in l&&(l.apiKey=e.apiKey)}static fromId(e){const t=Iv[e];return t?t.itemId?new pg({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):pg.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};c([u({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:W}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],js.prototype,"baseLayers",null),c([u({type:String,json:{origins:{"web-scene":{write:!0}}}})],js.prototype,"id",void 0),c([u({type:Ho})],js.prototype,"portalItem",void 0),c([u()],js.prototype,"referenceLayers",null),c([u({readOnly:!0})],js.prototype,"resourceInfo",void 0),c([u({type:me})],js.prototype,"spatialReference",void 0),c([u({type:e1e})],js.prototype,"style",void 0),c([u()],js.prototype,"thumbnailUrl",void 0),c([u({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],js.prototype,"title",void 0),c([Q("title")],js.prototype,"writeTitle",null),js=pg=c([S("esri.Basemap")],js);const m1e={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},y1e={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},fu=js,b1e=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),E_={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function EJ(e){return!!E_[e]||!!E_[e.toLowerCase()]}function AA(e){return E_[e]??E_[e.toLowerCase()]}function g1e(e){return[...AA(e)]}function u7(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function TJ(e,t,r,i=1){const s=(e%360+360)%360/360,n=r<=.5?r*(t+1):r+t-r*t,a=2*r-n;return[Math.round(255*u7(a,n,s+1/3)),Math.round(255*u7(a,n,s)),Math.round(255*u7(a,n,s-1/3)),i]}function v1e(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,s=t?1:17,n=t?e.length===9:e.length===5;let a=+("0x"+e.slice(1));if(isNaN(a))return null;const o=[0,0,0,1];let l;return n&&(l=a&i,a>>=r,o[3]=s*l/255),l=a&i,a>>=r,o[2]=s*l,l=a&i,a>>=r,o[1]=s*l,l=a&i,a>>=r,o[0]=s*l,o}const kHe=2.2;function Ww(e){return As(SM(e),0,255)}function Zw(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function Jw(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let Z=class Or{static blendColors(t,r,i,s=new Or){return s.r=Math.round(t.r+(r.r-t.r)*i),s.g=Math.round(t.g+(r.g-t.g)*i),s.b=Math.round(t.b+(r.b-t.b)*i),s.a=t.a+(r.a-t.a)*i,s._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const s=i[2].split(/\s*,\s*/),n=i[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const a=s[0];if(a.charAt(a.length-1)==="%"){const o=s.map(l=>2.56*parseFloat(l));return s.length===4&&(o[3]=parseFloat(s[3])),Or.fromArray(o,r)}return Or.fromArray(s.map(o=>parseFloat(o)),r)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Or.fromArray(TJ(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),r)}return null}static fromHex(t,r=new Or){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const i=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),a=t.length===5?15:parseInt(t.slice(4),16);return Or.fromArray([i+16*i,s+16*s,n+16*n,(a+16*a)/255],r)}case 7:case 9:{const i=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),a=t.length===7?255:parseInt(t.slice(7),16);return Or.fromArray([i,s,n,a/255],r)}default:return null}}static fromArray(t,r=new Or){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=EJ(t)?AA(t):null;return i&&Or.fromArray(i,r)||Or.fromRgb(t,r)||Or.fromHex(t,r)}static fromJSON(t){return t!=null?new Or([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Or.fromString(t,this):Array.isArray(t)?Or.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Or||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,i=(t==null?void 0:t.digits)??6,s=i===3||i===4,n=i===4||i===8,a=`#${Jw(this.r,s)}${Jw(this.g,s)}${Jw(this.b,s)}${n?Jw(Math.round(255*this.a),s):""}`;return r?a.toUpperCase():a}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Or.AlphaMode.ALWAYS){const r=Ww(this.r),i=Ww(this.g),s=Ww(this.b);return t===Or.AlphaMode.ALWAYS||this.a!==1?[r,i,s,Ww(255*this.a)]:[r,i,s]}clone(){return new Or(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Zw(this.r,0,255)),this.g=Math.round(Zw(this.g,0,255)),this.b=Math.round(Zw(this.b,0,255)),this.a=Zw(this.a,0,1),this}_set(t,r,i,s){this.r=t,this.g=r,this.b=i,this.a=s}};Z.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Z);function re(e,t={}){const r=e instanceof ye?e:new ye(e,t),{alwaysWriteDefaults:i,default:s,ignoreUnknown:n=!0,name:a,nonNullable:o,readOnly:l=!1}=t;return u({type:n?r.apiValues:String,json:{type:r.jsonValues,default:s,name:a,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:o,readOnly:l})}var wx;let _9=wx=class extends N{constructor(e){super(e),this.type="none"}clone(){return new wx({type:this.type})}};c([re({none:"none",stayAbove:"stay-above"}),u({json:{write:{isRequired:!0}}})],_9.prototype,"type",void 0),_9=wx=c([S("esri.ground.NavigationConstraint")],_9);const w1e=Symbol("GroundInstance");function l4(e){const t=SM(100*(1-e));return Math.max(0,Math.min(t,100))}function Cv(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var IJ,_x;let gl=_x=class extends N.JSONSupportMixin(Ai){constructor(e){super(e),this[IJ]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new W;const t=i=>{i.parent&&i.parent!==this&&"remove"in i.parent&&i.parent.remove(i),i.parent=this,i.type!=="elevation"&&i.type!=="base-elevation"&&B.getLogger(this).error(`Layer '${i.title}, id:${i.id}' of type '${i.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=i=>{i.parent=null};this.addHandles([this.layers.on("after-add",i=>t(i.item)),this.layers.on("after-remove",i=>r(i.item))])}initialize(){this.when().catch(e=>{fr(e)||B.getLogger(this).error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)pt(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",$c(e,this._get("layers")))}writeLayers(e,t,r,i){const s=[];e&&(i={...i,layerContainerType:"ground"},e.forEach(n=>{if("write"in n){const a={};ice(n)().write(a,i)&&s.push(a)}else i!=null&&i.messages&&i.messages.push(new I("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),t.layers=s}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return a4(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await C(()=>import("./ElevationQuery-Bk92ux9p.js"),[]);Ce(t);const i=new r,s=this.layers.filter(oP).toArray();return i.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:r}=await C(()=>import("./ElevationQuery-Bk92ux9p.js"),[]);Ce(t);const i=new r,s=this.layers.filter(oP).toArray();return i.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:O(this.surfaceColor),navigationConstraint:O(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new _x({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const i=(t==null?void 0:t.origin)||"web-scene",s=(t==null?void 0:t.portal)||null,n=(t==null?void 0:t.url)||null,{populateOperationalLayers:a}=await C(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-C81A2h45.js");return{populateOperationalLayers:l}},__vite__mapDeps([257,258,259,260,261,262]));Ce(r);const o=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:i,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};o.push(a(this.layers,e.layers,l))}await Promise.allSettled(o)}};function _1e(e){return e&&"createElevationSampler"in e}function oP(e){return e.type==="elevation"||_1e(e)}IJ=w1e,c([u({json:{read:!1,write:{isRequired:!0}}})],gl.prototype,"layers",null),c([Q("layers")],gl.prototype,"writeLayers",null),c([u({readOnly:!0})],gl.prototype,"resourceInfo",void 0),c([u({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Ve,read:{reader:Cv,source:"transparency"},write:{writer:(e,t)=>{t.transparency=l4(e)},target:"transparency"}}})],gl.prototype,"opacity",void 0),c([u({type:Z,json:{type:[Ve],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],gl.prototype,"surfaceColor",void 0),c([u({type:_9,json:{write:!0}})],gl.prototype,"navigationConstraint",void 0),gl=_x=c([S("esri.Ground")],gl);const T_=gl,Yw=new WeakMap;function kA(e){return!e.destroyed&&(Yw.has(e)||e.addHandles([U(()=>{const t=e.parent;return!(!t||!("type"in t))&&(t.type==="catalog-dynamic-group"||kA(t))},t=>Yw.set(e,t),Hi),Je(()=>Yw.delete(e))]),Yw.get(e))}function lP(e,t){var o;const r=e.parent,i=e.layer;if((i==null?void 0:i.type)!=="map-image"||!i.sourceJSON||!r)return!1;const s=i.sourceJSON.layers;if(!s)return!1;const n=s.find(l=>e.id===l.id),a=t==="footprints"?"Feature Layer":"Catalog Dynamic Group Layer";return(n==null?void 0:n.type)===a&&((o=s.find(l=>l.id===r.id))==null?void 0:o.type)==="Catalog Layer"}function S1e(e){return typeof e=="object"&&e!=null&&"loaded"in e&&e.loaded===!0&&"type"in e}function $1e(e){var t,r;return!(!S1e(e)||!((r=(t=$J(e))==null?void 0:t.operations)!=null&&r.supportsEditing)||"editingEnabled"in e&&!o1e(e)||kA(e))}const x1e=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,E1e="screenUtils.toPt: input not recognized!",CJ=96;function Ct(e){return e?e/72*CJ:0}function Ar(e){return e?72*e/CJ:0}function Ue(e){if(typeof e=="string"){const t=e.match(x1e);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=i==="px"?Ar(r):r;return s?-n:n}return console.warn(E1e),null}return e}function xr(e=0,t=0){return{x:e,y:t}}function LHe(e){return e?xr(e.x,e.y):null}function RHe(e=0,t=0){return[e,t]}function OHe(e=0,t=0,r=0){return[e,t,r]}function FHe(e){return e}function PHe(e){return e}function NHe(e){return e}function DHe(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function c4(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function T1e(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function I1e(e,t,r,i,s,n,a,o,l,d,f,p,m,y,b,g){const v=new Float32Array(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=i,v[4]=s,v[5]=n,v[6]=a,v[7]=o,v[8]=l,v[9]=d,v[10]=f,v[11]=p,v[12]=m,v[13]=y,v[14]=b,v[15]=g,v}function C1e(e,t){return new Float32Array(e,t,16)}const M1e=c4();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:M1e,clone:T1e,create:c4,createView:C1e,fromValues:I1e},Symbol.toStringTag,{value:"Module"}));let LA=1e-6;function Ki(){return LA}function A1e(e){LA=e}const d4=Math.random,k1e=Math.PI/180,L1e=180/Math.PI;function RA(e){return e*k1e}function R1e(e){return e*L1e}function O1e(e,t){return Math.abs(e-t)<=LA*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:d4,equals:O1e,getEpsilon:Ki,setEpsilon:A1e,toDegree:R1e,toRadian:RA},Symbol.toStringTag,{value:"Module"}));function MJ(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Uu(e,t,r,i,s,n,a,o,l,d,f,p,m,y,b,g,v){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e[4]=n,e[5]=a,e[6]=o,e[7]=l,e[8]=d,e[9]=f,e[10]=p,e[11]=m,e[12]=y,e[13]=b,e[14]=g,e[15]=v,e}function u4(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Gu(e,t){if(e===t){const r=t[1],i=t[2],s=t[3],n=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=n,e[11]=t[14],e[12]=s,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function F1e(e,t){return AJ(e,t)||u4(e),e}function AJ(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],d=t[7],f=t[8],p=t[9],m=t[10],y=t[11],b=t[12],g=t[13],v=t[14],w=t[15],_=r*o-i*a,x=r*l-s*a,T=r*d-n*a,k=i*l-s*o,A=i*d-n*o,M=s*d-n*l,R=f*g-p*b,P=f*v-m*b,z=f*w-y*b,j=p*v-m*g,H=p*w-y*g,K=m*w-y*v;let J=_*K-x*H+T*j+k*z-A*P+M*R;return J?(J=1/J,e[0]=(o*K-l*H+d*j)*J,e[1]=(s*H-i*K-n*j)*J,e[2]=(g*M-v*A+w*k)*J,e[3]=(m*A-p*M-y*k)*J,e[4]=(l*z-a*K-d*P)*J,e[5]=(r*K-s*z+n*P)*J,e[6]=(v*T-b*M-w*x)*J,e[7]=(f*M-m*T+y*x)*J,e[8]=(a*H-o*z+d*R)*J,e[9]=(i*z-r*H-n*R)*J,e[10]=(b*A-g*T+w*_)*J,e[11]=(p*T-f*A-y*_)*J,e[12]=(o*P-a*j-l*R)*J,e[13]=(r*j-i*P+s*R)*J,e[14]=(g*x-b*k-v*_)*J,e[15]=(f*k-p*x+m*_)*J,e):null}function P1e(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],d=t[7],f=t[8],p=t[9],m=t[10],y=t[11],b=t[12],g=t[13],v=t[14],w=t[15];return e[0]=o*(m*w-y*v)-p*(l*w-d*v)+g*(l*y-d*m),e[1]=-(i*(m*w-y*v)-p*(s*w-n*v)+g*(s*y-n*m)),e[2]=i*(l*w-d*v)-o*(s*w-n*v)+g*(s*d-n*l),e[3]=-(i*(l*y-d*m)-o*(s*y-n*m)+p*(s*d-n*l)),e[4]=-(a*(m*w-y*v)-f*(l*w-d*v)+b*(l*y-d*m)),e[5]=r*(m*w-y*v)-f*(s*w-n*v)+b*(s*y-n*m),e[6]=-(r*(l*w-d*v)-a*(s*w-n*v)+b*(s*d-n*l)),e[7]=r*(l*y-d*m)-a*(s*y-n*m)+f*(s*d-n*l),e[8]=a*(p*w-y*g)-f*(o*w-d*g)+b*(o*y-d*p),e[9]=-(r*(p*w-y*g)-f*(i*w-n*g)+b*(i*y-n*p)),e[10]=r*(o*w-d*g)-a*(i*w-n*g)+b*(i*d-n*o),e[11]=-(r*(o*y-d*p)-a*(i*y-n*p)+f*(i*d-n*o)),e[12]=-(a*(p*v-m*g)-f*(o*v-l*g)+b*(o*m-l*p)),e[13]=r*(p*v-m*g)-f*(i*v-s*g)+b*(i*m-s*p),e[14]=-(r*(o*v-l*g)-a*(i*v-s*g)+b*(i*l-s*o)),e[15]=r*(o*m-l*p)-a*(i*m-s*p)+f*(i*l-s*o),e}function N1e(e){const t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7],d=e[8],f=e[9],p=e[10],m=e[11],y=e[12],b=e[13],g=e[14],v=e[15];return(t*a-r*n)*(p*v-m*g)-(t*o-i*n)*(f*v-m*b)+(t*l-s*n)*(f*g-p*b)+(r*o-i*a)*(d*v-m*y)-(r*l-s*a)*(d*g-p*y)+(i*l-s*o)*(d*b-f*y)}function kJ(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=t[6],f=t[7],p=t[8],m=t[9],y=t[10],b=t[11],g=t[12],v=t[13],w=t[14],_=t[15];let x=r[0],T=r[1],k=r[2],A=r[3];return e[0]=x*i+T*o+k*p+A*g,e[1]=x*s+T*l+k*m+A*v,e[2]=x*n+T*d+k*y+A*w,e[3]=x*a+T*f+k*b+A*_,x=r[4],T=r[5],k=r[6],A=r[7],e[4]=x*i+T*o+k*p+A*g,e[5]=x*s+T*l+k*m+A*v,e[6]=x*n+T*d+k*y+A*w,e[7]=x*a+T*f+k*b+A*_,x=r[8],T=r[9],k=r[10],A=r[11],e[8]=x*i+T*o+k*p+A*g,e[9]=x*s+T*l+k*m+A*v,e[10]=x*n+T*d+k*y+A*w,e[11]=x*a+T*f+k*b+A*_,x=r[12],T=r[13],k=r[14],A=r[15],e[12]=x*i+T*o+k*p+A*g,e[13]=x*s+T*l+k*m+A*v,e[14]=x*n+T*d+k*y+A*w,e[15]=x*a+T*f+k*b+A*_,e}function D1e(e,t,r){const i=r[0],s=r[1],n=r[2];if(t===e)e[12]=t[0]*i+t[4]*s+t[8]*n+t[12],e[13]=t[1]*i+t[5]*s+t[9]*n+t[13],e[14]=t[2]*i+t[6]*s+t[10]*n+t[14],e[15]=t[3]*i+t[7]*s+t[11]*n+t[15];else{const a=t[0],o=t[1],l=t[2],d=t[3],f=t[4],p=t[5],m=t[6],y=t[7],b=t[8],g=t[9],v=t[10],w=t[11];e[0]=a,e[1]=o,e[2]=l,e[3]=d,e[4]=f,e[5]=p,e[6]=m,e[7]=y,e[8]=b,e[9]=g,e[10]=v,e[11]=w,e[12]=a*i+f*s+b*n+t[12],e[13]=o*i+p*s+g*n+t[13],e[14]=l*i+m*s+v*n+t[14],e[15]=d*i+y*s+w*n+t[15]}return e}function V1e(e,t,r){const i=r[0],s=r[1],n=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function z1e(e,t,r,i){let s=i[0],n=i[1],a=i[2],o=Math.sqrt(s*s+n*n+a*a);if(o<=Ki())return void MJ(e,t);o=1/o,s*=o,n*=o,a*=o;const l=Math.sin(r),d=Math.cos(r),f=1-d,p=t[0],m=t[1],y=t[2],b=t[3],g=t[4],v=t[5],w=t[6],_=t[7],x=t[8],T=t[9],k=t[10],A=t[11],M=s*s*f+d,R=n*s*f+a*l,P=a*s*f-n*l,z=s*n*f-a*l,j=n*n*f+d,H=a*n*f+s*l,K=s*a*f+n*l,J=n*a*f-s*l,pe=a*a*f+d;e[0]=p*M+g*R+x*P,e[1]=m*M+v*R+T*P,e[2]=y*M+w*R+k*P,e[3]=b*M+_*R+A*P,e[4]=p*z+g*j+x*H,e[5]=m*z+v*j+T*H,e[6]=y*z+w*j+k*H,e[7]=b*z+_*j+A*H,e[8]=p*K+g*J+x*pe,e[9]=m*K+v*J+T*pe,e[10]=y*K+w*J+k*pe,e[11]=b*K+_*J+A*pe,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function j1e(e,t,r){const i=Math.sin(r),s=Math.cos(r),n=t[4],a=t[5],o=t[6],l=t[7],d=t[8],f=t[9],p=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*s+d*i,e[5]=a*s+f*i,e[6]=o*s+p*i,e[7]=l*s+m*i,e[8]=d*s-n*i,e[9]=f*s-a*i,e[10]=p*s-o*i,e[11]=m*s-l*i,e}function q1e(e,t,r){const i=Math.sin(r),s=Math.cos(r),n=t[0],a=t[1],o=t[2],l=t[3],d=t[8],f=t[9],p=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s-d*i,e[1]=a*s-f*i,e[2]=o*s-p*i,e[3]=l*s-m*i,e[8]=n*i+d*s,e[9]=a*i+f*s,e[10]=o*i+p*s,e[11]=l*i+m*s,e}function B1e(e,t,r){const i=Math.sin(r),s=Math.cos(r),n=t[0],a=t[1],o=t[2],l=t[3],d=t[4],f=t[5],p=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*s+d*i,e[1]=a*s+f*i,e[2]=o*s+p*i,e[3]=l*s+m*i,e[4]=d*s-n*i,e[5]=f*s-a*i,e[6]=p*s-o*i,e[7]=m*s-l*i,e}function U1e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function G1e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function H1e(e,t,r){if(t===0)return u4(e);let i=r[0],s=r[1],n=r[2],a=Math.sqrt(i*i+s*s+n*n);if(a<=Ki())return null;a=1/a,i*=a,s*=a,n*=a;const o=Math.sin(t),l=Math.cos(t),d=1-l;return e[0]=i*i*d+l,e[1]=s*i*d+n*o,e[2]=n*i*d-s*o,e[3]=0,e[4]=i*s*d-n*o,e[5]=s*s*d+l,e[6]=n*s*d+i*o,e[7]=0,e[8]=i*n*d+s*o,e[9]=s*n*d-i*o,e[10]=n*n*d+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function W1e(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Z1e(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function J1e(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function LJ(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=i+i,l=s+s,d=n+n,f=i*o,p=i*l,m=i*d,y=s*l,b=s*d,g=n*d,v=a*o,w=a*l,_=a*d;return e[0]=1-(y+g),e[1]=p+_,e[2]=m-w,e[3]=0,e[4]=p-_,e[5]=1-(f+g),e[6]=b+v,e[7]=0,e[8]=m+w,e[9]=b-v,e[10]=1-(f+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Y1e(e,t){const r=Q1e,i=-t[0],s=-t[1],n=-t[2],a=t[3],o=t[4],l=t[5],d=t[6],f=t[7],p=i*i+s*s+n*n+a*a;return p>0?(r[0]=2*(o*a+f*i+l*n-d*s)/p,r[1]=2*(l*a+f*s+d*i-o*n)/p,r[2]=2*(d*a+f*n+o*s-l*i)/p):(r[0]=2*(o*a+f*i+l*n-d*s),r[1]=2*(l*a+f*s+d*i-o*n),r[2]=2*(d*a+f*n+o*s-l*i)),LJ(e,t,r),e}const Q1e=qu();function K1e(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function X1e(e,t){const r=t[0],i=t[1],s=t[2],n=t[4],a=t[5],o=t[6],l=t[8],d=t[9],f=t[10];return e[0]=Math.sqrt(r*r+i*i+s*s),e[1]=Math.sqrt(n*n+a*a+o*o),e[2]=Math.sqrt(l*l+d*d+f*f),e}function eve(e,t){const r=t[0]+t[5]+t[10];let i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function tve(e,t,r,i){const s=t[0],n=t[1],a=t[2],o=t[3],l=s+s,d=n+n,f=a+a,p=s*l,m=s*d,y=s*f,b=n*d,g=n*f,v=a*f,w=o*l,_=o*d,x=o*f,T=i[0],k=i[1],A=i[2];return e[0]=(1-(b+v))*T,e[1]=(m+x)*T,e[2]=(y-_)*T,e[3]=0,e[4]=(m-x)*k,e[5]=(1-(p+v))*k,e[6]=(g+w)*k,e[7]=0,e[8]=(y+_)*A,e[9]=(g-w)*A,e[10]=(1-(p+b))*A,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function rve(e,t,r,i,s){const n=t[0],a=t[1],o=t[2],l=t[3],d=n+n,f=a+a,p=o+o,m=n*d,y=n*f,b=n*p,g=a*f,v=a*p,w=o*p,_=l*d,x=l*f,T=l*p,k=i[0],A=i[1],M=i[2],R=s[0],P=s[1],z=s[2],j=(1-(g+w))*k,H=(y+T)*k,K=(b-x)*k,J=(y-T)*A,pe=(1-(m+w))*A,Ae=(v+_)*A,ue=(b+x)*M,le=(v-_)*M,Ge=(1-(m+g))*M;return e[0]=j,e[1]=H,e[2]=K,e[3]=0,e[4]=J,e[5]=pe,e[6]=Ae,e[7]=0,e[8]=ue,e[9]=le,e[10]=Ge,e[11]=0,e[12]=r[0]+R-(j*R+J*P+ue*z),e[13]=r[1]+P-(H*R+pe*P+le*z),e[14]=r[2]+z-(K*R+Ae*P+Ge*z),e[15]=1,e}function ive(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=r+r,o=i+i,l=s+s,d=r*a,f=i*a,p=i*o,m=s*a,y=s*o,b=s*l,g=n*a,v=n*o,w=n*l;return e[0]=1-p-b,e[1]=f+w,e[2]=m-v,e[3]=0,e[4]=f-w,e[5]=1-d-b,e[6]=y+g,e[7]=0,e[8]=m+v,e[9]=y-g,e[10]=1-d-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function sve(e,t,r,i,s,n,a){const o=1/(r-t),l=1/(s-i),d=1/(n-a);return e[0]=2*n*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*l,e[6]=0,e[7]=0,e[8]=(r+t)*o,e[9]=(s+i)*l,e[10]=(a+n)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*d,e[15]=0,e}function nve(e,t,r,i,s){const n=1/Math.tan(t/2);let a;return e[0]=n/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(a=1/(i-s),e[10]=(s+i)*a,e[14]=2*s*i*a):(e[10]=-1,e[14]=-2*i),e}function ave(e,t,r,i){const s=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),d=2/(s+n);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(s-n)*d*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function ove(e,t,r,i,s,n,a){const o=1/(t-r),l=1/(i-s),d=1/(n-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*d,e[11]=0,e[12]=(t+r)*o,e[13]=(s+i)*l,e[14]=(a+n)*d,e[15]=1,e}function lve(e,t,r,i){const s=t[0],n=t[1],a=t[2];let o=s-r[0],l=n-r[1],d=a-r[2];const f=Ki();if(Math.abs(o)<f&&Math.abs(l)<f&&Math.abs(d)<f)return void u4(e);let p=1/Math.sqrt(o*o+l*l+d*d);o*=p,l*=p,d*=p;const m=i[0],y=i[1],b=i[2];let g=y*d-b*l,v=b*o-m*d,w=m*l-y*o;p=Math.sqrt(g*g+v*v+w*w),p?(p=1/p,g*=p,v*=p,w*=p):(g=0,v=0,w=0);let _=l*w-d*v,x=d*g-o*w,T=o*v-l*g;p=Math.sqrt(_*_+x*x+T*T),p?(p=1/p,_*=p,x*=p,T*=p):(_=0,x=0,T=0),e[0]=g,e[1]=_,e[2]=o,e[3]=0,e[4]=v,e[5]=x,e[6]=l,e[7]=0,e[8]=w,e[9]=T,e[10]=d,e[11]=0,e[12]=-(g*s+v*n+w*a),e[13]=-(_*s+x*n+T*a),e[14]=-(o*s+l*n+d*a),e[15]=1}function cve(e,t,r,i){const s=t[0],n=t[1],a=t[2],o=i[0],l=i[1],d=i[2];let f=s-r[0],p=n-r[1],m=a-r[2],y=f*f+p*p+m*m;y>0&&(y=1/Math.sqrt(y),f*=y,p*=y,m*=y);let b=l*m-d*p,g=d*f-o*m,v=o*p-l*f;return y=b*b+g*g+v*v,y>0&&(y=1/Math.sqrt(y),b*=y,g*=y,v*=y),e[0]=b,e[1]=g,e[2]=v,e[3]=0,e[4]=p*v-m*g,e[5]=m*b-f*v,e[6]=f*g-p*b,e[7]=0,e[8]=f,e[9]=p,e[10]=m,e[11]=0,e[12]=s,e[13]=n,e[14]=a,e[15]=1,e}function dve(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function uve(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function fve(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function RJ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function pve(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function hve(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function mve(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function yve(e,t){if(e===t)return!0;const r=e[0],i=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],d=e[7],f=e[8],p=e[9],m=e[10],y=e[11],b=e[12],g=e[13],v=e[14],w=e[15],_=t[0],x=t[1],T=t[2],k=t[3],A=t[4],M=t[5],R=t[6],P=t[7],z=t[8],j=t[9],H=t[10],K=t[11],J=t[12],pe=t[13],Ae=t[14],ue=t[15],le=Ki();return Math.abs(r-_)<=le*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-x)<=le*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(s-T)<=le*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(n-k)<=le*Math.max(1,Math.abs(n),Math.abs(k))&&Math.abs(a-A)<=le*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(o-M)<=le*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(l-R)<=le*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(d-P)<=le*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(f-z)<=le*Math.max(1,Math.abs(f),Math.abs(z))&&Math.abs(p-j)<=le*Math.max(1,Math.abs(p),Math.abs(j))&&Math.abs(m-H)<=le*Math.max(1,Math.abs(m),Math.abs(H))&&Math.abs(y-K)<=le*Math.max(1,Math.abs(y),Math.abs(K))&&Math.abs(b-J)<=le*Math.max(1,Math.abs(b),Math.abs(J))&&Math.abs(g-pe)<=le*Math.max(1,Math.abs(g),Math.abs(pe))&&Math.abs(v-Ae)<=le*Math.max(1,Math.abs(v),Math.abs(Ae))&&Math.abs(w-ue)<=le*Math.max(1,Math.abs(w),Math.abs(ue))}function bve(e){const t=Ki(),r=e[0],i=e[1],s=e[2],n=e[4],a=e[5],o=e[6],l=e[8],d=e[9],f=e[10];return Math.abs(1-(r*r+n*n+l*l))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t&&Math.abs(1-(s*s+o*o+f*f))<=t}function gve(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[4]===0&&e[5]===1&&e[6]===0&&e[8]===0&&e[9]===0&&e[10]===1}const vve=kJ,wve=RJ;Object.freeze(Object.defineProperty({__proto__:null,add:fve,adjoint:P1e,copy:MJ,determinant:N1e,equals:yve,exactEquals:mve,frob:uve,fromQuat:ive,fromQuat2:Y1e,fromRotation:H1e,fromRotationTranslation:LJ,fromRotationTranslationScale:tve,fromRotationTranslationScaleOrigin:rve,fromScaling:G1e,fromTranslation:U1e,fromXRotation:W1e,fromYRotation:Z1e,fromZRotation:J1e,frustum:sve,getRotation:eve,getScaling:X1e,getTranslation:K1e,hasIdentityRotation:gve,identity:u4,invert:AJ,invertOrIdentity:F1e,isOrthoNormal:bve,lookAt:lve,mul:vve,multiply:kJ,multiplyScalar:pve,multiplyScalarAndAdd:hve,ortho:ove,perspective:nve,perspectiveFromFieldOfView:ave,rotate:z1e,rotateX:j1e,rotateY:q1e,rotateZ:B1e,scale:V1e,set:Uu,str:dve,sub:wve,subtract:RJ,targetTo:cve,translate:D1e,transpose:Gu},Symbol.toStringTag,{value:"Module"}));const _ve=(e,t)=>{const r=Uu(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Gu(r,r)},Sve=(e,t)=>{const r=Uu(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Gu(r,r)},$ve=(e,t)=>{const r=1-t,i=Uu(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Gu(i,i)},xve=(e,t)=>{const r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),s=Uu(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return Gu(s,s)},Eve=(e,t)=>{const r=1-2*t,i=Uu(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Gu(i,i)},Tve=(e,t)=>{const r=Uu(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Gu(r,r)},Ive=(e,t)=>{const r=1-t,i=Uu(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Gu(i,i)};let OJ=class FJ{constructor(t,r,i){this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}interpolate(t,r,i){this.strength=ws(t.strength,r.strength,i),this.radius=ws(t.radius,r.radius,i),this.threshold=ws(t.threshold,r.threshold,i)}clone(){return new FJ(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:B1(this.radius),strength:this.strength,threshold:this.threshold}}},PJ=class NJ{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,i){this.radius=Math.round(ws(t.radius,r.radius,i))}clone(){return new NJ(this.radius)}toJSON(){return{type:"blur",radius:B1(this.radius)}}},Sx=class DJ{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.amount=ws(t.amount,r.amount,i),this._updateMatrix()}clone(){return new DJ(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||c4();switch(this.type){case"brightness":this._colorMatrix=_ve(t,this.amount);break;case"contrast":this._colorMatrix=Sve(t,this.amount);break;case"grayscale":this._colorMatrix=$ve(t,this.amount);break;case"invert":this._colorMatrix=Eve(t,this.amount);break;case"saturate":this._colorMatrix=Tve(t,this.amount);break;case"sepia":this._colorMatrix=Ive(t,this.amount)}}},VJ=class zJ{constructor(t,r,i,s){this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=s,this.type="drop-shadow"}interpolate(t,r,i){this.offsetX=ws(t.offsetX,r.offsetX,i),this.offsetY=ws(t.offsetY,r.offsetY,i),this.blurRadius=ws(t.blurRadius,r.blurRadius,i),this.color[0]=Math.round(ws(t.color[0],r.color[0],i)),this.color[1]=Math.round(ws(t.color[1],r.color[1],i)),this.color[2]=Math.round(ws(t.color[2],r.color[2],i)),this.color[3]=ws(t.color[3],r.color[3],i)}clone(){return new zJ(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:B1(this.offsetX),yoffset:B1(this.offsetY),blurRadius:B1(this.blurRadius),color:t}}},jJ=class qJ{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){this.angle=ws(t.angle,r.angle,i),this._updateMatrix()}clone(){return new qJ(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||c4();this._colorMatrix=xve(t,this.angle)}},BJ=class UJ{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,i){this.amount=ws(t.amount,r.amount,i)}clone(){return new UJ(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function ws(e,t,r){return e+(t-e)*r}function B1(e){return Math.round(1e3*Ar(e))/1e3}function Cve(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new Sx(e.type,0);case"saturate":case"brightness":case"contrast":return new Sx(e.type,1);case"opacity":return new BJ(1);case"hue-rotate":return new jJ(0);case"blur":return new PJ(0);case"drop-shadow":return new VJ(0,0,0,[...AA("transparent")]);case"bloom":return new OJ(0,0,1)}}function GJ(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((i,s)=>i.type===r[s].type)}function HJ(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let s=i.length;s<r.length;s++)i.push(Cve(r[s]))}function Mve(e){const t=e[0];return!!t&&"type"in t}function Ave(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}function VHe(e,t){var r,i,s,n;return!(!((i=(r=e.basemap)==null?void 0:r.referenceLayers)!=null&&i.some(a=>a.uid===t))&&!((n=(s=e.basemap)==null?void 0:s.baseLayers)!=null&&n.some(a=>a.uid===t)))}function kve(e){let t=null;const r=$x(e),i=!(r!=null&&r.baseLayers.length);for(const s in Iv){const n=ZJ(r,WJ(Iv[s]),{mustMatchReferences:i});if(n==="equal"){t=s;break}n==="base-layers-equal"&&(t=s)}return t}function Lve(e,t){var r,i;return e===t||((r=e==null?void 0:e.portalItem)==null?void 0:r.id)!=null&&e.portalItem.id===((i=t==null?void 0:t.portalItem)==null?void 0:i.id)?!0:ZJ($x(e),$x(t),{mustMatchReferences:!0})==="equal"}function zHe(e){return!!(e!=null&&e.baseLayers.concat(e.referenceLayers).some(Rve))}function Rve(e){if(cP(e.url))return!0;if(e.type==="vector-tile")for(const t in e.sourceNameToSource){const r=e.sourceNameToSource[t];if(cP(r==null?void 0:r.sourceUrl))return!0}return!1}function Ove(e,t){var n;if(t==null||e==null)return{spatialReference:null,updating:!1};if(t.loadStatus==="not-loaded")return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(t.baseLayers.length===0)return{spatialReference:null,updating:!1};const r=t.baseLayers.at(0);switch(r.loadStatus){case"not-loaded":r.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const i=(("supportedSpatialReferences"in r?r.supportedSpatialReferences:null)||["tileInfo"in r?(n=r.tileInfo)==null?void 0:n.spatialReference:r.spatialReference]).filter(Boolean),s=e.spatialReference;return s?{spatialReference:i.find(a=>s.equals(a))??i[0]??null,updating:!1}:{spatialReference:i[0],updating:!1}}const Fve=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function cP(e){if(!e)return!1;const t=new lu(xs(e));return!!t.authority&&Fve.test(t.authority)}function $x(e){return e?!e.loaded&&e.resourceInfo?WJ(e.resourceInfo.data):{baseLayers:dP(e.baseLayers),referenceLayers:dP(e.referenceLayers)}:null}function dP(e){return(W.isCollection(e)?e.toArray():e).map(Pve)}function Pve(e){var t,r;return{type:e.type,effect:"effect"in e?e.effect:void 0,url:JJ("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&e.minScale!=null?e.minScale:0,maxScale:"maxScale"in e&&e.maxScale!=null?e.maxScale:0,opacity:e.opacity!=null?e.opacity:1,visible:e.visible==null||!!e.visible,sublayers:e.type!=="map-image"&&e.type!=="wms"||e.sublayers==null||(t=e.sublayers)==null?void 0:t.map(i=>({id:i.id,visible:i.visible})),activeLayerId:e.type==="wmts"?(r=e.activeLayer)==null?void 0:r.id:void 0}}function uP(e){return e.isReference||e.layerType==="ArcGISSceneServiceLayer"}function WJ(e){return e?{baseLayers:fP((e.baseMapLayers??[]).filter(t=>!uP(t))),referenceLayers:fP((e.baseMapLayers??[]).filter(t=>uP(t)))}:null}function fP(e){return e.map(t=>Nve(t))}function Nve(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:JJ(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:e.visibility==null||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function ZJ(e,t,r){return e!=null!=(t!=null)?"not-equal":!e||!t?"equal":pP(e.baseLayers,t.baseLayers)?pP(e.referenceLayers,t.referenceLayers)?"equal":r.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal"}function pP(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Dve(e[r],t[r]))return!1;return!0}function Dve(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity||!Ave(e.effect,t.effect))return!1;if(e.activeLayerId!=null||t.activeLayerId!=null)return e.activeLayerId===t.activeLayerId;if(e.sublayers!=null||t.sublayers!=null){if(e.sublayers==null||t.sublayers==null||e.sublayers.length!==t.sublayers.length)return!1;for(let r=0;r<e.sublayers.length;r++){const i=e.sublayers.at(r),s=t.sublayers.at(r);if((i==null?void 0:i.id)!==(s==null?void 0:s.id)||(i==null?void 0:i.visible)!==(s==null?void 0:s.visible))return!1}}return!0}function JJ(e){return e?Bn(e).replace(/^\s*https?:/i,"").toLowerCase():""}const f7=()=>B.getLogger("esri.support.basemapUtils");function Vve(){return{}}function zve(e){for(const t in e){const r=e[t];pt(r),delete e[t]}}function YJ(e,t){let r;if(typeof e=="string"){const i=e in Iv,s=!i&&e.includes("/");if(!i&&!s){if(it.apiKey)f7().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(Iv).filter(([a,o])=>o.classic||o.is3d).map(([a])=>`"${a}"`).sort().join(", ");f7().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${n}`)}return null}t&&(r=t[e]),r||(r=i?fu.fromId(e):new fu({style:{id:e}}),t&&(t[e]=r))}else r=yt(fu,e);return r!=null&&r.destroyed&&(f7().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function jve(e){return new _v({getCollections:()=>[e.tables,e.layers],getChildrenFunction:t=>{const r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{const r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function p7(e){for(const t of e.values())t==null||t.destroy();e.clear()}const hP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function qve(e){let t=null;if(typeof e=="string")if(e in hP){const r=hP[e];t=new T_({resourceInfo:{data:{layers:[r]}}})}else B.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=yt(T_,e);return t}let QJ=0;const KJ=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+QJ++})}};return t=c([S("esri.core.Identifiable")],t),t},Bve=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:QJ++})}};return t=c([S("esri.core.Identifiable.NumericIdentifiable")],t),t};let hg=class extends KJ(class{}){};hg=c([S("esri.core.Identifiable")],hg),function(e){e.IdentifiableMixin=KJ,e.NumericIdentifiableMixin=Bve}(hg||(hg={}));const Os=hg;async function Uve(e){var i;const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await C(async()=>{const{fromItem:s}=await import("./portalLayers-5gK1zSPs.js");return{fromItem:s}},__vite__mapDeps([262,260,259,258,261]));try{return await r(t)}catch(s){const n=t==null?void 0:t.portalItem,a=(n==null?void 0:n.id)||"unset",o=((i=n==null?void 0:n.portal)==null?void 0:i.url)||it.portalUrl;throw B.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+a+"')",s),s}}const z0={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function h7(e,t,r,i=ks){const s=new Ls(X6(i)),n=ae.fromJSDate(e,{zone:s}),a=r==="decades"||r==="centuries"?"year":eY(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),n.plus({[a]:t}).toJSDate()}function qHe(e,t,r="milliseconds"){const i=e.getTime(),s=XJ(t,r,"milliseconds");return new Date(i+s)}function mP(e,t,r=ks){const i=new Ls(X6(r)),s=ae.fromJSDate(e,{zone:i});if(t==="decades"||t==="centuries"){const a=s.startOf("year"),{year:o}=a,l=o-o%(t==="decades"?10:100);return a.set({year:l}).toJSDate()}const n=eY(t);return s.startOf(n).toJSDate()}function XJ(e,t,r){return e===0?0:e*z0[t]/z0[r]}function BHe(e,t){return e&&t?e.intersection(t):e||t}function eY(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var bn;let Qs=bn=class extends N{static get allTime(){return yP}static get empty(){return Gve}static fromArray(e){return new bn({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(bn.allTime)}get isEmpty(){return this.equals(bn.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new bn({end:this.end,start:this.start})}equals(e){var n,a,o,l;if(!e)return!1;const t=((n=this.start)==null?void 0:n.getTime())??this.start,r=((a=this.end)==null?void 0:a.getTime())??this.end,i=((o=e.start)==null?void 0:o.getTime())??e.start,s=((l=e.end)==null?void 0:l.getTime())??e.end;return t===i&&r===s}expandTo(e,t=ks){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=mP(r,e,t));let i=this.end;if(i){const s=mP(i,e,t);i=i.getTime()===s.getTime()?s:h7(s,1,e,t)}return new bn({start:r,end:i})}intersection(e){var o,l,d,f;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return bn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((o=this.start)==null?void 0:o.getTime())??-1/0,r=((l=this.end)==null?void 0:l.getTime())??1/0,i=((d=e.start)==null?void 0:d.getTime())??-1/0,s=((f=e.end)==null?void 0:f.getTime())??1/0;let n,a;return i>=t&&i<=r?n=i:t>=i&&t<=s&&(n=t),r>=i&&r<=s?a=r:s>=t&&s<=r&&(a=s),n==null||a==null||isNaN(n)||isNaN(a)?bn.empty:new bn({start:n===-1/0?null:new Date(n),end:a===1/0?null:new Date(a)})}offset(e,t,r=ks){if(this.isEmpty||this.isAllTime)return this.clone();const i=new bn,{start:s,end:n}=this;return s!=null&&(i.start=h7(s,e,t,r)),n!=null&&(i.end=h7(n,e,t,r)),i}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return yP.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new bn({start:t,end:r})}};c([u({type:Date,json:{write:{allowNull:!0}}})],Qs.prototype,"end",void 0),c([Y("end")],Qs.prototype,"readEnd",null),c([Q("end")],Qs.prototype,"writeEnd",null),c([u({readOnly:!0,json:{read:!1}})],Qs.prototype,"isAllTime",null),c([u({readOnly:!0,json:{read:!1}})],Qs.prototype,"isEmpty",null),c([u({type:Date,json:{write:{allowNull:!0}}})],Qs.prototype,"start",void 0),c([Y("start")],Qs.prototype,"readStart",null),c([Q("start")],Qs.prototype,"writeStart",null),Qs=bn=c([S("esri.time.TimeExtent")],Qs);const Ir=Qs,yP=new Qs,Gve=new Qs({start:void 0,end:void 0});let Hve=0,Kt=class extends an.EventedMixin(Os.IdentifiableMixin(Ai)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new ht(-180,-90,180,90,me.WGS84),this.id=Date.now().toString(16)+"-layer-"+Hve++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=me.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const r=typeof t=="string"?{url:t}:t;return(await C(async()=>{const{fromUrl:i}=await import("./arcgisLayers-DNGGnSOt.js");return{fromUrl:i}},__vite__mapDeps([263,260,259,261]))).fromUrl(r)}static fromPortalItem(t){return Uve(t)}initialize(){this.when().catch(t=>{fr(t)||B.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const t=this.parent;if(t){const r=this;"layers"in t&&t.layers.includes(r)?t.layers.remove(r):"tables"in t&&t.tables.includes(r)?t.tables.remove(r):"baseLayers"in t&&t.baseLayers.includes(r)?t.baseLayers.remove(r):"referenceLayers"in t&&t.referenceLayers.includes(r)&&t.referenceLayers.remove(r),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const r=this.parent;return t&&r&&"effectiveVisible"in r&&t&&(t=r.effectiveVisible),t}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return Zt(this.url)}createLayerView(t,r){return Promise.reject(new I("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await ze(t,{query:{f:"json"},responseType:"json"})).data;throw new I("layer:no-attribution-data","Layer does not have attribution data")}};c([u({type:String})],Kt.prototype,"attributionDataUrl",void 0),c([u({readOnly:!0})],Kt.prototype,"effectiveVisible",null),c([u({type:ht})],Kt.prototype,"fullExtent",void 0),c([u({readOnly:!0})],Kt.prototype,"hasAttributionData",null),c([u({type:String,clonable:!1})],Kt.prototype,"id",void 0),c([u({type:Boolean,nonNullable:!0})],Kt.prototype,"legendEnabled",void 0),c([u({type:["show","hide","hide-children"]})],Kt.prototype,"listMode",void 0),c([u({type:Number,range:{min:0,max:1},nonNullable:!0})],Kt.prototype,"opacity",void 0),c([u({clonable:!1})],Kt.prototype,"parent",void 0),c([u({readOnly:!0})],Kt.prototype,"parsedUrl",null),c([u({type:Boolean,readOnly:!0})],Kt.prototype,"persistenceEnabled",void 0),c([u({type:Boolean})],Kt.prototype,"popupEnabled",void 0),c([u({type:Boolean})],Kt.prototype,"attributionVisible",void 0),c([u({type:me})],Kt.prototype,"spatialReference",void 0),c([u({type:String})],Kt.prototype,"title",void 0),c([u({readOnly:!0,json:{read:!1}})],Kt.prototype,"type",void 0),c([u()],Kt.prototype,"url",void 0),c([u({type:Ir})],Kt.prototype,"visibilityTimeExtent",void 0),c([u({type:Boolean,nonNullable:!0})],Kt.prototype,"visible",void 0),Kt=c([S("esri.layers.Layer")],Kt);const f4=Kt;function xx(e,t,r){let i,s;if(e)for(let n=0,a=e.length;n<a;n++){if(i=e.at(n),(i==null?void 0:i[t])===r)return i;if((i==null?void 0:i.type)==="group"&&(s=xx(i.layers,t,r),s))return s}}const Wve=e=>{let t=class extends e{constructor(...r){super(...r),this.layers=new W;const i=a=>{a.parent&&"remove"in a.parent&&a.parent.remove(a)},s=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||B.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},n=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void B.getLogger(this).error("#add()","Cannot add layer to itself.");i(a.item)}),this.layers.on("after-add",a=>s(a.item)),this.layers.on("after-remove",a=>n(a.item))])}destroy(){const r=this.layers.toArray();for(const i of r)i.destroy();this.layers.destroy()}set layers(r){this._set("layers",$c(r,this._get("layers")))}add(r,i){const s=this.layers;if(i=s.getNextIndex(i),r instanceof f4){const n=r;n.parent===this?this.reorder(n,i):s.add(n,i)}else Ko(r)?r.then(n=>{this.destroyed||this.add(n,i)}):B.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,i){const s=this.layers;let n=s.getNextIndex(i);r.slice().forEach(a=>{a.parent!==this?(s.add(a,n),n+=1):this.reorder(a,n)})}findLayerById(r){return xx(this.layers,"id",r)}findLayerByUid(r){return xx(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,i){return this.layers.reorder(r,i)}layerAdded(r){}layerRemoved(r){}};return c([u()],t.prototype,"layers",null),t=c([S("esri.support.LayersMixin")],t),t},Zve=new Set(["feature","subtype-group"]);function Ex(e,t,r){if(e)for(let i=0,s=e.length;i<s;i++){const n=e.at(i);if(n[t]===r)return n;if((n==null?void 0:n.type)==="group"){const a=Ex(n.tables,t,r);if(a)return a}}}const Jve=e=>{let t=class extends e{constructor(...r){super(...r),this.tables=new W,this.addHandles([this.tables.on("after-add",i=>{const s=i.item;s.parent&&s.parent!==this&&"tables"in s.parent&&s.parent.tables.remove(s),s.parent=this,Zve.has(s.type)||B.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",i=>{i.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const i of r)i.destroy();this.tables.destroy()}set tables(r){this._set("tables",$c(r,this._get("tables")))}findTableById(r){return Ex(this.tables,"id",r)}findTableByUid(r){return Ex(this.tables,"uid",r)}};return c([u()],t.prototype,"tables",null),t=c([S("esri.support.TablesMixin")],t),t};let la=class extends Jve(Wve(an.EventedMixin(ie))){constructor(t){super(t),this.allLayers=new _v({getCollections:()=>{var r,i,s;return[(r=this.basemap)==null?void 0:r.baseLayers,(i=this.ground)==null?void 0:i.layers,this.layers,(s=this.basemap)==null?void 0:s.referenceLayers]},getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=jve(this),this.basemap=null,this.editableLayers=new _v({getCollections:()=>[this.allLayers],itemFilterFunction:$1e}),this.ground=new T_,this._basemapCache=Vve()}destroy(){zve(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=pt(this.basemap),pt(this.ground),this._set("ground",null)}castBasemap(t){return YJ(t,this._basemapCache)}castGround(t){return qve(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};c([u({readOnly:!0,dependsOn:[]})],la.prototype,"allLayers",void 0),c([u({readOnly:!0})],la.prototype,"allTables",void 0),c([u({type:fu,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],la.prototype,"basemap",void 0),c([Oe("basemap")],la.prototype,"castBasemap",null),c([u({readOnly:!0})],la.prototype,"editableLayers",void 0),c([u({type:T_,nonNullable:!0})],la.prototype,"ground",void 0),c([Oe("ground")],la.prototype,"castGround",null),c([u()],la.prototype,"undoRedo",void 0),la=c([S("esri.Map")],la);const tY=la;let U1=class extends W{constructor(t){super(t),this.addHandles([this.on("before-add",r=>{r.item==null&&r.preventDefault()}),this.on("after-add",r=>this._own(r.item)),this.on("after-remove",r=>this._release(r.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(const t of this.items)this._own(t)}_releaseAll(){for(const t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(W.ofType(this.itemType.Type))(t):new W(t)}};function Tx(e,t){return{type:e,cast:yJ,set(r){const i=$c(r,this._get(t),e);i.owner=this,this._set(t,i)}}}c([u()],U1.prototype,"owner",null),U1=c([S("esri.core.support.OwningCollection")],U1);var mg;const I_=ar()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),rY=I_.jsonValues.slice();nce(rY,"orthometric");const G1=ar()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let ca=mg=class extends N{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return I_.write(e,t,r)}readHeightModel(e,t,r){return I_.read(e)||(r!=null&&r.messages&&r.messages.push(Yve(e,{context:r})),null)}readHeightUnit(e,t,r){return G1.read(e)||(r!=null&&r.messages&&r.messages.push(bP(e,{context:r})),null)}readHeightUnitService(e,t,r){return KM(e)||G1.read(e)||(r!=null&&r.messages&&r.messages.push(bP(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new mg({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=FH(t);return new mg({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new mg;return t.read(e,{origin:"web-scene"}),t}};function bP(e,t){return new Un("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function Yve(e,t){return new Un("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([u({type:I_.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:rY,default:"ellipsoidal",write:{isRequired:!0}}}}})],ca.prototype,"heightModel",void 0),c([Q("web-scene","heightModel")],ca.prototype,"writeHeightModel",null),c([Y(["web-scene","service"],"heightModel")],ca.prototype,"readHeightModel",null),c([u({type:G1.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:G1.jsonValues,write:{writer:G1.write,isRequired:!0}}}}})],ca.prototype,"heightUnit",void 0),c([Y("web-scene","heightUnit")],ca.prototype,"readHeightUnit",null),c([Y("service","heightUnit")],ca.prototype,"readHeightUnitService",null),c([u({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],ca.prototype,"vertCRS",void 0),c([Y("service","vertCRS",["vertCRS","ellipsoid","geoid"])],ca.prototype,"readVertCRS",null),ca=mg=c([S("esri.geometry.HeightModelInfo")],ca);const k2=ca;let C_=class extends U1{constructor(t){super(t),this.addHandles(this.on("before-add",r=>{r.item!=null&&r.item.parent===this.owner&&(B.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),r.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};C_=c([S("esri.support.AnalysesCollection")],C_);let m7;async function Qve(){return m7==null&&(m7=C(()=>import("./WhereClauseCache-D8IFwncj.js"),__vite__mapDeps([123,124])).then(e=>new e.WhereClauseCache(500,500))),m7}async function OA(e,t){const r=await Qve(),i=r.get(e,t);if(i==null)throw r.getError(e,t);return i}function iY(e,t){return e||(e=null),t||(t=null),e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function Kve(e,t){return e||(e=null),t||(t=null),e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function ZHe(e,t){return t.length===0?null:`${e} IN (${Xve(t)})`}function Xve(e){return e.map(t=>typeof t=="string"?e2e(t):t).join(",")}function e2e(e){return`'${e.replaceAll("'","''")}'`}function gP(e){return typeof e=="number"}function JHe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function YHe(e){return typeof e=="boolean"}function L2(e){return typeof e=="string"||e instanceof String}function t2e(e){return e==null||L2(e)}function QHe(e){return Array.isArray(e)}function r2e(e){return(e==null?void 0:e.declaredClass)==="esri.Graphic"}function KHe(e){return e instanceof Date}const i2e="HH:mm",s2e="HH:mm:ss",n2e="HH:mm:ss.SSS",a2e=[n2e,s2e,i2e,"TT"],o2e="yyyy-MM-dd";function vP(e){if(!e||!L2(e))return null;const t=ae.fromFormat(e,o2e);return t.isValid?t:null}function wP(e){return e&&L2(e)?mce(a2e,t=>{const r=ae.fromFormat(e,t);return r.isValid?r:null})??null:null}function _P(e){if(!e||!L2(e))return null;const t=ae.fromISO(e);return t.isValid?t:null}var M_;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(M_||(M_={}));const sY=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function l2e(e){return e!=null&&sY.has(e.type)}function nY(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function aY(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function oY(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const c2e=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);wM(sY,c2e);function XHe(e,t){const r=e==null?void 0:e.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,s="range"in r?r.range[1]:r.maxValue,n=l2e(e);return nY(e)||oY(e)||aY(e)?{...d2e(e,s,i),isInteger:n}:{min:i!=null&&typeof i=="number"?i:null,max:s!=null&&typeof s=="number"?s:null,rawMin:i,rawMax:s,isInteger:n}}function d2e(e,t,r){var i,s,n,a,o,l;return nY(e)?{min:(i=vP(r))==null?void 0:i.toMillis(),max:(s=vP(t))==null?void 0:s.toMillis(),rawMin:r,rawMax:t}:oY(e)?{min:(n=wP(r))==null?void 0:n.toMillis(),max:(a=wP(t))==null?void 0:a.toMillis(),rawMin:r,rawMax:t}:aY(e)?{min:(o=_P(r))==null?void 0:o.toMillis(),max:(l=_P(t))==null?void 0:l.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}function u2e(e){if(!e)return;const t=e.match(f2e);return t!=null&&t.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const f2e=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function p2e(e){var t,r;return((r=(t=e.match(h2e))==null?void 0:t[1])==null?void 0:r.replace(/\\'/g,"'"))??null}const h2e=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Pa=class{};function m2e(e){return e instanceof hh?e===Pa.instance:(e==null?void 0:e.toString().toLowerCase())==="unknown"}function tWe(e){return m2e(e)?Pa.instance:e}Pa.instance=new Ls("Etc/UTC");var A_;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(A_||(A_={}));const y2e={[A_.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let b2e=class lY extends Error{constructor(t,r){super(Ga(y2e[t],r)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,lY)}};function Ah(e,t,r){return e<t?e-t:e>r?e-r:0}function kh(e,t,r){return e<t?t:e>r?r:e}let $p=class cr{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,r=1,i=1,s=0,n=0,a=0,o=0,l){if(isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(n)||isNaN(a)||isNaN(o))return null;const d=ae.local(t,r).daysInMonth;let f=ae.fromObject({day:kh(i,1,d),year:t,month:kh(r,1,12),hour:kh(s,0,23),minute:kh(n,0,59),second:kh(a,0,59),millisecond:kh(o,0,999)},{zone:Oo(l)});return f=f.plus({months:Ah(r,1,12),days:Ah(i,1,d),hours:Ah(s,0,23),minutes:Ah(n,0,59),seconds:Ah(a,0,59),milliseconds:Ah(o,0,999)}),new cr(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,r){const i=Oo(r);return t.isUnknownTimeZone||i===Pa.instance?cr.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,i):new cr(t._date.setZone(i))}static dateJSToArcadeDate(t){return new cr(ae.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,r="system"){const i=Oo(r);return new cr(ae.fromJSDate(t,{zone:i}))}static unknownEpochToArcadeDate(t){return new cr(ae.fromMillis(t,{zone:Pa.instance}))}static unknownDateJSToArcadeDate(t){return new cr(ae.fromMillis(t.getTime(),{zone:Pa.instance}))}static epochToArcadeDate(t,r="system"){const i=Oo(r);return new cr(ae.fromMillis(t,{zone:i}))}static dateTimeToArcadeDate(t){return new cr(t)}clone(){return new cr(this._date)}changeTimeZone(t){const r=Oo(t);return cr.dateTimeToArcadeDate(this._date.setZone(r))}static dateTimeAndZoneToArcadeDate(t,r){const i=Oo(r);return t.zone===Pa.instance||i===Pa.instance?cr.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,i):new cr(t.setZone(i))}static nowToArcadeDate(t){const r=Oo(t);return new cr(ae.fromJSDate(new Date,{zone:r}))}static nowUTCToArcadeDate(){return new cr(ae.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===cr.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===Pa.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new cr(this._date.plus(t))}diff(t,r="milliseconds"){return this._date.diff(t._date,r)[r]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,r){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:r&&!this.isUnknownTimeZone})}toFormat(t,r){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,r)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new cr(this._date.toUTC())}toLocal(){return new cr(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const r=ae.fromISO(t,{setZone:!0});return new cr(r)}};function Oo(e,t=!0){if(e instanceof hh)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return Pa.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const i=$r.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(i)return i}const r=Ls.create(e);if(!r.isValid){if(t)throw new b2e(A_.TimeZoneNotRecognized);return null}return r}const g2e=()=>B.getLogger("esri.support.arcadeOnDemand"),v2e=["geometry","scale","timeProperties"];function rWe(e,t){if(t!=null)for(const r of v2e)t.hasArcadeDependency(r)&&e.add(r);return e}let y7;function ln(){return y7||(y7=(async()=>{const e=await C(()=>import("./arcadeUtils-DMqqCoNv.js"),__vite__mapDeps([264,265,266,267,132,122,124]));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),y7}const iWe=(e,t,r)=>cY.create(e,t,r,null,["$feature","$view"],[]),w2e=(e,t,r,i)=>cY.create(e,t,r,i,["$feature","$view"],[]);let cY=class dY{constructor(t,r,i,s,n,a,o){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const l=Array.isArray(a)?a:a==null?void 0:a.fields;this.fields=l??[],this._syntaxTree=i,this._arcade=r,this._arcadeFeature=n,this._spatialReference=o,this._dependencies.set("geometry",r.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,r,i,s,n,a){const{arcade:o,Feature:l,Dictionary:d}=await ln(),f=r instanceof me?r:me.fromJSON(r);let p;try{p=o.parseScript(t,a)}catch(R){return g2e().error(new I("arcade-bad-expression","Failed to parse arcade script",{script:t,error:R})),null}const m=n.reduce((R,P)=>({...R,[P]:null}),{});let y=null;s!=null&&(y=new d(s),y.immutable=!0,m.$config=null);const b=o.scriptUsesGeometryEngine(p),g=b&&o.enableGeometrySupport(),v=o.scriptUsesFeatureSet(p)&&o.enableFeatureSetSupport(),w=o.scriptIsAsync(p),_=w&&o.enableAsyncSupport(),x={vars:m,spatialReference:f,useAsync:!!_};await Promise.all([g,v,_]);const T=new Set;await o.loadDependentModules(T,p,null,w,b);const k=new d;k.immutable=!1,k.setField("scale",0);const A=o.compileScript(p,x),M=(R,P)=>{var j;const z=(j=R.$view)==null?void 0:j.timeZone;if("$view"in R&&R.$view){let H;if(k.setField("scale",typeof R.$view=="object"&&"scale"in R.$view?R.$view.scale:void 0),typeof R.$view=="object"&&"timeProperties"in R.$view&&R.$view.timeProperties!=null){const{currentStart:K,currentEnd:J}=R.$view.timeProperties;H=new d({currentStart:K!=null?z!=null?$p.epochToArcadeDate(K,z):$p.unknownEpochToArcadeDate(K):void 0,currentEnd:J!=null?z!=null?$p.epochToArcadeDate(J,z):$p.unknownEpochToArcadeDate(J):void 0,startIncluded:!0,endIncluded:!0})}k.setField("timeProperties",H),R.$view=k}return y&&(R.$config=y),A({vars:R,spatialReference:f,services:P,timeZone:z})};return new dY(t,o,p,M,new l,i,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const _2e=/^([0-9_])/,S2e=/[^a-z0-9_\u0080-\uffff]+/gi;function $2e(e){return e==null?null:e.trim().replaceAll(S2e,"_").replace(_2e,"F$1")||null}const x2e=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],E2e=["field","normalizationField"];function SP(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if($P(x2e,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)$P(E2e,i,t)}}function $P(e,t,r){if(e)for(const i of e){const s=p2(i,t),n=s&&typeof s!="function"&&r.get(s);n&&Ot(i,n.name,t)}}function uY(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const i=t.get(e.startField),s=t.get(e.endField);e.startField=(i==null?void 0:i.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const i=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(i==null?void 0:i.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const b7=new Set;function p4(e,t){return e&&t?(b7.clear(),ah(b7,e,t),Array.from(b7).sort()):[]}function ah(e,t,r){var i;if(r)if((i=t==null?void 0:t.fields)!=null&&i.length)if(r.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of r)Xi(e,t,s);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const s of r)s!=null&&e.add(s)}}function Xi(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function sWe(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function nWe(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=p4(e,t);return i.length/e.fields.length>=r?["*"]:i}async function ki(e,t,r){var n;if(!r)return;let i;const s=u2e(r);if(s)i=[s];else{const{arcadeUtils:a}=await ln();i=a.extractFieldNames(r,(n=t==null?void 0:t.fields)==null?void 0:n.map(o=>o.name))}for(const a of i)Xi(e,t,a)}async function FA(e,t,r){if(r&&r!=="1=1"){const i=await OA(r,t);if(!i.isStandardized)throw new I("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});ah(e,t,i.fieldNames)}}function T2e({displayField:e,fields:t}){return e||(t!=null&&t.length?g7(t,"name-or-title")||g7(t,"unique-identifier")||g7(t,"type-or-category")||I2e(t):null)}function I2e(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function g7(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function aWe(e,t){var i;if(!t)return;const r=(i=t.elevationInfo)==null?void 0:i.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function C2e(e,t,r){r.onStatisticExpression?ki(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function oWe(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],s=r.popupTemplate;i.push(fY(e,t,s)),r.fields&&i.push(...r.fields.map(async n=>C2e(e,t.fieldsIndex,n))),await Promise.all(i)}async function lWe(e,t){var n,a,o;const{fieldsIndex:r,trackInfo:i}=t;if(!t||!i||!r)return;const s=[(n=i.latestObservations.renderer)==null?void 0:n.collectRequiredFields(e,r),(a=i.previousObservations.renderer)==null?void 0:a.collectRequiredFields(e,r),(o=i.trackLines.renderer)==null?void 0:o.collectRequiredFields(e,r)];i.popupTemplate&&s.push(fY(e,t,i.popupTemplate));for(const l of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(l)for(const d of l)s.push(mY(e,r,d));await Promise.all(s)}async function fY(e,t,r){const i=[];r!=null&&r.expressionInfos&&i.push(...r.expressionInfos.map(n=>ki(e,t.fieldsIndex,n.expression)));const s=r==null?void 0:r.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&i.push(ki(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(i)}async function cWe(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&ah(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&ah(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await FA(e,t.fieldsIndex,r.where))}async function dWe(e,t,r){t&&r&&await Promise.all(r.map(i=>M2e(e,t,i)))}async function M2e(e,t,r){t&&r&&(r.valueExpression?await ki(e,t.fieldsIndex,r.valueExpression):r.field&&Xi(e,t.fieldsIndex,r.field))}function uWe(e){return e?p4(e.fieldsIndex,pY(e)):[]}function A2e(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?p4(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function fWe(e,t,r){if(!t||!r)return;const i=t.fieldsIndex;await Promise.all(r.filters.map(s=>FA(e,i,s.where)))}const k2e=new Set(["oid","global-id","guid"]),L2e=new Set(["oid","global-id"]),R2e=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function O2e(e){const t=new Set;hY(e).forEach(i=>t.add(i)),A2e(e).forEach(i=>t.add(i.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function pY(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:s,editorField:n}=t;return[r,i,s,n].filter(Boolean)}function hY(e){return pY(e).map(t=>t.toLowerCase())}function F2e(e,t){var r;return e.editable&&!k2e.has(e.type)&&!hY(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function P2e(e,t){var i;const r=((i=e.name)==null?void 0:i.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||O2e(t).includes(r)||L2e.has(e.type)||R2e.some(s=>s.test(r)))}async function pWe(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r!=null&&r.length&&await Promise.all(r.map(s=>mY(e,i,s)))}async function mY(e,t,r){if(!r)return;const i=r.getLabelExpression(),s=r.where;if(i.type==="arcade")await ki(e,t,i.expression);else{const n=i.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{Xi(e,t,a.slice(1,-1))})}await FA(e,t,s)}function N2e(e){const t=e.defaultValue;return t!==void 0&&bY(e,t)?t:e.nullable?null:void 0}function hWe(e){const t=typeof e=="string"?{type:e}:e;return PA(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function yY(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function D2e(e){return e===null||yY(e)}function V2e(e){return e===null||Number.isInteger(e)}function z2e(){return!0}function bY(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?V2e:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?D2e:yY;break;case"string":case"esriFieldTypeString":r=e.nullable?t2e:L2;break;default:r=z2e}return arguments.length===1?r:r(t)}const gY=["integer","small-integer","big-integer"],vY=["single","double"],j2e=[...gY,...vY],q2e=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],B2e=["esriFieldTypeSingle","esriFieldTypeDouble"],wY=new Set([...gY,...q2e]),U2e=new Set([...vY,...B2e]),G2e=wM(wY,U2e);function H2e(e){return e!=null&&wY.has(e.type)}function R2(e){return e!=null&&G2e.has(e.type)}function PA(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function h4(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function _Y(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function SY(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function Ci(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function xP(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function EP(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function mWe(e,t){return W2e(e,t)===null}var k_,L_;function yWe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function W2e(e,t){return e==null||e.nullable&&t===null?null:bY(e,t)?R2(e)&&!Z2e(e.type,Number(t))?k_.OUT_OF_RANGE:null:L_.INVALID_TYPE}function Z2e(e,t){const r=typeof e=="string"?$Y(e):e;if(!r)return!1;const i=r.min,s=r.max;return r.isInteger?Number.isInteger(t)&&t>=i&&t<=s:t>=i&&t<=s}function $Y(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return J2e;case"esriFieldTypeInteger":case"integer":return Y2e;case"esriFieldTypeBigInteger":case"big-integer":return Q2e;case"esriFieldTypeSingle":case"single":return K2e;case"esriFieldTypeDouble":case"double":return X2e}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(k_||(k_={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(L_||(L_={}));const J2e={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Y2e={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Q2e={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},K2e={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},X2e={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function bWe(e,t,r){switch(e){case M_.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case M_.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case L_.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case k_.OUT_OF_RANGE:{const{min:i,max:s}=$Y(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${s}`}}}function xY(e,t){return!ewe(e,t,null)}function ewe(e,t,r){if(!(t!=null&&t.attributes)||!e)return!0;const i=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!i.has(n)&&(s=!0,r==null))break;return s}function Ix(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}async function twe(e,t){const r=new Set;return e!=null&&e.collectRequiredFields&&await e.collectRequiredFields(r,t),Array.from(r).sort()}function NA(e){const t=e==null?void 0:e.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let S9=class extends N{constructor(t){super(t),this.type=null}};c([u({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],S9.prototype,"type",void 0),S9=c([S("esri.popup.content.Content")],S9);const Oc=S9,Qw=new ye({asc:"ascending",desc:"descending"});let yg=class extends _e.ClonableMixin(N){constructor(t){super(t),this.field=null,this.order="ascending"}};c([u({type:String,json:{write:!0}})],yg.prototype,"field",void 0),c([u({type:Qw.apiValues,json:{type:Qw.jsonValues,read:Qw.read,write:Qw.write}})],yg.prototype,"order",void 0),yg=c([S("esri.popup.support.AttachmentsOrderByInfo")],yg);const EY=yg;let id=class extends _e.ClonableMixin(Oc){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};c([u({type:String,json:{write:!0}})],id.prototype,"description",void 0),c([u({type:["auto","preview","list"],json:{write:!0}})],id.prototype,"displayType",void 0),c([u({type:[EY],json:{write:!0}})],id.prototype,"orderByFields",void 0),c([u({type:String,json:{write:!0}})],id.prototype,"title",void 0),c([u({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],id.prototype,"type",void 0),id=c([S("esri.popup.content.AttachmentsContent")],id);const Sy=id;var Cx;let gf=Cx=class extends Oc{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Cx({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?O(this.outFields):null})}};c([u()],gf.prototype,"creator",void 0),c([u()],gf.prototype,"destroyer",void 0),c([u()],gf.prototype,"outFields",void 0),c([u({type:["custom"],readOnly:!0})],gf.prototype,"type",void 0),gf=Cx=c([S("esri.popup.content.CustomContent")],gf);const rwe=gf;var Mx;let im=Mx=class extends N{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Mx({title:this.title,expression:this.expression})}};c([u({type:String,json:{write:!0}})],im.prototype,"title",void 0),c([u({type:String,json:{write:!0}})],im.prototype,"expression",void 0),c([u({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],im.prototype,"returnType",void 0),im=Mx=c([S("esri.popup.ElementExpressionInfo")],im);const TY=im;var Ax;let bg=Ax=class extends Oc{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new Ax({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([u({type:TY,json:{write:!0}})],bg.prototype,"expressionInfo",void 0),c([u({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],bg.prototype,"type",void 0),bg=Ax=c([S("esri.popup.content.ExpressionContent")],bg);const m4=bg;let sm=class extends _e.ClonableMixin(N){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};c([re(G0e)],sm.prototype,"dateFormat",void 0),c([u({type:Boolean,json:{write:!0}})],sm.prototype,"digitSeparator",void 0),c([u({type:Ve,json:{write:!0}})],sm.prototype,"places",void 0),sm=c([S("esri.popup.support.FieldInfoFormat")],sm);const $9=sm;var kx;let da=kx=class extends N{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var e;return new kx({fieldName:this.fieldName,format:(e=this.format)==null?void 0:e.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([u({type:String,json:{write:!0}})],da.prototype,"fieldName",void 0),c([u({type:$9,json:{write:!0}})],da.prototype,"format",void 0),c([u({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],da.prototype,"isEditable",void 0),c([u({type:String,json:{write:!0}})],da.prototype,"label",void 0),c([re(new ye({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],da.prototype,"stringFieldOption",void 0),c([u({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],da.prototype,"statisticType",void 0),c([u({type:String,json:{write:!0}})],da.prototype,"tooltip",void 0),c([u({type:Boolean,json:{write:!0}})],da.prototype,"visible",void 0),da=kx=c([S("esri.popup.FieldInfo")],da);const O2=da;var Lx;let vl=Lx=class extends Oc{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new Lx(O({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([u({type:Object,json:{write:!0}})],vl.prototype,"attributes",void 0),c([u({type:String,json:{write:!0}})],vl.prototype,"description",void 0),c([u({type:[O2]})],vl.prototype,"fieldInfos",void 0),c([Q("fieldInfos")],vl.prototype,"writeFieldInfos",null),c([u({type:String,json:{write:!0}})],vl.prototype,"title",void 0),c([u({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],vl.prototype,"type",void 0),vl=Lx=c([S("esri.popup.content.FieldsContent")],vl);const oh=vl;let vf=class extends N{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};c([u({type:String,json:{write:!0}})],vf.prototype,"altText",void 0),c([u({type:String,json:{write:!0}})],vf.prototype,"caption",void 0),c([u({type:String,json:{write:!0}})],vf.prototype,"title",void 0),c([u({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],vf.prototype,"type",void 0),vf=c([S("esri.popup.content.mixins.MediaInfo")],vf);const DA=vf;var Rx;let wf=Rx=class extends ie{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var e;return new Rx({color:(e=this.color)==null?void 0:e.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};c([u()],wf.prototype,"color",void 0),c([u()],wf.prototype,"fieldName",void 0),c([u()],wf.prototype,"tooltip",void 0),c([u()],wf.prototype,"value",void 0),wf=Rx=c([S("esri.popup.content.support.ChartMediaInfoValueSeries")],wf);const IY=wf;var Ox;let sd=Ox=class extends N{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Ox({colors:O(this.colors),fields:O(this.fields),normalizeField:this.normalizeField,series:O(this.series),tooltipField:this.tooltipField})}};c([u({type:[Z],json:{type:[[Ve]],write:!0}})],sd.prototype,"colors",void 0),c([u({type:[String],json:{write:{isRequired:!0}}})],sd.prototype,"fields",void 0),c([u({type:String,json:{write:!0}})],sd.prototype,"normalizeField",void 0),c([u({type:[IY],json:{read:!1}})],sd.prototype,"series",void 0),c([u({type:String,json:{write:!0}})],sd.prototype,"tooltipField",void 0),sd=Ox=c([S("esri.popup.content.support.ChartMediaInfoValue")],sd);const iwe=sd;let gg=class extends DA{constructor(t){super(t),this.type=null,this.value=void 0}};c([u({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],gg.prototype,"type",void 0),c([u({type:iwe,json:{write:{isRequired:!0}}})],gg.prototype,"value",void 0),gg=c([S("esri.popup.content.mixins.ChartMediaInfo")],gg);const y4=gg,b4=ar()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Fx;let x9=Fx=class extends y4{constructor(e){super(e),this.type="bar-chart"}clone(){var e;return new Fx({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([u({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:b4.write,isRequired:!0}}})],x9.prototype,"type",void 0),x9=Fx=c([S("esri.popup.content.BarChartMediaInfo")],x9);const CY=x9;var Px;let E9=Px=class extends y4{constructor(e){super(e),this.type="column-chart"}clone(){var e;return new Px({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([u({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:b4.write,isRequired:!0}}})],E9.prototype,"type",void 0),E9=Px=c([S("esri.popup.content.ColumnChartMediaInfo")],E9);const MY=E9;var Nx;let vg=Nx=class extends N{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new Nx({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([u({type:String,json:{write:!0}})],vg.prototype,"linkURL",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],vg.prototype,"sourceURL",void 0),vg=Nx=c([S("esri.popup.content.support.ImageMediaInfoValue")],vg);const swe=vg;var Dx;let nm=Dx=class extends DA{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var e;return new Dx({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(e=this.value)==null?void 0:e.clone()})}};c([u({type:Number,json:{write:!0}})],nm.prototype,"refreshInterval",void 0),c([u({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],nm.prototype,"type",void 0),c([u({type:swe,json:{write:{isRequired:!0}}})],nm.prototype,"value",void 0),nm=Dx=c([S("esri.popup.content.ImageMediaInfo")],nm);const AY=nm;var Vx;let T9=Vx=class extends y4{constructor(e){super(e),this.type="line-chart"}clone(){var e;return new Vx({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([u({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:b4.write,isRequired:!0}}})],T9.prototype,"type",void 0),T9=Vx=c([S("esri.popup.content.LineChartMediaInfo")],T9);const kY=T9;var zx;let I9=zx=class extends y4{constructor(e){super(e),this.type="pie-chart"}clone(){var e;return new zx({altText:this.altText,title:this.title,caption:this.caption,value:(e=this.value)==null?void 0:e.clone()})}};c([u({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:b4.write,isRequired:!0}}})],I9.prototype,"type",void 0),I9=zx=c([S("esri.popup.content.PieChartMediaInfo")],I9);const LY=I9,jx={base:DA,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":CY,"column-chart":MY,"line-chart":kY,"pie-chart":LY,image:AY}};var qx;let ua=qx=class extends Oc{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?AY.fromJSON(t):t.type==="barchart"?CY.fromJSON(t):t.type==="columnchart"?MY.fromJSON(t):t.type==="linechart"?kY.fromJSON(t):t.type==="piechart"?LY.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new qx(O({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([u()],ua.prototype,"activeMediaInfoIndex",void 0),c([u({type:Object,json:{write:!0}})],ua.prototype,"attributes",void 0),c([u({type:String,json:{write:!0}})],ua.prototype,"description",void 0),c([u({types:[jx]})],ua.prototype,"mediaInfos",void 0),c([Y("mediaInfos")],ua.prototype,"readMediaInfos",null),c([Q("mediaInfos")],ua.prototype,"writeMediaInfos",null),c([u({type:String,json:{write:!0}})],ua.prototype,"title",void 0),c([u({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ua.prototype,"type",void 0),ua=qx=c([S("esri.popup.content.MediaContent")],ua);const $y=ua;var Bx;let wg=Bx=class extends N{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Bx({field:this.field,order:this.order})}};c([u({type:String,json:{write:!0}})],wg.prototype,"field",void 0),c([u({type:["asc","desc"],json:{write:!0}})],wg.prototype,"order",void 0),wg=Bx=c([S("esri.popup.support.RelatedRecordsInfoFieldOrder")],wg);const VA=wg;let lo=class extends _e.ClonableMixin(Oc){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};c([u({type:String,json:{write:!0}})],lo.prototype,"description",void 0),c([u({type:Number,json:{type:Ve,write:!0}})],lo.prototype,"displayCount",void 0),c([u({type:["list"],json:{write:{isRequired:!0}}})],lo.prototype,"displayType",void 0),c([u({type:[VA],json:{write:!0}})],lo.prototype,"orderByFields",void 0),c([u({type:Number,json:{type:Ve,write:{isRequired:!0}}})],lo.prototype,"relationshipId",void 0),c([u({type:String,json:{write:!0}})],lo.prototype,"title",void 0),c([u({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],lo.prototype,"type",void 0),lo=c([S("esri.popup.content.RelationshipContent")],lo);const Mv=lo;var Ux;let _g=Ux=class extends Oc{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Ux({text:this.text})}};c([u({type:String,json:{write:!0}})],_g.prototype,"text",void 0),c([u({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],_g.prototype,"type",void 0),_g=Ux=c([S("esri.popup.content.TextContent")],_g);const lh=_g;let wl=class extends _e.ClonableMixin(N){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};c([u({type:String,json:{write:!0}})],wl.prototype,"title",void 0),c([u({type:String,json:{write:!0}})],wl.prototype,"description",void 0),c([u({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],wl.prototype,"type",void 0),c([u({type:Number,json:{type:Ve,write:!0}})],wl.prototype,"associatedNetworkSourceId",void 0),c([u({type:Number,json:{type:Ve,write:!0}})],wl.prototype,"associatedAssetGroup",void 0),c([u({type:Number,json:{type:Ve,write:!0}})],wl.prototype,"associatedAssetType",void 0),wl=c([S("esri.popup.support.UtilityNetworkAssociationType")],wl);const RY=wl;let nd=class extends _e.ClonableMixin(Oc){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};c([u({type:String,json:{write:!0}})],nd.prototype,"description",void 0),c([u({type:Number,json:{type:Ve,write:!0}})],nd.prototype,"displayCount",void 0),c([u({type:String,json:{write:!0}})],nd.prototype,"title",void 0),c([u({type:[RY],json:{write:!0}})],nd.prototype,"associationTypes",void 0),c([re({utilityNetworkAssociations:"utility-network-associations"})],nd.prototype,"type",void 0),nd=c([S("esri.popup.content.UtilityNetworkAssociationsContent")],nd);const zA=nd,nwe={base:null,key:"type",typeMap:{attachment:Sy,media:$y,text:lh,expression:m4,field:oh,relationship:Mv,utilityNetworkAssociations:zA}},awe={base:null,key:"type",typeMap:{attachment:Sy,media:$y,text:lh,expression:m4,field:oh,relationship:Mv}};var Gx;let _f=Gx=class extends N{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Gx({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([u({type:String,json:{write:!0}})],_f.prototype,"name",void 0),c([u({type:String,json:{write:!0}})],_f.prototype,"title",void 0),c([u({type:String,json:{write:!0}})],_f.prototype,"expression",void 0),c([u({type:["string","number"],json:{write:!0}})],_f.prototype,"returnType",void 0),_f=Gx=c([S("esri.popup.ExpressionInfo")],_f);const OY=_f;var Hx;let Sg=Hx=class extends N{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Hx({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([u({type:Boolean,json:{write:!0}})],Sg.prototype,"returnTopmostRaster",void 0),c([u({type:Boolean,json:{write:!0}})],Sg.prototype,"showNoDataRecords",void 0),Sg=Hx=c([S("esri.popup.LayerOptions")],Sg);const owe=Sg;var Wx;let $g=Wx=class extends N{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Wx({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?O(this.orderByFields):null})}};c([u({type:Boolean,json:{write:!0}})],$g.prototype,"showRelatedRecords",void 0),c([u({type:[VA],json:{write:!0}})],$g.prototype,"orderByFields",void 0),$g=Wx=c([S("esri.popup.RelatedRecordsInfo")],$g);const TP=$g;var Zx;let gn=Zx=class extends Os.IdentifiableMixin(ie){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Zx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([u()],gn.prototype,"active",void 0),c([u()],gn.prototype,"className",void 0),c([u()],gn.prototype,"disabled",void 0),c([u()],gn.prototype,"icon",void 0),c([u()],gn.prototype,"id",void 0),c([u()],gn.prototype,"indicator",void 0),c([u()],gn.prototype,"title",void 0),c([u()],gn.prototype,"type",void 0),c([u()],gn.prototype,"visible",void 0),gn=Zx=c([S("esri.support.actions.ActionBase")],gn);const g4=gn;var Jx;let C9=Jx=class extends g4{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Jx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([u()],C9.prototype,"image",void 0),C9=Jx=c([S("esri.support.actions.ActionButton")],C9);const FY=C9;var Yx;let xg=Yx=class extends g4{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Yx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([u()],xg.prototype,"image",void 0),c([u()],xg.prototype,"value",void 0),xg=Yx=c([S("esri.support.actions.ActionToggle")],xg);const PY=xg,Pb="relationships/",IP="expression/",lwe=W.ofType({key:"type",defaultKeyValue:"button",base:g4,typeMap:{button:FY,toggle:PY}}),cwe={base:Oc,key:"type",typeMap:{media:$y,custom:rwe,text:lh,attachments:Sy,fields:oh,expression:m4,relationship:Mv,utilityNetworkAssociations:zA}},NY=new Set(["attachments","fields","media","text","expression","relationship"]),dwe=new Set([...NY,"utility-network-associations"]);let mr=class extends _e.ClonableMixin(N){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Ha(cwe,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||Ko(t)?t:(B.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeWebMapContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeFieldInfos(t,r,i,s){const{content:n}=this,a=Array.isArray(n)?n:null;if(t){const o=a?a.filter(d=>d.type==="fields"):[],l=o.length&&o.every(d=>{var f;return(f=d.fieldInfos)==null?void 0:f.length});r.fieldInfos=t.filter(Boolean).map(d=>{const f=d.toJSON(s);return l&&(f.visible=!1),f})}if(a)for(const o of a)o.type==="fields"&&this._writeFieldsContent(o,r)}writeLayerOptions(t,r,i,s){r[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...i,...this._getContentExpressionInfos(this.content,i)]),ah(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(s=>(i==null?void 0:i.origin)==="web-scene"?NY.has(s.type):dwe.has(s.type)).map(s=>s==null?void 0:s.toJSON(i)),r.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(r):s.type==="media"?this._writeMediaContent(s,r):s.type==="text"?this._writeTextContent(s,r):s.type==="relationship"&&this._writeRelationshipContent(s,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=O(t.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(s=>{const n=r.fieldInfos.find(a=>{var o,l;return((o=a.fieldName)==null?void 0:o.toLowerCase())===((l=s.fieldName)==null?void 0:l.toLowerCase())});n?n.visible=!0:r.fieldInfos.push(s)}):r.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){var n,a;const i=((n=t.orderByFields)==null?void 0:n.map(o=>this._toFieldOrderJSON(o,t.relationshipId)))||[],s=[...((a=r.relatedRecordsInfo)==null?void 0:a.orderByFields)||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=O(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){const s={description:!1,mediaInfos:!1};return i.map(n=>n.type==="media"?(n.mediaInfos||!r||s.mediaInfos||(n.mediaInfos=r,s.mediaInfos=!0),$y.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),lh.fromJSON(n)):n.type==="attachments"?Sy.fromJSON(n):n.type==="fields"?oh.fromJSON(n):n.type==="expression"?m4.fromJSON(n):n.type==="relationship"?Mv.fromJSON(n):n.type==="utilityNetworkAssociations"?zA.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:i}=t;if(!(r!=null&&r.startsWith(Pb)))return null;const s=r.replace(Pb,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),a=s[1];return!Number.isNaN(n)&&a?Mv.fromJSON({relationshipId:n,orderByFields:[{field:a,order:i}]}):null}_toFieldOrderJSON(t,r){const{order:i,field:s}=t;return{field:`${Pb}${r}/${s}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new lh({text:t})):n.push(new oh),Array.isArray(r)&&r.length&&n.push($y.fromJSON({mediaInfos:r})),i&&n.push(Sy.fromJSON({displayType:"auto"}));const{showRelatedRecords:a,orderByFields:o}=s;return a&&(o!=null&&o.length)&&o.forEach(l=>{const d=this._toRelationshipContent(l);d&&n.push(d)}),n.length?n:t}_getContentElementFields(t){const r=t==null?void 0:t.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:i,value:s}=t,n=s||{},{fields:a,normalizeField:o,tooltipField:l,sourceURL:d,linkURL:f}=n,p=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(d),...this._extractFieldNames(f),...a??[]];return o&&p.push(o),l&&p.push(l),p}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((i,s)=>[...i,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,r,i){i&&await Promise.all(i.map(s=>ki(t,r,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(Pb)||r.startsWith(IP))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:r,title:i,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return NA(t).filter(r=>!(r.indexOf(Pb)===0||r.indexOf(IP)===0))}};c([u({type:lwe})],mr.prototype,"actions",void 0),c([u()],mr.prototype,"content",void 0),c([Oe("content")],mr.prototype,"castContent",null),c([Y("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],mr.prototype,"readContent",null),c([Q("web-scene","content",{popupElements:{type:W.ofType(awe)},showAttachments:{type:Boolean},mediaInfos:{type:W.ofType(jx)},description:{type:String},relatedRecordsInfo:{type:TP}})],mr.prototype,"writeWebSceneContent",null),c([Q("content",{popupElements:{type:W.ofType(nwe)},showAttachments:{type:Boolean},mediaInfos:{type:W.ofType(jx)},description:{type:String},relatedRecordsInfo:{type:TP}})],mr.prototype,"writeWebMapContent",null),c([u({type:[OY],json:{write:!0}})],mr.prototype,"expressionInfos",void 0),c([u({type:[O2]})],mr.prototype,"fieldInfos",void 0),c([Q("fieldInfos")],mr.prototype,"writeFieldInfos",null),c([u({type:owe})],mr.prototype,"layerOptions",void 0),c([Q("layerOptions")],mr.prototype,"writeLayerOptions",null),c([u({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],mr.prototype,"lastEditInfoEnabled",void 0),c([u()],mr.prototype,"outFields",void 0),c([u()],mr.prototype,"overwriteActions",void 0),c([u()],mr.prototype,"returnGeometry",void 0),c([u({json:{type:String}})],mr.prototype,"title",void 0),c([Q("title")],mr.prototype,"writeTitle",null),mr=c([S("esri.PopupTemplate")],mr);const tb=mr,CP=new ye({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let uwe=0,am=class extends N{constructor(t){super(t),this.id="sym"+uwe++,this.type=null,this.color=new Z([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([u({type:CP.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:CP.write,isRequired:!0}}})],am.prototype,"type",void 0),c([u({type:Z,json:{write:{allowNull:!0}}})],am.prototype,"color",void 0),c([Y("color")],am.prototype,"readColor",null),am=c([S("esri.symbols.Symbol")],am);const ci=am;var Qx;let ad=Qx=class extends ci{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const s=i.map(n=>{const a=n.valueExpressionInfo;return a?ki(e,t,a.expression):null});await Promise.all(s)}}}clone(){return new Qx({data:O(this.data)})}hash(){return VU(JSON.stringify(this.data)).toString()}};c([u({json:{write:!1}})],ad.prototype,"color",void 0),c([u({json:{write:!0}})],ad.prototype,"data",void 0),c([Y("data",["symbol"])],ad.prototype,"readData",null),c([Q("data",{})],ad.prototype,"writeData",null),c([re({CIMSymbolReference:"cim"},{readOnly:!0})],ad.prototype,"type",void 0),ad=Qx=c([S("esri.symbols.CIMSymbol")],ad);const Hu=ad;let om=class extends N{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};c([u({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],om.prototype,"enabled",void 0),c([Q("enabled")],om.prototype,"writeEnabled",null),c([u({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],om.prototype,"type",void 0),om=c([S("esri.symbols.Symbol3DLayer")],om);const Xo=om;function fwe(e,t){const r=t.transparency!=null?Cv(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new Z([i[0]||0,i[1]||0,i[2]||0,r]):null}function pwe(e,t){t.color=e.toJSON().slice(0,3);const r=l4(e.a);r!==0&&(t.transparency=r)}function Wu(e){return{type:Z,nonNullable:e==null?void 0:e.nonNullable,json:{type:[Ve],default:null,read:{source:["color","transparency"],reader:fwe},write:{target:{color:{type:[Ve],isRequired:e==null?void 0:e.colorRequiredOnWrite},transparency:{type:Ve}},writer:pwe}}}}const Yo={type:Number,cast:Ue,json:{write:!0}};let Sf=class extends N{constructor(t){super(t),this.color=new Z([0,0,0,1]),this.extensionLength=0,this.size=Ar(1)}clone(){}cloneProperties(){return{color:O(this.color),size:this.size,extensionLength:this.extensionLength}}};c([u({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Sf.prototype,"type",void 0),c([u(Wu({colorRequiredOnWrite:!0}))],Sf.prototype,"color",void 0),c([u({...Yo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Sf.prototype,"extensionLength",void 0),c([u(Yo)],Sf.prototype,"size",void 0),Sf=c([S("esri.symbols.edges.Edges3D")],Sf);const jA=Sf;var Kx;let M9=Kx=class extends jA{constructor(e){super(e),this.type="sketch"}clone(){return new Kx(this.cloneProperties())}};c([re({sketch:"sketch"},{readOnly:!0})],M9.prototype,"type",void 0),M9=Kx=c([S("esri.symbols.edges.SketchEdges3D")],M9);const DY=M9;var Xx;let A9=Xx=class extends jA{constructor(e){super(e),this.type="solid"}clone(){return new Xx(this.cloneProperties())}};c([re({solid:"solid"},{readOnly:!0})],A9.prototype,"type",void 0),A9=Xx=c([S("esri.symbols.edges.SolidEdges3D")],A9);const qA=A9,VY={types:{key:"type",base:jA,typeMap:{solid:qA,sketch:DY}},json:{write:!0}};var eE;let Es=eE=class extends N{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?vA(this.emissiveFactor):null};return new eE(e)}};c([u(Wu())],Es.prototype,"color",void 0),c([u({type:[Number],json:{write:!1}})],Es.prototype,"emissiveFactor",void 0),Es=eE=c([S("esri.symbols.support.Symbol3DMaterial")],Es);var tE;let od=tE=class extends Xo{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,t;return new tE({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(t=this.material)==null?void 0:t.clone(),castShadows:this.castShadows,size:this.size})}};c([re({Extrude:"extrude"},{readOnly:!0})],od.prototype,"type",void 0),c([u({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],od.prototype,"size",void 0),c([u({type:Es,json:{write:!0}})],od.prototype,"material",void 0),c([u({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],od.prototype,"castShadows",void 0),c([u(VY)],od.prototype,"edges",void 0),od=tE=c([S("esri.symbols.ExtrudeSymbol3DLayer")],od);const BA=od;let k9=class extends N{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};c([u({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k9.prototype,"type",void 0),k9=c([S("esri.symbols.patterns.LinePattern3D")],k9);const zY=k9,hwe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var rE;const mwe=ar()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Eg=rE=class extends zY{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new rE(e)}};c([u({type:["style"],json:{write:{isRequired:!0}}})],Eg.prototype,"type",void 0),c([re(mwe),u({type:hwe,json:{write:{isRequired:!0}}})],Eg.prototype,"style",void 0),Eg=rE=c([S("esri.symbols.patterns.LineStylePattern3D")],Eg);const UA=Eg;let L9=class extends N{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};c([u({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],L9.prototype,"type",void 0),L9=c([S("esri.symbols.patterns.Pattern3D")],L9);const jY=L9,ywe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var iE;let Tg=iE=class extends jY{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new iE({style:this.style})}};c([u({type:["style"],json:{write:{isRequired:!0}}})],Tg.prototype,"type",void 0),c([u({type:ywe,json:{read:!0,write:{isRequired:!0}}})],Tg.prototype,"style",void 0),Tg=iE=c([S("esri.symbols.patterns.StylePattern3D")],Tg);const qY=Tg,bwe={types:{key:"type",base:jY,typeMap:{style:qY}},json:{write:!0}},BY={types:{key:"type",base:zY,typeMap:{style:UA}},json:{write:!0}},H1=new Z("white"),gwe=new Z([255,255,255,0]);function vwe(e){return e.r===0&&e.g===0&&e.b===0}var sE;let W1=sE=class extends Es{constructor(e){super(e),this.colorMixMode=null}clone(){var t;const e={color:((t=this.color)==null?void 0:t.clone())??null,emissiveFactor:this.emissiveFactor?vA(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new sE(e)}};c([re({multiply:"multiply",replace:"replace",tint:"tint"})],W1.prototype,"colorMixMode",void 0),W1=sE=c([S("esri.symbols.support.Symbol3DFillMaterial")],W1);function wwe(e,t=!1){return e<=LU?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function RWe(e){return(kU(e)?e.byteLength/8:e.length)<=LU?Array.from(e):new Float64Array(e)}function OWe(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function F2(e=xwe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function GA(e,t,r,i,s,n,a=F2()){return a[0]=e,a[1]=t,a[2]=r,a[3]=i,a[4]=s,a[5]=n,a}function FWe(e,t=F2()){return _we(e,0,e.length/3,t)}function _we(e,t,r,i=F2()){return UY(i,nE),Swe(i,e,t,r),i}function PWe(e,t=wwe(24)){const[r,i,s,n,a,o]=e;return t[0]=r,t[1]=i,t[2]=s,t[3]=r,t[4]=i,t[5]=o,t[6]=r,t[7]=a,t[8]=s,t[9]=r,t[10]=a,t[11]=o,t[12]=n,t[13]=i,t[14]=s,t[15]=n,t[16]=i,t[17]=o,t[18]=n,t[19]=a,t[20]=s,t[21]=n,t[22]=a,t[23]=o,t}function NWe(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new ht(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function DWe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function VWe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function zWe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Swe(e,t,r=0,i=t.length/3){let s=e[0],n=e[1],a=e[2],o=e[3],l=e[4],d=e[5];for(let f=0;f<i;f++)s=Math.min(s,t[r+3*f]),n=Math.min(n,t[r+3*f+1]),a=Math.min(a,t[r+3*f+2]),o=Math.max(o,t[r+3*f]),l=Math.max(l,t[r+3*f+1]),d=Math.max(d,t[r+3*f+2]);e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=d}function jWe(e,t,r){const i=t.length;let s=e[0],n=e[1],a=e[2],o=e[3],l=e[4],d=e[5];if(r)for(let f=0;f<i;f++){const p=t[f];s=Math.min(s,p[0]),n=Math.min(n,p[1]),a=Math.min(a,p[2]),o=Math.max(o,p[0]),l=Math.max(l,p[1]),d=Math.max(d,p[2])}else for(let f=0;f<i;f++){const p=t[f];s=Math.min(s,p[0]),n=Math.min(n,p[1]),o=Math.max(o,p[0]),l=Math.max(l,p[1])}e[0]=s,e[1]=n,e[2]=a,e[3]=o,e[4]=l,e[5]=d}function qWe(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function P2(e){return e[0]>=e[3]?0:e[3]-e[0]}function N2(e){return e[1]>=e[4]?0:e[4]-e[1]}function D2(e){return e[2]>=e[5]?0:e[5]-e[2]}function BWe(e){const t=P2(e),r=D2(e),i=N2(e);return Math.sqrt(t*t+r*r+i*i)}function UWe(e,t=[0,0,0]){return t[0]=e[0]+P2(e)/2,t[1]=e[1]+N2(e)/2,t[2]=e[2]+D2(e)/2,t}function GWe(e,t=[0,0,0]){return t[0]=P2(e),t[1]=N2(e),t[2]=D2(e),t}function HWe(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function $we(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function WWe(e,t){return t==null||$we(e,t)}function ZWe(e,t,r,i,s=e){return s[0]=e[0]+t,s[1]=e[1]+r,s[2]=e[2]+i,s[3]=e[3]+t,s[4]=e[4]+r,s[5]=e[5]+i,s}function JWe(e,t,r=e){const i=e[0]+P2(e)/2,s=e[1]+N2(e)/2,n=e[2]+D2(e)/2;return r[0]=i+(e[0]-i)*t,r[1]=s+(e[1]-s)*t,r[2]=n+(e[2]-n)*t,r[3]=i+(e[3]-i)*t,r[4]=s+(e[4]-s)*t,r[5]=n+(e[5]-n)*t,r}function YWe(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function QWe(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function KWe(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function UY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function XWe(e){return e?UY(e,nE):F2(nE)}function eZe(e,t){return t||(t=zr()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function tZe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function rZe(e,t,r,i,s){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function MP(e){return e.length===6}function iZe(e){return P2(e)===0&&N2(e)===0&&D2(e)===0}function sZe(e,t,r){if(e==null||t==null)return e===t;if(!MP(e)||!MP(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const nE=[1/0,1/0,1/0,-1/0,-1/0,-1/0],xwe=[0,0,0,0,0,0];F2();function nZe(e,{isPrimitive:t,width:r,depth:i,height:s}){const n=t?10:1;if(r==null&&s==null&&i==null)return[n*e[0],n*e[1],n*e[2]];const a=eb(r,i,s);let o;for(let l=0;l<3;l++){const d=a[l];if(d!=null){o=d/e[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=e[l]*o);return a}const Ewe=GA(-.5,-.5,-.5,.5,.5,.5),Twe=GA(-.5,-.5,0,.5,.5,1),Iwe=GA(-.5,-.5,0,.5,.5,.5);function aZe(e){switch(e){case"sphere":case"cube":case"diamond":return Ewe;case"cylinder":case"cone":case"inverted-cone":return Twe;case"tetrahedron":return Iwe;default:return}}const HA=["butt","square","round"],Cwe=[...HA,"none"],GY=["miter","bevel","round"];var aE;let $f=aE=class extends N{constructor(e){super(e),this.color=new Z([0,0,0,1]),this.size=Ar(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new aE(e)}};c([u(Wu({colorRequiredOnWrite:!0}))],$f.prototype,"color",void 0),c([u({...Yo,json:{write:{isRequired:!0}}})],$f.prototype,"size",void 0),c([u(BY)],$f.prototype,"pattern",void 0),c([u({type:HA,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],$f.prototype,"patternCap",void 0),$f=aE=c([S("esri.symbols.support.Symbol3DOutline")],$f);var R9;let _l=R9=class extends Xo{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new R9(e)}static fromSimpleFillSymbol(e){var i,s,n;const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new UA({style:e.outline.style}):null,r={size:((i=e.outline)==null?void 0:i.width)??0,color:(((s=e.outline)==null?void 0:s.color)??H1).clone(),pattern:t};return t&&((n=e.outline)!=null&&n.cap)&&(r.patternCap=e.outline.cap),new R9({material:new W1({color:(e.color??gwe).clone()}),pattern:e.style&&e.style!=="solid"?new qY({style:e.style}):null,outline:r})}};c([re({Fill:"fill"},{readOnly:!0})],_l.prototype,"type",void 0),c([u({type:W1,json:{write:!0}})],_l.prototype,"material",void 0),c([u(bwe)],_l.prototype,"pattern",void 0),c([u({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_l.prototype,"castShadows",void 0),c([u({type:$f,json:{write:!0}})],_l.prototype,"outline",void 0),c([u(VY)],_l.prototype,"edges",void 0),_l=R9=c([S("esri.symbols.FillSymbol3DLayer")],_l);const xc=_l;var oE;const Mwe=ar()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let xf=oE=class extends N{constructor(e){super(e)}readHref(e,t,r){return e?Tu(e,r):t.dataURI}writeHref(e,t,r,i){e&&(kc(e)?t.dataURI=e:(t.href=S2(e,i),rn(t.href)&&(t.href=Bn(t.href))))}clone(){return new oE({href:this.href,primitive:this.primitive})}};c([u({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],xf.prototype,"href",void 0),c([Y("href")],xf.prototype,"readHref",null),c([Q("href",{href:{type:String},dataURI:{type:String}})],xf.prototype,"writeHref",null),c([re(Mwe)],xf.prototype,"primitive",void 0),xf=oE=c([S("esri.symbols.support.IconSymbol3DLayerResource")],xf);const Awe="circle";var lE;let m0=lE=class extends ie{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new lE({x:this.x,y:this.y})}};c([u({type:Number})],m0.prototype,"x",void 0),c([u({type:Number})],m0.prototype,"y",void 0),m0=lE=c([S("esri.symbols.support.Symbol3DAnchorPosition2D")],m0);var cE;let Ig=cE=class extends N{constructor(e){super(e),this.color=new Z([0,0,0,1]),this.size=Ar(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new cE(e)}};c([u(Wu({colorRequiredOnWrite:!0}))],Ig.prototype,"color",void 0),c([u({...Yo,json:{write:{isRequired:!0}}})],Ig.prototype,"size",void 0),Ig=cE=c([S("esri.symbols.support.Symbol3DIconOutline")],Ig);var lm;const HY="esri.symbols.IconSymbol3DLayer";let fa=lm=class extends Xo{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new lm({anchor:this.anchor,anchorPosition:O(this.anchorPosition),enabled:this.enabled,material:O(this.material),outline:O(this.outline),resource:O(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||H1,r=AP(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||H1).clone()}:null;return new lm({size:e.size,angle:e.angle,resource:{primitive:Lwe(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||vwe(e.color)?H1:e.color,r=AP(e);return new lm({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new lm({resource:{href:rH({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};c([u({type:Es,json:{write:!0}})],fa.prototype,"material",void 0),c([u({type:xf,json:{write:!0}})],fa.prototype,"resource",void 0),c([re({Icon:"icon"},{readOnly:!0})],fa.prototype,"type",void 0),c([u({...Yo,json:{write:{isRequired:!0}}})],fa.prototype,"size",void 0),c([re({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],fa.prototype,"anchor",void 0),c([u({type:m0,json:{type:[Number],read:{reader:e=>new m0({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],fa.prototype,"anchorPosition",void 0),c([u({type:Ig,json:{write:!0}})],fa.prototype,"outline",void 0),c([u({type:Number,json:{write:!0,default:0}})],fa.prototype,"angle",void 0),fa=lm=c([S(HY)],fa);const Xd=fa;function AP(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=kP(e.xoffset),s=kP(e.yoffset);return(i||s)&&t&&r?{x:-i/t,y:s/r}:null}function kP(e){return isFinite(e)?e:0}const kwe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Lwe(e){return kwe[e]||(B.getLogger(HY).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Rwe=["begin","end","begin-end"],WY=["arrow","circle","square","diamond","cross","x"];let Ef=class extends _e.ClonableMixin(N){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};c([u({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Ef.prototype,"type",void 0),c([u({type:Rwe,json:{default:"begin-end",write:!0}})],Ef.prototype,"placement",void 0),c([u({type:WY,json:{default:"arrow",write:!0}})],Ef.prototype,"style",void 0),c([u({type:Z,json:{type:[Ve],default:null,write:!0}})],Ef.prototype,"color",void 0),Ef=c([S("esri.symbols.LineStyleMarker3D")],Ef);const dE=Ef;var O9;let co=O9=class extends Xo{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Ar(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new O9(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??Ar(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new UA({style:e.style}):null,material:new Es({color:(e.color||H1).clone()}),marker:e.marker?new dE({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new O9(t)}};c([u({type:Es,json:{write:!0}})],co.prototype,"material",void 0),c([re({Line:"line"},{readOnly:!0})],co.prototype,"type",void 0),c([u({type:GY,json:{write:!0,default:"miter"}})],co.prototype,"join",void 0),c([u({type:HA,json:{write:!0,default:"butt"}})],co.prototype,"cap",void 0),c([u({...Yo,json:{write:{isRequired:!0}}})],co.prototype,"size",void 0),c([u(BY)],co.prototype,"pattern",void 0),c([u({types:{key:"type",base:dE,typeMap:{style:dE}},json:{write:!0}})],co.prototype,"marker",void 0),co=O9=c([S("esri.symbols.LineSymbol3DLayer")],co);const bh=co;var uE;const Owe=ar()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Cg=uE=class extends N{clone(){return new uE({href:this.href,primitive:this.primitive})}};c([u({type:String,json:{read:qM,write:Xp}})],Cg.prototype,"href",void 0),c([re(Owe)],Cg.prototype,"primitive",void 0),Cg=uE=c([S("esri.symbols.support.ObjectSymbol3DLayerResource")],Cg);const Fwe="sphere";var fE;let pp=fE=class extends ie{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new fE({x:this.x,y:this.y,z:this.z})}};c([u({type:Number})],pp.prototype,"x",void 0),c([u({type:Number})],pp.prototype,"y",void 0),c([u({type:Number})],pp.prototype,"z",void 0),pp=fE=c([S("esri.symbols.support.Symbol3DAnchorPosition3D")],pp);var pE;let mi=pE=class extends Xo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new pE({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([u({type:Es,json:{write:!0}})],mi.prototype,"material",void 0),c([u({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mi.prototype,"castShadows",void 0),c([u({type:Cg,json:{write:!0}})],mi.prototype,"resource",void 0),c([re({Object:"object"},{readOnly:!0})],mi.prototype,"type",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"width",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"height",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"depth",void 0),c([re({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],mi.prototype,"anchor",void 0),c([u({type:pp,json:{type:[Number],read:{reader:e=>new pp({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],mi.prototype,"anchorPosition",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"heading",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"tilt",void 0),c([u({type:Number,json:{write:!0}})],mi.prototype,"roll",void 0),c([u({readOnly:!0})],mi.prototype,"isPrimitive",null),mi=pE=c([S("esri.symbols.ObjectSymbol3DLayer")],mi);const v4=mi;var hE;let Pi=hE=class extends Xo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new hE({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([u({type:Es,json:{write:!0}})],Pi.prototype,"material",void 0),c([u({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Pi.prototype,"castShadows",void 0),c([re({Path:"path"},{readOnly:!0})],Pi.prototype,"type",void 0),c([u({type:["circle","quad"],json:{write:!0,default:"circle"}})],Pi.prototype,"profile",void 0),c([u({type:GY,json:{write:!0,default:"miter"}})],Pi.prototype,"join",void 0),c([u({type:Cwe,json:{write:!0,default:"butt"}})],Pi.prototype,"cap",void 0),c([u({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Pi.prototype,"width",void 0),c([Y("width",["width","size","height"])],Pi.prototype,"readWidth",null),c([u({type:Number,json:{write:!0}})],Pi.prototype,"height",void 0),c([Y("height",["height","size","width"])],Pi.prototype,"readHeight",null),c([u({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Pi.prototype,"anchor",void 0),c([u({type:["heading","all"],json:{write:!0,default:"all"}})],Pi.prototype,"profileRotation",void 0),Pi=hE=c([S("esri.symbols.PathSymbol3DLayer")],Pi);const w4=Pi,Pwe=["none","underline","line-through"],Nwe=["normal","italic","oblique"],Dwe=["normal","lighter","bold","bolder"],ZY={type:Number,cast:e=>{const t=Zi(e);return t===0?1:As(t,.1,4)},nonNullable:!0},Vwe=["left","right","center"],zwe=["baseline","top","middle","bottom"],JY={type:Vwe,nonNullable:!0},YY={type:zwe,nonNullable:!0},lZe=8;var mE;let Sl=mE=class extends N{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Ue(e)}clone(){return new mE({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([u({type:Pwe,json:{default:"none",write:!0}})],Sl.prototype,"decoration",void 0),c([u({type:String,json:{write:!0}})],Sl.prototype,"family",void 0),c([u({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Sl.prototype,"size",void 0),c([Oe("size")],Sl.prototype,"castSize",null),c([u({type:Nwe,json:{default:"normal",write:!0}})],Sl.prototype,"style",void 0),c([u({type:Dwe,json:{default:"normal",write:!0}})],Sl.prototype,"weight",void 0),Sl=mE=c([S("esri.symbols.Font")],Sl);const _4=Sl;var yE;let y0=yE=class extends N{constructor(){super(...arguments),this.color=new Z([0,0,0,1]),this.size=0}clone(){const e={color:O(this.color),size:this.size};return new yE(e)}};c([u(Wu())],y0.prototype,"color",void 0),c([u(Yo)],y0.prototype,"size",void 0),y0=yE=c([S("esri.symbols.support.Symbol3DHalo")],y0);let Z1=class extends _e.ClonableMixin(N){constructor(t){super(t),this.color=null}};c([u(Wu())],Z1.prototype,"color",void 0),Z1=c([S("esri.symbols.support.Symbol3DTextBackground")],Z1);var F9;let as=F9=class extends Xo{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const s={...i,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new F9({enabled:this.enabled,font:this.font&&O(this.font),halo:this.halo&&O(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:O(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new F9({font:e.font!=null?e.font.clone():new _4,halo:jwe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Es({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Z1({color:e.backgroundColor.clone()}):null})}};function jwe(e,t){return e&&t!=null&&t>0?new y0({color:O(e),size:t}):null}c([u({type:_4,json:{write:!0}})],as.prototype,"font",null),c([Q("font")],as.prototype,"writeFont",null),c([u({type:y0,json:{write:!0}})],as.prototype,"halo",void 0),c([u({...JY,json:{default:"center",write:!0}})],as.prototype,"horizontalAlignment",void 0),c([u({...ZY,json:{default:1,write:!0}})],as.prototype,"lineHeight",void 0),c([u({type:Es,json:{write:!0}})],as.prototype,"material",void 0),c([u({type:Z1,json:{write:!0}})],as.prototype,"background",void 0),c([u(Yo)],as.prototype,"size",null),c([u({type:String,json:{write:!0}})],as.prototype,"text",void 0),c([re({Text:"text"},{readOnly:!0})],as.prototype,"type",void 0),c([u({...YY,json:{default:"baseline",write:!0}})],as.prototype,"verticalAlignment",void 0),as=F9=c([S("esri.symbols.TextSymbol3DLayer")],as);const rb=as;var bE;let ld=bE=class extends Xo{constructor(e){super(e),this.color=gE.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new bE({color:O(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([u({type:Z,nonNullable:!0,json:{type:[Ve],write:(e,t,r)=>t[r]=e.toArray(Z.AlphaMode.UNLESS_OPAQUE),default:()=>gE.clone(),defaultEquals:e=>e.toCss(!0)===gE.toCss(!0)}})],ld.prototype,"color",void 0),c([re({Water:"water"},{readOnly:!0})],ld.prototype,"type",void 0),c([u({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ld.prototype,"waterbodySize",void 0),c([u({type:Number,json:{write:!0,default:null}})],ld.prototype,"waveDirection",void 0),c([u({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ld.prototype,"waveStrength",void 0),ld=bE=c([S("esri.symbols.WaterSymbol3DLayer")],ld);const QY=ld,gE=new Z([0,119,190]);var vE;let Tf=vE=class extends ie{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new vE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([u({type:String})],Tf.prototype,"name",void 0),c([u({type:String})],Tf.prototype,"styleUrl",void 0),c([u({type:String})],Tf.prototype,"styleName",void 0),c([u({type:Mr})],Tf.prototype,"portal",void 0),Tf=vE=c([S("esri.symbols.support.StyleOrigin")],Tf);const Av=Tf;var wE;let Dp=wE=class extends ie{constructor(){super(...arguments),this.url=""}clone(){return new wE({url:this.url})}};c([u({type:String})],Dp.prototype,"url",void 0),Dp=wE=c([S("esri.symbols.support.Thumbnail")],Dp);const KY={icon:Xd,object:v4,line:bh,path:w4,fill:xc,extrude:BA,text:rb,water:QY},qwe=W.ofType({base:Xo,key:"type",typeMap:KY,errorContext:"symbol-layer"});let uo=class extends ci{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r==null?void 0:r.type,s=i||W;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&B.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){$c(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const s=Tu(t.styleUrl,i);return new Av({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new Av({portal:(i==null?void 0:i.portal)||Mr.getDefault(),styleName:t.styleName,name:t.name});i!=null&&i.messages&&i.messages.push(new Un("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,s){if(t.styleUrl&&t.name){let n=S2(t.styleUrl,s);rn(n)&&(n=Bn(n)),r.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&(s!=null&&s.portal)&&!tH(t.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new Un("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Xo||t&&KY[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};c([u({json:{read:!1,write:!1}})],uo.prototype,"color",null),c([u({type:qwe,nonNullable:!0,json:{write:!0}}),Oe(yJ)],uo.prototype,"symbolLayers",null),c([u({type:Av})],uo.prototype,"styleOrigin",void 0),c([Y("styleOrigin")],uo.prototype,"readStyleOrigin",null),c([Q("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],uo.prototype,"writeStyleOrigin",null),c([u({type:Dp,json:{read:!1}})],uo.prototype,"thumbnail",void 0),c([u({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],uo.prototype,"type",void 0),uo=c([S("esri.symbols.Symbol3D")],uo);const V2=uo;let Mg=class extends N{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};c([u({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Mg.prototype,"type",void 0),c([u({readOnly:!0})],Mg.prototype,"visible",void 0),Mg=c([S("esri.symbols.callouts.Callout3D")],Mg);const XY=Mg;var _E;let P9=_E=class extends N{constructor(e){super(e),this.color=new Z("white")}clone(){return new _E({color:O(this.color)})}};c([u(Wu({colorRequiredOnWrite:!0}))],P9.prototype,"color",void 0),P9=_E=c([S("esri.symbols.callouts.LineCallout3DBorder")],P9);const Bwe=P9;var SE;let cd=SE=class extends XY{constructor(e){super(e),this.type="line",this.color=new Z([0,0,0,1]),this.size=Ar(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new SE({color:O(this.color),size:this.size,border:O(this.border)})}};c([re({line:"line"})],cd.prototype,"type",void 0),c([u(Wu({colorRequiredOnWrite:!0}))],cd.prototype,"color",void 0),c([u({...Yo,json:{write:{isRequired:!0}}})],cd.prototype,"size",void 0),c([u({type:Bwe,json:{write:!0}})],cd.prototype,"border",void 0),c([u({readOnly:!0})],cd.prototype,"visible",null),cd=SE=c([S("esri.symbols.callouts.LineCallout3D")],cd);const eQ=cd;function WA(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function tQ(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!(t!=null&&t.visible)&&!!WA(e)}function fZe(e){return e.type==="point-3d"||e.type==="label-3d"}function pZe(e){return e.horizontalAlignment==="center"}const rQ={types:{key:"type",base:XY,typeMap:{line:eQ}},json:{write:!0}};var $E;let cm=$E=class extends N{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new $E({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([u({...Yo,json:{write:{isRequired:!0}}})],cm.prototype,"screenLength",void 0),c([u({type:Number,nonNullable:!0,json:{write:!0,default:0}})],cm.prototype,"minWorldLength",void 0),c([u({type:Number,json:{write:!0}})],cm.prototype,"maxWorldLength",void 0),cm=$E=c([S("esri.symbols.support.Symbol3DVerticalOffset")],cm);const ZA=cm;var N9;const iQ=W.ofType({base:null,key:"type",typeMap:{text:rb}});let dd=N9=class extends V2{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new iQ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return tQ(this)}hasVisibleVerticalOffset(){return WA(this)}clone(){return new N9({styleOrigin:O(this.styleOrigin),symbolLayers:O(this.symbolLayers),thumbnail:O(this.thumbnail),callout:O(this.callout),verticalOffset:O(this.verticalOffset)})}static fromTextSymbol(e){return new N9({symbolLayers:new W([rb.fromTextSymbol(e)])})}};c([u({type:ZA,json:{write:!0}})],dd.prototype,"verticalOffset",void 0),c([u(rQ)],dd.prototype,"callout",void 0),c([u({json:{read:!1,write:!1}})],dd.prototype,"styleOrigin",void 0),c([u({type:iQ})],dd.prototype,"symbolLayers",void 0),c([re({LabelSymbol3D:"label-3d"},{readOnly:!0})],dd.prototype,"type",void 0),dd=N9=c([S("esri.symbols.LabelSymbol3D")],dd);const S4=dd;var D9;const sQ=W.ofType({base:null,key:"type",typeMap:{line:bh,path:w4}}),Uwe=W.ofType({base:null,key:"type",typeMap:{line:bh,path:w4}});let Ag=D9=class extends V2{constructor(e){super(e),this.symbolLayers=new sQ,this.type="line-3d"}clone(){return new D9({styleOrigin:O(this.styleOrigin),symbolLayers:O(this.symbolLayers),thumbnail:O(this.thumbnail)})}static fromSimpleLineSymbol(e){return new D9({symbolLayers:new W([bh.fromSimpleLineSymbol(e)])})}};c([u({type:sQ,json:{type:Uwe}})],Ag.prototype,"symbolLayers",void 0),c([re({LineSymbol3D:"line-3d"},{readOnly:!0})],Ag.prototype,"type",void 0),Ag=D9=c([S("esri.symbols.LineSymbol3D")],Ag);const Ec=Ag;var V9;const nQ=W.ofType({base:null,key:"type",typeMap:{fill:xc}});let kg=V9=class extends V2{constructor(e){super(e),this.symbolLayers=new nQ,this.type="mesh-3d"}clone(){return new V9({styleOrigin:O(this.styleOrigin),symbolLayers:O(this.symbolLayers),thumbnail:O(this.thumbnail)})}static fromSimpleFillSymbol(e){return new V9({symbolLayers:new W([xc.fromSimpleFillSymbol(e)])})}};c([u({type:nQ})],kg.prototype,"symbolLayers",void 0),c([re({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],kg.prototype,"type",void 0),kg=V9=c([S("esri.symbols.MeshSymbol3D")],kg);const ib=kg;let Lg=class extends ci{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([re({esriSLS:"simple-line"},{readOnly:!0})],Lg.prototype,"type",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],Lg.prototype,"width",void 0),Lg=c([S("esri.symbols.LineSymbol")],Lg);const Gwe=Lg;var xE;let fo=xE=class extends N{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=(i==null?void 0:i.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){(i==null?void 0:i.origin)==="web-map"||(t[r]=e)}clone(){return new xE({color:O(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([u({type:["begin","end","begin-end"],json:{write:!0}})],fo.prototype,"placement",void 0),c([re({"line-marker":"line-marker"},{readOnly:!0}),u({json:{origins:{"web-map":{write:!1}}}})],fo.prototype,"type",void 0),c([u({type:WY})],fo.prototype,"style",void 0),c([Q("style")],fo.prototype,"writeStyle",null),c([u({type:Z,value:null,json:{write:{allowNull:!0}}})],fo.prototype,"color",null),c([Y("color")],fo.prototype,"readColor",null),c([Q("color")],fo.prototype,"writeColor",null),fo=xE=c([S("esri.symbols.LineSymbolMarker")],fo);const Hwe=fo;var EE;const v7=new ye({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let $l=EE=class extends Gwe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,s,n){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=Ue(r)),i!=null&&(a.cap=i),s!=null&&(a.join=s),n!=null&&(a.miterLimit=Ue(n)),a}clone(){var e;return new EE({color:O(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([re({esriSLS:"simple-line"},{readOnly:!0})],$l.prototype,"type",void 0),c([u({type:v7.apiValues,json:{read:v7.read,write:v7.write}})],$l.prototype,"style",void 0),c([u({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],$l.prototype,"cap",void 0),c([u({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],$l.prototype,"join",void 0),c([u({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Hwe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],$l.prototype,"marker",void 0),c([u({type:Number,json:{read:!1,write:!1}})],$l.prototype,"miterLimit",void 0),$l=EE=c([S("esri.symbols.SimpleLineSymbol")],$l);const Li=$l;let Rg=class extends ci{constructor(t){super(t),this.outline=null,this.type=null}hash(){var t;return`${this.type}.${(t=this.outline)==null?void 0:t.hash()}`}};c([u({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Li}},json:{default:null,write:!0}})],Rg.prototype,"outline",void 0),c([u({type:["simple-fill","picture-fill"],readOnly:!0})],Rg.prototype,"type",void 0),Rg=c([S("esri.symbols.FillSymbol")],Rg);const aQ=Rg;function Wwe(e,t,r){return t.imageData?rH({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):oQ(t.url,r)}function oQ(e,t){if(!rn(e)){const r=Jwe(t);if(r)return Qp(r,"images",e)}return Tu(e,t)}function Zwe(e,t,r,i){if(kc(e)){const s=Kp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,r&&r.imageData===t.imageData&&r.url&&Xp(r.url,t,"url",i)}else Xp(e,t,"url",i)}const lQ={json:{read:{source:["imageData","url"],reader:Wwe},write:{writer(e,t,r,i){Zwe(e,t,this.source,i)}}}},cQ={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=oQ(t.url,r)),i}}}};function Jwe(e){var s,n;if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r==null?void 0:r.type;return i==="feature"||i==="stream"?(s=r.parsedUrl)==null?void 0:s.path:i==="map-image"||i==="tile"?(n=e.url)==null?void 0:n.path:null}var TE;let vn=TE=class extends aQ{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),r!=null&&(s.width=Ue(r)),i!=null&&(s.height=Ue(i)),s}clone(){const e=new TE({color:O(this.color),height:this.height,outline:O(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",O(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([re({esriPFS:"picture-fill"},{readOnly:!0})],vn.prototype,"type",void 0),c([u(lQ)],vn.prototype,"url",void 0),c([u({type:Number,json:{write:!0}})],vn.prototype,"xscale",void 0),c([u({type:Number,json:{write:!0}})],vn.prototype,"yscale",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],vn.prototype,"width",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],vn.prototype,"height",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],vn.prototype,"xoffset",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],vn.prototype,"yoffset",void 0),c([u(cQ)],vn.prototype,"source",void 0),vn=TE=c([S("esri.symbols.PictureFillSymbol")],vn);const JA=vn;let ud=class extends ci{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([u({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],ud.prototype,"angle",void 0),c([u({type:["simple-marker","picture-marker"],readOnly:!0})],ud.prototype,"type",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],ud.prototype,"xoffset",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],ud.prototype,"yoffset",void 0),c([u({cast:e=>e==="auto"?e:Zi(Ue(e)),json:{write:!0}})],ud.prototype,"size",void 0),ud=c([S("esri.symbols.MarkerSymbol")],ud);const dQ=ud;var IE;let pa=IE=class extends dQ{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=Ue(t)),r!=null&&(i.height=Ue(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new IE({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",O(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([u({json:{write:!1}})],pa.prototype,"color",void 0),c([re({esriPMS:"picture-marker"},{readOnly:!0})],pa.prototype,"type",void 0),c([u(lQ)],pa.prototype,"url",void 0),c([u(cQ)],pa.prototype,"source",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],pa.prototype,"height",void 0),c([Y("height",["height","size"])],pa.prototype,"readHeight",null),c([u({type:Number,cast:Ue,json:{write:!0}})],pa.prototype,"width",void 0),c([u({json:{write:!1}})],pa.prototype,"size",void 0),pa=IE=c([S("esri.symbols.PictureMarkerSymbol")],pa);const z2=pa;var If;const uQ=W.ofType({base:null,key:"type",typeMap:{icon:Xd,object:v4,text:rb}});let Cf=If=class extends V2{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new uQ,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return tQ(this)}hasVisibleVerticalOffset(){return WA(this)}clone(){return new If({verticalOffset:O(this.verticalOffset),callout:O(this.callout),styleOrigin:O(this.styleOrigin),symbolLayers:O(this.symbolLayers),thumbnail:O(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new If({symbolLayers:new W([Xd.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new If({symbolLayers:new W([Xd.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var i,s;if(((s=(i=e.data)==null?void 0:i.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new If(r!=null&&r.callout?{symbolLayers:new W([Xd.fromCIMSymbol(e)]),callout:new eQ({size:.5,color:new Z([0,0,0])}),verticalOffset:new ZA({screenLength:40})}:{symbolLayers:new W([Xd.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new If({symbolLayers:new W([rb.fromTextSymbol(e)])})}};c([u({type:ZA,json:{write:!0}})],Cf.prototype,"verticalOffset",void 0),c([u(rQ)],Cf.prototype,"callout",void 0),c([u({type:uQ,json:{origins:{"web-scene":{write:!0}}}})],Cf.prototype,"symbolLayers",void 0),c([re({PointSymbol3D:"point-3d"},{readOnly:!0})],Cf.prototype,"type",void 0),Cf=If=c([S("esri.symbols.PointSymbol3D")],Cf);const ja=Cf;var Og;const fQ=W.ofType({base:null,key:"type",typeMap:{extrude:BA,fill:xc,icon:Xd,line:bh,object:v4,text:rb,water:QY}});let Fg=Og=class extends V2{constructor(e){super(e),this.symbolLayers=new fQ,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&uv(B.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&uv(B.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Er(()=>this.symbolLayers,"after-add",({item:t})=>e(t),Za))}clone(){return new Og({styleOrigin:O(this.styleOrigin),symbolLayers:O(this.symbolLayers),thumbnail:O(this.thumbnail)})}static fromJSON(e){var r;const t=new Og;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Og({symbolLayers:new W([xc.fromSimpleFillSymbol(e)])})}};c([u({type:fQ,json:{write:!0}})],Fg.prototype,"symbolLayers",void 0),c([re({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Fg.prototype,"type",void 0),Fg=Og=c([S("esri.symbols.PolygonSymbol3D")],Fg);const Qo=Fg;var CE;const w7=new ye({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Mf=CE=class extends aQ{constructor(...e){super(...e),this.color=new Z([0,0,0,.25]),this.outline=new Li,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new CE({color:O(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([u()],Mf.prototype,"color",void 0),c([u()],Mf.prototype,"outline",void 0),c([re({esriSFS:"simple-fill"},{readOnly:!0})],Mf.prototype,"type",void 0),c([u({type:w7.apiValues,json:{read:w7.read,write:w7.write}})],Mf.prototype,"style",void 0),Mf=CE=c([S("esri.symbols.SimpleFillSymbol")],Mf);const el=Mf;var ME;const _7=new ye({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let po=ME=class extends dQ{constructor(...e){super(...e),this.color=new Z([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Li}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=Ue(t)),r&&(s.outline=r),i&&(s.color=i),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new ME({angle:this.angle,color:O(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([u()],po.prototype,"color",void 0),c([Q("color")],po.prototype,"writeColor",null),c([re({esriSMS:"simple-marker"},{readOnly:!0})],po.prototype,"type",void 0),c([u()],po.prototype,"size",void 0),c([u({type:_7.apiValues,json:{read:_7.read,write:_7.write}})],po.prototype,"style",void 0),c([u({type:String,json:{write:!0}})],po.prototype,"path",null),c([u({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Li}},json:{default:null,write:!0}})],po.prototype,"outline",void 0),po=ME=c([S("esri.symbols.SimpleMarkerSymbol")],po);const oi=po;var AE;let At=AE=class extends ci{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new _4,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return Ue(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new AE({angle:this.angle,backgroundColor:O(this.backgroundColor),borderLineColor:O(this.borderLineColor),borderLineSize:this.borderLineSize,color:O(this.color),font:this.font&&this.font.clone(),haloColor:O(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([u({type:Z,json:{write:!0}})],At.prototype,"backgroundColor",void 0),c([u({type:Z,json:{write:!0}})],At.prototype,"borderLineColor",void 0),c([u({type:Number,json:{write:!0},cast:Ue})],At.prototype,"borderLineSize",void 0),c([u({type:_4,json:{write:!0}})],At.prototype,"font",void 0),c([u({...JY,json:{write:!0}})],At.prototype,"horizontalAlignment",void 0),c([u({type:Boolean,json:{write:!0}})],At.prototype,"kerning",void 0),c([u({type:Z,json:{write:!0}})],At.prototype,"haloColor",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],At.prototype,"haloSize",void 0),c([u({type:Boolean,json:{write:!0}})],At.prototype,"rightToLeft",void 0),c([u({type:Boolean,json:{write:!0}})],At.prototype,"rotated",void 0),c([u({type:String,json:{write:!0}})],At.prototype,"text",void 0),c([re({esriTS:"text"},{readOnly:!0})],At.prototype,"type",void 0),c([u({...YY,json:{write:!0}})],At.prototype,"verticalAlignment",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],At.prototype,"xoffset",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],At.prototype,"yoffset",void 0),c([u({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],At.prototype,"angle",void 0),c([u({type:Number,json:{write:!0}})],At.prototype,"width",void 0),c([u({type:Number})],At.prototype,"lineWidth",void 0),c([Q("lineWidth")],At.prototype,"writeLineWidth",null),c([Oe("lineWidth")],At.prototype,"castLineWidth",null),c([u(ZY)],At.prototype,"lineHeight",void 0),c([Q("lineHeight")],At.prototype,"writeLineHeight",null),At=AE=c([S("esri.symbols.TextSymbol")],At);const sb=At;var kE;let ha=kE=class extends ci{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Mr.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new kE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if((t==null?void 0:t.type)!=="cim")throw new I("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,r=t?this._fetchCacheKey:null;if(t!=null){const a=r&&t.get(r);if(a)return a.clone()}const{resolveWebStyleSymbol:i}=await C(()=>Promise.resolve().then(()=>uLe),void 0);Ce(e);const s=i(this,{portal:this.portal},e);s.catch(a=>{B.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const n=await s;return t!=null&&t.set(r,n.clone()),n}};c([u({json:{write:!1}})],ha.prototype,"color",void 0),c([u({type:String,json:{write:!0}})],ha.prototype,"styleName",void 0),c([u({type:Mr,json:{write:!1}})],ha.prototype,"portal",void 0),c([u({type:String,json:{read:qM,write:Xp}})],ha.prototype,"styleUrl",void 0),c([u({type:Dp,json:{read:!1}})],ha.prototype,"thumbnail",void 0),c([u({type:String,json:{write:!0}})],ha.prototype,"name",void 0),c([re({styleSymbolReference:"web-style"},{readOnly:!0})],ha.prototype,"type",void 0),c([u()],ha.prototype,"_fetchCacheKey",null),ha=kE=c([S("esri.symbols.WebStyleSymbol")],ha);const Ru=ha;function $4(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function tl(e){switch(e==null?void 0:e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const eu={base:ci,key:"type",typeMap:{"simple-fill":el,"picture-fill":JA,"picture-marker":z2,"simple-line":Li,"simple-marker":oi,text:sb,"label-3d":S4,"line-3d":Ec,"mesh-3d":ib,"point-3d":ja,"polygon-3d":Qo,"web-style":Ru,cim:Hu},errorContext:"symbol"},bZe={base:ci,key:"type",typeMap:{"picture-marker":z2,"simple-marker":oi,"point-3d":ja,cim:Hu},errorContext:"symbol"},gZe={base:ci,key:"type",typeMap:{"simple-line":Li,"line-3d":Ec,cim:Hu},errorContext:"symbol"},vZe={base:ci,key:"type",typeMap:{"simple-fill":el,"picture-fill":JA,"polygon-3d":Qo,cim:Hu},errorContext:"symbol"},Ywe={base:ci,key:"type",typeMap:{"picture-marker":z2,"simple-marker":oi,text:sb,"web-style":Ru,cim:Hu},errorContext:"symbol"},Qwe=Wy({types:eu}),pQ={base:ci,key:"type",typeMap:{"simple-fill":el,"picture-fill":JA,"picture-marker":z2,"simple-line":Li,"simple-marker":oi,text:sb,"line-3d":Ec,"mesh-3d":ib,"point-3d":ja,"polygon-3d":Qo,"web-style":Ru,cim:Hu},errorContext:"symbol"},Kwe={base:ci,key:"type",typeMap:{text:sb,"label-3d":S4},errorContext:"symbol"},LP={base:ci,key:"type",typeMap:{"line-3d":Ec,"mesh-3d":ib,"point-3d":ja,"polygon-3d":Qo,"web-style":Ru,cim:Hu},errorContext:"symbol"},Xwe={base:ci,key:"type",typeMap:{"label-3d":S4},errorContext:"symbol"},hQ=Ha(eu);var LE;function e3e(e){if(!e)return null;const t={};for(const r in e){const i=Ja(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function t3e(e){if(e==null)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let os=LE=class extends _e.ClonableMixin(N){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:e9(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&tce(B.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new LE({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:t3e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:N.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(s.action=i),e==="attributes"&&(s.attributeName=i),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([jr(()=>{var e,t;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(t=this.geometry.transform)==null?void 0:t.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),jr(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var t;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(t=e.transform)==null?void 0:t.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};c([u({value:null,json:{read:e3e}})],os.prototype,"aggregateGeometries",null),c([u({value:null})],os.prototype,"attributes",null),c([u({value:null,types:fh,json:{read:Ja}})],os.prototype,"geometry",null),c([u({type:Boolean})],os.prototype,"isAggregate",void 0),c([u({clonable:"reference"})],os.prototype,"layer",void 0),c([u({clonable:"reference"})],os.prototype,"origin",void 0),c([u({type:tb})],os.prototype,"popupTemplate",void 0),c([u({clonable:"reference"})],os.prototype,"sourceLayer",void 0),c([u({value:null,types:eu})],os.prototype,"symbol",null),c([u({clonable:!1,json:{read:!1,write:!1}})],os.prototype,"_version",void 0),c([u({type:Boolean,value:!0})],os.prototype,"visible",null),os=LE=c([S("esri.Graphic")],os);const pr=os;let Vp=class extends U1{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};c([CM({Type:pr,ensureType:yt(pr)})],Vp.prototype,"itemType",void 0),Vp=c([S("esri.support.GraphicsCollection")],Vp);let fd=class extends ie{constructor(t){super(t),this.view=null,this.baseLayerViews=new W,this.referenceLayerViews=new W,this._loadingHandle=U(()=>{var r,i;return(i=(r=this.view)==null?void 0:r.map)==null?void 0:i.basemap},r=>{r&&r.load().catch(()=>{})},we)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(const t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){var t;return((t=this.view)==null?void 0:t.suspended)??!0}get updating(){var r,i,s;if((r=this.view)!=null&&r.suspended)return!1;const t=(s=(i=this.view)==null?void 0:i.map)==null?void 0:s.basemap;return!!(t!=null&&t.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};c([u({constructOnly:!0})],fd.prototype,"view",void 0),c([u({readOnly:!0})],fd.prototype,"baseLayerViews",void 0),c([u({readOnly:!0})],fd.prototype,"referenceLayerViews",void 0),c([u({readOnly:!0})],fd.prototype,"suspended",null),c([u({type:Boolean,readOnly:!0})],fd.prototype,"updating",null),fd=c([S("esri.views.BasemapView")],fd);const r3e=fd;function i3e(e){return"tryRecycleWith"in e}function s3e(e){return e!=null&&typeof e=="object"&&"layerViews"in e}let n3e=class{constructor(t,r,i){this.layer=t,this.view=r,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=Ms(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,qn(this._controller.signal,()=>{const s=new I("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(s)})}tryRecycle(t){if(!this.done||!this.layerView||!i3e(this.layerView))return null;const r=this.layer.type,i=this._controller.signal;for(let s=0;s<t.length;s++){const n=t[s];if(n.type!==r)continue;const a=this.layerView.tryRecycleWith(n,{signal:i});if(a){t.splice(s,1),this.layer=n;const o=this.layerView,l=o.view;return this.promise=Promise.race([a.then(()=>(Ce(this._controller.signal),n.emit("layerview-destroy",{view:l,layerView:o}),l.emit("layerview-destroy",{view:l,layerView:o}),n.emit("layerview-create",{view:l,layerView:o}),l.emit("layerview-create",{view:l,layerView:o}),o)),new Promise((d,f)=>qn(this._controller.signal,()=>f(mt())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:t}=this;if(t){const{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){var s,n;if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:r,view:i}=this;this._map=i.map;try{let a,o;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),o3e(r))a=await r.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new I("layer:view-not-supported","No layerview implementation was found");const f=await this.layerViewImporter.importLayerView(r);Ce(t),a="default"in f?new f.default({layer:r,view:i}):new f({layer:r,view:i})}const l=()=>{o=Ft(o),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};o=qn(t,l),Ce(t);try{await a.when()}catch(f){throw l(),f}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(r)))return l(),void this._deferred.reject(new I("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=a,r.emit("layerview-create",{view:i,layerView:a}),i.emit("layerview-create",{layer:r,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){r.emit("layerview-create-error",{view:i,error:a}),i.emit("layerview-create-error",{layer:r,error:a}),this.done=!0,this._deferred.reject(new I("layerview:create-error","layerview creation failed",{layer:r,error:a}))}}},wn=class extends ie{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Np,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var i;const r=(i=this.view.map)==null?void 0:i.allLayers;if(r)for(const s of r)this.layerViewImporter.hasLayerViewModule(s)&&this.layerViewImporter.importLayerView(s)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=Ms(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(v2(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var l,d,f;if(this.destroyed)return;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const i=new Set,s=[],n=this.view.ready,a=p=>{if(p!=null){for(const m of p)if(m){i.add(m);const y=this._layerLayerViewInfoMap.get(m);y&&n?y.start():y||this._recyclingInfoMap.has(m)||s.push(m),"layers"in m&&m.layers&&a(m.layers)}}};for(const p of this._rootCollectionNames)a(Ji(this,p));for(const[p,m]of this._layerLayerViewInfoMap)if(!i.has(p)){this._layerLayerViewInfoMap.delete(m.layer);const y=m.tryRecycle(s);y?(this.notifyChange("updating"),this._recyclingInfoMap.set(m.layer,m),y.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),this._layerLayerViewInfoMap.set(m.layer,m),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy(),this._reschedule()})):m.destroy()}for(const[p,m]of this._recyclingInfoMap)i.has(p)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(m.layer),m.destroy());for(const p of s)this._createLayerView(p);this._refreshCollections();const o=[(l=r==null?void 0:r.ground)==null?void 0:l.layers,(d=r==null?void 0:r.basemap)==null?void 0:d.baseLayers,(f=r==null?void 0:r.basemap)==null?void 0:f.referenceLayers,r==null?void 0:r.layers].filter(p=>!!p);i.forEach(p=>"layers"in p&&o.push(p.layers)),this.addHandles(o.map(p=>this._watchUpdatingTracking.addOnCollectionChange(()=>p,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([Er(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.map)==null?void 0:r.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),U(()=>{const t=this.view,r=t==null?void 0:t.map;return[r==null?void 0:r.basemap,r==null?void 0:r.ground,r==null?void 0:r.layers,t==null?void 0:t.ready]},()=>this._reschedule(),Hi)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),p7(this._recyclingInfoMap),p7(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(mt()),this._workPromise=null)}get _layersToLayerViews(){const t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Sde(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||(p7(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new I("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){var n;this.commitProperty("updatingRemaining");const i=this._layerLayerViewInfoMap.get(t);if(!(i!=null&&i.done))return!0;const s=i.layerView;return!(!s||!r||s.parent===r)||!!(i.done&&s&&"layers"in t&&((n=t.layers)!=null&&n.length))&&t.layers.some(a=>this.isCreatingLayerViewsForLayer(a,s))}_refreshCollections(){for(const[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners(Ji(this,t),Ji(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,i){if(!t||!r)return void(r&&r.removeAll());let s=0;for(const n of t){const a=this._layerLayerViewInfoMap.get(n);if(!(a!=null&&a.layerView))continue;const o=a.layerView;o.layer=n,o.parent=i,r.at(s)!==o&&r.splice(s,0,o),"layers"in n&&s3e(o)&&this._populateLayerViewsOwners(n.layers,o.layerViews,o),s+=1}s<r.length&&r.splice(s,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);const r=new n3e(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),i=>{i&&(fr(i)||i.name==="cancelled:layerview-create")||B.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:i}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([u()],wn.prototype,"_workPromise",void 0),c([u({readOnly:!0})],wn.prototype,"_watchUpdatingTracking",void 0),c([u({readOnly:!0})],wn.prototype,"_layersToLayerViews",null),c([u({readOnly:!0})],wn.prototype,"_rootCollectionNames",null),c([u()],wn.prototype,"layerViewImporter",void 0),c([u()],wn.prototype,"supportsGround",void 0),c([u({readOnly:!0})],wn.prototype,"updating",null),c([u({readOnly:!0})],wn.prototype,"updatingRemaining",null),c([u({constructOnly:!0})],wn.prototype,"view",void 0),wn=c([S("esri.views.LayerViewManager")],wn);const a3e=wn;function o3e(e){return e.createLayerView!==f4.prototype.createLayerView}let qs=class extends ie{constructor(t){super(t),this.factor=1.5,this.offset=xr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([u({type:Number})],qs.prototype,"factor",void 0),c([u({nonNullable:!0})],qs.prototype,"offset",void 0),c([u()],qs.prototype,"position",void 0),c([u({type:Number,range:{min:0}})],qs.prototype,"size",void 0),c([u()],qs.prototype,"maskUrl",void 0),c([u()],qs.prototype,"maskEnabled",void 0),c([u()],qs.prototype,"overlayUrl",void 0),c([u()],qs.prototype,"overlayEnabled",void 0),c([u({readOnly:!0})],qs.prototype,"version",null),c([u({type:Boolean})],qs.prototype,"visible",void 0),qs=c([S("esri.views.Magnifier")],qs);const mQ=qs;let zp=class{constructor(t){this._observable=new _2,this._map=new Map(t)}get size(){return ge(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){const r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return ge(this._observable),this._map.entries()}forEach(t,r){ge(this._observable),this._map.forEach((i,s)=>t.call(r,i,s,this),r)}get(t){return ge(this._observable),this._map.get(t)}has(t){return ge(this._observable),this._map.has(t)}keys(){return ge(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return ge(this._observable),this._map.values()}[Symbol.iterator](){return ge(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var RE;let tu=RE=class extends N{constructor(e){super(e),this.name=null,this.code=null}clone(){return new RE({name:this.name,code:this.code})}};c([u({type:String,json:{write:{isRequired:!0}}})],tu.prototype,"name",void 0),c([u({type:[String,Number],json:{write:{isRequired:!0}}})],tu.prototype,"code",void 0),tu=RE=c([S("esri.layers.support.CodedValue")],tu);const l3e=new ye({inherited:"inherited",codedValue:"coded-value",range:"range"});let Pg=class extends N{constructor(t){super(t),this.name=null,this.type=null}};c([u({type:String,json:{write:!0}})],Pg.prototype,"name",void 0),c([re(l3e),u({json:{write:{isRequired:!0}}})],Pg.prototype,"type",void 0),Pg=c([S("esri.layers.support.Domain")],Pg);const x4=Pg;var OE;let Ng=OE=class extends x4{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(i=>(String(i.code)===r&&(t=i.name),!!t))}return t}clone(){return new OE({codedValues:O(this.codedValues),name:this.name})}};c([u({type:[tu],json:{write:{isRequired:!0}}})],Ng.prototype,"codedValues",void 0),c([re({codedValue:"coded-value"})],Ng.prototype,"type",void 0),Ng=OE=c([S("esri.layers.support.CodedValueDomain")],Ng);const j2=Ng;var FE;let z9=FE=class extends x4{constructor(e){super(e),this.type="inherited"}clone(){return new FE}};c([re({inherited:"inherited"})],z9.prototype,"type",void 0),z9=FE=c([S("esri.layers.support.InheritedDomain")],z9);const yQ=z9;var PE;let dm=PE=class extends x4{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new PE({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([u({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],dm.prototype,"maxValue",void 0),c([u({json:{type:[Number],read:{source:"range",reader:(e,t)=>{var r;return(r=t.range)==null?void 0:r[0]}},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],dm.prototype,"minValue",void 0),c([re({range:"range"})],dm.prototype,"type",void 0),dm=PE=c([S("esri.layers.support.RangeDomain")],dm);const bQ=dm,gQ={key:"type",base:x4,typeMap:{range:bQ,"coded-value":j2,inherited:yQ}};function E4(e){if(!(e!=null&&e.type))return null;switch(e.type){case"range":return bQ.fromJSON(e);case"codedValue":return j2.fromJSON(e);case"inherited":return yQ.fromJSON(e)}return null}const nb=new ye({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var NE;const c3e=new ye({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let yi=NE=class extends N{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch{}return r?c3e.fromJSON(r.fieldValueType):null}clone(){var e;return new NE({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};c([u({type:String,json:{write:!0}})],yi.prototype,"alias",void 0),c([u({type:[String,Number],json:{write:{allowNull:!0}}})],yi.prototype,"defaultValue",void 0),c([u()],yi.prototype,"description",void 0),c([Y("description")],yi.prototype,"readDescription",null),c([u({types:gQ,json:{read:{reader:E4},write:!0}})],yi.prototype,"domain",void 0),c([u({type:Boolean,json:{write:!0}})],yi.prototype,"editable",void 0),c([u({type:Ve,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],yi.prototype,"length",void 0),c([u({type:String,json:{write:!0}})],yi.prototype,"name",void 0),c([u({type:Boolean,json:{write:!0}})],yi.prototype,"nullable",void 0),c([re(nb)],yi.prototype,"type",void 0),c([u()],yi.prototype,"valueType",void 0),c([Y("valueType",["description"])],yi.prototype,"readValueType",null),c([u({type:Boolean,json:{read:!1}})],yi.prototype,"visible",void 0),yi=NE=c([S("esri.layers.support.Field")],yi);const q2=yi;var DE;let um=DE=class extends N{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new DE({mapLayerId:e,gdbVersion:t})}};c([re({mapLayer:"map-layer"}),u({json:{write:{isRequired:!0}}})],um.prototype,"type",void 0),c([u({type:Ve,json:{write:{isRequired:!0}}})],um.prototype,"mapLayerId",void 0),c([u({type:String,json:{write:!0}})],um.prototype,"gdbVersion",void 0),um=DE=c([S("esri.layers.support.source.MapLayerSource")],um);var VE;let xl=VE=class extends N{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:i,geometryType:s}=this,n={workspaceId:e,query:t,oidFields:r,spatialReference:(i==null?void 0:i.clone())??void 0,geometryType:s};return new VE(n)}};c([re({queryTable:"query-table"}),u({json:{write:{isRequired:!0}}})],xl.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],xl.prototype,"workspaceId",void 0),c([u({type:String,json:{write:!0}})],xl.prototype,"query",void 0),c([u({type:String,json:{write:!0}})],xl.prototype,"oidFields",void 0),c([u({type:me,json:{write:!0}})],xl.prototype,"spatialReference",void 0),c([re(whe)],xl.prototype,"geometryType",void 0),xl=VE=c([S("esri.layers.support.source.QueryTableDataSource")],xl);var zE;let fm=zE=class extends N{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new zE({workspaceId:e,dataSourceName:t})}};c([re({raster:"raster"}),u({json:{write:{isRequired:!0}}})],fm.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],fm.prototype,"dataSourceName",void 0),c([u({type:String,json:{write:!0}})],fm.prototype,"workspaceId",void 0),fm=zE=c([S("esri.layers.support.source.RasterDataSource")],fm);var jE;let Af=jE=class extends N{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new jE({workspaceId:e,gdbVersion:t,dataSourceName:r})}};c([re({table:"table"}),u({json:{write:{isRequired:!0}}})],Af.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],Af.prototype,"workspaceId",void 0),c([u({type:String,json:{write:!0}})],Af.prototype,"gdbVersion",void 0),c([u({type:String,json:{write:!0}})],Af.prototype,"dataSourceName",void 0),Af=jE=c([S("esri.layers.support.source.TableDataSource")],Af);var qE,BE;const d3e=ar()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Bs=qE=class extends N{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return RP()(e,t,r)}castLeftTableSource(e){return Ha(UE(),e)}readRightTableSource(e,t,r){return RP()(e,t,r)}castRightTableSource(e){return Ha(UE(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:i,joinType:s}=this,n={leftTableKey:e,rightTableKey:t,leftTableSource:(r==null?void 0:r.clone())??void 0,rightTableSource:(i==null?void 0:i.clone())??void 0,joinType:s};return new qE(n)}};c([re({joinTable:"join-table"}),u({json:{write:{isRequired:!0}}})],Bs.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],Bs.prototype,"leftTableKey",void 0),c([u({type:String,json:{write:!0}})],Bs.prototype,"rightTableKey",void 0),c([u({json:{write:!0}})],Bs.prototype,"leftTableSource",void 0),c([Y("leftTableSource")],Bs.prototype,"readLeftTableSource",null),c([Oe("leftTableSource")],Bs.prototype,"castLeftTableSource",null),c([u({json:{write:!0}})],Bs.prototype,"rightTableSource",void 0),c([Y("rightTableSource")],Bs.prototype,"readRightTableSource",null),c([Oe("rightTableSource")],Bs.prototype,"castRightTableSource",null),c([re(d3e)],Bs.prototype,"joinType",void 0),Bs=qE=c([S("esri.layers.support.source.JoinTableDataSource")],Bs);let S7=null;function RP(){return S7||(S7=Wy({types:UE()})),S7}let $7=null;function UE(){return $7||($7={key:"type",base:null,typeMap:{"data-layer":Oa,"map-layer":um}}),$7}const u3e={key:"type",base:null,typeMap:{"join-table":Bs,"query-table":xl,raster:fm,table:Af}};let Oa=BE=class extends N{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new BE({fields:e,dataSource:t})}};c([re({dataLayer:"data-layer"}),u({json:{write:{isRequired:!0}}})],Oa.prototype,"type",void 0),c([u({type:[q2],json:{write:!0}})],Oa.prototype,"fields",void 0),c([u({types:u3e,json:{write:!0}})],Oa.prototype,"dataSource",void 0),Oa=BE=c([S("esri.layers.support.source.DataLayerSource")],Oa),Oa.from=yt(Oa);let kf=class extends _e.ClonableMixin(N){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};c([u({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],kf.prototype,"onFields",void 0),c([u({type:String,json:{write:!0}})],kf.prototype,"operator",void 0),c([u({type:String,json:{write:!0}})],kf.prototype,"searchTerm",void 0),c([u({type:String,json:{write:!0}})],kf.prototype,"searchType",void 0),kf=c([S("esri.rest.support.FullTextSearch")],kf);const f3e=kf;var GE;const OP=new ye({upperLeft:"upper-left",lowerLeft:"lower-left"});let Lf=GE=class extends N{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new GE(O({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([u({type:ht,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Lf.prototype,"extent",void 0),c([u({type:["view","edit"],json:{write:!0}})],Lf.prototype,"mode",void 0),c([u({type:String,json:{read:OP.read,write:OP.write}})],Lf.prototype,"originPosition",void 0),c([u({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Lf.prototype,"tolerance",void 0),Lf=GE=c([S("esri.rest.support.QuantizationParameters")],Lf);const YA=Lf,vQ=new ye({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var HE;const FP=new ye({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let ma=HE=class extends N{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=O(e))}clone(){return new HE({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:O(this.statisticParameters)})}};c([u({type:Number,json:{write:!0}})],ma.prototype,"maxPointCount",void 0),c([u({type:Number,json:{write:!0}})],ma.prototype,"maxRecordCount",void 0),c([u({type:Number,json:{write:!0}})],ma.prototype,"maxVertexCount",void 0),c([u({type:String,json:{write:!0}})],ma.prototype,"onStatisticField",void 0),c([u({type:String,json:{write:!0}})],ma.prototype,"outStatisticFieldName",void 0),c([u({type:String,json:{read:{source:"statisticType",reader:FP.read},write:{target:"statisticType",writer:FP.write}}})],ma.prototype,"statisticType",void 0),c([u({type:Object})],ma.prototype,"statisticParameters",void 0),c([Q("statisticParameters")],ma.prototype,"writeStatisticParameters",null),ma=HE=c([S("esri.rest.support.StatisticDefinition")],ma);const Tc=ma;var j9;const p3e=new ye({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let be=j9=class extends N{static from(e){return Gy(j9,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const i in e){const s=e[i];Array.isArray(s)?r[i]=s.map(n=>n instanceof Date?n.getTime():n):s instanceof Date?r[i]=s.getTime():r[i]=s}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new j9(O({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};be.MAX_MAX_RECORD_COUNT_FACTOR=5,c([u({json:{write:!0}})],be.prototype,"aggregateIds",void 0),c([u({type:Boolean,json:{write:!0}})],be.prototype,"cacheHint",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"compactGeometryEnabled",void 0),c([u({json:{write:!0}})],be.prototype,"datumTransformation",void 0),c([Oe("datumTransformation")],be.prototype,"castDatumTransformation",null),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"defaultSpatialReferenceEnabled",void 0),c([u({type:Number,json:{write:!0}})],be.prototype,"distance",void 0),c([u({type:Oa,json:{write:!0}})],be.prototype,"dynamicDataSource",void 0),c([u({type:String,json:{write:!0}})],be.prototype,"formatOf3DObjects",void 0),c([u({type:[f3e],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],be.prototype,"fullText",void 0),c([u({type:String,json:{write:!0}})],be.prototype,"gdbVersion",void 0),c([u({types:fh,json:{read:Ja,write:!0}})],be.prototype,"geometry",void 0),c([u({type:Number,json:{write:!0}})],be.prototype,"geometryPrecision",void 0),c([u({type:[String],json:{write:!0}})],be.prototype,"groupByFieldsForStatistics",void 0),c([u({type:String,json:{write:!0}})],be.prototype,"having",void 0),c([u({type:Date})],be.prototype,"historicMoment",void 0),c([Q("historicMoment")],be.prototype,"writeHistoricMoment",null),c([u({type:Number,json:{write:!0}})],be.prototype,"maxAllowableOffset",void 0),c([u({type:Number,cast:e=>e<1?1:e>be.MAX_MAX_RECORD_COUNT_FACTOR?be.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],be.prototype,"maxRecordCountFactor",void 0),c([u({type:["xyFootprint"],json:{write:!0}})],be.prototype,"multipatchOption",void 0),c([u({type:Number,json:{read:{source:"resultRecordCount"}}})],be.prototype,"num",void 0),c([u({json:{write:!0}})],be.prototype,"objectIds",void 0),c([u({type:[String],json:{write:!0}})],be.prototype,"orderByFields",void 0),c([u({type:[String],json:{write:!0}})],be.prototype,"outFields",void 0),c([u({type:me,json:{name:"outSR",write:!0}})],be.prototype,"outSpatialReference",void 0),c([u({type:[Tc],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],be.prototype,"outStatistics",void 0),c([u({json:{write:!0}})],be.prototype,"parameterValues",void 0),c([Q("parameterValues")],be.prototype,"writeParameterValues",null),c([u({type:xe,json:{write:!0}})],be.prototype,"pixelSize",void 0),c([u({type:YA,json:{write:!0}})],be.prototype,"quantizationParameters",void 0),c([u({type:[Object],json:{write:!0}})],be.prototype,"rangeValues",void 0),c([u({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],be.prototype,"relationParameter",void 0),c([u({type:String,json:{write:!0}})],be.prototype,"resultType",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"returnCentroid",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"returnDistinctValues",void 0),c([u({type:Boolean,json:{default:!0,write:!0}})],be.prototype,"returnExceededLimitFeatures",void 0),c([u({type:Boolean,json:{write:!0}})],be.prototype,"returnGeometry",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"returnQueryGeometry",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"returnM",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],be.prototype,"returnZ",void 0),c([u({type:Boolean,json:{write:!0}})],be.prototype,"returnTrueCurves",void 0),c([u({type:me,json:{write:!0}})],be.prototype,"sourceSpatialReference",void 0),c([re(vQ,{ignoreUnknown:!1,name:"spatialRel"})],be.prototype,"spatialRelationship",void 0),c([u({type:Number,json:{read:{source:"resultOffset"}}})],be.prototype,"start",void 0),c([Q("start"),Q("num")],be.prototype,"writeStart",null),c([u({type:String,json:{write:!0}})],be.prototype,"sqlFormat",void 0),c([u({type:String,json:{write:!0}})],be.prototype,"text",void 0),c([u({type:Ir,json:{write:!0}})],be.prototype,"timeExtent",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],be.prototype,"timeReferenceUnknownClient",void 0),c([re(p3e,{ignoreUnknown:!1}),u({json:{write:{overridePolicy(e){return{enabled:!!e&&this.distance!=null}}}}})],be.prototype,"units",void 0),c([u({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start!=null&&this.start>0}}}}})],be.prototype,"where",void 0),c([Q("where")],be.prototype,"writeWhere",null),be=j9=c([S("esri.rest.support.Query")],be);const li=be;function Kw(e){return!!(e!=null&&typeof e=="object"&&"createQuery"in e&&e.createQuery&&"on"in e&&e.on)}let ho=class extends an.EventedAccessor{constructor(t){super(t),this._selectionMap=new zp,this._sources=new W,this._trashCan=[],this._layerEditHandles=new W,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([U(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Er(()=>this.sources,"change",r=>{const i=this._selectionMap;for(const s of r.removed)i.delete(s);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const t=new W;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(r=>"sublayers"in r&&r.sublayers?r.sublayers:null).forEach(r=>{(Kw(r)&&!i1e(r)||Ss(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(Ft)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{const[r,i]=t;return{layer:r,selection:[...i.selection]}})}get count(){let t=0;for(const r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){$c(t,this._sources)}async getSelectedFeatures(t,r={},i="layerView"){const{view:s,selections:n}=this,a=(t!==void 0?n.filter(o=>t.includes(o.layer)):n).filter(o=>o.selection.length>0).map(async o=>{const{layer:l,selection:d}=o,f=Ss(l)?l.parent:l;if(f==null||!NP(f))return null;if(i==="layer")return DP(f,d,r);if(PP(f))return null;const p=await s.whenLayerView(f).catch(()=>null);return p?DP(p,d,r):null});return(await Promise.all(a)).filter(o=>o!=null)}updateSelection(t){const r=new Map;for(const[n,a]of this._selectionMap)r.set(n,[...a.selection]);let i=!1;const s=t.current.concat(t.added);for(const n of s){const a=n.sourceLayer,o=n.getObjectId();if(this.sources.includes(a)&&(Kw(a)||Ss(a))&&o!==null){const l=Uy(r,a,()=>[]);l.includes(o)||(l.push(o),i=!0)}}for(const n of t.removed){const a=n.sourceLayer,o=n.getObjectId();if(this.sources.includes(a)&&(Kw(a)||Ss(a))&&o!==null){const l=r.get(a),d=l==null?void 0:l.indexOf(o);d!==void 0&&d>=0&&(l==null||l.splice(d,1),i=!0)}}if(i){const{_selectionMap:n,_trashCan:a}=this,o=[];for(const[l,d]of r){const f=n.get(l);f!==void 0&&a.push(f),n.set(l,{selection:d}),o.push({layer:l,selection:d,...zR(f!==void 0?f.selection:[],d)})}this._onSelectionChange(o)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){const r=this._selectionMap.get(t);return r==null?void 0:r.selection}appendToSelection(t,r){const i=this._selectionMap.get(t),s=i!==void 0?[...i.selection]:[];for(const n of r)s.includes(n)||s.push(n);this._setSelection(t,s)}removeFromSelection(t,r){const i=this._selectionMap.get(t);if(!i)return;const s=[];for(const n of i.selection)r.includes(n)||s.push(n);this._setSelection(t,s)}toggleInSelection(t,r){const i=this._selectionMap.get(t);if(!i||i.selection.length===0)return void this._setSelection(t,r);const s=new Set(i.selection),n=new Set(r),a=ode(s,n);this._setSelection(t,Array.from(a))}clear(){const t=this._selectionMap.values();this._trashCan.push(...t);const r=[];for(const[i,s]of this._selectionMap.entries())r.push({layer:i,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){var a;if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;){const o=this._trashCan.pop();(a=o==null?void 0:o.highlightHandle)==null||a.remove()}const{sources:t,view:r,_selectionMap:i,showHighlight:s}=this,n=this._vizTaskId;for(const o of t){const l=i.get(o),d=Ss(o)?o.parent:o;if(d!=null&&NP(d)){if(PP(d))continue;r.whenLayerView(d).then(f=>{var p;(p=l==null?void 0:l.highlightHandle)==null||p.remove(),l!=null&&s&&n===this._vizTaskId&&"highlight"in f&&typeof f.highlight=="function"&&l.selection.length>0&&(l.highlightHandle=f.highlight(l.selection,this.highlightName))}).catch(()=>{var f;(f=l==null?void 0:l.highlightHandle)==null||f.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Ft);for(const t of this.sources){const r=Ss(t)?t.parent:t;if(r!=null&&Kw(r)){const i=r.on("edits",s=>{this._handleEditChanges(s,t)});this._layerEditHandles.push(i)}}}_handleEditChanges(t,r){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){const i=t.deletedFeatures.filter(s=>s.error==null).map(s=>s.objectId).filter(It);this.removeFromSelection(r,i)}}_setSelection(t,r){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);const i=this._selectionMap.get(t);if(i===void 0||!m3e(i,{selection:r})){i!==void 0&&this._trashCan.push(i),this._selectionMap.set(t,{selection:[...r]});const s={layer:t,selection:[...r],...zR(i!==void 0?i.selection:[],r)};this._onSelectionChange([s])}}};c([u({readOnly:!0,nonNullable:!0})],ho.prototype,"selections",null),c([u({readOnly:!0,nonNullable:!0})],ho.prototype,"count",null),c([u({constructOnly:!0,nonNullable:!0})],ho.prototype,"view",void 0),c([u({readOnly:!0,nonNullable:!0})],ho.prototype,"hasSelection",null),c([u()],ho.prototype,"showHighlight",void 0),c([u()],ho.prototype,"sources",null),c([u()],ho.prototype,"highlightName",void 0),ho=c([S("esri.views.SelectionManager")],ho);const PP=e=>{var t;return Ss(e)?((t=e.parent)==null?void 0:t.isTable)===!0:e.isTable},h3e=e=>e.layer!==void 0,NP=e=>(e==null?void 0:e.when)!==void 0,m3e=(e,t)=>{if(e==null&&t==null)return!0;if(e!=null&&t==null||e==null&&t!=null)return!1;if(e!=null&&t!=null&&e.selection!=null&&t.selection!=null){const r=[...e.selection],i=[...t.selection];if(r.length!==i.length)return!1;r.sort(),i.sort();for(let s=0;s<r.length;s++)if(r[s]!==i[s])return!1}return!0},DP=async(e,t,r={})=>{let i;if(h3e(e)){const s=e;i=s===void 0?null:await s.queryFeatures(new li({...r,objectIds:t})).then(n=>({data:n,layer:e.layer}))}else{const s=e;i=s===void 0?null:await s.queryFeatures(new li({...r,objectIds:t})).then(n=>({data:n,layer:s}))}return i},y3e=ho;let Dg=class extends _e.ClonableMixin(ie){constructor(t){super(t),this.accentColor=new Z([255,127,0]),this.textColor=new Z([255,255,255])}};c([u({type:Z,nonNullable:!0})],Dg.prototype,"accentColor",void 0),c([u({type:Z,nonNullable:!0})],Dg.prototype,"textColor",void 0),Dg=c([S("esri.views.Theme")],Dg);const WE=Dg;var VP;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(VP||(VP={}));const wQ=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],_Q={};function SQ(e){return!!_Q[e]}function b3e(e){for(const t of e)if(!SQ(t))return!1;return!0}wQ.forEach(e=>{_Q[e]=!0});let $Q=class{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:r,priority:i},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[r],i)})}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>{var i;return(i=this.inputManager)==null?void 0:i.uninstallHandlers(r)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,i,s){const n=Array.isArray(t)?t:t.split(",");if(!b3e(n))return n.some(SQ)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,o;Array.isArray(r)?o=r:(a=r,o=[]),typeof i=="function"?a=i:s=i,s=s??uu.DEFAULT;const l=this._createUniqueGroupName(),d=new g3e(this.view,n,o,a);this._handlers.set(l,{handler:d,priority:s});for(const f of n){const p=this._handlerCounts.get(f)||0;this._handlerCounts.set(f,p+1)}return this.inputManager&&this.inputManager.installHandlers(l,[d],s),Je(()=>this._removeHandler(l,n))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t)){this._handlers.delete(t);for(const i of r){const s=this._handlerCounts.get(i);s===void 0||(s===1?this._handlerCounts.delete(i):this._handlerCounts.set(i,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},g3e=class extends qr{constructor(t,r,i,s){super(!0),this._latestDragStart=void 0,this.view=t;for(const n of r)switch(n){case"click":this.registerIncoming("click",i,a=>s(_3e(t,a)));break;case"double-click":this.registerIncoming("double-click",i,a=>s(S3e(t,a)));break;case"immediate-click":this.registerIncoming("immediate-click",i,a=>s($3e(t,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,a=>s(x3e(t,a)));break;case"hold":this.registerIncoming("hold",i,a=>s(E3e(t,a)));break;case"drag":this.registerIncoming("drag",i,a=>{const o=this._wrapDrag(a);o&&s(o)});break;case"key-down":this.registerIncoming("key-down",i,a=>s(T3e(a)));break;case"key-up":this.registerIncoming("key-up",i,a=>s(I3e(a)));break;case"pointer-down":this.registerIncoming("pointer-down",i,a=>s(Nb(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,a=>s(Nb(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,a=>s(Nb(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,a=>s(C3e(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,a=>s(M3e(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,a=>s(Nb(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,a=>s(Nb(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,a=>{s(A3e(a))});break;case"focus":this.registerIncoming("focus",i,a=>{s(v3e(a))});break;case"blur":this.registerIncoming("blur",i,a=>{s(w3e(a))})}}_wrapDrag(t){const r=t.data,{x:i,y:s}=r.center,{action:n,pointerType:a,button:o}=r;if(n==="start"&&(this._latestDragStart=r),!this._latestDragStart)return;const l=r.pointer.native,d=r.buttons,{cancelable:f,timestamp:p}=t,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:i,y:s,origin:m,pointerType:a,button:o,buttons:d,radius:r.radius,angle:PG(r.angle),native:l,timestamp:p,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}};function v3e(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function w3e(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}function _3e(e,t){const{pointerType:r,button:i,buttons:s,x:n,y:a,native:o,eventId:l}=t.data,{cancelable:d,timestamp:f}=t;return{type:"click",pointerType:r,button:i,buttons:s,x:n,y:a,native:o,timestamp:f,screenPoint:xr(n,a),mapPoint:B2(e,n,a),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}function S3e(e,t){const{pointerType:r,button:i,buttons:s,x:n,y:a,native:o,eventId:l}=t.data,{cancelable:d,timestamp:f}=t;return{type:"double-click",pointerType:r,button:i,buttons:s,x:n,y:a,native:o,timestamp:f,mapPoint:B2(e,n,a),eventId:l,cancelable:d,stopPropagation:()=>t.stopPropagation(),async:p=>t.async(p),preventDefault:()=>t.preventDefault()}}function $3e(e,t){const{pointerType:r,button:i,buttons:s,x:n,y:a,native:o,eventId:l}=t.data,d=o.pointerId,{cancelable:f,timestamp:p}=t;return{type:"immediate-click",pointerId:d,pointerType:r,button:i,buttons:s,x:n,y:a,native:o,timestamp:p,mapPoint:B2(e,n,a),eventId:l,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function x3e(e,t){const{pointerType:r,button:i,buttons:s,x:n,y:a,native:o,eventId:l}=t.data,d=o.pointerId,{cancelable:f,timestamp:p}=t;return{type:"immediate-double-click",pointerId:d,pointerType:r,button:i,buttons:s,x:n,y:a,native:o,timestamp:p,mapPoint:B2(e,n,a),eventId:l,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}function E3e(e,t){const{pointerType:r,button:i,buttons:s,x:n,y:a,native:o}=t.data,{cancelable:l,timestamp:d}=t;return{type:"hold",pointerType:r,button:i,buttons:s,x:n,y:a,native:o,timestamp:d,mapPoint:B2(e,n,a),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}function B2(e,t,r){return e.toMap(xr(t,r),{exclude:[]})}function T3e(e){const{key:t,repeat:r,native:i}=e.data,{cancelable:s,timestamp:n}=e;return{type:"key-down",key:t,repeat:r,native:i,timestamp:n,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:a=>e.async(a),preventDefault:()=>e.preventDefault()}}function I3e(e){const{key:t,native:r}=e.data,{cancelable:i,timestamp:s}=e;return{type:"key-up",key:t,native:r,timestamp:s,cancelable:i,stopPropagation:()=>e.stopPropagation(),async:n=>e.async(n),preventDefault:()=>e.preventDefault()}}function Nb(e,t){const{x:r,y:i,button:s,buttons:n,native:a,eventId:o}=e.data,l=a.pointerId,d=a.pointerType,{cancelable:f,timestamp:p}=e;return{type:t,x:r,y:i,pointerId:l,pointerType:d,button:s,buttons:n,native:a,timestamp:p,eventId:o,cancelable:f,stopPropagation:()=>e.stopPropagation(),async:m=>e.async(m),preventDefault:()=>e.preventDefault()}}function C3e(e){const{x:t,y:r,buttons:i,native:s,eventId:n}=e.data.currentEvent,{button:a}=e.data.startEvent,o=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,d=e.data.action,f={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:p,timestamp:m}=e;return{type:"pointer-drag",x:t,y:r,pointerId:o,pointerType:l,button:a,buttons:i,action:d,origin:f,native:s,timestamp:m,eventId:n,cancelable:p,stopPropagation:()=>e.stopPropagation(),async:y=>e.async(y),preventDefault:()=>e.preventDefault()}}function M3e(e){const{cancelable:t,data:r,timestamp:i}=e,{x:s,y:n,deltaY:a,native:o}=r;return{type:"mouse-wheel",x:s,y:n,deltaY:a,native:o,timestamp:i,cancelable:t,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}function A3e(e){const{action:t,state:r,device:i}=e.data,{cancelable:s,timestamp:n}=e,{buttons:a,axes:o}=r;return{type:"gamepad",device:i,timestamp:n,action:t,buttons:a,axes:o,cancelable:s,stopPropagation:()=>e.stopPropagation(),async:l=>e.async(l),preventDefault:()=>e.preventDefault()}}var kv,zP,jP;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(kv||(kv={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(zP||(zP={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(jP||(jP={}));function k3e(e){return[e.on("before-add",t=>{const r=t.item;if(r==null||e.includes(r))return B.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();r.onAdd()}),e.on("after-remove",t=>{const r=t.item;r.active&&(r.view.activeTool=null),r.destroy()})]}function ZE(e){return e.visible&&e.getEditableFlag!=null&&e.getEditableFlag(kv.USER)&&e.getEditableFlag(kv.MANAGER)}function mo(e){return xr(e.x,e.y)}function xQ(e,t){var i;const r=(i=e instanceof HTMLElement?e:e.surface)==null?void 0:i.getBoundingClientRect();return r?xr(t.clientX-r.left,t.clientY-r.top):xr(0,0)}function EQ(e,t){return t instanceof Event?xQ(e,t):mo(t)}function TQ(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let L3e=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":BP(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:t.action==="start"?this._externallyDragging=!0:t.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(i(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!UP(t))break;const s=mo(t),n=Lh(s,t.pointerType,r.forEachTool);if(n==null)break;const a=n.manipulator,o=n.tool;a==null||o==null||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,t,r),a!=null&&o!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:o,start:s,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&r.activeTool==null&&(this._revertToNullActiveTool=!0,r.setActiveTool(n.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:s}),i());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!UP(t))break;const s=this._grabbedManipulators.get(t.pointerId),n=s==null?void 0:s.manipulator,a=s==null?void 0:s.tool;if(n==null||a==null)break;const o=mo(t);o.x=As(o.x,0,r.view.width),o.y=As(o.y,0,r.view.height);const l=s.start,d=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,d?n.events.emit("drag",{action:"update",start:l,screenPoint:o}):n.events.emit("drag",{action:"start",start:l,screenPoint:o,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:n,start:l}));break;case"end":n.dragging=!1,d&&n.events.emit("drag",{action:"end",start:l,screenPoint:o}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}i();break}case"immediate-click":{const s=mo(t),n=Lh(s,t.pointerType,r.forEachTool);if(R3e(t)||r.forEachTool(d=>{if((n==null||n.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let f=!1;d.manipulators.forEach(({manipulator:p})=>{p.selected&&(p.selected=!1,f=!0)}),f&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}),n==null)break;const{manipulator:a,tool:o}=n;if(!a.interactive)break;a.selectable&&o.automaticManipulatorSelection&&(a.selected=!a.selected,o.onManipulatorSelectionChanged&&o.onManipulatorSelectionChanged());const l=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:i}),x7(a,i);break}case"click":{const s=mo(t),n=Lh(s,t.pointerType,r.forEachTool),a=n==null?void 0:n.manipulator;if(a==null||!a.interactive)break;const o=t.native.shiftKey;a.events.emit(t.type,{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:o}),i();break}case"double-click":{const s=mo(t),n=Lh(s,t.pointerType,r.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i}),x7(a,i);break}case"immediate-double-click":{const s=mo(t),n=Lh(s,t.pointerType,r.forEachTool),a=n!=null?n.manipulator:null;if(a==null||!a.interactive)break;const o=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:o,stopPropagation:i}),t.pointerType==="mouse"&&x7(a,i);break}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:mo(r)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===t&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(t,r){var s;const i=(s=this._grabbedManipulators.get(t.pointerId))==null?void 0:s.manipulator;i!=null&&i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:mo(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=qP(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=qP(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){const r=new Set,i=new Set;this._grabbedManipulators.forEach(({tool:s})=>{r.add(s)}),this._hoveredManipulators.forEach(({tool:s})=>{i.add(s)}),t(s=>{s.hasGrabbedManipulators=r.has(s),s.hasHoveredManipulators=i.has(s);const n=this._grabbedManipulators.values(),a=rce(n,({tool:o})=>o===s);s.firstGrabbedManipulator=a!=null?a.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:i},s=!0,n){const a=(o,l)=>o===t&&(n==null||n===l);this._grabbedManipulators.forEach(({tool:o,manipulator:l,pointerType:d},f)=>{a(o,l)&&(this._grabbedManipulators.delete(f),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:o,manipulator:l},d)=>{a(o,l)&&(this._draggedManipulators.delete(d),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:o,manipulator:l},d)=>{a(o,l)&&(this._hoveredManipulators.delete(d),l.hovering=!1)}),this._afterManipulatorRelease(i),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,i)=>{this._updateHoveredStateForPointerAtScreenPosition(xr(r.x,r.y),i,r.pointerType,t)})}handleHoverEvent(t,r){const i=t.type;i!=="pointer-up"&&i!=="immediate-click"&&i!=="pointer-move"||!BP(t.pointerType)||(i!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition(mo(t),t.pointerId,t.pointerType,r))}_updateHoveredStateForPointerAtScreenPosition(t,r,i,s){var o;let n=Lh(t,i,s);const a=(o=this._hoveredManipulators.get(r))==null?void 0:o.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&a===n.manipulator||(a!=null&&(a.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(r,n)):this._hoveredManipulators.delete(r),this._onFocusChange(s))}_afterManipulatorRelease(t){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:r},i)=>{t===i&&(this._hoveredManipulators.delete(t),r.hovering=!1)})}};function qP(e){for(const{manipulator:t}of e.values())if(t!=null&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function Lh(e,t,r){let i=null;return r(s=>{if(s.manipulators==null||!ZE(s))return!1;const n=s.manipulators.intersect(e,t);return n!=null&&(i={tool:s,manipulator:n},!0)}),i}function BP(e){return e==="mouse"}function UP(e){return e.pointerType!=="mouse"||e.button===0}function R3e(e){return!!e.native.shiftKey}function x7(e,t){e!=null&&e.consumesClicks&&t()}const GP="attached",E7="tools",O3e=1e3;let yo=class extends ie{constructor(t){super(t),this._updatingHandles=new Np,this._clock=By,this._manipulatorState=new L3e,this.tools=new W,this.cursor=null,this._interacting=!1,this._interactingTimeout=O3e,this._interactingTimeoutHandle=null,this._forEachTool=r=>{for(const i of this.tools.items)if(r(i))return}}initialize(){this.addHandles([this.view.on(wQ,t=>{this._handleInputEvent(t)},uu.TOOL),...k3e(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void B.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const r=this.activeTool;this._set("activeTool",t),r!=null&&r.deactivate(),t!=null&&t.activate(),this._removeIncompleteTools(t);for(const i of this.tools){this._updateToolEditableFlag(i);const s=ZE(i);this.activeTool!=null&&s||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!s)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Ft(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){var t;this.view.type==="3d"?this.addHandles([U(()=>{const{state:r}=this.view;return"camera"in r&&r.camera},()=>this._forEachManipulator(r=>r.onViewChange())),(t=this.view.elevationProvider)==null?void 0:t.on("elevation-change",r=>this._forEachManipulator(i=>i.onElevationChange(r)))],GP):this.addHandles(U(()=>this.view.extent,()=>this._forEachManipulator(r=>r.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(GP),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:i})=>t(i,r))})}_handleInputEvent(t){let r=!1;const i={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(s=>{!r&&s.visible&&s.handleInputEvent(i)}),!r&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),r||this.activeTool==null||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(E7),this._forEachTool(t=>{if(t instanceof ie){const r=U(()=>[t.cursor,t.visible,t.editable],()=>{ZE(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,E7)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],E7)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){var r;(r=t.setEditableFlag)==null||r.call(t,kv.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(r=>!(r.cursor==null||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(t==null||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(r=>{this.tools.remove(r)})}get test(){}};c([u({constructOnly:!0,nonNullable:!0})],yo.prototype,"view",void 0),c([u({value:null})],yo.prototype,"activeTool",null),c([u({readOnly:!0,type:W})],yo.prototype,"tools",void 0),c([u({readOnly:!0})],yo.prototype,"cursor",void 0),c([u({readOnly:!0})],yo.prototype,"updating",null),c([u()],yo.prototype,"_interacting",void 0),c([u({readOnly:!0})],yo.prototype,"interacting",null),yo=c([S("esri.views.ToolViewManager")],yo);const F3e=new Z("cyan"),P3e=1,N3e=.25,D3e=new Z("black"),V3e=.4,z3e=.2,OZe=.25,IQ="default",j3e="temporary",q3e=new Z("yellow");var JE;let Us=JE=class extends ie{constructor(e){super(e),this.name=IQ,this.color=F3e.clone(),this.haloColor=null,this.haloOpacity=P3e,this.fillOpacity=N3e,this.shadowColor=D3e.clone(),this.shadowOpacity=V3e,this.shadowDifference=z3e,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){var e,t;return new JE({...this,color:this.color.clone(),haloColor:(e=this.haloColor)==null?void 0:e.clone(),shadowColor:(t=this.shadowColor)==null?void 0:t.clone()})}assignFrom(e){var t;this.color=e.color.clone(),this.haloColor=(t=e.haloColor)==null?void 0:t.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};c([u({type:String,constructOnly:!0,nonNullable:!0})],Us.prototype,"name",void 0),c([u({type:Z,nonNullable:!0})],Us.prototype,"color",void 0),c([u({type:Z})],Us.prototype,"haloColor",void 0),c([u({nonNullable:!0})],Us.prototype,"haloOpacity",void 0),c([u({nonNullable:!0})],Us.prototype,"fillOpacity",void 0),c([u({type:Z,nonNullable:!0})],Us.prototype,"shadowColor",void 0),c([u({nonNullable:!0})],Us.prototype,"shadowOpacity",void 0),c([u({nonNullable:!0})],Us.prototype,"shadowDifference",void 0),c([u({nonNullable:!0})],Us.prototype,"haloWidth",void 0),c([u({nonNullable:!0})],Us.prototype,"haloBlur",void 0),Us=JE=c([S("esri.views.support.HighlightOptions")],Us);const pu=Us;function B3e(){return new(W.ofType(pu))([new pu({name:IQ}),new pu({name:j3e,color:q3e})])}let pm=class extends ie{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":U3e.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){const t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return G3e[this.deviceType]}};c([u({nonNullable:!0,readOnly:!0})],pm.prototype,"nativeIndex",void 0),c([u({type:String,readOnly:!0})],pm.prototype,"deviceType",null),c([u({type:Number,readOnly:!0})],pm.prototype,"axisThreshold",null),pm=c([S("esri.views.input.gamepad.GamepadInputDevice")],pm);const QA=pm,U3e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),G3e={standard:.15,spacemouse:.025,unknown:0};let Vg=class extends ie{constructor(...t){super(...t),this.devices=new W,this.enabledFocusMode="document"}};c([u({type:W.ofType(QA),readOnly:!0})],Vg.prototype,"devices",void 0),c([u({type:["document","view","none"]})],Vg.prototype,"enabledFocusMode",void 0),Vg=c([S("esri.views.input.gamepad.GamepadSettings")],Vg);const H3e=Vg;let q9=class extends ie{constructor(){super(...arguments),this.gamepad=new H3e}};c([u({readOnly:!0})],q9.prototype,"gamepad",void 0),q9=c([S("esri.views.input.Input")],q9);const W3e=q9,KA=()=>it.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,T7=()=>u({type:["pan","rotate","zoom","none"],nonNullable:!0});let Rf=class extends ie{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};c([T7()],Rf.prototype,"dragPrimary",void 0),c([T7()],Rf.prototype,"dragSecondary",void 0),c([T7()],Rf.prototype,"dragTertiary",void 0),c([u({type:["zoom","none"],nonNullable:!0})],Rf.prototype,"mouseWheel",void 0),Rf=c([S("esri.views.navigation.NavigationActionMap")],Rf);const XA=Rf;let pd=class extends ie{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([u({type:Boolean,nonNullable:!0})],pd.prototype,"enabled",void 0),c([u({type:QA})],pd.prototype,"device",void 0),c([u({type:["pan","zoom"],nonNullable:!0})],pd.prototype,"mode",void 0),c([u({type:["forward-down","forward-up"],nonNullable:!0})],pd.prototype,"tiltDirection",void 0),c([u({type:Number,nonNullable:!0})],pd.prototype,"velocityFactor",void 0),pd=c([S("esri.views.navigation.gamepad.GamepadSettings")],pd);const CQ=pd;let hd=class extends ie{constructor(t){super(t),this.actionMap=new XA,this.browserTouchPanEnabled=!0,this.gamepad=new CQ,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!KA()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){ece(B.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};c([u({type:XA,nonNullable:!0})],hd.prototype,"actionMap",void 0),c([u({type:Boolean})],hd.prototype,"browserTouchPanEnabled",void 0),c([u({type:CQ,nonNullable:!0})],hd.prototype,"gamepad",void 0),c([u({type:Boolean})],hd.prototype,"momentumEnabled",void 0),c([u({type:Boolean})],hd.prototype,"mouseWheelZoomEnabled",null),hd=c([S("esri.views.navigation.Navigation")],hd);const T4=hd;function jZe(e,t,r){const i=MQ(e),s=t,n=Z3e(i,s,r);if(i){const a=k2.deriveUnitFromSR(i,e.spatialReference).heightUnit;if(!r&&a!==i.heightUnit){const o=new I("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${a})`,{horizontalUnit:a});return new I("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i,error:o})}}if(!J3e(e)||n===vs.Unsupported)return new I("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:i});switch(n){case vs.Units:{const a=(i==null?void 0:i.heightUnit)||"unknown",o=(s==null?void 0:s.heightUnit)||"unknown",l=new I("layerview:incompatible-height-unit",`The vertical units of the layer (${a}) must match the vertical units of the scene (${o})`,{layerUnit:a,sceneUnit:o});return new I("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:s,error:l})}case vs.HeightModel:{const a=(i==null?void 0:i.heightModel)||"unknown",o=(s==null?void 0:s.heightModel)||"unknown",l=new I("layerview:incompatible-height-model",`The height model of the layer (${a}) must match the height model of the scene (${o})`,{layerHeightModel:a,sceneHeightModel:o});return new I("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:s,error:l})}case vs.CRS:{const a=(i==null?void 0:i.vertCRS)||"unknown",o=(s==null?void 0:s.vertCRS)||"unknown",l=new I("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${a}) must match the vertical datum of the scene (${o})`,{layerDatum:a,sceneDatum:o});return new I("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:i,sceneHeightModelInfo:s,error:l})}}return null}function Z3e(e,t,r){if(!HP(e)||!HP(t))return vs.Unsupported;if(e==null||t==null)return vs.Ok;if(!r&&e.heightUnit!==t.heightUnit)return vs.Units;if(e.heightModel!==t.heightModel)return vs.HeightModel;switch(e.heightModel){case"gravity-related-height":return vs.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?vs.Ok:vs.CRS;default:return vs.Unsupported}}var vs;function HP(e){return e==null||e.heightModel!=null&&e.heightUnit!=null}function J3e(e){return"heightModelInfo"in e&&e.heightModelInfo!=null||e.spatialReference!=null||!LQ(e)}function MQ(e){var i;if(e.type==="integrated-mesh-3dtiles")return null;const t=e.url?Iu(e.url):void 0;return!(((i=e.spatialReference)==null?void 0:i.vcsWkid)==null&&t!=null&&t.serverType==="ImageServer")&&AQ(e)&&e.heightModelInfo?e.heightModelInfo:LQ(e)?k2.deriveUnitFromSR(Q3e,e.spatialReference):null}function AQ(e){return"heightModelInfo"in e}function kQ(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function LQ(e){return kQ(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):RQ(e)}function Y3e(e){return e.layers!=null||RQ(e)||kQ(e)||AQ(e)}function RQ(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(vs||(vs={}));const Q3e=new k2({heightModel:"gravity-related-height"});var Ic;function WP(e){return e===Ic.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Ic||(Ic={}));let YE,I7=null;async function K3e(e){I7||(I7=C(()=>import("./geometryServiceUtils-CQWkVxPI.js"),[]).then(t=>YE=t)),await I7,Ce(e)}async function OQ(e,t,r,i){if(!e)return null;const s=e.spatialReference;return Rc()||Hn(s,t)?Bu(e,t):YE?YE.projectGeometry(e,t,r,i):(await Promise.race([K3e(i),Sc(i)]),OQ(e,t,r,i))}let bt=class extends ie{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Si(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var i,s,n,a;const t=(i=this.map)==null?void 0:i.call(this),r=[];return this.priorityCollection!=null&&r.push(this.priorityCollection),r.push({parent:t==null?void 0:t.basemap,layers:(s=t==null?void 0:t.basemap)==null?void 0:s.baseLayers},{layers:t==null?void 0:t.layers},{parent:t==null?void 0:t.ground,layers:(n=t==null?void 0:t.ground)==null?void 0:n.layers},{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.referenceLayers}),r}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,i=>{const s=this._getSupportedSpatialReferences(i);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(t,s);n!=null&&(t=n)}return(t==null?void 0:t.length)===1})&&(t==null?void 0:t.length)!==1)return{updating:!0};const r=this._pickSpatialReferenceCandidate(t);return{spatialReference:(r==null?void 0:r.spatialReference)??null,viewingMode:(r==null?void 0:r.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,a;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const t=(n=this.map)==null?void 0:n.call(this),r=this.spatialReference;if(!r)return{updating:this._spatialReferenceTask.updating};let i;const s=this._collectLayers([{parent:t==null?void 0:t.basemap,layers:(a=t==null?void 0:t.basemap)==null?void 0:a.baseLayers},{layers:t==null?void 0:t.layers}],o=>{var l;return!(!("tileInfo"in o)||!((l=o.tileInfo)!=null&&l.spatialReference.equals(r)))&&(i=o,!0)},o=>"tileInfo"in o);return i?{tileInfo:i.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var i;if(!this.required.heightModelInfo||this.suspended&&((i=this._get("_heightModelInfoTask"))!=null&&i.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let t={};const r=this._collectLayers(this.mapCollections,s=>{var a,o;const n=MQ(s);return!!n&&(t={heightModelInfo:n,vcsWkid:(a=s.spatialReference)==null?void 0:a.vcsWkid,latestVcsWkid:(o=s.spatialReference)==null?void 0:o.latestVcsWkid},!0)},s=>Y3e(s));return{...t,updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=[],r=this._collectLayers(this.mapCollections,i=>{const s="fullExtents"in i&&i.fullExtents||(i.fullExtent!=null?[i.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],a=s.find(o=>o.spatialReference.equals(this.spatialReference))??n;if(a)return t.push({extent:a,layer:i}),!0;if(this._getSupportedSpatialReferences(i).length>0)for(const o of s)t.push({extent:o,layer:i});return!1});return{candidates:t,updating:r}}get _extentTask(){const{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(t),s=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Si(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:s.clone(),task:_c(async n=>{try{const a=await OQ(i.extent,s,"portalItem"in i.layer?i.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:a}}catch{if(nn(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(t==null)return r;const i=new Array;for(const s of t)for(const n of r){if(!s.spatialReference.equals(n.spatialReference))continue;const a=e9e(s.viewingMode,n.viewingMode);if(a!==!1){i.push({spatialReference:s.spatialReference,viewingMode:a});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(t){const r=this.defaultSpatialReference;return t==null||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(r!=null&&t.length>1&&t.some(({spatialReference:i})=>i.equals(r))&&(t=t.filter(({spatialReference:i})=>i.equals(r))),t.length>1&&t.some(({viewingMode:i})=>i!==Ic.Local)&&(t=t.filter(({viewingMode:i})=>i!==Ic.Local)),t[0])}_getSupportedSpatialReferences(t){const r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(r.length===0)return[];const i=[];for(const s of r){const n=this.getSpatialReferenceSupport(s,t);if(n!=null){const a=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:o,viewingMode:l}of a)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!o.equals(this.userSpatialReference)||i.push({spatialReference:o,viewingMode:l})}}return i}_pickExtentCandidate(t){const r=this.spatialReference;return t.find(({extent:i})=>r.equals(i.spatialReference))||t[0]}_collectLayers(t,r,i=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new X3e(i,r);for(const a of t)if(this._collectCollection(a,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(const i of t.layers)if(r.layerFilter(i)){switch(this._loadMaybe(i)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":if(r.updating||(r.done=r.pushLayer(i)),r.done||r.preloading===this.sourcePreloadCount)break;"layers"in i&&this._collectCollection({layers:i.layers},r)}if(r.done||r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(r=>{fr(r)}),"loading"):t.loadStatus:"loaded"}};c([u()],bt.prototype,"required",void 0),c([u({constructOnly:!0})],bt.prototype,"map",void 0),c([u({constructOnly:!0})],bt.prototype,"getSpatialReferenceSupport",void 0),c([u()],bt.prototype,"defaultSpatialReference",void 0),c([u()],bt.prototype,"userSpatialReference",void 0),c([u()],bt.prototype,"sourcePreloadCount",void 0),c([u()],bt.prototype,"priorityCollection",void 0),c([u()],bt.prototype,"requiresExtentInSpatialReference",void 0),c([u()],bt.prototype,"suspended",void 0),c([u({readOnly:!0})],bt.prototype,"ready",null),c([u({readOnly:!0})],bt.prototype,"heightModelInfoReady",null),c([u({readOnly:!0})],bt.prototype,"spatialReference",null),c([u({readOnly:!0})],bt.prototype,"extent",null),c([u({readOnly:!0})],bt.prototype,"heightModelInfo",null),c([u({readOnly:!0})],bt.prototype,"vcsWkid",null),c([u({readOnly:!0})],bt.prototype,"latestVcsWkid",null),c([u({readOnly:!0})],bt.prototype,"viewingMode",null),c([u({readOnly:!0})],bt.prototype,"tileInfo",null),c([u({readOnly:!0})],bt.prototype,"mapCollections",null),c([u({readOnly:!0})],bt.prototype,"_spatialReferenceTask",null),c([u({readOnly:!0})],bt.prototype,"_tileInfoTask",null),c([u({readOnly:!0})],bt.prototype,"_heightModelInfoTask",null),c([u({readOnly:!0})],bt.prototype,"_extentCandidatesTask",null),c([u()],bt.prototype,"_extentTask",null),c([u()],bt.prototype,"_projectExtentTask",void 0),bt=c([S("esri.views.support.DefaultsFromMap")],bt);let X3e=class{constructor(t,r){this.layerFilter=t,this.pushLayer=r,this.preloading=-1,this.updating=!1,this.done=!1}};function e9e(e,t){return e!=null?t!=null?e===t&&e:e:t}let hm=class extends ie{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};c([u()],hm.prototype,"featureTitleFields",void 0),c([u()],hm.prototype,"utilityNetworkFields",void 0),c([u()],hm.prototype,"globalIdField",void 0),hm=c([S("esri.views.support.RequiredFieldsOptions")],hm);const t9e=hm;var zg;let ce=zg=class extends an.EventedMixin(yh.EsriPromiseMixin(ie)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new jy,this.updatingHandles=new Np,this.allLayerViews=new _v({getCollections:()=>{var t,r,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(r=this.groundView)==null?void 0:r.layerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:i9e}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Vp,this.analyses=new C_,this.typeSpecificPreconditionsReady=!0,this.layerViews=new W,this.magnifier=new mQ,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new W3e,this.navigation=new T4,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new $Q(this),this.persistableViewModels=new W,this.requiredFieldsOptions=new t9e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(U(()=>this.preconditionsReady,t=>{var i,s;const r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,zg.views.add(this)):(this._lockedSpatialReference=null,zg.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)(i=this.toolViewManager)==null||i.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),(s=this.layerViewManager)==null||s.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new I("startup-error",null,n)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Za))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,Wa(()=>this.ready)))),this.basemapView=new r3e({view:this}),this.layerViewManager=new a3e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new yo({view:this}),this.selectionManager=new y3e({view:this}),this.addHandles([jr(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{B.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),U(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Hi),U(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Za),U(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Hi)])}destroy(){var e,t;this.destroyed||(zg.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=pt(this.graphics),this.analyses=pt(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),pt(this.analysisViewManager),this.toolViewManager=pt(this.toolViewManager),this.layerViewManager=pt(this.layerViewManager),this.selectionManager=pt(this.selectionManager),this.basemapView=pt(this.basemapView),(e=this.groundView)==null||e.destroy(),(t=this.layerViews)==null||t.forEach(r=>r.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=pt(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return B.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new bt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??B3e()}set highlights(e){this._set("highlights",$c(e,this._get("highlights"),W.ofType(pu)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Ai.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(B.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Ai.isLoadable(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,t,r,i;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const s=!("loaded"in this.map)||this.map.loaded,n=this.map.ground.loaded,a=((t=this.map.basemap)==null?void 0:t.loaded)??!0;return s&&a&&n&&!((r=this.map)!=null&&r.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=_c(o=>gM(V("view-readyState-waiting-delay"),null,o)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(i=this._readyStateWaitingTask)!=null&&i.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Si(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var t,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(t=this.defaultsFromMap)==null?void 0:t.required)!=null&&r.heightModelInfo)){const i=e.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return e}set spatialReference(e){const t=!Nt(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ks}set timeZone(e){this._userTimeZone=e,yZ(e)||B.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e;return((e=this.toolViewManager)==null?void 0:e.cursor)??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new WE}whenLayerView(e){var t;return((t=this.layerViewManager)==null?void 0:t.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new I("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,t){return this.isResolved()&&!this.ready&&B.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(jr(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};ce.views=new W,c([u()],ce.prototype,"_userSpatialReference",void 0),c([u()],ce.prototype,"activeTool",null),c([u({readOnly:!0})],ce.prototype,"allLayerViews",void 0),c([u()],ce.prototype,"groundView",void 0),c([u()],ce.prototype,"animation",null),c([u()],ce.prototype,"basemapView",void 0),c([u()],ce.prototype,"center",null),c([u()],ce.prototype,"defaultsFromMapSettings",null),c([u()],ce.prototype,"defaultsFromMap",null),c([u()],ce.prototype,"displayFilterEnabled",void 0),c([u()],ce.prototype,"fatalError",void 0),c([u({type:ht})],ce.prototype,"extent",null),c([u(Tx(Vp,"graphics"))],ce.prototype,"graphics",void 0),c([u(Tx(C_,"analyses"))],ce.prototype,"analyses",void 0),c([u({readOnly:!0,type:k2})],ce.prototype,"heightModelInfo",null),c([u({type:W.ofType(pu)})],ce.prototype,"highlights",null),c([u({readOnly:!0})],ce.prototype,"interacting",null),c([u({readOnly:!0})],ce.prototype,"navigating",null),c([u({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ce.prototype,"preconditionsReady",null),c([u({readOnly:!0})],ce.prototype,"typeSpecificPreconditionsReady",void 0),c([u({type:W,readOnly:!0})],ce.prototype,"layerViews",void 0),c([u()],ce.prototype,"resolution",null),c([u({type:mQ})],ce.prototype,"magnifier",void 0),c([u({value:null,type:tY})],ce.prototype,"map",null),c([u()],ce.prototype,"padding",void 0),c([u({readOnly:!0})],ce.prototype,"ready",void 0),c([u()],ce.prototype,"_readyStateWaitingTask",void 0),c([u({readOnly:!0})],ce.prototype,"readyState",null),c([u({type:me})],ce.prototype,"spatialReference",null),c([u()],ce.prototype,"stationary",null),c([u({readOnly:!0})],ce.prototype,"supportsGround",void 0),c([u({type:Ir})],ce.prototype,"timeExtent",null),c([u({type:String,nonNullable:!0})],ce.prototype,"timeZone",null),c([u()],ce.prototype,"tools",null),c([u()],ce.prototype,"toolViewManager",void 0),c([u({readOnly:!0})],ce.prototype,"type",void 0),c([u({type:Number})],ce.prototype,"scale",void 0),c([u({readOnly:!0})],ce.prototype,"updating",void 0),c([u({readOnly:!0})],ce.prototype,"initialExtentRequired",void 0),c([u({readOnly:!0})],ce.prototype,"initialExtent",null),c([u()],ce.prototype,"cursor",null),c([u({readOnly:!0})],ce.prototype,"input",void 0),c([u({type:T4,nonNullable:!0})],ce.prototype,"navigation",void 0),c([u()],ce.prototype,"layerViewManager",void 0),c([u()],ce.prototype,"analysisViewManager",void 0),c([u()],ce.prototype,"selectionManager",void 0),c([u()],ce.prototype,"width",void 0),c([u()],ce.prototype,"height",void 0),c([u({readOnly:!0})],ce.prototype,"resizing",void 0),c([u({value:null,readOnly:!0})],ce.prototype,"size",null),c([u({readOnly:!0})],ce.prototype,"suspended",void 0),c([u({readOnly:!0})],ce.prototype,"viewEvents",void 0),c([u({readOnly:!0})],ce.prototype,"persistableViewModels",void 0),c([u()],ce.prototype,"_isValid",void 0),c([u()],ce.prototype,"_readyCycleForced",void 0),c([u()],ce.prototype,"_lockedSpatialReference",void 0),c([u()],ce.prototype,"_userTimeZone",void 0),c([u()],ce.prototype,"_lockedTimeZone",void 0),c([u()],ce.prototype,"_userTimeExtent",void 0),c([u()],ce.prototype,"_lockedTimeExtent",void 0),c([u({type:WE})],ce.prototype,"theme",void 0),c([u({readOnly:!0,type:WE})],ce.prototype,"effectiveTheme",null),ce=zg=c([S("esri.views.View")],ce);const C7=globalThis.$arcgis;C7&&!C7.views&&Object.defineProperty(C7,"views",{configurable:!1,enumerable:!0,writable:!1,value:ce.views});const r9e=ce;function i9e(e){return e.layerViews}function j0(e,t){return e[0]=t[0],e[1]=t[1],e}function Qr(e,t,r){return e[0]=t,e[1]=r,e}function FQ(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Lv(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function PQ(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function NQ(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function s9e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function n9e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function a9e(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function o9e(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function l9e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function U2(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function c9e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e}function I4(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function R_(e,t){const r=t[0]-e[0],i=t[1]-e[1];return r*r+i*i}function O_(e){const t=e[0],r=e[1];return Math.sqrt(t*t+r*r)}function DQ(e){const t=e[0],r=e[1];return t*t+r*r}function VQ(e,t){return e[0]=-t[0],e[1]=-t[1],e}function d9e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function QE(e,t){const r=t[0],i=t[1];let s=r*r+i*i;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s),e}function zQ(e,t){return e[0]*t[0]+e[1]*t[1]}function jQ(e,t,r){const i=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=i,e}function u9e(e,t,r,i){const s=t[0],n=t[1];return e[0]=s+i*(r[0]-s),e[1]=n+i*(r[1]-n),e}function f9e(e,t=1){const r=2*d4()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function p9e(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[2]*s,e[1]=r[1]*i+r[3]*s,e}function Vo(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[2]*s+r[4],e[1]=r[1]*i+r[3]*s+r[5],e}function h9e(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[3]*s+r[6],e[1]=r[1]*i+r[4]*s+r[7],e}function m9e(e,t,r){const i=t[0],s=t[1];return e[0]=r[0]*i+r[4]*s+r[12],e[1]=r[1]*i+r[5]*s+r[13],e}function y9e(e,t,r,i){const s=t[0]-r[0],n=t[1]-r[1],a=Math.sin(i),o=Math.cos(i);return e[0]=s*o-n*a+r[0],e[1]=s*a+n*o+r[1],e}function b9e(e,t){const r=e[0],i=e[1],s=t[0],n=t[1];let a=r*r+i*i;a>0&&(a=1/Math.sqrt(a));let o=s*s+n*n;o>0&&(o=1/Math.sqrt(o));const l=(r*s+i*n)*a*o;return l>1?0:l<-1?Math.PI:Math.acos(l)}function g9e(e){return"vec2("+e[0]+", "+e[1]+")"}function v9e(e,t){return e[0]===t[0]&&e[1]===t[1]}function w9e(e,t){const r=e[0],i=e[1],s=t[0],n=t[1],a=Ki();return Math.abs(r-s)<=a*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-n)<=a*Math.max(1,Math.abs(i),Math.abs(n))}function _9e(e,t,r,i,s){let n=t[0]-r[0],a=t[1]-r[1];const o=(i[0]*n+i[1]*a)*(s-1);return n=i[0]*o,a=i[1]*o,e[0]=t[0]+n,e[1]=t[1]+a,e}const S9e=O_,ek=Lv,$9e=PQ,x9e=NQ,E9e=I4,T9e=R_,I9e=DQ;Object.freeze(Object.defineProperty({__proto__:null,add:FQ,angle:b9e,ceil:s9e,copy:j0,cross:jQ,dist:E9e,distance:I4,div:x9e,divide:NQ,dot:zQ,equals:w9e,exactEquals:v9e,floor:n9e,inverse:d9e,len:S9e,length:O_,lerp:u9e,max:o9e,min:a9e,mul:$9e,multiply:PQ,negate:VQ,normalize:QE,projectAndScale:_9e,random:f9e,rotate:y9e,round:l9e,scale:U2,scaleAndAdd:c9e,set:Qr,sqrDist:T9e,sqrLen:I9e,squaredDistance:R_,squaredLength:DQ,str:g9e,sub:ek,subtract:Lv,transformMat2:p9e,transformMat2d:Vo,transformMat3:h9e,transformMat4:m9e},Symbol.toStringTag,{value:"Module"}));function Wt(){return[0,0]}function C9e(e){return[e[0],e[1]]}function G2(e,t){return[e,t]}function M9e(e,t){return[e,t]}function A9e(e,t=Wt()){const r=Math.min(2,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function k9e(e,t){return new Float64Array(e,t,2)}function qQ(){return Wt()}function BQ(){return G2(1,1)}function UQ(){return G2(1,0)}function GQ(){return G2(0,1)}const L9e=qQ(),R9e=BQ(),O9e=UQ(),F9e=GQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:R9e,UNIT_X:O9e,UNIT_Y:F9e,ZEROS:L9e,clone:C9e,create:Wt,createView:k9e,freeze:M9e,fromArray:A9e,fromValues:G2,ones:BQ,unitX:UQ,unitY:GQ,zeros:qQ},Symbol.toStringTag,{value:"Module"}));function P9e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function C4(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function N9e(e,t,r,i,s,n,a){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e[4]=n,e[5]=a,e}function tk(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5];let l=r*n-i*s;return l?(l=1/l,e[0]=n*l,e[1]=-i*l,e[2]=-s*l,e[3]=r*l,e[4]=(s*o-n*a)*l,e[5]=(i*a-r*o)*l,e):null}function D9e(e){return e[0]*e[3]-e[1]*e[2]}function hp(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=r[0],f=r[1],p=r[2],m=r[3],y=r[4],b=r[5];return e[0]=i*d+n*f,e[1]=s*d+a*f,e[2]=i*p+n*m,e[3]=s*p+a*m,e[4]=i*y+n*b+o,e[5]=s*y+a*b+l,e}function H2(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=Math.sin(r),f=Math.cos(r);return e[0]=i*f+n*d,e[1]=s*f+a*d,e[2]=i*-d+n*f,e[3]=s*-d+a*f,e[4]=o,e[5]=l,e}function M4(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=r[0],f=r[1];return e[0]=i*d,e[1]=s*d,e[2]=n*f,e[3]=a*f,e[4]=o,e[5]=l,e}function xy(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=r[0],f=r[1];return e[0]=i,e[1]=s,e[2]=n,e[3]=a,e[4]=i*d+n*f+o,e[5]=s*d+a*f+l,e}function HQ(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=-r,e[3]=i,e[4]=0,e[5]=0,e}function WQ(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function rk(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function V9e(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function z9e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function j9e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function ZQ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function q9e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function B9e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e}function U9e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function G9e(e,t){const r=e[0],i=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=t[0],d=t[1],f=t[2],p=t[3],m=t[4],y=t[5],b=Ki();return Math.abs(r-l)<=b*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-d)<=b*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-f)<=b*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(n-p)<=b*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(a-m)<=b*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-y)<=b*Math.max(1,Math.abs(o),Math.abs(y))}const H9e=hp,W9e=ZQ;Object.freeze(Object.defineProperty({__proto__:null,add:j9e,copy:P9e,determinant:D9e,equals:G9e,exactEquals:U9e,frob:z9e,fromRotation:HQ,fromScaling:WQ,fromTranslation:rk,identity:C4,invert:tk,mul:H9e,multiply:hp,multiplyScalar:q9e,multiplyScalarAndAdd:B9e,rotate:H2,scale:M4,set:N9e,str:V9e,sub:W9e,subtract:ZQ,translate:xy},Symbol.toStringTag,{value:"Module"}));function pc(){return[1,0,0,1,0,0]}function Z9e(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function J9e(e,t,r,i,s,n){return[e,t,r,i,s,n]}function Y9e(e,t){return new Float64Array(e,t,6)}const Q9e=pc();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Q9e,clone:Z9e,create:pc,createView:Y9e,fromValues:J9e},Symbol.toStringTag,{value:"Module"}));const Xw={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Nn({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:me.WebMercator}),minus180Line:new Nn({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:me.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Nn({paths:[[[180,-180],[180,180]]],spatialReference:me.WGS84}),minus180Line:new Nn({paths:[[[-180,-180],[-180,180]]],spatialReference:me.WGS84})}};function xp(e,t){return Math.ceil((e-t)/(2*t))}function JQ(e,t){const r=J1(e);for(const i of r)for(const s of i)s[0]+=t;return e}function J1(e){return fc(e)?e.rings:e.paths}function K9e(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function A4(e){return typeof e=="string"?Zt(e):O(e)}function X9e(e,t,r){const i={};for(const s in e){if(s==="declaredClass")continue;const n=e[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))i[s]=n.map(a=>X9e(a));else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r==null?void 0:r[s]);i[s]=t?a:JSON.stringify(a)}else i[s]=t?n:JSON.stringify(n);else i[s]=n}return i}async function e5e(e,t,r,i){const s=A4(e),n=t[0].spatialReference,a={...i,responseType:"json",query:{...s.query,f:"json",sr:uy(n),target:JSON.stringify({geometryType:Jy(t[0]),geometries:t}),cutter:JSON.stringify(r)}},o=await ze(s.path+"/cut",a),{cutIndexes:l,geometries:d=[]}=o.data;return{cutIndexes:l,geometries:d.map(f=>{const p=Ja(f);return p.spatialReference=n,p})}}function t5e(e){return{geometryType:Jy(e[0]),geometries:e.map(t=>t.toJSON())}}function YQ(e,t,r){const i=vhe(t);return e.map(s=>{const n=i.fromJSON(s);return n.spatialReference=r,n})}async function r5e(e,t,r){const i=typeof e=="string"?Zt(e):e,s=t[0].spatialReference,n=Jy(t[0]),a={...r,query:{...i.query,f:"json",sr:uy(s),geometries:JSON.stringify(t5e(t))}},{data:o}=await ze(i.path+"/simplify",a);return YQ(o.geometries,n,s)}const QQ=()=>B.getLogger("esri.geometry.support.normalizeUtils");function i5e(e){return e.type==="polygon"}function s5e(e){return e[0].type==="polygon"}function n5e(e){return e[0].type==="polyline"}function ZP(e){const t=[];let r=0,i=0;for(let s=0;s<e.length;s++){const n=e[s];let a=null;for(let o=0;o<n.length;o++)a=n[o],t.push(a),o===0?(r=a[0],i=r):(r=Math.min(r,a[0]),i=Math.max(i,a[0]));a&&t.push([(r+i)/2,0])}return t}function a5e(e,t){if(!(e instanceof Nn||e instanceof Gn)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw QQ().error(s),new I(s)}const r=J1(e),i=[];for(const s of r){const n=[];i.push(n),n.push([s[0][0],s[0][1]]);for(let a=0;a<s.length-1;a++){const o=s[a][0],l=s[a][1],d=s[a+1][0],f=s[a+1][1],p=Math.sqrt((d-o)*(d-o)+(f-l)*(f-l)),m=(f-l)/p,y=(d-o)/p,b=p/t;if(b>1){for(let _=1;_<=b-1;_++){const x=_*t,T=y*x+o,k=m*x+l;n.push([T,k])}const g=(p+Math.floor(b-1)*t)/2,v=y*g+o,w=m*g+l;n.push([v,w])}n.push([d,f])}}return i5e(e)?new Gn({rings:i,spatialReference:e.spatialReference}):new Nn({paths:i,spatialReference:e.spatialReference})}function JP(e,t,r){if(t){const i=a5e(e,1e6);e=f0(i,!0)}return r&&(e=JQ(e,r)),e}function YP(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const s=xp(i,t);e[0]=i+s*(-2*t)}else if(i<r){const s=xp(i,r);e[0]=i+s*(-2*r)}}else{const i=e.x;if(i>t){const s=xp(i,t);e=e.clone().offset(s*(-2*t),0)}else if(i<r){const s=xp(i,r);e=e.clone().offset(s*(-2*r),0)}}return e}function o5e(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const s=t.cutIndexes[i],n=t.geometries[i],a=J1(n);for(let o=0;o<a.length;o++){const l=a[o];l.some(d=>{if(d[0]<180)return!0;{let f=0;for(let m=0;m<l.length;m++){const y=l[m][0];f=y>f?y:f}f=Number(f.toFixed(9));const p=-360*xp(f,180);for(let m=0;m<l.length;m++){const y=n.getPoint(o,m);n.setPoint(o,m,y.clone().offset(p,0))}return!0}})}if(s===r){if(s5e(e))for(const o of J1(n))e[s]=e[s].addRing(o);else if(n5e(e))for(const o of J1(n))e[s]=e[s].addPath(o)}else r=s,e[s]=n}return e}async function ik(e,t,r){if(!Array.isArray(e))return ik([e],t);t&&typeof t!="string"&&QQ().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:(t==null?void 0:t.url)??it.geometryServiceUrl;let s,n,a,o,l,d,f,p,m=0;const y=[],b=[];for(const T of e)if(T!=null)if(s||(s=T.spatialReference,n=Ti(s),a=s.isWebMercator,d=a?102100:4326,o=Xw[d].maxX,l=Xw[d].minX,f=Xw[d].plus180Line,p=Xw[d].minus180Line),n)if(T.type==="mesh")b.push(T);else if(T.type==="point")b.push(YP(T.clone(),o,l));else if(T.type==="multipoint"){const k=T.clone();k.points=k.points.map(A=>YP(A,o,l)),b.push(k)}else if(T.type==="extent"){const k=T.clone()._normalize(!1,!1,n);b.push(k.rings?new Gn(k):k)}else if(T.extent){const k=T.extent,A=xp(k.xmin,l)*(2*o);let M=A===0?T.clone():JQ(T.clone(),A);k.offset(A,0);let{xmin:R,xmax:P}=k;R=Number(R.toFixed(9)),P=Number(P.toFixed(9)),k.intersects(f)&&P!==o?(m=P>m?P:m,M=JP(M,a),y.push(M),b.push("cut")):k.intersects(p)&&R!==l?(m=P*(2*o)>m?P*(2*o):m,M=JP(M,a,360),y.push(M),b.push("cut")):b.push(M)}else b.push(T.clone());else b.push(T);else b.push(T);let g=xp(m,o),v=-90;const w=g,_=new Nn;for(;g>0;){const T=360*g-180;_.addPath([[T,v],[T,-1*v]]),v*=-1,g--}if(y.length>0&&w>0){const T=o5e(y,await e5e(i,y,_,r)),k=[],A=[];for(let P=0;P<b.length;P++){const z=b[P];if(z!=="cut")A.push(z);else{const j=T.shift(),H=e[P];H!=null&&H.type==="polygon"&&H.rings&&H.rings.length>1&&j.rings.length>=H.rings.length?(k.push(j),A.push("simplify")):A.push(a?cu(j):j)}}if(!k.length)return A;const M=await r5e(i,k,r),R=[];for(let P=0;P<A.length;P++){const z=A[P];z!=="simplify"?R.push(z):R.push(a?cu(M.shift()):M.shift())}return R}const x=[];for(let T=0;T<b.length;T++){const k=b[T];if(k!=="cut")x.push(k);else{const A=y.shift();x.push(a===!0?cu(A):A)}}return x}function l5e(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&Ti(e.spatialReference);if(!r)return t;const[i,s]=r.valid,n=2*s,{width:a}=t;let o,{xmin:l,xmax:d}=t;if([l,d]=[d,l],e.type==="extent"||a===0||a<=s||a>n||l<i||d>s)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;o=ZP(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;o=ZP(e.paths);break;case"multipoint":o=e.points}const f=t.clone();for(let p=0;p<o.length;p++){let m=o[p][0];m<0?(m+=s,d=Math.max(m,d)):(m-=s,l=Math.min(m,l))}return f.xmin=l,f.xmax=d,f.width<a?(f.xmin-=s,f.xmax-=s,f):t}function sk(e,t,r){const i=Ti(r);if(i==null)return e;const[s,n]=i.valid,a=2*n;let o=0,l=0;t>n?o=Math.ceil(Math.abs(t-n)/a):t<s&&(o=-Math.ceil(Math.abs(t-s)/a)),e>n?l=Math.ceil(Math.abs(e-n)/a):e<s&&(l=-Math.ceil(Math.abs(e-s)/a));let d=e+(o-l)*a;const f=d-t;return f>n?d-=a:f<s&&(d+=a),d}function GZe(e,t){const r=Ti(t);if(r){const[i,s]=r.valid,n=s-i;if(e<i)for(;e<i;)e+=n;if(e>s)for(;e>s;)e-=n}return e}const KQ=96,XQ=39.37,c5e=180/Math.PI;function eK(e){return e.wkid?e:e.spatialReference||me.WGS84}function nk(e,t){return t.type?Qr(e,t.x,t.y):j0(e,t)}function tK(e){return Rs(e)}function k4(e,t,r=0){let i=e.width,s=e.height;if(r!==0){const o=Jd(r),l=Math.abs(Math.cos(o)),d=Math.abs(Math.sin(o));i=e.width*l+e.height*d,s=e.width*d+e.height*l}const n=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(i/n,s/a)*b5e(e.spatialReference)}async function jg(e,t,r,i){var o,l,d;let s,n;if(!e||Array.isArray(e)&&!e.length)return null;if(W.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const f=e.every(y=>"attributes"in y),p=e.some(y=>!y.geometry);let m=e;if(f&&p&&t&&t.allLayerViews){const y=new Map;for(const w of e){const _=w.layer,x=y.get(_)||[],T=w.attributes[_.objectIdField];T!=null&&x.push(T),y.set(_,x)}const b=[];y.forEach((w,_)=>{var T;const x=(T=t.allLayerViews)==null?void 0:T.find(k=>k.layer.id===_.id);if(x&&"queryFeatures"in x){const k=_.createQuery();k.objectIds=w,k.returnGeometry=!0,b.push(x.queryFeatures(k))}});const g=await Promise.all(b),v=[];for(const w of g)if(w&&w.features&&w.features.length)for(const _ of w.features)_.geometry!=null&&v.push(_.geometry);m=v}for(const y of m)i=await jg(y,t,r,i);return i}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")s=new xe(e);else if(e instanceof Lc)s=e;else if("geometry"in e){if(e.geometry)s=e.geometry;else if(e.layer){const f=e.layer,p=(o=t.allLayerViews)==null?void 0:o.find(m=>m.layer.id===f.id);if(p&&"queryFeatures"in p){const m=f.createQuery();m.objectIds=[e.attributes[f.objectIdField]],m.returnGeometry=!0;const y=await p.queryFeatures(m);s=(d=(l=y==null?void 0:y.features)==null?void 0:l[0])==null?void 0:d.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new ht({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=l5e(s);break;default:n=s.extent}if(!n)return null;Rc()||Hn(n.spatialReference,r)||await Sc();const a=Bu(n,r);if(!a)return null;if(i){const f=a.center,p=f.clone();p.x=sk(f.x,i.center.x,r),p.x!==f.x&&a.centerAt(p),i=i.union(a)}else i=a;return i}function d5e(e){var t;if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&((t=e.layer)==null?void 0:t.minScale)!=null&&e.layer.maxScale!=null){const r=e.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(e)&&e.length&&e.every(r=>"layer"in r)){let r=0,i=0;for(const s of e){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(r=n.minScale<r?n.minScale:r,i=n.maxScale>i?n.maxScale:i)}return r&&i?{min:r,max:i}:null}}}function QP(e,t){const r=eK(e);return Nt(r,t)||r.imageCoordinateSystem||t.imageCoordinateSystem?e:Bu(e,t)}async function u5e(e,t){var v;if(!e||!t)return new Tr({targetGeometry:new xe,scale:0,rotation:0});let r=t.spatialReference;const{constraints:i,padding:s,viewpoint:n,size:a}=t,o=[s?a[0]-s.left-s.right:a[0],s?a[1]-s.top-s.bottom:a[1]];let l=null;e instanceof Tr?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let d=null;l!=null&&l.targetGeometry?d=l.targetGeometry:e instanceof ht?d=e:e instanceof Lc?d=await jg(e,t,r):e&&(d=await jg(e.center,t,r)||await jg(e.target,t,r)||await jg(e,t,r)),!d&&(n!=null&&n.targetGeometry)?d=n.targetGeometry:!d&&t.extent&&(d=t.extent),r||(r=eK(t.spatialReference||t.extent||d)),Rc()||Nt(d.spatialReference,r)||Hn(d.spatialReference,r)||await Sc();const f=QP(d,r),p="center"in f?f.center:f;t.pickClosestTarget!==!1&&p.type==="point"&&((v=n.targetGeometry)==null?void 0:v.type)==="point"&&(p.x=sk(p.x,n.targetGeometry.x,p.spatialReference));let m=0;l?m=l.rotation:e.hasOwnProperty("rotation")?m=e.rotation:n&&(m=n.rotation);let y=0;y=(l==null?void 0:l.targetGeometry)!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&e.zoom!==-1&&i&&i.effectiveLODs?i.zoomToScale(e.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?n.scale:k4(QP(d.extent,r),o,m);const b=d5e(e.target??e);b&&(b.min&&b.min<y?y=b.min:b.max&&b.max>y&&(y=b.max));let g=new Tr({targetGeometry:p,scale:y,rotation:m});return i&&(g=i.fit(g),i.constrainByGeometry(g),i.rotationEnabled||(g.rotation=n.rotation)),g}function Ei(e,t){const r=e.targetGeometry,i=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function f5e(e,t,r){return r?Qr(e,.5*(t[0]-r.right+r.left),.5*(t[1]-r.bottom+r.top)):U2(e,t,.5)}const p5e=function(){const e=Wt();return function(t,r,i){const s=r.targetGeometry;nk(e,s);const n=.5*ab(r);return t.xmin=e[0]-n*i[0],t.ymin=e[1]-n*i[1],t.xmax=e[0]+n*i[0],t.ymax=e[1]+n*i[1],t.spatialReference=s.spatialReference,t}}();function h5e(e,t,r,i,s){var n;return KE(e,t,r.center),e.scale=k4(r,i),(n=s==null?void 0:s.constraints)==null||n.constrain(e),e}function m5e(e,t,r,i){return ck(e,t,r,i),tk(e,e)}const rK=function(){const e=Wt();return function(t,r,i){return ek(t,g5e(t,r),f5e(e,r,i))}}(),y5e=function(){const e=pc(),t=Wt();return function(r,i,s,n){const a=ab(i),o=ok(i);return Qr(t,a,a),WQ(e,t),H2(e,e,o),xy(e,e,rK(t,s,n)),xy(e,e,[0,n.top-n.bottom]),Qr(r,e[4],e[5])}}();function ab(e){var t;return e.scale*ak((t=e.targetGeometry)==null?void 0:t.spatialReference)}function ak(e){return Yi(e)?1/(tK(e)*XQ*KQ):1}function ok(e){return RA(e.rotation)||0}function b5e(e){return Yi(e)?tK(e)*XQ*KQ:1}function g5e(e,t){return U2(e,t,.5)}const lk=function(){const e=Wt(),t=Wt(),r=Wt();return function(i,s,n,a,o,l){return VQ(e,s),U2(t,n,.5*l),Qr(r,1/a*l,-1/a*l),rk(i,t),o&&H2(i,i,o),M4(i,i,r),xy(i,i,e),i}}(),ck=function(){const e=Wt();return function(t,r,i,s){const n=ab(r),a=ok(r);return nk(e,r.targetGeometry),lk(t,e,i,n,a,s)}}(),v5e=function(){const e=Wt();return function(t,r,i,s){const n=ab(r);return nk(e,r.targetGeometry),lk(t,e,i,n,0,s)}}();function iK(e){const t=Ti(e);return t?t.valid[1]-t.valid[0]:0}function w5e(e,t){return Math.round(iK(e)/t)}const _5e=function(){const e=Wt(),t=Wt(),r=[0,0,0];return function(i,s,n){Lv(e,i,s),QE(e,e),Lv(t,i,n),QE(t,t),jQ(r,e,t);let a=Math.acos(zQ(e,t)/(O_(e)*O_(t)))*c5e;return r[2]<0&&(a=-a),isNaN(a)&&(a=0),a}}(),S5e=function(){const e=Wt();return function(t,r,i,s){const n=t.targetGeometry;return Ei(t,r),y5e(e,r,i,s),n.x+=e[0],n.y+=e[1],t}}(),KE=function(e,t,r){Ei(e,t);const i=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e},$5e=function(){const e=Wt();return function(t,r,i,s,n){n||(n="center"),ek(e,i,s),U2(e,e,.5);const a=e[0],o=e[1];switch(n){case"center":Qr(e,0,0);break;case"left":Qr(e,-a,0);break;case"top":Qr(e,0,o);break;case"right":Qr(e,a,0);break;case"bottom":Qr(e,0,-o);break;case"top-left":Qr(e,-a,o);break;case"bottom-left":Qr(e,-a,-o);break;case"top-right":Qr(e,a,o);break;case"bottom-right":Qr(e,a,-o)}return L4(t,r,e),t}}();function HZe(e,t,r){return Ei(e,t),e.rotation+=r,e}function x5e(e,t,r){return Ei(e,t),e.rotation=r,e}const E5e=function(){const e=Wt();return function(t,r,i,s,n){return Ei(t,r),isNaN(i)||i===0||(nK(e,s,r,n),t.scale=r.scale*i,aK(e,e,t,n),L4(t,t,Qr(e,e[0]-s[0],s[1]-e[1]))),t}}();function KP(e,t,r){return Ei(e,t),e.scale=r,e}const sK=function(){const e=Wt();return function(t,r,i,s,n,a){return Ei(t,r),isNaN(i)||i===0||(nK(e,n,r,a),t.scale=r.scale*i,t.rotation+=s,aK(e,e,t,a),L4(t,t,Qr(e,e[0]-n[0],n[1]-e[1]))),t}}(),WZe=function(){const e=Wt(),t=Wt();return function(r,i,s,n,a,o,l){return rK(t,o,l),FQ(e,a,t),n?sK(r,i,s,n,e,o):E5e(r,i,s,e,o)}}(),nK=function(){const e=pc();return function(t,r,i,s){return Vo(t,r,m5e(e,i,s,1))}}(),aK=function(){const e=pc();return function(t,r,i,s){return Vo(t,r,ck(e,i,s,1))}}(),L4=function(){const e=Wt(),t=pc();return function(r,i,s){Ei(r,i);const n=ab(i),a=r.targetGeometry;return HQ(t,ok(i)),M4(t,t,G2(n,n)),Vo(e,s,t),a.x+=e[0],a.y+=e[1],r}}();function F_(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function T5e(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function I5e(e,t,r,i,s,n){const a=new Float32Array(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=i,a[4]=s,a[5]=n,a}function C5e(e,t){return new Float32Array(e,t,6)}function oK(e,t,r,i){const s=t[i],n=t[i+1];e[i]=r[0]*s+r[2]*n+r[4],e[i+1]=r[1]*s+r[3]*n+r[5]}function M5e(e,t,r,i=0,s=0,n=2){const a=s||t.length/n;for(let o=i;o<a;o++)oK(e,t,r,o*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:T5e,create:F_,createView:C5e,fromValues:I5e,transform:oK,transformMany:M5e},Symbol.toStringTag,{value:"Module"}));function A5e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function k5e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function lK(e,t,r,i,s,n,a,o,l,d){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e[4]=n,e[5]=a,e[6]=o,e[7]=l,e[8]=d,e}function cK(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function L5e(e,t){if(e===t){const r=t[1],i=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=i,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function R5e(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],d=t[7],f=t[8],p=f*a-o*d,m=-f*n+o*l,y=d*n-a*l;let b=r*p+i*m+s*y;return b?(b=1/b,e[0]=p*b,e[1]=(-f*i+s*d)*b,e[2]=(o*i-s*a)*b,e[3]=m*b,e[4]=(f*r-s*l)*b,e[5]=(-o*r+s*n)*b,e[6]=y*b,e[7]=(-d*r+i*l)*b,e[8]=(a*r-i*n)*b,e):null}function O5e(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],d=t[7],f=t[8];return e[0]=a*f-o*d,e[1]=s*d-i*f,e[2]=i*o-s*a,e[3]=o*l-n*f,e[4]=r*f-s*l,e[5]=s*n-r*o,e[6]=n*d-a*l,e[7]=i*l-r*d,e[8]=r*a-i*n,e}function F5e(e){const t=e[0],r=e[1],i=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7],d=e[8];return t*(d*n-a*l)+r*(-d*s+a*o)+i*(l*s-n*o)}function dk(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=t[6],f=t[7],p=t[8],m=r[0],y=r[1],b=r[2],g=r[3],v=r[4],w=r[5],_=r[6],x=r[7],T=r[8];return e[0]=m*i+y*a+b*d,e[1]=m*s+y*o+b*f,e[2]=m*n+y*l+b*p,e[3]=g*i+v*a+w*d,e[4]=g*s+v*o+w*f,e[5]=g*n+v*l+w*p,e[6]=_*i+x*a+T*d,e[7]=_*s+x*o+T*f,e[8]=_*n+x*l+T*p,e}function XE(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=t[6],f=t[7],p=t[8],m=r[0],y=r[1];return e[0]=i,e[1]=s,e[2]=n,e[3]=a,e[4]=o,e[5]=l,e[6]=m*i+y*a+d,e[7]=m*s+y*o+f,e[8]=m*n+y*l+p,e}function dK(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],l=t[5],d=t[6],f=t[7],p=t[8],m=Math.sin(r),y=Math.cos(r);return e[0]=y*i+m*a,e[1]=y*s+m*o,e[2]=y*n+m*l,e[3]=y*a-m*i,e[4]=y*o-m*s,e[5]=y*l-m*n,e[6]=d,e[7]=f,e[8]=p,e}function P5e(e,t,r){const i=r[0],s=r[1],n=r[2];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=n*t[6],e[7]=n*t[7],e[8]=n*t[8],e}function N5e(e,t,r){const i=r[0],s=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e}function D5e(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function V5e(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function z5e(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function j5e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function q5e(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=r+r,o=i+i,l=s+s,d=r*a,f=i*a,p=i*o,m=s*a,y=s*o,b=s*l,g=n*a,v=n*o,w=n*l;return e[0]=1-p-b,e[3]=f-w,e[6]=m+v,e[1]=f+w,e[4]=1-d-b,e[7]=y-g,e[2]=m-v,e[5]=y+g,e[8]=1-d-p,e}function B5e(e,t){const r=t[0],i=t[1],s=t[2],n=t[4],a=t[5],o=t[6],l=t[8],d=t[9],f=t[10],p=f*a-o*d,m=-f*n+o*l,y=d*n-a*l,b=r*p+i*m+s*y;if(!b)return null;const g=1/b;return e[0]=p*g,e[1]=(-f*i+s*d)*g,e[2]=(o*i-s*a)*g,e[3]=m*g,e[4]=(f*r-s*l)*g,e[5]=(-o*r+s*n)*g,e[6]=y*g,e[7]=(-d*r+i*l)*g,e[8]=(a*r-i*n)*g,e}function U5e(e,t){const r=t[0],i=t[1],s=t[2],n=t[3],a=t[4],o=t[5],l=t[6],d=t[7],f=t[8],p=t[9],m=t[10],y=t[11],b=t[12],g=t[13],v=t[14],w=t[15],_=r*o-i*a,x=r*l-s*a,T=r*d-n*a,k=i*l-s*o,A=i*d-n*o,M=s*d-n*l,R=f*g-p*b,P=f*v-m*b,z=f*w-y*b,j=p*v-m*g,H=p*w-y*g,K=m*w-y*v;let J=_*K-x*H+T*j+k*z-A*P+M*R;return J?(J=1/J,e[0]=(o*K-l*H+d*j)*J,e[1]=(l*z-a*K-d*P)*J,e[2]=(a*H-o*z+d*R)*J,e[3]=(s*H-i*K-n*j)*J,e[4]=(r*K-s*z+n*P)*J,e[5]=(i*z-r*H-n*R)*J,e[6]=(g*M-v*A+w*k)*J,e[7]=(v*T-b*M-w*x)*J,e[8]=(b*A-g*T+w*_)*J,e):null}function G5e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function H5e(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function W5e(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Z5e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function uK(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function J5e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Y5e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e}function Q5e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function K5e(e,t){const r=e[0],i=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],d=e[7],f=e[8],p=t[0],m=t[1],y=t[2],b=t[3],g=t[4],v=t[5],w=t[6],_=t[7],x=t[8],T=Ki();return Math.abs(r-p)<=T*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-m)<=T*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-y)<=T*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(n-b)<=T*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-g)<=T*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-v)<=T*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(l-w)<=T*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(d-_)<=T*Math.max(1,Math.abs(d),Math.abs(_))&&Math.abs(f-x)<=T*Math.max(1,Math.abs(f),Math.abs(x))}function X5e(e){const t=Ki(),r=e[0],i=e[1],s=e[2],n=e[3],a=e[4],o=e[5],l=e[6],d=e[7],f=e[8];return Math.abs(1-(r*r+n*n+l*l))<=t&&Math.abs(1-(i*i+a*a+d*d))<=t&&Math.abs(1-(s*s+o*o+f*f))<=t}const e_e=dk,t_e=uK;Object.freeze(Object.defineProperty({__proto__:null,add:Z5e,adjoint:O5e,copy:k5e,determinant:F5e,equals:K5e,exactEquals:Q5e,frob:W5e,fromMat2d:j5e,fromMat4:A5e,fromQuat:q5e,fromRotation:V5e,fromScaling:z5e,fromTranslation:D5e,identity:cK,invert:R5e,isOrthoNormal:X5e,mul:e_e,multiply:dk,multiplyScalar:J5e,multiplyScalarAndAdd:Y5e,normalFromMat4:U5e,normalFromMat4Legacy:B5e,projection:G5e,rotate:dK,scale:P5e,scaleByVec2:N5e,set:lK,str:H5e,sub:t_e,subtract:uK,translate:XE,transpose:L5e},Symbol.toStringTag,{value:"Module"}));function B9(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function r_e(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function i_e(e,t,r,i,s,n,a,o,l){const d=new Float32Array(9);return d[0]=e,d[1]=t,d[2]=r,d[3]=i,d[4]=s,d[5]=n,d[6]=a,d[7]=o,d[8]=l,d}function s_e(e,t){return new Float32Array(e,t,9)}Object.freeze(Object.defineProperty({__proto__:null,clone:r_e,create:B9,createView:s_e,fromValues:i_e},Symbol.toStringTag,{value:"Module"}));function fK(){return new Float32Array(2)}function n_e(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Ey(e,t){const r=new Float32Array(2);return r[0]=e,r[1]=t,r}function a_e(e,t){return new Float32Array(e,t,2)}function pK(){return fK()}function hK(){return Ey(1,1)}function mK(){return Ey(1,0)}function yK(){return Ey(0,1)}const o_e=pK(),l_e=hK(),c_e=mK(),d_e=yK();Object.freeze(Object.defineProperty({__proto__:null,ONES:l_e,UNIT_X:c_e,UNIT_Y:d_e,ZEROS:o_e,clone:n_e,create:fK,createView:a_e,fromValues:Ey,ones:hK,unitX:mK,unitY:yK,zeros:pK},Symbol.toStringTag,{value:"Module"}));function u_e(e){return e instanceof Float32Array&&e.length>=2}function f_e(e){return Array.isArray(e)&&e.length>=2}function M7(e){return u_e(e)||f_e(e)}var eT;const ol=[0,0];let El=eT=class extends N{constructor(e){super(e),this._viewpoint2D={center:Wt(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new ht,this.id=0,this.inverseTransform=pc(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=pc(),this.transformNoRotation=pc(),this.displayMat3=B9(),this.displayViewMat3=B9(),this.viewMat3=B9(),this.viewMat2d=F_(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,r=e.targetGeometry;t.center[0]=r.x,t.center[1]=r.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=r.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,r=this.viewpoint;return r&&t?(this.viewpoint=Ei(r,e.viewpoint),this._set("size",j0(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new eT({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,r){return M7(t)?Vo(e,t,this.inverseTransform):(ol[0]=t,ol[1]=r,Vo(e,ol,this.inverseTransform))}toScreen(e,t,r){return M7(t)?Vo(e,t,this.transform):(ol[0]=t,ol[1]=r,Vo(e,ol,this.transform))}toScreenNoRotation(e,t,r){return M7(t)?Vo(e,t,this.transformNoRotation):(ol[0]=t,ol[1]=r,Vo(e,ol,this.transformNoRotation))}wrapMapCoordinate(e,t){j0(e,t);const[r]=t,[i]=this.center,{extent:s,spatialReference:n}=this;let{xmin:a,xmax:o}=s;if(n.isWrappable){const l=iK(n)/2;a=Math.max(a,i-l),o=Math.min(o,i+l)}return(r<a||r>o)&&(e[0]=sk(r,i,n)),e}getScreenTransform(e,t){const{center:r}=this._viewpoint2D,i=this._get("pixelRatio")||1,s=this._get("size");return lk(e,r,s,t,0,i),e}_update(){const{center:e,spatialReference:t,scale:r,rotation:i}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),a=new Tr({targetGeometry:new xe(e[0],e[1],t),scale:r,rotation:i});if(this._set("viewpoint",a),!n||!t||!r)return;this.resolution=ab(a),this.rotation=i,this.scale=r,this.spatialReference=t,j0(this.center,e);const o=n[0]!==0?2/n[0]:0,l=n[1]!==0?-2/n[1]:0;lK(this.displayMat3,o,0,0,0,l,0,-1,1,1);const d=cK(this.viewMat3),f=Ey(n[0]/2,n[1]/2),p=Ey(-n[0]/2,-n[1]/2),m=RA(i);XE(d,d,f),dK(d,d,m),XE(d,d,p),dk(this.displayViewMat3,this.displayMat3,d);const y=rk(this.viewMat2d,f);return H2(y,y,m),xy(y,y,p),p5e(this.extent,a,n),ck(this.transform,a,n,s),tk(this.inverseTransform,this.transform),v5e(this.transformNoRotation,a,n,s),this.worldScreenWidth=w5e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};c([u({readOnly:!0})],El.prototype,"id",void 0),c([u({value:1,json:{write:!0}})],El.prototype,"pixelRatio",null),c([u({json:{write:!0}})],El.prototype,"size",null),c([u()],El.prototype,"spatialReference",void 0),c([u({type:Tr,json:{write:!0}})],El.prototype,"viewpoint",null),c([u({readOnly:!0})],El.prototype,"visibleArea",null),El=eT=c([S("esri.views.2d.ViewState")],El);const XP=El;var tT,rT;let Ql=tT=class extends ie{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new tT({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([u()],Ql.prototype,"left",void 0),c([u()],Ql.prototype,"top",void 0),c([u()],Ql.prototype,"right",void 0),c([u()],Ql.prototype,"bottom",void 0),Ql=tT=c([S("esri.views.2d.PaddedViewState.Padding")],Ql);let mm=rT=class extends XP{constructor(...e){super(...e),this.paddedViewState=new XP,this._updateContent=(()=>{const t=Wt();return()=>{const r=this._get("size"),i=this._get("padding");if(!r||!i)return;const s=this.paddedViewState;Qr(t,i.left+i.right,i.top+i.bottom),Lv(t,r,t),j0(s.size,t);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(U(()=>[this.size,this.padding],()=>this._updateContent(),Za)),this.padding=new Ql,this.size=[0,0]}set padding(e){this._set("padding",e||new Ql)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const r=this._get("padding");r&&(t=S5e(e.clone(),e,this._get("size"),r));const{targetGeometry:i,rotation:s,scale:n}=t,{x:a,y:o,spatialReference:l}=i,d=this._viewpoint2D;d.center[0]=a,d.center[1]=o,d.rotation=s,d.scale=n,d.spatialReference=l,this._update()}}clone(){return new rT({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([u()],mm.prototype,"paddedViewState",void 0),c([u({type:Ql})],mm.prototype,"padding",null),c([u()],mm.prototype,"viewpoint",null),mm=rT=c([S("esri.views.2d.PaddedViewState")],mm);const uk=mm;var si;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(si||(si={}));const bK=Symbol("Yield");let p_e=class{constructor(){this._tasks=new Array,this._runningTasks=_y(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(this.length===0)return bK;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,r,i){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.push(new eN(s,n,t,r,i))).finally(()=>--this._runningTasks.value)}unshift(t,r,i){return++this._runningTasks.value,new Promise((s,n)=>this._tasks.unshift(new eN(s,n,t,r,i))).finally(()=>--this._runningTasks.value)}_process(t){var i;if(this._tasks.length===0)return!1;const r=this._tasks.shift();try{const s=nn(r.signal);if(s&&!r.abortCallback)r.reject(mt());else{const n=s?(i=r.abortCallback)==null?void 0:i.call(r,mt()):r.callback(t);Ko(n)?n.then(r.resolve,r.reject):r.resolve(n)}}catch(s){r.reject(s)}return!0}cancelAll(){const t=mt();for(const r of this._tasks)if(r.abortCallback){const i=r.abortCallback(t);r.resolve(i)}else r.reject(t);this._tasks.length=0}},eN=class{constructor(t,r,i,s=void 0,n=void 0){this.resolve=t,this.reject=r,this.callback=i,this.signal=s,this.abortCallback=n}},qg=class extends ie{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([u()],qg.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([u()],qg.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),qg=c([S("esri.views.support.debugFlags")],qg);const h_e=new qg;function m_e(){return new P_.Scheduler}var De;(function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"})(De||(De={}));const An=0,tN=new Map([[De.RESOURCE_CONTROLLER_IMMEDIATE,An],[De.RESOURCE_CONTROLLER,4],[De.SLIDE,An],[De.STREAM_DATA_LOADER,An],[De.ELEVATION_QUERY,An],[De.TERRAIN_SURFACE,1],[De.SURFACE_GEOMETRY_UPDATES,1],[De.LOD_RENDERER,2],[De.GRAPHICS_CORE,2],[De.I3S_CONTROLLER,2],[De.POINT_CLOUD_LAYER,2],[De.FEATURE_TILE_FETCHER,2],[De.CLOUDS_GENERATOR,2],[De.OVERLAY,4],[De.STAGE,4],[De.GRAPHICS_DECONFLICTOR,4],[De.FILTER_VISIBILITY,4],[De.SCALE_VISIBILITY,4],[De.FRUSTUM_VISIBILITY,4],[De.POINT_OF_INTEREST_FREQUENT,6],[De.POINT_OF_INTEREST_INFREQUENT,30],[De.LABELER,8],[De.FEATURE_QUERY_ENGINE,8],[De.FEATURE_TILE_TREE,16],[De.FEATURE_TILE_TREE_ACTIVE,An],[De.ELEVATION_ALIGNMENT,12],[De.ELEVATION_ALIGNMENT_SCENE,14],[De.TEXT_TEXTURE_ATLAS,12],[De.TEXTURE_UNLOAD,12],[De.LINE_OF_SIGHT_TOOL,16],[De.LINE_OF_SIGHT_TOOL_INTERACTIVE,An],[De.SNAPPING,An],[De.SHADOW_ACCUMULATOR,30],[De.MAPVIEW_FETCH_QUEUE,An],[De.MAPVIEW_LAYERVIEW_UPDATE,2],[De.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,An]]);function rN(e){return tN.has(e)?tN.get(e):typeof e=="number"?e:1}const y_e=6.5,iN=1,b_e=30,g_e=1e3/30,v_e=100,sN=.9;var P_,tf;(function(e){class t{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(n=>n.needsUpdate)}constructor(){this._updating=_y(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new R1("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=si.INTERACTING,this._tasks=new Op,this._runQueue=new Op,this._load=0,this._idleStateCallbacks=new Op,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=U(()=>h_e.SCHEDULER_LOG_SLOW_TASKS,n=>this._debug=n,we);for(const n of Object.keys(De))this.performanceInfo.tasks.set(De[n],new R1(De[n]))}destroy(){this._tasks.toArray().forEach(n=>n.remove()),this._tasks.clear(),Ft(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(n){this._updatingChanged(),n&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(n,a){const o=new r(this,n,a);return this._tasks.push(o),this._updatingChanged(),this.performanceInfo.tasks.has(n)||this.performanceInfo.tasks.set(n,new R1(n)),o}registerIdleStateCallbacks(n,a){const o={idleBegin:n,idleEnd:a};this._idleStateCallbacks.push(o),this.state===si.IDLE&&this._idleUpdatesStartFired&&o.idleBegin();const l=this;return{remove:()=>this._removeIdleStateCallbacks(o),set idleBegin(d){l._idleUpdatesStartFired&&(o.idleEnd(),l._state===si.IDLE&&d()),o.idleBegin=d},set idleEnd(d){o.idleEnd=d}}}get load(){return this._load}set state(n){this._state!==n&&(this._state=n,this.state!==si.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return this._state}frame(n){this._startFrameTaskTimes();const a=this._updateBudget(n);if(a){const o=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-o)}else this._recordFrameTaskTimes(0);return a}_updateBudget(n){this._test&&(this._test.usedBudget=0),++this._frameNumber;let a=y_e,o=n.frameDuration,l=iN;switch(this.state){case si.IDLE:a=0,o=Math.max(v_e,n.frameDuration),l=b_e;break;case si.INTERACTING:o=Math.max(g_e,n.frameDuration);case si.ANIMATING:}return o=o-n.elapsedFrameTime-a,this.state!==si.IDLE&&o<iN&&!this._forceTask?(this._forceTask=!0,!1):(o=Math.max(o,l),this._budget.reset(o,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case si.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(n=>n.idleBegin())),this._runIdle();break;case si.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(n){this._idleUpdatesStartFired&&n.idleEnd(),this._idleStateCallbacks.removeUnordered(n)}removeTask(n){this._tasks.removeUnordered(n),this._runQueue.removeUnordered(n),this._updatingChanged()}_updateTask(n){this._tasks.forAll(a=>{a.name===n&&a.setPriority(n)})}_getState(n){if(this._runQueue.some(o=>o.name===n))return tf.SCHEDULED;let a=tf.IDLE;return this._tasks.forAll(o=>{o.name===n&&o.needsUpdate&&(o.schedulePriority<=1?a=tf.READY:a!==tf.READY&&(a=tf.WAITING))}),a}_getRuntime(n){let a=0;return this._tasks.forAll(o=>{o.name===n&&(a+=o.runtime)}),a}_resetRuntimes(){this._tasks.forAll(n=>n.runtime=0)}_getRunning(){const n=new Map;if(this._tasks.forAll(o=>{o.needsUpdate&&n.set(o.name,(n.get(o.name)||0)+1)}),n.size===0)return null;let a="";return n.forEach((o,l)=>{a+=o>1?` ${o}x ${l}`:` ${l}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const n=this._tasks.reduce((a,o)=>o.needsUpdate?++a:a,0);this._load=this._load*sN+n*(1-sN)}_schedule(){for(this._runQueue.filterInPlace(n=>!!n.needsUpdate||(n.schedulePriority=n.basePriority,!1)),this._tasks.forAll(n=>{n.basePriority===An&&n.needsUpdate&&!this._runQueue.includes(n)&&n.blockFrame!==this._frameNumber&&this._runQueue.unshift(n)});this._runQueue.length===0;){let n=!1,a=0;if(this._tasks.forAll(o=>{o.needsUpdate&&o.schedulePriority!==0&&o.basePriority!==An&&o.blockFrame!==this._frameNumber&&(n=!0,a=Math.max(a,o.basePriority),o.schedulePriority===1?(o.schedulePriority=0,this._runQueue.push(o)):--o.schedulePriority)}),!n)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const n=this._budget.now(),a=this._runQueue.pop();this._budget.resetProgress();try{a.task.runTask(this._budget)===bK&&(a.blockFrame=this._frameNumber)}catch(l){B.getLogger("esri.views.support.Scheduler").error(`Exception in task "${a.name}"`,l),a.blockFrame=this._frameNumber}!this._budget.hasProgressed&&a.blockFrame!==this._frameNumber&&a.needsUpdate&&(a.name,De.I3S_CONTROLLER,a.blockFrame=this._frameNumber),a.schedulePriority=a.basePriority;const o=this._budget.now()-n;if(a.runtime+=o,this._frameTaskTimes.set(a.priority,this._frameTaskTimes.get(a.priority)+o),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const n of Object.keys(De))this._frameTaskTimes.set(De[n],0)}_recordFrameTaskTimes(n){this._frameTaskTimes.forEach((a,o)=>this.performanceInfo.tasks.get(o).push(a)),this.performanceInfo.total.push(n)}get test(){return this._test}}e.Scheduler=t;class r{get task(){return this._task.value}get updating(){return this._queue.running}constructor(n,a,o){this._scheduler=n,this.name=a,this.blockFrame=0,this.runtime=0,this._queue=new p_e,this._handles=new jy,this._basePriority=rN(a),this.schedulePriority=this._basePriority,this._task=_y(o??this._queue),this._handles.add(jr(()=>this.task.running,l=>n.taskRunningChanged(l)))}remove(){this.processQueue(gK),this._scheduler.removeTask(this),this.schedule=nN.schedule,this.reschedule=nN.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(n){if(this.name===n)return;this.name=n;const a=rN(n);this._basePriority!==An&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(n){this.setPriority(n)}get needsUpdate(){return this.updating||this.task.running}schedule(n,a,o){return this._queue.push(n,a,o)}reschedule(n,a,o){return this._queue.unshift(n,a,o)}processQueue(n){return this._queue.runTask(n)}}class i{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=si.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(n){return!this.done&&(n()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(n){this._enabled=n}reset(n,a){this._begin=this.now(),this._budget=n,this._state=a,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=i})(P_||(P_={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(tf||(tf={}));const gK=(()=>{const e=new P_.Budget;return e.enabled=!1,e})();let w_e=class{remove(){}processQueue(){}schedule(t,r,i){try{if(nn(r)){const s=mt();return i?Promise.resolve(i(s)):Promise.reject(s)}return d$(t(gK))}catch(s){return Promise.reject(s)}}reschedule(t,r,i){return this.schedule(t,r,i)}};const nN=new w_e;let __e=class{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=m_e(),this._schedulerHandle=jr(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var r;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((r=this.view.animation)==null?void 0:r.target)==null||Ko(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=r=>{var o,l,d;if(this._updateRequested=!1,(o=this.view)==null?void 0:o.destroyed)return;const{allLayerViews:i,graphicsView:s,labelManager:n,state:{id:a}}=this.view;i==null||i.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==a&&(n.viewChange(),n.lastUpdateId=a),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==a&&(s.viewChange(),s.lastUpdateId=a),s.updateRequested&&s.processUpdate(this._updateParameters)),(l=this.view.graphicsTileStore)==null||l.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=si.ANIMATING:this.view.interacting?this._scheduler.state=si.INTERACTING:this._scheduler.state=si.IDLE,this._scheduler.frame(r)||this._updateRequested||this._scheduler.state!==si.IDLE||((d=this._frameTaskHandle)==null||d.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new uk,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=U(()=>t.stationary,r=>{this.stationary=r,this.requestFrame()}),this._frameTaskHandle=ly(this),this.requestUpdate()}stop(){var t;this._frameTaskHandle&&(this._updateRequested=!1,(t=this._stationaryHandle)==null||t.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){var s;if(!t.attached)return void this.requestUpdate();const r=this.view.state,i=t.lastUpdateId;i!=null&&(this.stationary||t.moving)||(t.moving=!0),i!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&((s=t.layerViews)==null||s.forEach(this._updateLayerView,this))}},md=class extends yh{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=Ms(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(t=this._resolver)==null||t.reject(new I("ViewAnimation stopped")))}finish(){var t;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(t=this._resolver)==null||t.resolve())}update(t,r){r||(r=Ko(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};c([u({readOnly:!0})],md.prototype,"done",null),c([u({readOnly:!0,type:String})],md.prototype,"state",void 0),c([u()],md.prototype,"target",void 0),md=c([S("esri.views.ViewAnimation")],md),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(md||(md={}));const iT=md;let U9=class extends ie{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void B.getLogger(this).error("#goTo()","target cannot be null or undefined");const i=new iT;this.view.animation=i,await Wa(()=>this.view.ready,r);const s={...r,animate:(r==null?void 0:r.animate)??!KA(),animationMode:(r==null?void 0:r.animationMode)??"auto"},{extent:n,spatialReference:a,size:o,viewpoint:l,constraints:d,padding:f,allLayerViews:p}=this.view,m=u5e(t,{extent:n,spatialReference:a,size:o,viewpoint:l,constraints:d,padding:f,allLayerViews:p,pickClosestTarget:(r==null?void 0:r.pickClosestTarget)??!0});return i==null||i.update(m),this._gotoTask={},s.animate?this._gotoAnimated(m,s):this._gotoImmediate(m,s)}_gotoImmediate(t,r){const i=this._gotoTask,s=this.view.animation,n=t.then(a=>{if(Ce(r),i!==this._gotoTask)throw new I("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=a,s.finish()});return this._cancellableGoTo(i,s,n,r)}_gotoAnimated(t,r){const i=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=t.then(a=>{if(Ce(r),i!==this._gotoTask)throw new I("view:goto-interrupted","Goto was interrupted");return s.update(a),this.view.animationManager.animate(s,this.view.viewpoint,r),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,s,n,r)}_cancellableGoTo(t,r,i,s){const n=()=>t===this._gotoTask;return bM(i,s).finally(()=>{n()&&(r.done||r.stop())})}};c([u({constructOnly:!0})],U9.prototype,"view",void 0),U9=c([S("esri.views.2d.GoToManager")],U9);function S_e(e,t){const{spatialReference:r}=t,i=[t.x,t.y];let s,n,a,o;const l=[0,0],d=$_e(e);for(let m=0;m<d.length;m++){const y=d[m];for(let b=0;b<y.length-1;b++){Dpe(l,i,y,b);const g=I4(i,l);(s==null||g<s)&&(s=g,n=[...l],a=m,o=b)}}if(s==null||!n||a==null||o==null)throw new I("nearest-coordinate:failed","Failed to find the nearest coordinate");const[f,p]=n;return{coordinate:new xe({x:f,y:p,spatialReference:r}),distance:s}}function $_e(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}var sT;let mp=sT=class extends Os.NumericIdentifiableMixin(ie){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Bu(this.geometry,this.spatialReference)}catch(e){return B.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(this.normalizedGeometry==null)return e;const r=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?x2(this.normalizedGeometry,r):XM(this.normalizedGeometry,r))return e;const{coordinate:i}=S_e(this.normalizedGeometry,r);return i&&(e.targetGeometry=i),e}clone(){var e,t;return new sT({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([u({constructOnly:!0})],mp.prototype,"geometry",void 0),c([u({readOnly:!0})],mp.prototype,"normalizedGeometry",null),c([u({constructOnly:!0})],mp.prototype,"spatialReference",void 0),mp=sT=c([S("esri.views.2d.constraints.GeometryConstraint")],mp);var nT;let Bg=nT=class extends Os.NumericIdentifiableMixin(ie){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new nT({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([u()],Bg.prototype,"enabled",void 0),c([u()],Bg.prototype,"rotationEnabled",void 0),Bg=nT=c([S("esri.views.2d.constraints.RotationConstraint")],Bg);const vK=Bg;var aT;let ls=aT=class extends Os.NumericIdentifiableMixin(ie){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:r,maxScale:i,minZoom:s,maxZoom:n}=this,a=-1,o=-1,l=!1,d=!1;if(r!==0&&i!==0&&r<i&&([r,i]=[i,r]),!(t!=null&&t.length))return this._set("effectiveMinScale",r),void this._set("effectiveMaxScale",i);t=t.map(f=>f.clone()),t.sort((f,p)=>p.scale-f.scale),t.forEach((f,p)=>f.level=p);for(const f of t)!l&&r>0&&r>=f.scale&&(a=f.level,l=!0),!d&&i>0&&i>=f.scale&&(o=e?e.level:-1,d=!0),e=f;s===-1&&(s=r===0?0:a),n===-1&&(n=i===0?t.length-1:o),s=Math.max(s,0),s=Math.min(s,t.length-1),n=Math.max(n,0),n=Math.min(n,t.length-1),s>n&&([s,n]=[n,s]),r=t[s].scale,i=t[n].scale,t.splice(0,s),t.splice(n-s+1,t.length),t.forEach((f,p)=>{this._lodByScale[f.scale]=f,this._scales[p]=f.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",r),this._set("effectiveMaxScale",i)}constrain(e,t){if(t&&e.scale===t.scale)return e;const r=this.effectiveMinScale,i=this.effectiveMaxScale,s=e.targetGeometry,n=t&&t.targetGeometry,a=i!==0&&e.scale<i,o=r!==0&&e.scale>r;if(a||o){const l=o?r:i;if(t&&n){const d=(l-t.scale)/(e.scale-t.scale);s.x=n.x+(s.x-n.x)*d,s.y=n.y+(s.y-n.y)*d}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),r=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(r>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const r=Math.floor(e),i=Math.ceil(e);return t[r]+(e-r)*(t[i]-t[r])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let r,i;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let s=0;s<t.length-1;s++){if(r=t[s],i=t[s+1],i===e)return s+this.effectiveMinZoom+1;if(r>e&&i<e)return s+this.effectiveMinZoom+1-(e-i)/(r-i)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const r=Math.round(this.scaleToZoom(e));return this.zoomToScale(r-1)}clone(){return new aT({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,r)=>Math.abs(r-e)<=Math.abs(t-e)?r:t,this._scales[0])),this._lodByScale[e].scale}};c([u({readOnly:!0})],ls.prototype,"effectiveLODs",void 0),c([u({readOnly:!0})],ls.prototype,"effectiveMinZoom",void 0),c([u({readOnly:!0})],ls.prototype,"effectiveMaxZoom",void 0),c([u({readOnly:!0})],ls.prototype,"effectiveMinScale",void 0),c([u({readOnly:!0})],ls.prototype,"effectiveMaxScale",void 0),c([u()],ls.prototype,"lods",void 0),c([u()],ls.prototype,"minZoom",void 0),c([u()],ls.prototype,"maxZoom",void 0),c([u()],ls.prototype,"minScale",void 0),c([u()],ls.prototype,"maxScale",void 0),c([u()],ls.prototype,"snapToZoom",void 0),ls=aT=c([S("esri.views.2d.constraints.ZoomConstraint")],ls);const wK=ls,x_e={base:null,key:"type",typeMap:{extent:ht,polygon:Gn}};let Xt=class extends ie{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new W}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){var t,r,i;return`${(t=this._zoom)==null?void 0:t.uid}/${(r=this._rotation)==null?void 0:r.uid}/${(i=this._geometry)==null?void 0:i.uid}`}get _geometry(){var r,i;const t=this._get("_geometry");return t&&this.geometry===t.geometry&&((r=this.view)==null?void 0:r.constraintsInfo.spatialReference)===t.spatialReference?t:new mp({geometry:this.geometry,spatialReference:(i=this.view)==null?void 0:i.constraintsInfo.spatialReference})}get _rotation(){return new vK({rotationEnabled:this.rotationEnabled})}get _zoom(){var l;const t=this._get("_zoom"),r=this.lods||((l=this.view)==null?void 0:l.constraintsInfo.lods),i=this.minZoom,s=this.maxZoom,n=this.minScale,a=this.maxScale,o=this.snapToZoom;return t&&t.lods===r&&t.minZoom===i&&t.maxZoom===s&&t.minScale===n&&t.maxScale===a&&t.snapToZoom===o?t:new wK({lods:r,minZoom:i,maxZoom:s,minScale:n,maxScale:a,snapToZoom:o})}canZoomInTo(t){const r=this.effectiveMaxScale;return r===0||t>=r}canZoomOutTo(t){const r=this.effectiveMinScale;return r===0||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(i=>i.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>{var i;return(i=r.applyPanConstraint)==null?void 0:i.call(r,t)}),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};c([u({readOnly:!0})],Xt.prototype,"effectiveLODs",null),c([u({readOnly:!0})],Xt.prototype,"effectiveMinScale",null),c([u({readOnly:!0})],Xt.prototype,"effectiveMaxScale",null),c([u({readOnly:!0})],Xt.prototype,"effectiveMinZoom",null),c([u({readOnly:!0})],Xt.prototype,"effectiveMaxZoom",null),c([u({types:x_e,value:null})],Xt.prototype,"geometry",null),c([u({type:[On]})],Xt.prototype,"lods",void 0),c([u()],Xt.prototype,"minScale",void 0),c([u()],Xt.prototype,"maxScale",void 0),c([u()],Xt.prototype,"minZoom",void 0),c([u()],Xt.prototype,"maxZoom",void 0),c([u()],Xt.prototype,"rotationEnabled",void 0),c([u()],Xt.prototype,"snapToZoom",void 0),c([u({type:W})],Xt.prototype,"customConstraints",void 0),c([u()],Xt.prototype,"view",void 0),c([u({readOnly:!0})],Xt.prototype,"version",null),c([u({type:mp,readOnly:!0})],Xt.prototype,"_geometry",null),c([u({type:vK})],Xt.prototype,"_rotation",null),c([u({readOnly:!0,type:wK})],Xt.prototype,"_zoom",null),Xt=c([S("esri.views.2d.MapViewConstraints")],Xt);const aN=Xt;let bi=class extends ie{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([U(()=>{var r;return(r=this.constraints)==null?void 0:r.version},r=>{this.constraints&&r&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Za)])}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new xe({x:t[0],y:t[1],spatialReference:r})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let r;try{r=this._project(t,this.state.spatialReference)}catch(s){return void B.getLogger(this).error(new I("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:s}))}const i=this.viewpoint;KE(i,i,r),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void B.getLogger(this).error(new I("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let r;try{r=this._project(t,this.state.spatialReference)}catch(s){return void B.getLogger(this).error(new I("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const i=this.viewpoint;h5e(i,i,r,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const r=this.viewpoint;x5e(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const i=this._get("extent");return void(i&&(this._set("extent",void 0),this._set("center",i.center)))}const r=this.viewpoint;KP(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){var n;if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let r,i;try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?i=new I("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(i=new I("mapview:invalid-viewpoint","geometry not defined"))}catch(a){i=new I("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a})}if(i)return void B.getLogger(this).error(i);this._scaleBeforeChangingSpatialReference=null;const s=new Tr({targetGeometry:new xe,scale:0,rotation:0});Ei(s,r),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var t;return this.ready?((t=this.constraints)==null?void 0:t.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(t){var s,n;if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const a=this._get("extent");return void(a&&(this._set("extent",void 0),this._set("center",a.center)))}const r=((s=this.constraints)==null?void 0:s.zoomToScale(t))??0;if(!r)return void this._set("zoom",-1);const i=this.viewpoint;KP(i,i,r),this.viewpoint=i,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:r,constraints:i}=this,s=this._get("center"),n=this._get("extent"),a=this._get("scale"),o=this._get("rotation"),l=this._get("viewpoint"),d=this._get("zoom"),f=d!=null&&i!=null&&i.zoomToScale(d)||void 0;let p,m,y;const b=l==null?void 0:l.rotation,g=l==null?void 0:l.targetGeometry;(g==null?void 0:g.type)==="extent"?p=g:(g==null?void 0:g.type)==="point"&&(m=g,y=l==null?void 0:l.scale);const v=n??p;return{center:s??m??(v==null?void 0:v.center),rotation:o??b,scale:(a??f??y??(v&&k4(v,[t[0]-r.left-r.right,t[1]-r.top-r.bottom])))||void 0}}startup(t,r,i,s){var a;const n=t.targetGeometry;try{this._project(t,i)}catch(o){B.getLogger(this).warn(new Un("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:i,error:o})),t.targetGeometry=s||new xe({x:0,y:0,spatialReference:i})}(a=this.constraints)==null||a.fit(t),this._set("state",new uk({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[t,r],spatialReference:i,rotation:s,scale:n}=this.state.paddedViewState,a=new xe({x:t,y:r,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(t){var l;const r=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=r.scale;else{const d=r.viewpoint.clone();d.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=d}const i=r.clone(),[s,n]=r.center;let a=null;try{a=this._project(new xe({x:s,y:n,spatialReference:r.spatialReference}),t)}catch(d){GM()||B.getLogger(this).warn(new Un("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a==null?void 0:a.toJSON(),spatialReference:t,error:d}))}a||(a=new xe({x:0,y:0,spatialReference:t}));const o=KE(new Tr({targetGeometry:new xe,scale:0,rotation:0}),r.viewpoint,a);i.viewpoint=o;try{const f=[r.size[0]/2,r.size[1]/2],p=[f[0]+20,f[1]],m=r.toMap([0,0],p),{x:y,y:b}=this._project(new xe({x:m[0],y:m[1],spatialReference:r.spatialReference}),t);m[0]=y,m[1]=b,i.toScreen(m,m);const g=_5e(f,m,p),v=Math.hypot(m[0]-f[0],m[1]-f[1])/20;!Number.isFinite(v)||Math.abs(v)>4?(o.rotation=0,o.targetGeometry=new xe({x:0,y:0,spatialReference:t})):(o.scale*=v,o.scale>V("mapview-srswitch-adjust-rotation-scale-threshold")?o.rotation=0:o.rotation+=Number.isFinite(g)?g:0)}catch{}(l=this._get("constraints"))==null||l.constrain(o,void 0),this._get("state").viewpoint=o}resize(t,r){var a;if(!this.ready)return;const i=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();i.size=[t,r],$5e(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((a=this.constraints)==null?void 0:a.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(t){if(!this.ready)return null;const r=[0,0],[i,s]=this.state.toMap(r,[t.x,t.y]),n=this.state.spatialReference;return new xe({x:i,y:s,spatialReference:n})}toScreen(t,r){if(!this.ready)return null;const i=this._project(t,this.state.spatialReference),s=[i.x,i.y];return(r==null?void 0:r.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),xr(s[0],s[1])}_project(t,r){var n;const i=(t==null?void 0:t.targetGeometry)||t;if(!r)return t;if(!i)return null;if(r.imageCoordinateSystem||(n=i.spatialReference)!=null&&n.imageCoordinateSystem||Nt(r,i.spatialReference))return t;const s=Bu(i,r);if(!s)throw new I("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:r});return E_e(t)?(t.targetGeometry=s,t):s}};function E_e(e){return(e==null?void 0:e.declaredClass)==="esri.Viewpoint"}c([u({type:xe})],bi.prototype,"center",null),c([u()],bi.prototype,"constraints",void 0),c([u({type:ht})],bi.prototype,"extent",null),c([u({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],bi.prototype,"padding",null),c([u()],bi.prototype,"ready",void 0),c([u()],bi.prototype,"resizeAlign",void 0),c([u({readOnly:!0})],bi.prototype,"resolution",null),c([u({type:Number})],bi.prototype,"rotation",null),c([u({type:Number})],bi.prototype,"scale",null),c([u({readOnly:!0})],bi.prototype,"state",void 0),c([u({type:Tr})],bi.prototype,"viewpoint",null),c([u({readOnly:!0})],bi.prototype,"visibleArea",null),c([u()],bi.prototype,"zoom",null),bi=c([S("esri.views.2d.ViewStateManager")],bi);function _K(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}function SK(e,t){return t.some(r=>_K(e,r))}function oN(e,{dragPrimary:t,dragSecondary:r,dragTertiary:i}){return[{key:"primary",value:t},{key:"secondary",value:r},{key:"tertiary",value:i}].filter(s=>s.value===e).map(s=>s.key)}let lN=class extends qr{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,i=>this._handleDoubleClick(i,r))}_handleDoubleClick(t,r){_K(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}},T_e=class extends qr{constructor(t,r,i){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",i,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(t){const{data:r}=t,{pointerType:i}=r;if(i!==this.pointerType)return;t.stopPropagation();const{action:s,delta:n}=r,{view:a}=this,{mapViewNavigation:o}=a;switch(s){case"begin":{const{scale:l}=a;this._startScale=l,this._currentScale=l,this._previousDelta=n,o.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const l=1.015**n.y,d=this._startScale*l,f=d/this._currentScale;o.setViewpointImmediate(f),this._currentScale=d;break}case"end":{const{constraints:l}=a,{effectiveLODs:d,snapToZoom:f}=l;if(!f||!d)return void o.end();const p=l.snapScale(this._currentScale),m=(n.y>0?Math.max(p,l.snapToPreviousScale(this._startScale)):Math.min(p,l.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(m).then(()=>{o.end()});break}}}},R4=class{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){const r=t.data,i=r.pointers.size;switch(r.action){case"start":this._currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){var r,i;this._startEvent=t,(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){var r,i;(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){var r,i;(i=(r=this._callbacks).condition)!=null&&i.call(r,this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}},I_e=class extends qr{constructor(t,r,i){super(!0),this.view=t,this.pointerActions=r,this.registerIncoming("drag",i,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new R4({start:(r,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation()},update:(r,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation()},end:(r,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation()},condition:(r,i)=>r===1&&SK(i.data,this.pointerActions)})}_handleDrag(t){const r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},C_e=class extends qr{constructor(t,r,i){super(!0),this._view=t,this.pointerActions=r;const s=this._view.mapViewNavigation;this._dragEventSeparator=new R4({start:(n,a)=>{s.rotate.begin(this._view,a.data),a.stopPropagation()},update:(n,a)=>{s.rotate.update(this._view,a.data),a.stopPropagation()},end:(n,a)=>{s.rotate.end(),a.stopPropagation()},condition:(n,a)=>n===1&&SK(a.data,this.pointerActions)}),this.registerIncoming("drag",i,n=>this._dragEventSeparator.handle(n))}};function $K(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function M_e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function A_e(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function k_e(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function xK(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function EK(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function TK(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function L_e(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function R_e(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function O_e(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function F_e(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function P_e(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function N_e(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function D_e(e,t=0,r=1){return e[0]=Math.min(Math.max(e[0],t),r),e[1]=Math.min(Math.max(e[1],t),r),e[2]=Math.min(Math.max(e[2],t),r),e}function V_e(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function IK(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function z_e(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function CK(e,t){const r=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(r*r+i*i+s*s)}function MK(e,t){const r=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2];return r*r+i*i+s*s}function AK(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function j_e(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function q_e(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function oT(e,t){const r=t[0],i=t[1],s=t[2];let n=r*r+i*i+s*s;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function kK(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function B_e(e,t,r){const i=t[0],s=t[1],n=t[2],a=r[0],o=r[1],l=r[2];return e[0]=s*l-n*o,e[1]=n*a-i*l,e[2]=i*o-s*a,e}function U_e(e,t,r){const i=t[0],s=t[1],n=t[2],a=r[0],o=r[1],l=r[2],d=s*l-n*o,f=n*a-i*l,p=i*o-s*a,m=Math.sqrt(d*d+f*f+p*p);return e[0]=d/m,e[1]=f/m,e[2]=p/m,e}function G_e(e,t,r,i){const s=t[0],n=t[1],a=t[2];return e[0]=s+i*(r[0]-s),e[1]=n+i*(r[1]-n),e[2]=a+i*(r[2]-a),e}function H_e(e,t,r,i,s,n){const a=n*n,o=a*(2*n-3)+1,l=a*(n-2)+n,d=a*(n-1),f=a*(3-2*n);return e[0]=t[0]*o+r[0]*l+i[0]*d+s[0]*f,e[1]=t[1]*o+r[1]*l+i[1]*d+s[1]*f,e[2]=t[2]*o+r[2]*l+i[2]*d+s[2]*f,e}function W_e(e,t,r,i,s,n){const a=1-n,o=a*a,l=n*n,d=o*a,f=3*n*o,p=3*l*a,m=l*n;return e[0]=t[0]*d+r[0]*f+i[0]*p+s[0]*m,e[1]=t[1]*d+r[1]*f+i[1]*p+s[1]*m,e[2]=t[2]*d+r[2]*f+i[2]*p+s[2]*m,e}function Z_e(e,t=1){const r=d4,i=2*r()*Math.PI,s=2*r()-1,n=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(i)*n,e[1]=Math.sin(i)*n,e[2]=s*t,e}function J_e(e,t,r){const i=t[0],s=t[1],n=t[2];return e[0]=r[0]*i+r[4]*s+r[8]*n+r[12],e[1]=r[1]*i+r[5]*s+r[9]*n+r[13],e[2]=r[2]*i+r[6]*s+r[10]*n+r[14],e}function Y_e(e,t,r){const i=t[0],s=t[1],n=t[2];return e[0]=i*r[0]+s*r[3]+n*r[6],e[1]=i*r[1]+s*r[4]+n*r[7],e[2]=i*r[2]+s*r[5]+n*r[8],e}function Q_e(e,t,r){const i=r[0],s=r[1],n=r[2],a=r[3],o=t[0],l=t[1],d=t[2],f=s*d-n*l,p=n*o-i*d,m=i*l-s*o,y=s*m-n*p,b=n*f-i*m,g=i*p-s*f,v=2*a;return e[0]=o+f*v+2*y,e[1]=l+p*v+2*b,e[2]=d+m*v+2*g,e}function K_e(e,t,r,i){const s=[],n=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],n[0]=s[0],n[1]=s[1]*Math.cos(i)-s[2]*Math.sin(i),n[2]=s[1]*Math.sin(i)+s[2]*Math.cos(i),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function X_e(e,t,r,i){const s=[],n=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],n[0]=s[2]*Math.sin(i)+s[0]*Math.cos(i),n[1]=s[1],n[2]=s[2]*Math.cos(i)-s[0]*Math.sin(i),e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function e6e(e,t,r,i){const s=[],n=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],n[0]=s[0]*Math.cos(i)-s[1]*Math.sin(i),n[1]=s[0]*Math.sin(i)+s[1]*Math.cos(i),n[2]=s[2],e[0]=n[0]+r[0],e[1]=n[1]+r[1],e[2]=n[2]+r[2],e}function t6e(e,t){oT(cN,e),oT(dN,t);const r=kK(cN,dN);return r>1?0:r<-1?Math.PI:Math.acos(r)}const cN=qu(),dN=qu();function r6e(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function i6e(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function s6e(e,t){if(e===t)return!0;const r=e[0],i=e[1],s=e[2],n=t[0],a=t[1],o=t[2],l=Ki();return Math.abs(r-n)<=l*Math.max(1,Math.abs(r),Math.abs(n))&&Math.abs(i-a)<=l*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(s-o)<=l*Math.max(1,Math.abs(s),Math.abs(o))}function n6e(e,t,r){const i=r[0]-t[0],s=r[1]-t[1],n=r[2]-t[2];let a=i*i+s*s+n*n;return a>0?(a=1/Math.sqrt(a),e[0]=i*a,e[1]=s*a,e[2]=n*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const a6e=xK,o6e=EK,l6e=TK,c6e=CK,d6e=MK,u6e=$K,f6e=AK;Object.freeze(Object.defineProperty({__proto__:null,abs:O_e,add:k_e,angle:t6e,bezier:W_e,ceil:L_e,clamp:D_e,copy:M_e,cross:B_e,crossAndNormalize:U_e,direction:n6e,dist:c6e,distance:CK,div:l6e,divide:TK,dot:kK,equals:s6e,exactEquals:i6e,floor:R_e,hermite:H_e,inverse:q_e,len:u6e,length:$K,lerp:G_e,max:N_e,min:P_e,mul:o6e,multiply:EK,negate:j_e,normalize:oT,random:Z_e,rotateX:K_e,rotateY:X_e,rotateZ:e6e,round:V_e,scale:IK,scaleAndAdd:z_e,set:A_e,sign:F_e,sqrDist:d6e,sqrLen:f6e,squaredDistance:MK,squaredLength:AK,str:r6e,sub:a6e,subtract:xK,transformMat3:Y_e,transformMat4:J_e,transformQuat:Q_e},Symbol.toStringTag,{value:"Module"}));function sa(e){let t=e*e;return e<0&&(t*=-1),t}function p6e(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function h6e(e,t,r){const i=r,s=e.state,n=e.device,a=t.tiltDirection==="forward-down"?1:-1,o=1;return n.deviceType==="standard"?(i.translation[0]=sa(s.axes[0]),i.translation[1]=sa(s.axes[1]),i.translation[2]=sa(s.buttons[7])-sa(s.buttons[6]),i.heading=sa(s.axes[2]),i.tilt=sa(s.axes[3])):n.deviceType==="spacemouse"&&(i.translation[0]=1.2*sa(s.axes[0]),i.translation[1]=1.2*sa(s.axes[1]),i.translation[2]=2*-sa(s.axes[2]),i.heading=1.2*sa(s.axes[5]),i.tilt=1.2*sa(s.axes[3])),i.tilt*=a,IK(i.translation,i.translation,o),i}function m6e(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}let y6e=class extends qr{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new jy,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",r=>this._handleGamePadEvent(r)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([U(()=>{var r;return(r=this._view.navigation.gamepad)==null?void 0:r.enabled},r=>{r?(this._handle.resume(),this._frameTask||(this._frameTask=ly({update:i=>this._frameUpdate(i.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},we)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){var i;const r=this._view.navigation.gamepad.device;r&&t.data.device!==r||this._currentDevice&&this._currentDevice!==t.data.device||(t.data.action==="end"?(this._currentDevice=null,p6e(this._transformation)):(this._currentDevice=t.data.device,h6e(t.data,this._view.navigation.gamepad,this._transformation)),(i=this._frameTask)==null||i.resume())}_frameUpdate(t){var p;const r=this._transformation;if(m6e(r))return void((p=this._frameTask)==null?void 0:p.pause());const i=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=g6e*s*t;L4(i,i,[r.translation[0]*n,-r.translation[1]*n]);const a=1+r.translation[2]*v6e*t,o=this._view.constraints.rotationEnabled?-r.heading*b6e*t:0,l=this._view.size,d=[l[0]/2,l[1]];sK(i,i,a,o,d,l);const f=this._view.constraints.constrain(i,this._view.viewpoint);this._view.viewpoint=f}};const b6e=.06,g6e=.7,v6e=6e-4;function LK(e){const t=()=>e(document.visibilityState==="visible");return document.addEventListener("visibilitychange",t),Je(()=>document.removeEventListener("visibilitychange",t))}let w6e=class extends qr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const a=s.type==="key-down";if(this._pressedKeys[a?"add":"delete"](n),a){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const o=this._timeout===void 0,l=this._pressedKeys.size>0;o||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=LK(s=>s?null:this._stopMovement())}onUninstall(){var t;this._stopMovement(),(t=this._visibilityHandle)==null||t.remove()}get _direction(){return this._currentDirection}set _direction(t){const r=this._currentDirection!=null;if(t!=null){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=t===void 0?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}},_6e=class extends qr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(r),this.registerIncoming("key-down",i,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",i,s=>this._handleKeyUp(s)),this.registerIncoming("blur",i,()=>this._handleStop()),this._visibilityHandle=LK(s=>s?null:this._handleStop())}onUninstall(){var t;(t=this._visibilityHandle)==null||t.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,r){for(const i of t)this._keyToDirection.set(i,r)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){const i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(t.data.key);if(this._pressed=s!=null,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}};var b0;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(b0||(b0={}));let S6e=class extends qr{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",i,s=>this._handleKeyDown(s)),r.zoomIn.forEach(s=>this._keysToZoomAction[s]=b0.IN),r.zoomOut.forEach(s=>this._keysToZoomAction[s]=b0.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;const{key:i}=t.data;if(!(i in this._keysToZoomAction))return;const s=this._keysToZoomAction[i],{mapViewNavigation:n}=this.view;let a=null;switch(s){case b0.IN:a=n.zoomIn();break;case b0.OUT:a=n.zoomOut();break;default:return}n.begin(),a.then(()=>n.end()),t.stopPropagation()}};const $6e=.6;let x6e=class extends qr{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,i=>this._handleMouseWheel(i))}_handleMouseWheel(t){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const r=this._view.mapViewNavigation,{x:i,y:s,deltaY:n}=t.data,a=1/$6e**(1/60*n),o=r.zoom(a,[i,s]);o&&(this._canZoom=!1,o.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}},E6e=class extends qr{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",i=>this._handleDrag(i)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const r=this.view.mapViewNavigation;this._dragEventSeparator=new R4({start:(i,s)=>{r.pinch.begin(this.view,s.data),s.stopPropagation()},update:(i,s)=>{r.pinch.update(this.view,s.data),s.stopPropagation()},end:(i,s)=>{r.pinch.end(this.view),s.stopPropagation()},condition:i=>i>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function uN(e){const t=e.native;return t?{buttons:t.buttons.map(r=>r.pressed?r.value||1:0),axes:t.axes.map(r=>C6e(r,e.axisThreshold))}:{buttons:[],axes:[]}}function T6e(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let r=0;r<e.axes.length;r++)if(e.axes[r]!==t.axes[r])return!1;for(let r=0;r<e.buttons.length;r++)if(e.buttons[r]!==t.buttons[r])return!1;return!0}function I6e(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function C6e(e,t){const r=Math.abs(e);return r<t?0:Math.sign(e)*(r-t)/(1-t)}let M6e=class{constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const a=n.gamepad,o=a.index,l=this._inputDevices[o];l&&(this._emitGamepadEvent(a,uN(l),!1),this._inputDevices.splice(o,1),this._latestUpdate.splice(o,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=i&&s,this.supported&&(fN(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){const r=new QA(t);r.deviceType!=="unknown"&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=ly({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),r=this._element.contains(document.activeElement),i=this._input.gamepad.enabledFocusMode==="document"&&!t||this._input.gamepad.enabledFocusMode==="view"&&!r;fN(s=>{const n=this._inputDevices[s.index];if(!n)return;const a=this._latestUpdate[s.index],o=uN(n),l=i||I6e(o);a&&(a.timestamp===s.timestamp||!a.active&&l||T6e(a.state,o))||this._emitGamepadEvent(s,o,!l)})}_emitGamepadEvent(t,r,i){const s=this._latestUpdate[t.index],n=s&&s.active;if(!n&&!i)return;const a=!n&&i?"start":n&&i?"update":"end";this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:i},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:a})}};function A6e(e){if(!e||!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function fN(e){for(const t of navigator.getGamepads())A6e(t)&&e(t)}const pN=V("edge"),k6e=V("chrome"),L6e=V("ff"),R6e=V("safari"),hN="esri-view-surface",Rh={touchNone:`${hN}--touch-none`,touchPan:`${hN}--touch-pan`};let RK=class OK{constructor(t,r){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new M6e(t,r),this._gamepadSource.onEvent=i=>this._callback("gamepad",i)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=pt(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const r in this._active)if(!t||!t.has(r)){const i=this._active[r];this._element.removeEventListener(A7[r],i),delete this._active[r]}t&&t.forEach(r=>{if(!this._active[r]&&A7[r]){const i=(this._eventHandlers[r]||this._handleDefault).bind(this,r);this._element.addEventListener(A7[r],i),this._active[r]=i}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(t==null?void 0:t.has("gamepad"))??!1)}setPointerCapture(t,r){r?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Rh.touchNone:Rh.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Rh.touchPan:Rh.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Rh.touchNone),this._element.classList.remove(Rh.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,r){const i=xQ(this._element,t);return OK.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),r.x=i.x,r.y=i.y,r}_handleKey(t,r){const{key:i}=r;i&&t==="key-up"&&this._keyDownState.delete(i);const s={native:r,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&t==="key-down"&&this._keyDownState.add(s.key),this._callback(t,s)}_handlePointer(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,r){const i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,i)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&V("mac")&&t.deltaY===0?t.deltaX:t.deltaY}_handleMouseWheel(t,r){let i=this._getDeltaFromTrackpadOrMouseWheel(r);switch(r.deltaMode){case 0:pN&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}pN?i*=.7:k6e||R6e?i*=.6:L6e&&(i*=1.375);const s=100,n=Math.abs(i);n>s&&(i=i/n*200/(1+Math.exp(-.02*(n-s))));const a=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:i});this._callback(t,a)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){const i={native:r};r.preventDefault(),this._callback(t,i)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}};RK.test={disableSubpixelCoordinates:!1};const A7={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let O6e=class extends qr{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}};const ni={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function N_(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function F6e(e,t){const r=t.x-e.x,i=t.y-e.y;return Math.sqrt(r*r+i*i)}function P6e(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:xr()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[x,T]=e,[k,A]=[T.x-x.x,T.y-x.y];return t.radius=Math.sqrt(k*k+A*A)/2,t.center.x=(x.x+T.x)/2,t.center.y=(x.y+T.y)/2,t}let r=0,i=0;for(let x=0;x<e.length;x++)r+=e[x].x,i+=e[x].y;r/=e.length,i/=e.length;const s=e.map(x=>x.x-r),n=e.map(x=>x.y-i);let a=0,o=0,l=0,d=0,f=0,p=0,m=0;for(let x=0;x<s.length;x++){const T=s[x],k=n[x],A=T*T,M=k*k;a+=A,o+=M,l+=T*k,d+=A*T,f+=M*k,p+=T*M,m+=k*A}const y=.5*(d+p),b=.5*(f+m),g=a*o-l*l,v=(y*o-b*l)/g,w=(a*b-l*y)/g,_=xr(v+r,w+i);return{radius:Math.sqrt(v*v+w*w+(a+o)/e.length),center:_}}function jp(e){const{native:t}=e,{pointerId:r,button:i,pointerType:s}=t;return s==="mouse"?`${r}:${i}`:`${s}`}let N6e=class extends qr{constructor(t=ni.maximumDoubleClickDelay,r=ni.maximumDoubleClickDistance,i=ni.maximumDoubleTouchDelay,s=ni.maximumDoubleTouchDistance,n=By){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=n,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=xr(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new R4({start:(a,o)=>this._dragStart(a,o),update:(a,o)=>this._dragUpdate(o),end:(a,o)=>this._dragEnd(o)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=Ft(t.doubleTapTimeout)})}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(t){const r=this._pointerState.get(t);r&&(r.doubleTapTimeout=Ft(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:s}=r,{center:n}=i;this._dragStartCenter=n;const a=k7("begin",xr(0,0),i);this._doubleTapDrag.emit(a,void 0,s),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:s}=r,n=k7("update",xr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(n,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:r,modifiers:i}=t,{center:s}=r,n=k7("end",xr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(n,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:r}=t,i=jp(r),s=this._pointerState.get(i),{pointerType:n}=r.native;if(s){const a=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),N_(s.event.data,r)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){const{data:r}=t,{pointerType:i}=r.native,s=jp(r),n=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function k7(e,t,r){const{button:i,buttons:s,pointer:n,pointers:a,pointerType:o,timestamp:l}=r;return{action:e,delta:t,button:i,buttons:s,pointer:n,pointers:a,pointerType:o,timestamp:l}}let D6e=class extends qr{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,i,s){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:s,pointers:V6e(this._activePointerMap),pointer:r,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const r=t.native.pointerId,i=e3(this._activePointerMap).angle,s={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,s);const n=G9(s,FK(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(i)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const r=t.native.pointerId,i=this._activePointerMap.get(r);i?i.event=t:this._addPointer(t)}_removePointer(t){const r=e3(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){const r=e3(this._activePointerMap);this._activePointerMap.forEach(i=>{i.initialAngle=G9(i,r)-t,i.lastAngle=G9(i,r)-t})}_emitEvent(t,r,i){const s=e3(this._activePointerMap);this._drag.emit(this._createPayload(t,r,s,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){const r=t.data.native.pointerId,i=t.timestamp;this._activePointerMap.get(r)&&(this._activePointerMap.size===1?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const r=t.data,i=r.currentEvent,s=t.timestamp;switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this._isCurrentDragSuppressed&&this._emitEvent("update",i,s)):(this._addPointer(i),this._emitEvent("added",i,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",i,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function FK(e){const t=[];return e.forEach(r=>{t.push(xr(r.event.x,r.event.y))}),P6e(t)}function e3(e){const t=FK(e);let r=0;return e.forEach(i=>{let s=G9(i,t),n=s-i.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=i.lastAngle+n,i.lastAngle=s;const a=s-i.initialAngle;r+=a}),r/=e.size||1,{angle:r,radius:t.radius,center:t.center}}function V6e(e){const t=new Map;return e.forEach((r,i)=>t.set(i,r.event)),t}function G9(e,t){const r=e.event,i=r.x-t.center.x,s=r.y-t.center.y;return Math.atan2(s,i)}var mN;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(mN||(mN={}));let z6e=class extends qr{constructor(t=ni.maximumDoubleClickDelay,r=ni.maximumDoubleClickDistance,i=ni.maximumDoubleTouchDelay,s=ni.maximumDoubleTouchDistance,n=By){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=jp(r);if(!this._pointerState.has(i)){const s={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(i,s),this.startCapturingPointer(r.native)}}_handlePointerUp(t){const r=t.data,i=jp(r),s=this._pointerState.get(i);if(s&&s.downButton===r.native.button){const n=s.immediateDoubleClick,a=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),N_(n,t.data)>a?this._startImmediateDoubleClick(t,s):(this._immediateDoubleClick.emit(t.data,void 0,n.modifiers),this._removeState(r))):N_(s,t.data)>a?this._removeState(r):this._startImmediateDoubleClick(t,s)}}_startImmediateDoubleClick(t,r){const i=t.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_removeState(t){const r=jp(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}},j6e=class extends qr{constructor(t=ni.maximumClickDelay,r=ni.movementUntilMouseDrag,i=ni.movementUntilPenDrag,s=ni.movementUntilTouchDrag,n=ni.holdDelay,a=By){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=i,this._movementUntilTouchDrag=s,this._holdDelay=n,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",o=>this._handlePointerLoss(o,"pointer-up")),this.registerIncoming("pointer-capture-lost",o=>this._handlePointerLoss(o,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",o=>this._handlePointerLoss(o,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",o=>this._handlePointerMove(o)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=Ft(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){const r=t.data,i=r.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const a=this._pointerState.get(i);if(a){if(!a.isDragging){const o=a.previousEvent;this._pointerHold.emit(o,void 0,t.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._holdDelay));const n={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(i,n),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){const r=t.data,i=r.native.pointerId,s=this._pointerState.get(i);s&&(s.isDragging?this._pointerDrag.emit(t3("update",s,r),void 0,s.modifiers):F6e(r,s.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),s.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const r=t.data,i=r.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=t.modifiers,s.isDragging=!0,i===s.startEvent.native.pointerId?this._pointerDrag.emit(t3("start",s,r)):this._pointerDrag.emit(t3("start",s,s.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){const i=t.data,s=i.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(t3("end",n,r==="pointer-up"?i:n.previousEvent),void 0,n.modifiers):r==="pointer-up"&&n.downButton===i.native.button&&t.timestamp-n.startTimestamp<=this._maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(s),this.stopCapturingPointer(i.native),this._pointerState.size===0&&this._moveHandle.pause())}};function t3(e,t,r){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:r}}let q6e=class extends qr{constructor(t=ni.maximumDoubleClickDelay,r=ni.maximumDoubleClickDistance,i=ni.maximumDoubleTouchDelay,s=ni.maximumDoubleTouchDistance,n=By){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=n,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",a=>this._handleImmediateClick(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=Ft(t.doubleClickTimer))}get hasPendingInputs(){for(const t of this._pointerState.values())if(t.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(t,r){const i=this._pointerState.get(t);i&&(i.doubleClickTimer=Ft(i.doubleClickTimer),r&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const r=this._pointerState.get(t);r.pointerDownCount===1&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){const r=t.data,{pointerType:i}=r.native,s=B6e(r);if(!this._pointerState.has(s))return void this._startClick(t);const n=this._pointerState.get(s),{data:a,modifiers:o}=n.event,l=i==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;N_(a,r)>l?(this._clearDoubleClickTimer(s,!0),this._startClick(t)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(a,void 0,o))}_handlePointerDown(t){const r=jp(t.data),i=this._pointerState.get(r);i&&(i.pointerDownCount+=1)}_startClick(t){const{data:r}=t,{native:{pointerType:i}}=r,s=jp(r),n=i==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:t,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function B6e(e){const{pointerId:t,pointerType:r,button:i}=e.native;return r==="mouse"?`${t}:${i}`:`${r}`}const r3={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},yN=Symbol("handles");let Of=class extends ie{initialize(){const t=()=>{var r;return(r=this.view)==null?void 0:r.ready};this.addHandles([jr(()=>!t(),()=>this._disconnect()),jr(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerType}get latestPointerLocation(){var t;return(t=this._inputManager)==null?void 0:t.latestPointerLocation}get multiTouchActive(){var t;return((t=this._inputManager)==null?void 0:t.multiTouchActive)??!1}isModifierKeyDown(t){var r;return((r=this._inputManager)==null?void 0:r.isModifierKeyDown(t))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(yN),this._inputManager=pt(this._inputManager)}_connect(){const t=this.view.surface,r=new RK(t,this.view.input),i=[new z6e,new j6e,new q6e,new D6e(this.view.navigation),new N6e],s=new mn({eventSource:r,recognizers:i}),n=new I_e(this.view,["primary"]),a=new C_e(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new O6e],uu.INTERNAL),s.installHandlers("navigation",[new E6e(this.view),new y6e(this.view),new x6e(this.view),new lN(this.view),new lN(this.view,[r3.counter]),n,new w6e(this.view,r3.pan),new S6e(this.view,r3.zoom),new _6e(this.view,r3.rotate),a,new T_e(this.view,"touch")],uu.INTERNAL),this.view.viewEvents.connect(s),this._source=r,this._inputManager=s,this.addHandles([U(()=>{var o,l;return(l=(o=this.view)==null?void 0:o.navigation)==null?void 0:l.browserTouchPanEnabled},o=>{this._source&&(this._source.browserTouchPanningEnabled=!o)},we),U(()=>{const{actionMap:o}=this.view.navigation;return{panActions:oN("pan",o),rotateActions:oN("rotate",o)}},({panActions:o,rotateActions:l})=>{n.pointerActions=o,a.pointerActions=l},Hi)],yN)}get test(){}};c([u()],Of.prototype,"view",void 0),c([u()],Of.prototype,"latestPointerType",null),c([u()],Of.prototype,"latestPointerLocation",null),c([u()],Of.prototype,"multiTouchActive",null),Of=c([S("esri.views.2d.input.MapViewInputManager")],Of);const U6e=Of,bN=160;let Ug=class extends ie{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=bN&&this.clear()},bN))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};c([u()],Ug.prototype,"_timer",void 0),c([u()],Ug.prototype,"stationary",null),Ug=c([S("esri.views.2d.support.StationaryManager")],Ug);const G6e=e=>{let t=class extends e{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new bi({constraints:new aN({view:this})}),this.goToManager=new U9({view:this}),this.stationaryManager=new Ug,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new __e(this),this.inputManager=new U6e({view:this}),this.viewEvents=new $Q(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([U(()=>this.viewpoint,()=>this.stationaryManager.flip(),Za),this.on("resize",i=>this.stateManager.resize(i.width,i.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var r;return((r=this.stateManager)==null?void 0:r.extent)??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(r){const i=this._get("animation");if(r===i)return;if(i&&i.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const s=()=>{var n;this.destroyed||r===this._get("animation")&&(this._set("animation",null),(n=this.frameTask)==null||n.requestFrame())};r.when(s,s)}get constraints(){var r;return(r=this.stateManager)==null?void 0:r.constraints}set constraints(r){r.view=this;const i=this.stateManager.constraints;this.stateManager.constraints=r,i==null||i.destroy()}get padding(){var r;return(r=this.stateManager)==null?void 0:r.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:i}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=i}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}on(r,i,s,n){return this.inputManager&&this.viewEvents.on(r,i,s,n)||super.on(r,i)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,i){return this.goToManager.goTo(r,i)}};return c([u({readOnly:!0})],t.prototype,"animationManager",void 0),c([u({readOnly:!0})],t.prototype,"fullOpacity",void 0),c([u()],t.prototype,"stateManager",void 0),c([u()],t.prototype,"constraintsInfo",null),c([u()],t.prototype,"extent",null),c([u()],t.prototype,"goToManager",void 0),c([u({readOnly:!0})],t.prototype,"state",null),c([u({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),c([u()],t.prototype,"renderingOptions",void 0),c([u({readOnly:!0})],t.prototype,"interacting",null),c([u()],t.prototype,"stationary",null),c([u()],t.prototype,"animation",null),c([u({type:aN})],t.prototype,"constraints",null),c([u({readOnly:!0})],t.prototype,"inputManager",void 0),c([u()],t.prototype,"padding",null),c([u()],t.prototype,"resizeAlign",null),c([u()],t.prototype,"rotation",null),c([u({readOnly:!0})],t.prototype,"viewEvents",void 0),c([u({type:Tr})],t.prototype,"viewpoint",null),t=c([S("esri.views.Viewport2DMixin")],t),t};let gN=class{constructor(t){this._view=t,this.viewpoint=new Tr({targetGeometry:new xe,scale:0,rotation:0})}get view(){return this._view}get size(){const[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return ak(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,r){r.pan=VH(this.center,t.center);let i=Math.abs(t.rotation-this.rotation);i=i>=180?360-i:i,r.rotate=Jd(i),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,i){const{pan:s,rotate:n,zoom:a,zoomOffset:o}=i,{center:l}=this;l.spatialReference=t.center.spatialReference,l.x=ig(t.center.x,r.center.x,s),l.y=ig(t.center.y,r.center.y,s),this.viewpoint.scale=ig(t.scale,r.scale+o,a);let d=t.rotation;const f=r.rotation;Math.abs(f-d)>=180&&(d+=360*(d<f?1:-1)),this.viewpoint.rotation=ig(d,f,n)}copyFrom(t){Ei(this.viewpoint,t.viewpoint),this._view=t.view}};function Db(e,t,r,i){const s=3*e,n=3*(r-e)-s,a=1-s-n,o=3*t,l=3*(i-t)-o,d=1-o-l;function f(b){return((a*b+n)*b+s)*b}function p(b){return((d*b+l)*b+o)*b}function m(b){return(3*a*b+2*n)*b+s}function y(b,g){let v,w,_,x,T,k;for(_=b,k=0;k<8;k++){if(x=f(_)-b,Math.abs(x)<g)return _;if(T=m(_),Math.abs(T)<1e-6)break;_-=x/T}if(v=0,w=1,_=b,_<v)return v;if(_>w)return w;for(;v<w;){if(x=f(_),Math.abs(x-b)<g)return _;b>x?v=_:w=_,_=.5*(w-v)+v}return _}return function(b,g=1e-6){return p(y(b,g))}}const Ln={};Ln.ease=Db(.25,.1,.25,1),Ln.linear=Db(0,0,1,1),Ln.easeIn=Ln["ease-in"]=Db(.42,0,1,1),Ln.easeOut=Ln["ease-out"]=Db(0,0,.58,1),Ln.easeInOut=Ln["ease-in-out"]=Db(.42,0,.58,1);const H6e=e=>e,O4=e=>e*e,fk=e=>1-O4(1-e),W6e=e=>e<.5?O4(2*e)/2:(fk(2*(e-.5))+1)/2,pk=e=>e*e*e,PK=e=>1-pk(1-e),Z6e=e=>e<.5?pk(2*e)/2:(PK(2*(e-.5))+1)/2,hk=e=>e*e*e*e,NK=e=>1-hk(1-e),J6e=e=>e<.5?hk(2*e)/2:(NK(2*(e-.5))+1)/2,mk=e=>e*e*e*e*e,DK=e=>1-mk(1-e),Y6e=e=>e<.5?mk(2*e)/2:(DK(2*(e-.5))+1)/2,yk=e=>1-Math.cos(e*Math.PI/2),VK=e=>1-yk(1-e),Q6e=e=>e<.5?yk(2*e)/2:(VK(2*(e-.5))+1)/2,bk=e=>2**(10*(e-1)),gk=e=>1-bk(1-e),K6e=e=>e<.5?bk(2*e)/2:(gk(2*(e-.5))+1)/2,vk=e=>-(Math.sqrt(1-e*e)-1),zK=e=>1-vk(1-e),X6e=e=>e<.5?vk(2*e)/2:(zK(2*(e-.5))+1)/2;function Zn(e){const t=2*(e-Math.sqrt((e-1)*e)),r=t/2/e;return i=>i<r?e*i*i:t*i-t+1}function Jn(e,t){return(r,i)=>r<t?t*e(r/t,i):1-e((1-r)/(1-t),i)*(1-t)}const e4e=Jn(Zn(1),1),t4e=Jn(Zn(1),0),lT=Jn(Zn(1),.5),r4e=Jn(Zn(2),1),i4e=Jn(Zn(2),0),s4e=Jn(Zn(2),.5),n4e=Jn(Zn(3),1),a4e=Jn(Zn(3),0),o4e=Jn(Zn(3),.5),l4e=Jn(Zn(4),1),c4e=Jn(Zn(4),0),d4e=Jn(Zn(4),.5),vN={linear:H6e,"in-quad":O4,"out-quad":fk,"in-out-quad":W6e,"in-coast-quad":e4e,"out-coast-quad":t4e,"in-out-coast-quad":lT,"in-cubic":pk,"out-cubic":PK,"in-out-cubic":Z6e,"in-coast-cubic":r4e,"out-coast-cubic":i4e,"in-out-coast-cubic":s4e,"in-quart":hk,"out-quart":NK,"in-out-quart":J6e,"in-coast-quart":n4e,"out-coast-quart":a4e,"in-out-coast-quart":o4e,"in-quint":mk,"out-quint":DK,"in-out-quint":Y6e,"in-coast-quint":l4e,"out-coast-quint":c4e,"in-out-coast-quint":d4e,"in-sine":yk,"out-sine":VK,"in-out-sine":Q6e,"in-expo":bk,"out-expo":gk,"in-out-expo":K6e,"in-circ":vk,"out-circ":zK,"in-out-circ":X6e,ease:e=>Ln.ease(e),"ease-in":e=>Ln.easeIn(e),"ease-out":e=>Ln.easeOut(e),"ease-in-out":e=>Ln.easeInOut(e)};let u4e=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const D_={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},jK={maxDuration:4e3};let f4e=class qK{constructor(t){this._createCamera=t,this.compared=new u4e,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:D_.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const t=new qK(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,i){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=i.desiredScreenFlow??D_.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){const r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Ki()}get hasFov(){return Math.abs(this.compared.fov)>Ki()}get hasRotate(){return this.compared.rotate>Ki()}},p4e=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},h4e=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,r)=>t+r.time,0)}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),t*=this.time;let i=0,s=0;const n=this.definition,a=this.segments.reduce((o,l)=>o||l.definition.hasZoom,!1);for(let o=0;o<this.segments.length;o++){const l=this.segments[o],d=l.definition;if(t<=l.time||o===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:t/l.time,r),n.hasPan&&!isNaN(r.pan)&&isFinite(n.compared.pan)?r.pan=(i+d.compared.pan*r.pan)/n.compared.pan:r.pan=1,n.hasRotate&&!isNaN(r.rotate)&&isFinite(n.compared.rotate)?r.rotate=(s+d.compared.rotate*r.rotate)/n.compared.rotate:r.rotate=1,a&&!isNaN(r.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:f,targetZoom:p}=d.compared,m=r.zoom*(p-f)+f,y=this.segments[0].definition.compared.sourceZoom,b=this.segments[this.segments.length-1].definition.compared.targetZoom,g=Math.abs(p-y)>Math.abs(f-y)?p:f;r.zoomOffset=g-b,r.zoom=(m-y)/(g-y)}else r.zoom=1;return r}t-=l.time,i+=d.compared.pan,s+=d.compared.rotate}}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i)}},L7=class{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,r=t.compared,i=r.sourceZoom,s=r.targetZoom;this._zoomSign=i>s?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(i);const n=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=r.rotate*n}_updatePixelFlow(){const t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:i,hasPan:s,hasRotate:n}=this.definition;let a=0,o=0;i&&(s&&(a=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(o=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(i&&s&&n){const d=a+o+a*o;this._zoomPixelFlow=a*o/d*l,this._panPixelFlow=o/d*l,this._rotatePixelFlow=a/d*l}else if(i&&s){const d=1+a;this._zoomPixelFlow=a/d*l,this._panPixelFlow=1/d*l}else if(i&&n){const d=1+o;this._zoomPixelFlow=o/d*l,this._rotatePixelFlow=1/d*l}else if(s&&n){const d=this._panPixelsAtSource/this._rotatePixels,f=1+d;this._panPixelFlow=d/f*l,this._rotatePixelFlow=1/f*l}else s?this._panPixelFlow=l:i?this._zoomPixelFlow=l:n&&(this._rotatePixelFlow=l);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/m4e:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(t){if(t===0||t===1)return t;if(this.definition.hasZoom){const r=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(r*(r/i)**-t-r)/(i-r)}return t}_interpolateComponentsFov(t){if(t===0)return this.definition.segmentStart;if(t===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:r,segmentEnd:i}=this.definition;return r+t*(i-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(t===0||t===1)return t;if(this.definition.hasPan&&this.definition.hasZoom){const r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}};const m4e=Jd(45);function y4e(e,t,r){const i=t-e.compared.sourceZoom,s=e.halfWindowPanAtZoom(i);return-e.halfWindowSize*(r.ascensionFactor*Math.LN2*e.compared.pan+s)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*s)}function b4e(e,t,r){const i=1/t,s=Math.log(e.compared.sourceZoom*i),n=1/e.desiredPixelFlow,a=1/Math.LN2,o=t-e.compared.sourceZoom,l=1/o,d=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(o))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*i*n*a*l*d-e.halfWindowSize*s*n*a*l+e.halfWindowSize*s*n*a*d/(o*o)}function g4e(e,t,r){const i=t-e.compared.sourceZoom,s=1/i,n=1/t,a=Math.log(e.compared.sourceZoom*n),o=(r.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(i))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*o+2*s*a+2*n-2*a*o/(i*i)-o/(t*t))/(e.desiredPixelFlow*Math.LN2)}function v4e(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function w4e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function _4e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function S4e(e,t,r){return-e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}function $4e(e,t,r){return e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}function x4e(e,t,r){return-2*e.compared.pan*e.halfWindowSize*(r.ascensionFactor+r.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}function E4e(e,t,r){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function T4e(e,t,r){const i=Math.log(t/e.compared.targetZoom),s=1/e.desiredPixelFlow,n=1/Math.LN2,a=-t+e.compared.targetZoom,o=1/a,l=(-e.halfWindowPanAtZoom(t)-r.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*i*s*n*o+e.halfWindowSize*i*s*n*l/(a*a)+e.halfWindowSize*s*n*o*l/t}function I4e(e,t,r){const i=t-e.compared.targetZoom,s=1/i,n=1/t,a=Math.log(t/e.compared.targetZoom),o=(e.halfWindowPanAtZoom(t)+r.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*s*(-2*s*n*o-2*s*a+2*n+2*a*o/(i*i)-o/(t*t))/(e.desiredPixelFlow*Math.LN2)}function C4e(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function M4e(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function A4e(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function k4e(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(t===0)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const r=Math.LN2*e.compared.pan,i=t,s=e.halfWindowPanAtZoom(i),n=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*s);return e.compared.sourceZoom<=e.compared.targetZoom?n*(r-s):n*(r+s)}function L4e(e,t){let r=R4e(e,t);const i={ascensionFactor:t.ascensionFactor!=null?t.ascensionFactor:.5,descensionFactor:t.descensionFactor!=null?t.descensionFactor:.5},s=i.ascensionFactor===0,n=i.descensionFactor===0,a=s?v4e:y4e,o=s?w4e:b4e,l=s?_4e:g4e,d=n?C4e:E4e,f=n?M4e:T4e,p=n?A4e:I4e,m=T=>a(e,T,i)+S4e(e,T,i)+d(e,T,i),y=T=>o(e,T,i)+$4e(e,T,i)+f(e,T,i),b=T=>l(e,T,i)+x4e(e,T,i)+p(e,T,i);let g=m(r);const v=k4e(e);let w;const _=t.maximumIterations||20,x=t.maximumDistance!=null?t.maximumDistance:1/0;for(w=0;w<_;w++){const T=t.desiredSlope??1e-6;let k=y(r);Math.abs(k)>T&&(k+=T);const A=k/b(r);if(isNaN(A)||r>=x&&A<0){if(!isFinite(x))return null;r=x,g=m(r);break}if(r-=A,r<e.compared.sourceZoom||r<e.compared.targetZoom)return null;const M=m(r);if(Math.abs(M-g)/g<=.005)break;g=M}return g>v*(1-.3)||r<e.compared.sourceZoom||r<e.compared.targetZoom?null:r}function R4e(e,t){const r=Math.max(e.compared.sourceZoom,e.compared.targetZoom),i=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return i<r?t.maximumDistance!=null?r+(t.maximumDistance-r)/2:1.5*r:t.maximumDistance?Math.min(t.maximumDistance,i):i}let O4e=class extends h4e{constructor(t,r){super(),this._preallocSegments=[new L7,new L7,new L7],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();const i=r!=null&&r.apex?L4e(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,r==null?void 0:r.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i),t===this._ascensionSegment?i.zoom=fk(i.zoom):t===this._descensionSegment&&(i.zoom=O4(i.zoom))}_updateWithApex(t,r){const[i,s,n]=this._preallocSegments,a=(r==null?void 0:r.ascensionFactor)??.5,o=Math.min(1-a,(r==null?void 0:r.ascensionFactor)!=null&&r.descensionFactor!=null?r.descensionFactor:.5),l=1-a-o;i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*a,i.definition.compared.rotate=this.definition.compared.rotate*a,i.definition.segmentEnd=a,i.update(),this._ascensionSegment=i,this.segments.push(i),l>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=t,s.definition.compared.targetZoom=t,s.definition.compared.pan=this.definition.compared.pan*l,s.definition.compared.rotate=this.definition.compared.rotate*l,s.definition.segmentStart=i.definition.segmentEnd,s.definition.segmentEnd=i.definition.segmentEnd+l,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=t,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentStart=a+l,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}};const F4e=new p4e;let P4e=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=lT,this.definition=new f4e(t),this.path=new O4e}update(t,r,i){this.definition.update(t,r,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings(Wce(isFinite(this.path.time)?this.path.time:0),i),this._easing=i.easing??(this._time>=1e3?lT:gk)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const i=this.path.interpolateComponentsAt(t,F4e);r.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(t){const r=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(i-r)}_applyTimeSettings(t,r){const i=r.speedFactor!=null?r.speedFactor:1,s=r.minDuration??D_.minDuration/i,n=r.maxDuration??D_.maxDuration/i;return t=r.duration!=null?r.duration:Math.min(Math.max(t/i,s),n)}};const N4e=2e3,D4e=64;let V4e=class{constructor(t){this._view=t,this._animation=new P4e(()=>new gN(this._view)),this._current=new gN(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,i={}){Ei(this._current.viewpoint,t),Ei(this._source.viewpoint,t),Ei(this._target.viewpoint,r),this._animation.update(this._source,this._target,i)}applyRatio(t,r){this._animation.cameraAt(r,this._current),Ei(t,this._current.viewpoint)}},ym=class extends ie{constructor(t){super(t),this._animation=null,this._destinationViewState=new uk,this.updateFunction=null,this.easing=vN.ease,this.viewpoint=new Tr({targetGeometry:new xe,scale:0,rotation:0}),this._updateTask=ly({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new V4e(t.view)}destroy(){this._updateTask=Ft(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,i){this.stop();const s=this.viewpoint;Ei(s,r);const n=t.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(r.scale,n.scale)*D4e,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:i==null?void 0:i.duration,maxDuration:(i==null?void 0:i.animationMode)==="auto"?1/0:(i==null?void 0:i.maxDuration)??jK.maxDuration,speedFactor:i==null?void 0:i.speedFactor,easing:(typeof(i==null?void 0:i.easing)=="string"?vN[i.easing]:i==null?void 0:i.easing)||this.easing}),(i==null?void 0:i.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,z4e(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const a=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;const i=new iT({target:t.clone()}),s=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){var i,s;const r=this.animation;if(r&&r.state!==iT.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),(i=this.animation)==null||i.update(this.viewpoint);else{const n=performance.now()-this._startTime,a=this._transition.duration,o=a>0?n/a:1,l=o>=1;this._transition.applyRatio(this.viewpoint,o),l&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function z4e(e,t,r,i){if((t==null?void 0:t.duration)!=null)return!0;const{time:s,isLinear:n}=e,a=(t==null?void 0:t.speedFactor)||1;if(s>((t==null?void 0:t.maxDuration)??jK.maxDuration/a))return!1;if(n){const l=Wt(),d=xr(...i.toScreen(l,...r.center)),f=xr(...r.toScreen(l,...i.center)),p=f!=null&&f.x>-1*r.size[0]&&f.x<(1.5+.5)*r.size[0]&&f.y>-1*r.size[1]&&f.y<(1.5+.5)*r.size[1],m=d!=null&&d.x>-1*i.size[0]&&d.x<(1.5+.5)*i.size[0]&&d.y>-1*i.size[1]&&d.y<(1.5+.5)*i.size[1];if(s>N4e/a&&!p&&!m)return!1}return!0}c([u()],ym.prototype,"easing",void 0),c([u()],ym.prototype,"view",void 0),c([u()],ym.prototype,"viewpoint",void 0),ym=c([S("esri.views.2d.AnimationManager")],ym);const j4e=ym;function xt(){return Promise.all([C(()=>import("./webglDeps-BMvgpo_w.js"),__vite__mapDeps([268,240,269,270,271])),C(()=>import("./mapViewDeps-BrEEb22I.js"),__vite__mapDeps([272,173,273,171,172,174,175,176,177,169,180,274,269,240,270,244,220,170,144,275,168,198,276,227,226,184,122,178,186,277,181,182,183,278,225,268,271,279,193,280,167,125,281,238,234,218,242,282,283,185,284,285,179,286,149,190,165,287,288,289,290,236,291,292]))])}const Vb=()=>xt().then(()=>C(()=>import("./TileLayerView2D-CWjJhslU.js"),__vite__mapDeps([293,176,170,174,171,172,173,175,177,169,278,276,275,168,144,270,240,198,227,226,184,122,225,279,274,269,244,220,273,180,178,186,193,280,167,125,181,182,183,238,234,218,286,149,190,165,294,295,290,296,251,297,288,289,298,299,300,301]))),rf=()=>xt().then(()=>C(()=>import("./FeatureLayerView2D-DGUoiomz.js").then(e=>e.F),__vite__mapDeps([302,122,303,304,296,276,251,289,170,168,144,169,269,240,290,275,270,198,227,226,184,273,171,172,173,174,175,176,177,180,274,244,220,178,186,193,277,305,192,301,298]))),wN={"base-dynamic":()=>xt().then(()=>C(()=>import("./BaseDynamicLayerView2D-C2L_niPn.js"),__vite__mapDeps([306,307,275,168,144,169,270,240,198,276,227,226,184,122,295,274,269,244,220,180,296,251,308,298]))),"base-tile":Vb,"bing-maps":Vb,catalog:()=>xt().then(()=>C(()=>import("./CatalogLayerView2D-C0XBkOoA.js"),__vite__mapDeps([309,296,276,251]))),"catalog-dynamic-group":()=>xt().then(()=>C(()=>import("./CatalogDynamicGroupLayerView2D-CBw-KYkB.js"),__vite__mapDeps([310,296,276,251]))),"catalog-footprint":()=>xt().then(()=>C(()=>import("./CatalogFootprintLayerView2D-Cm5TP3jD.js"),__vite__mapDeps([311,302,122,303,304,296,276,251,289,170,168,144,169,269,240,290,275,270,198,227,226,184,273,171,172,173,174,175,176,177,180,274,244,220,178,186,193,277,305,192,301,298]))),csv:rf,"geo-rss":()=>xt().then(()=>C(()=>import("./GeoRSSLayerView2D-CHIPOBoE.js"),__vite__mapDeps([312,296,276,251,287,288,289,170,168,144,169,269,240,290,275,270,198,227,226,184,122,273,171,172,173,174,175,176,177,180,274,244,220,178,186,286,278,167,125,149,190,165]))),feature:rf,geojson:rf,parquet:rf,graphics:()=>xt().then(()=>C(()=>import("./GraphicsLayerView2D-DRzb6blX.js"),__vite__mapDeps([313,296,276,251,287,288,289,170,168,144,169,269,240,290,275,270,198,227,226,184,122,273,171,172,173,174,175,176,177,180,274,244,220,178,186,286,278,167,125,149,190,165]))),group:()=>xt().then(()=>C(()=>import("./GroupLayerView2D-CEbl5gbt.js"),__vite__mapDeps([314,296,276,251]))),imagery:()=>xt().then(()=>C(()=>import("./ImageryLayerView2D-Ca8uUBDx.js"),__vite__mapDeps([315,316,240,144,204,275,168,169,270,198,276,227,226,184,122,296,251,286,171,172,173,174,175,176,177,278,167,170,125,273,180,274,269,244,220,178,186,149,190,165,297,288,289,290,307,295,308,207,303,301,298]))),"imagery-tile":()=>xt().then(()=>C(()=>import("./ImageryTileLayerView2D-OqhD8ZgR.js"),__vite__mapDeps([317,318,316,240,144,204,275,168,169,270,198,276,227,226,184,122,296,251,319,284,183,269,290,320,207,303,301,298]))),kml:()=>xt().then(()=>C(()=>import("./KMLLayerView2D-Dk6OUQZw.js"),__vite__mapDeps([321,322,295,276,274,269,240,270,244,220,180,307,275,168,144,169,198,227,226,184,122,296,251,287,288,289,170,290,273,171,172,173,174,175,176,177,178,186,286,278,167,125,149,190,165,207,284,183,281,268,271,238,234,218,280,242,319]))),"knowledge-graph":()=>xt().then(()=>C(()=>import("./KnowledgeGraphLayerView2D-BU0MPeZZ.js"),__vite__mapDeps([323,296,276,251]))),"link-chart":()=>xt().then(()=>C(()=>import("./KnowledgeGraphLayerView2D-BU0MPeZZ.js"),__vite__mapDeps([323,296,276,251]))),"knowledge-graph-sublayer":rf,"map-image":()=>xt().then(()=>C(()=>import("./MapImageLayerView2D-DUzqKPxO.js"),__vite__mapDeps([324,307,275,168,144,169,270,240,198,276,227,226,184,122,295,274,269,244,220,180,296,251,286,171,172,173,174,175,176,177,278,167,170,125,273,178,186,149,190,165,297,288,289,290,308,303,298,299,300,301]))),"map-notes":()=>xt().then(()=>C(()=>import("./MapNotesLayerView2D-BlQHzCuC.js"),__vite__mapDeps([325,296,276,251,287,288,289,170,168,144,169,269,240,290,275,270,198,227,226,184,122,273,171,172,173,174,175,176,177,180,274,244,220,178,186,286,278,167,125,149,190,165]))),media:()=>xt().then(()=>C(()=>import("./MediaLayerView2D-_zHpILEX.js"),__vite__mapDeps([326,327,149,190,176,170,174,171,172,173,175,177,169,278,276,275,168,144,270,240,198,227,226,184,122,225,279,274,269,244,220,273,180,178,186,193,280,167,125,181,182,183,238,234,218,286,165,283,185,328,285,296,251]))),"ogc-feature":()=>xt().then(()=>C(()=>import("./OGCFeatureLayerView2D-BoXXu3Hc.js"),__vite__mapDeps([329,302,122,303,304,296,276,251,289,170,168,144,169,269,240,290,275,270,198,227,226,184,273,171,172,173,174,175,176,177,180,274,244,220,178,186,193,277,305,192,301,298]))),"open-street-map":Vb,"oriented-imagery":rf,route:()=>xt().then(()=>C(()=>import("./RouteLayerView2D-B5QUlOfK.js"),__vite__mapDeps([330,331,332,296,276,251,287,288,289,170,168,144,169,269,240,290,275,270,198,227,226,184,122,273,171,172,173,174,175,176,177,180,274,244,220,178,186,286,278,167,125,149,190,165]))),stream:()=>xt().then(()=>C(()=>import("./StreamLayerView2D-DLYi_Q8e.js"),__vite__mapDeps([333,302,122,303,304,296,276,251,289,170,168,144,169,269,240,290,275,270,198,227,226,184,273,171,172,173,174,175,176,177,180,274,244,220,178,186,193,277,305,192,301,298]))),"subtype-group":()=>xt().then(()=>C(()=>import("./SubtypeGroupLayerView2D-n6JaP1Mp.js"),__vite__mapDeps([334,302,122,303,304,296,276,251,289,170,168,144,169,269,240,290,275,270,198,227,226,184,273,171,172,173,174,175,176,177,180,274,244,220,178,186,193,277,305,192,301,298]))),tile:Vb,"vector-tile":()=>xt().then(()=>C(()=>import("./VectorTileLayerView2D-Degd3Wwv.js"),__vite__mapDeps([335,225,177,175,176,174,240,226,275,168,144,169,270,198,276,227,184,122,290,130,228,229,296,251,298]))),video:()=>xt().then(()=>C(()=>import("./VideoLayerView2D-D4uN5-Nf.js"),__vite__mapDeps([336,337,328,198,275,168,144,169,270,240,276,227,226,184,122,273,171,172,173,174,175,176,177,180,274,269,244,220,170,178,186,285,296,251,287,288,289,290,286,278,167,125,149,190,165]))),wcs:()=>xt().then(()=>C(()=>import("./ImageryTileLayerView2D-OqhD8ZgR.js"),__vite__mapDeps([317,318,316,240,144,204,275,168,169,270,198,276,227,226,184,122,296,251,319,284,183,269,290,320,207,303,301,298]))),"web-tile":Vb,wfs:rf,wms:()=>xt().then(()=>C(()=>import("./WMSLayerView2D-8i8lwufH.js"),__vite__mapDeps([338,307,275,168,144,169,270,240,198,276,227,226,184,122,295,274,269,244,220,180,296,251,308,298,339,303]))),wmts:()=>xt().then(()=>C(()=>import("./WMTSLayerView2D-CX0KY967.js"),__vite__mapDeps([340,294,295,276,274,269,240,270,244,220,180,275,168,144,169,198,227,226,184,122,290,296,251,298]))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function q4e(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",r=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new I(`${r}:view-not-supported`,`${t} is not supported in 2D`)}const _N={hasLayerViewModule:e=>wN[e.type]!=null,importLayerView:e=>{const t=wN[e.type];if(t==null)throw q4e(e);return t(e)}};let Ou=class Ff{static getId(t,r,i,s){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${i}/${s}`}constructor(t,r,i,s){this.set(t,r,i,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){const t=4095&this.row,r=4095&this.col,i=63&this.level;return(3&this.world)<<30|r<<22|t<<8|i}acquire(t,r,i,s){this.set(t,r,i,s)}contains(t){const r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){const r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Ff(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,i,s){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[n,a,o,l]=t.split("/");this.level=parseFloat(n),this.row=parseFloat(a),this.col=parseFloat(o),this.world=parseFloat(l)}else this.level=+t,this.row=+r,this.col=+i,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Ff(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,r,i){const s=this.clone();return s.col+=t,s.row+=r,i.normalizeKey(s),s}getChildKeys(){const t=this.level+1,r=this.row<<1,i=this.col<<1,s=this.world;return[new Ff(t,r,i,s),new Ff(t,r,i+1,s),new Ff(t,r+1,i,s),new Ff(t,r+1,i+1,s)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}};Ou.pool=new Vu(Ou,null,null,25,50);function Oh(e,t){return[e,t]}function sf(e,t,r){return e[0]=t,e[1]=r,e}function B4e(e,t,r,i,s){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e}const na=new Ou("0/0/0/0");let U4e=class BK{static create(t,r,i=null){const s=Ti(t.spatialReference),n=r.origin||Oh(t.origin.x,t.origin.y),a=Oh(t.size[0]*r.resolution,t.size[1]*r.resolution),o=Oh(-1/0,-1/0),l=Oh(1/0,1/0),d=Oh(1/0,1/0);i!=null&&(sf(o,Math.max(0,Math.floor((i.xmin-n[0])/a[0])),Math.max(0,Math.floor((n[1]-i.ymax)/a[1]))),sf(l,Math.max(0,Math.floor((i.xmax-n[0])/a[0])),Math.max(0,Math.floor((n[1]-i.ymin)/a[1]))),sf(d,l[0]-o[0]+1,l[1]-o[1]+1));const{cols:f,rows:p}=r;let m,y,b,g;return!i&&f&&p&&(sf(o,f[0],p[0]),sf(l,f[1],p[1]),sf(d,f[1]-f[0]+1,p[1]-p[0]+1)),t.isWrappable?(m=Oh(Math.ceil(Math.round((s.valid[1]-s.valid[0])/r.resolution)/t.size[0]),d[1]),y=!0,b=s.origin,g=s.valid):(m=d,y=!1),new BK(r.level,r.resolution,r.scale,n,o,l,d,a,m,y,b,g)}constructor(t,r,i,s,n,a,o,l,d,f,p,m){this.level=t,this.resolution=r,this.scale=i,this.origin=s,this.first=n,this.last=a,this.size=o,this.norm=l,this.worldSize=d,this.wrap=f,this._spatialReferenceOrigin=p,this._spatialReferenceValid=m}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}normalizeKey(t){if(!this.wrap)return;const r=this.worldSize[0],i=t.col;i<0?(t.col=i+r,t.world-=1):i>=r&&(t.col=i-r,t.world+=1)}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){const r=this.origin[0]+t*this.norm[0],i=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&i&&s?r===i[0]?s[0]:this.origin[0]===i[0]&&t===this.worldSize[0]?s[1]:r:r}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,i=!1){na.set(r);const s=i?na.col:this.denormalizeCol(na.col,na.world),n=na.row;return B4e(t,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),t}getTileCoords(t,r,i=!1){na.set(r);const s=i?na.col:this.denormalizeCol(na.col,na.world);return Array.isArray(t)?sf(t,this.getXForColumn(s),this.getYForRow(na.row)):(t.x=this.getXForColumn(s),t.y=this.getYForRow(na.row)),t}},Rv=class{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){const t=this.lodInfo;for(const{row:r,colFrom:i,colTo:s}of this.spans)for(let n=i;n<=s;n++){const a=t.getWorldForColumn(n);yield new Ou(t.level,r,t.normalizeCol(n),a)}}forEach(t,r){const{spans:i,lodInfo:s}=this,{level:n}=s;if(i.length!==0)for(const{row:a,colFrom:o,colTo:l}of i)for(let d=o;d<=l;d++)t.call(r,n,a,s.normalizeCol(d),s.getWorldForColumn(d))}};Rv.pool=new Vu(Rv);let R7=class{constructor(t,r,i){this.row=t,this.colFrom=r,this.colTo=i}};const Mt=new Ou("0/0/0/0");let G4e=class UK{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);const[i,s]=t,[n,a]=r,o=n-i,l=a-s,d=l!==0?o/l:0,f=(Math.ceil(s)-s)*d,p=(Math.floor(s)-s)*d;return new UK(i,Math.floor(s),Math.ceil(a),d,o<0?f:p,o<0?p:f,o<0?n:i,o<0?i:n)}constructor(t,r,i,s,n,a,o,l){this.x=t,this.ymin=r,this.ymax=i,this.invM=s,this.leftAdjust=n,this.rightAdjust=a,this.leftBound=o,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Fs=[[0,0],[0,0],[0,0],[0,0]],H4e=1e-6;let W4e=class{constructor(t,r=null,i=t.lods[0].level,s=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=t.lods.filter(o=>o.level>=i&&o.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const a=this._lodInfos=n.map(o=>U4e.create(t,o,r));n.forEach((o,l)=>{this._infoByLevel[o.level]=a[l],this._infoByScale[o.scale]=a[l],this.scales[l]=o.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,r,i=!1){Mt.set(r);const s=this._infoByLevel[Mt.level];return s?s.getTileBounds(t,Mt,i):t}getTileCoords(t,r,i=!1){Mt.set(r);const s=this._infoByLevel[Mt.level];return s?s.getTileCoords(t,Mt,i):t}getTileCoverage(t,r=192,i=!0,s="closest"){if(!i&&(t.scale>this.minScale||t.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=Rv.pool.acquire(n),o=this._wrap;let l,d,f,p=1/0,m=-1/0;const y=a.spans;Fs[0][0]=Fs[0][1]=Fs[1][1]=Fs[3][0]=-r,Fs[1][0]=Fs[2][0]=t.size[0]+r,Fs[2][1]=Fs[3][1]=t.size[1]+r;for(const w of Fs)t.toMap(w,w),w[0]=n.getColumnForX(w[0]),w[1]=n.getRowForY(w[1]);const b=[];let g=3;for(let w=0;w<4;w++){if(Fs[w][1]===Fs[g][1]){g=w;continue}const _=G4e.create(Fs[w],Fs[g]);p=Math.min(_.ymin,p),m=Math.max(_.ymax,m),b[_.ymin]===void 0&&(b[_.ymin]=[]),b[_.ymin].push(_),g=w}if(p==null||m==null||m-p>100)return null;let v=[];for(l=p;l<m;){b[l]!=null&&(v=v.concat(b[l])),d=1/0,f=-1/0;for(let w=v.length-1;w>=0;w--){const _=v[w];d=Math.min(d,_.getLeftCol()),f=Math.max(f,_.getRightCol())}if(d=Math.floor(d),f=Math.floor(f),l>=n.first[1]&&l<=n.last[1])if(o)if(n.size[0]<n.worldSize[0]){const w=Math.floor(f/n.worldSize[0]);for(let _=Math.floor(d/n.worldSize[0]);_<=w;_++)y.push(new R7(l,Math.max(n.getFirstColumnForWorld(_),d),Math.min(n.getLastColumnForWorld(_),f)))}else y.push(new R7(l,d,f));else d>n.last[0]||f<n.first[0]||(d=Math.max(d,n.first[0]),f=Math.min(f,n.last[0]),y.push(new R7(l,d,f)));l+=1;for(let w=v.length-1;w>=0;w--){const _=v[w];_.ymax>=l?_.incrRow():v.splice(w,1)}}return a}getTileParentId(t){Mt.set(t);const r=this._infoByLevel[Mt.level],i=this._lodInfos.indexOf(r)-1;return i<0?null:(this._getTileIdAtLOD(Mt,this._lodInfos[i],Mt),Mt.id)}getTileResolution(t){const r=this._infoByLevel[typeof t=="object"?t.level:t];return r?r.resolution:-1}getTileScale(t){const r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){Mt.set(r);const i=this._infoByLevel[Mt.level],s=t.lodInfo;if(s.resolution>i.resolution){this._getTileIdAtLOD(Mt,s,Mt);const a=s.denormalizeCol(Mt.col,Mt.world);for(const o of t.spans)if(o.row===Mt.row&&o.colFrom<=a&&o.colTo>=a)return!0}if(s.resolution<i.resolution){const[a,o,l,d]=t.spans.reduce((g,v)=>(g[0]=Math.min(g[0],v.row),g[1]=Math.max(g[1],v.row),g[2]=Math.min(g[2],v.colFrom),g[3]=Math.max(g[3],v.colTo),g),[1/0,-1/0,1/0,-1/0]),f=i.denormalizeCol(Mt.col,Mt.world),p=s.getColumnForX(i.getXForColumn(f)),m=s.getRowForY(i.getYForRow(Mt.row)),y=s.getColumnForX(i.getXForColumn(f+1))-1,b=s.getRowForY(i.getYForRow(Mt.row+1))-1;return!(p>d||y<l||m>o||b<a)}const n=s.denormalizeCol(Mt.col,Mt.world);return t.spans.some(a=>a.row===Mt.row&&a.colFrom<=n&&a.colTo>=n)}normalizeBounds(t,r,i){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){const s=Ti(this.tileInfo.spatialReference),n=-i*(s.valid[1]-s.valid[0]);t[0]+=n,t[2]+=n}return t}getSmallestInfoForScale(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let i=1;i<r.length-1;i++)if(t>r[i]+H4e)return this._infoByScale[r[i-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){const r=this.scales;return this._infoByScale[t]||(t=r.reduce((i,s)=>Math.abs(s-t)<Math.abs(i-t)?s:i,r[0])),this._infoByScale[t]}scaleToLevel(t){const r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=r.length-1;i>=0;i--)if(t<r[i])return i===r.length-1?this._infoByScale[r[r.length-1]].level:this._infoByScale[r[i]].level+(r[i]-t)/(r[i]-r[i+1]);return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,i){const s=this._infoByLevel[i.level];return t.set(i),r.resolution<s.resolution?null:(r.resolution===s.resolution||(t.level=r.level,t.col=Math.floor(i.col*s.resolution/r.resolution+.01),t.row=Math.floor(i.row*s.resolution/r.resolution+.01)),t)}},Z4e=class{constructor(t,r){this.item=t,this.controller=r,this.promise=null}},J4e=class{constructor(t){this._schedule=null,this._task=null,this._deferreds=new zp,this._controllers=new zp,this._processingItems=new zp,this._pausedSignal=_y(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new p_(t.peeker),this.process=t.process;const r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=Ft(this._schedule),this._task=Ft(this._task)}get updating(){var t;return!!((t=this._task)!=null&&t.updating)||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){const r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(r=>r.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,i)=>t(i))}get(t){const r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){const i=this.get(t);if(i)return i;const s=new AbortController;let n=null;r&&(n=qn(r,()=>s.abort()));const a=()=>{const f=this._processingItems.get(t);f&&f.controller.abort(),o(),d.reject(mt())},o=()=>{l.remove(),n!=null&&n.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},l=yM(s.signal,a),d=Ms();return this._deferreds.set(t,d),this._controllers.set(t,s),d.promise.then(o,o),this._queue.push(t),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){var r;const t=this._queue.popLast();return t&&((r=this._deferreds.get(t))==null||r.reject(mt()),this._removeItem(t)),t}reset(){const t=Array.from(this._processingItems.values());this._processingItems.clear();for(const r of t)this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=v2(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(t==null)return;let r;const i=new AbortController,s=new Z4e(t,i);this._processingItems.set(t,s);try{r=this.process(t,i.signal)}catch(n){this._processError(s,n)}Ko(r)?(s.promise=r,r.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,r)}get test(){}};const SN=[0,0];let Tl=class extends ie{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:t,process:r,scheduler:i,priority:s}=this;this._queue=new J4e({concurrency:t,scheduler:i,priority:s,process:(n,a)=>{const o=this._keyToItem.get(n);return r(o,{signal:a})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=pt(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){const r=typeof t=="string"?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return typeof t=="string"?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){const r=t.key.id;if(this._queue.has(r))return this._queue.get(r);const i=this._queue.push(r),s=this.tileInfoView.getTileScale(t.key),n=Uy(this._tilesByScale,s,()=>new Set),a=()=>{n.delete(t.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(r)};return n.add(t.key),this._keyToItem.set(r,t),i.then(a,a),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;const r=new Set;for(const a of t)r.add(this._keyToItem.get(a).key);const i=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[a,o]of this._tilesByScale)if(oG(o,l=>r.has(l))){const l=Math.abs(a-i);l<n&&(s=o,n=l)}return this._getClosestTileKey(s,t).id}_getClosestTileKey(t,r){const i=this.tileInfoView,s=this.state.center;let n,a=Number.POSITIVE_INFINITY;for(const o of t)if(r.has(o.id)){i.getTileCoords(SN,o);const l=I4(SN,s);l<a&&(a=l,n=o)}return n}};c([u({constructOnly:!0})],Tl.prototype,"concurrency",void 0),c([u({constructOnly:!0})],Tl.prototype,"priority",void 0),c([u({constructOnly:!0})],Tl.prototype,"process",void 0),c([u({constructOnly:!0})],Tl.prototype,"scheduler",void 0),c([u()],Tl.prototype,"state",void 0),c([u({constructOnly:!0})],Tl.prototype,"tileInfoView",void 0),Tl=c([S("esri.views.2d.tiling.TileQueue")],Tl);const DJe=Tl;let Y4e=class{constructor(t,r,i){this.maxSize=t,this._tileInfoView=r,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const r=this._tilePerId.get(t);if(!r)return;const i=r.key.level,s=this._tileKeysPerLevel[i];$N(this._tilePerId,t);for(let n=0;n<s.length;n++)if(s[n].id===t){s.splice(n,1);break}return r.visible=!0,r}add(t){t.visible=!1;const r=t.key,i=r.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);const s=r.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(r)}prune(t,r,i){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==t&&(s=this._pruneAroundCenterTile(s,r,i,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,r,i,t))}_pruneAroundCenterTile(t,r,i,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return t;const{size:a,origin:o}=this._tileInfoView.tileInfo,l=i*a[0],d=i*a[1],f=[0,0],p=[0,0];for(n.sort((m,y)=>(f[0]=o.x+l*(m.col+.5),f[1]=o.y-d*(m.row+.5),p[0]=o.x+l*(y.col+.5),p[1]=o.y-d*(y.row+.5),R_(f,r)-R_(p,r)));n.length>0;){const m=n.pop();if(this._removeTile(m.id),--t===this.maxSize)break}return t}_removeTile(t){const r=this._tilePerId.get(t);this._removedFunc&&r&&this._removedFunc(r),$N(this._tilePerId,t)}};function $N(e,t){e.delete(t)}const nf=new Ou(0,0,0,0),ll=new Map,zb=[],O7=[];let zJe=class{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,t.resampling!=null&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new Y4e(t.cacheSize,this.tileInfoView,r=>{this.releaseTile(r)}))}destroy(){this.tileIndex.clear()}update(t){var w,_;const{resampling:r,tileIndex:i}=this,{scale:s,center:n,resolution:a}=t.state,{minScale:o,maxScale:l}=this.tileInfoView,d=!t.stationary&&s>this._previousScale;if(this._previousScale=s,!r&&(s>o||s<l))return this.tiles.length=0,void this.clear();const f=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!f)return this.tiles.length=0,void this.clear();const{spans:p,lodInfo:m}=f,{level:y}=m;this.tiles.length=0,i.forEach(x=>x.visible=!0);let b=0,g=0;if(p.length>0)for(const{row:x,colFrom:T,colTo:k}of p)for(let A=T;A<=k;A++){b++;const M=nf.set(y,x,m.normalizeCol(A),m.getWorldForColumn(A)).id;let R=i.get(M);if(R)R.isReady?(ll.set(M,R),g++):d||this._addParentTile(M,ll);else{if((w=this._tileCache)!=null&&w.has(M)){if(R=this._tileCache.pop(M),this.tileIndex.set(M,R),R.isReady){ll.set(M,R),g++;continue}}else R=this.acquireTile(nf),this.tileIndex.set(M,R);d||this._addParentTile(M,ll)}}const v=g===b;for(const[x,T]of i){if(ll.has(x))continue;nf.set(x);const k=this.tileInfoView.intersects(f,nf),A=this.cachePolicy==="purge"?nf.level!==y:nf.level>y;!k||!d&&v?!A&&k||zb.push(T):T.isReady?A&&this.cachePolicy==="purge"&&this._hasReadyAncestor(nf,y)?zb.push(T):O7.push(T):A&&zb.push(T)}for(const x of O7)x.isReady&&ll.set(x.key.id,x);for(const x of zb)this._tileCache?this._tileCache.add(x):this.releaseTile(x),i.delete(x.key.id);for(const x of ll.values())this.tiles.push(x);for(const x of i.values())ll.has(x.key.id)||(x.visible=!1);(_=this._tileCache)==null||_.prune(y,n,a),Rv.pool.release(f),O7.length=0,zb.length=0,ll.clear()}clear(){const{tileIndex:t}=this;for(const r of t.values())this.releaseTile(r);t.clear()}refresh(t){var r;for(const i of this.tileIndex.values())t(i);(r=this._tileCache)==null||r.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){var n;let i=t,s=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(s=this.tileIndex.get(i),s==null?void 0:s.isReady){r.has(s.key.id)||r.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(i)&&(s=this._tileCache.pop(i),this.tileIndex.set(i,s),s==null?void 0:s.isReady)){r.has(s.key.id)||r.set(s.key.id,s);break}}_hasReadyAncestor(t,r){const i=zr();this.tileInfoView.getTileBounds(i,t,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=r&&s.key.level<t.level){const n=zr();if(this.tileInfoView.getTileBounds(n,s.key,!0),rhe(n,i))return!0}return!1}};function Q4e(e,t,r,i,s){GK(e,t,r||0,i||e.length-1,s||K4e)}function GK(e,t,r,i,s){for(;i>r;){if(i-r>600){var n=i-r+1,a=t-r+1,o=Math.log(n),l=.5*Math.exp(2*o/3),d=.5*Math.sqrt(o*l*(n-l)/n)*(a-n/2<0?-1:1);GK(e,t,Math.max(r,Math.floor(t-a*l/n+d)),Math.min(i,Math.floor(t+(n-a)*l/n+d)),s)}var f=e[t],p=r,m=i;for(jb(e,r,t),s(e[i],f)>0&&jb(e,r,i);p<m;){for(jb(e,p,m),p++,m--;s(e[p],f)<0;)p++;for(;s(e[m],f)>0;)m--}s(e[r],f)===0?jb(e,r,m):jb(e,++m,i),m<=t&&(r=m+1),t<=m&&(i=m-1)}}function jb(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function K4e(e,t){return e<t?-1:e>t?1:0}function V_(e,t){if(!(this instanceof V_))return new V_(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function X4e(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return-1}function Fh(e,t){Gg(e,0,e.children.length,t,e)}function Gg(e,t,r,i,s){s||(s=bm(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,a=t;a<r;a++)n=e.children[a],Hg(s,e.leaf?i(n):n);return s}function Hg(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function xN(e,t){return e.minX-t.minX}function EN(e,t){return e.minY-t.minY}function F7(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function i3(e){return e.maxX-e.minX+(e.maxY-e.minY)}function e8e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function t8e(e,t){var r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,s-r)*Math.max(0,n-i)}function P7(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function s3(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function bm(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function TN(e,t,r,i,s){for(var n,a=[t,r];a.length;)(r=a.pop())-(t=a.pop())<=i||(n=t+Math.ceil((r-t)/i/2)*i,Q4e(e,n,t,r,s),a.push(t,n,n,r))}V_.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,r=[],i=this.toBBox;if(!s3(e,t))return r;for(var s,n,a,o,l=[];t;){for(s=0,n=t.children.length;s<n;s++)a=t.children[s],s3(e,o=t.leaf?i(a):a)&&(t.leaf?r.push(a):P7(e,o)?this._all(a,r):l.push(a));t=l.pop()}return r},collides:function(e){var t=this.data,r=this.toBBox;if(!s3(e,t))return!1;for(var i,s,n,a,o=[];t;){for(i=0,s=t.children.length;i<s;i++)if(n=t.children[i],s3(e,a=t.leaf?r(n):n)){if(t.leaf||P7(e,a))return!0;o.push(n)}t=o.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var i=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var s=this.data;this.data=i,i=s}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(e){return e!=null&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=bm([]),this},remove:function(e,t){if(e==null)return this;for(var r,i,s,n,a=this.data,o=this.toBBox(e),l=[],d=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],r=d.pop(),n=!0),a.leaf&&(s=X4e(e,a.children,t))!==-1)return a.children.splice(s,1),l.push(a),this._condense(l),this;n||a.leaf||!P7(a,o)?i?(r++,a=i.children[r],n=!1):a=null:(l.push(a),d.push(r),r=0,i=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:xN,compareMinY:EN,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},_build:function(e,t,r,i){var s,n=r-t+1,a=this._maxEntries;if(n<=a)return Fh(s=bm(e.slice(t,r+1)),this.toBBox),s;i||(i=Math.ceil(Math.log(n)/Math.log(a)),a=Math.ceil(n/Math.pow(a,i-1))),(s=bm([])).leaf=!1,s.height=i;var o,l,d,f,p=Math.ceil(n/a),m=p*Math.ceil(Math.sqrt(a));for(TN(e,t,r,m,this.compareMinX),o=t;o<=r;o+=m)for(TN(e,o,d=Math.min(o+m-1,r),p,this.compareMinY),l=o;l<=d;l+=p)f=Math.min(l+p-1,d),s.children.push(this._build(e,l,f,i-1));return Fh(s,this.toBBox),s},_chooseSubtree:function(e,t,r,i){for(var s,n,a,o,l,d,f,p;i.push(t),!t.leaf&&i.length-1!==r;){for(f=p=1/0,s=0,n=t.children.length;s<n;s++)l=F7(a=t.children[s]),(d=e8e(e,a)-l)<p?(p=d,f=l<f?l:f,o=a):d===p&&l<f&&(f=l,o=a);t=o||t.children[0]}return t},_insert:function(e,t,r){var i=this.toBBox,s=r?e:i(e),n=[],a=this._chooseSubtree(s,this.data,t,n);for(a.children.push(e),Hg(a,s);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(s,n,t)},_split:function(e,t){var r=e[t],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);var n=this._chooseSplitIndex(r,s,i),a=bm(r.children.splice(n,r.children.length-n));a.height=r.height,a.leaf=r.leaf,Fh(r,this.toBBox),Fh(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(e,t){this.data=bm([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Fh(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,r){var i,s,n,a,o,l,d,f;for(l=d=1/0,i=t;i<=r-t;i++)a=t8e(s=Gg(e,0,i,this.toBBox),n=Gg(e,i,r,this.toBBox)),o=F7(s)+F7(n),a<l?(l=a,f=i,d=o<d?o:d):a===l&&o<d&&(d=o,f=i);return f},_chooseSplitAxis:function(e,t,r){var i=e.leaf?this.compareMinX:xN,s=e.leaf?this.compareMinY:EN;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,s)&&e.children.sort(i)},_allDistMargin:function(e,t,r,i){e.children.sort(i);var s,n,a=this.toBBox,o=Gg(e,0,t,a),l=Gg(e,r-t,r,a),d=i3(o)+i3(l);for(s=t;s<r-t;s++)n=e.children[s],Hg(o,e.leaf?a(n):n),d+=i3(o);for(s=r-t-1;s>=t;s--)n=e.children[s],Hg(l,e.leaf?a(n):n),d+=i3(l);return d},_adjustParentBBoxes:function(e,t,r){for(var i=r;i>=0;i--)Hg(t[i],e)},_condense:function(e){for(var t,r=e.length-1;r>=0;r--)e[r].children.length===0?r>0?(t=e[r-1].children).splice(t.indexOf(e[r]),1):this.clear():Fh(e[r],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function r8e(e,{timeZone:t,timeExtent:r}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:r==null?void 0:r.start,currentEnd:r==null?void 0:r.end}}}}let IN=class HK{constructor(t,r){this.key=new Ou(0,0,0,0),this.bounds=zr(),this.objectIds=new Set,this.key.set(r);const i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=t.zoomToScale(i.level-1),this.maxScale=t.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return ehe(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return r8e(this.scale,t)}createChildTiles(){const t=this.key.getChildKeys(),r=Wi.acquire();for(let i=0;i<t.length;i++)r[i]=new HK(this.tileInfoView,t[i]);return r}getQuantizationParameters(){return YA.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const af={added:[],removed:[]},N7=new Set,i8e=new Ou(0,0,0,0);function s8e(e,t){const r=Ti(t);if(!r)return null;const[i,s]=r.valid;return e[2]>s?[zr([e[0],e[1],s,e[3]]),zr([i,e[1],i+e[2]-s,e[3]])]:e[0]<i?[zr([i,e[1],e[2],e[3]]),zr([s-(i-e[0]),e[1],s,e[3]])]:null}let n8e=class extends an{constructor(t){super(),this._tiles=new Map,this._index=V_(9,V("esri-csp-restrictions")?r=>({minX:r.bounds[0],minY:r.bounds[1],maxX:r.bounds[2],maxY:r.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||tA(t)===0||rA(t)===0)return[];const r=s8e(t,this.tileScheme.spatialReference);return r!=null?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const r={added:[],removed:[]};for(const i of t.added)if(!this.has(i)){const s=new IN(this.tileScheme,i);this._tiles.set(i,s),this._index.insert(s),r.added.push(s)}for(const i of t.removed)if(this.has(i)){const s=this.get(i);this._tiles.delete(i),this._index.remove(s),r.removed.push(s)}this.tiles.length=0,this._tiles.forEach(i=>this.tiles.push(i)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){const r=this.tileScheme.getTileCoverage(t,0);if(!r)return;const{spans:i,lodInfo:s}=r,{level:n}=s;if(i.length>0)for(const{row:a,colFrom:o,colTo:l}of i)for(let d=o;d<=l;d++){const f=i8e.set(n,a,s.normalizeCol(d),s.getWorldForColumn(d)).id;if(N7.add(f),!this.has(f)){const p=new IN(this.tileScheme,f);this._tiles.set(f,p),this._index.insert(p),this.tiles.push(p),af.added.push(p)}}for(let a=this.tiles.length-1;a>=0;a--){const o=this.tiles[a];N7.has(o.id)||(this._tiles.delete(o.id),this.tiles.splice(a,1),this._index.remove(o),af.removed.push(o))}(af.added.length||af.removed.length)&&this.emit("update",af),Rv.pool.release(r),N7.clear(),af.added.length=0,af.removed.length=0}};const BJe=1e-30,CN=512,n3=16777216,UJe=8,GJe=29,HJe=24,WJe=4,ZJe=0,JJe=0,YJe=0,QJe=1,KJe=2,XJe=3,eYe=4,tYe=5,rYe=6,iYe=12,sYe=13,nYe=5,a8e=6,aYe=5,oYe=6;var MN;(function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"})(MN||(MN={}));const WK=6,o8e=1<<WK,lYe=o8e<<1,cYe=1.05,dYe=3,uYe=1,fYe=3,pYe=3,hYe=5,mYe=6,yYe=1.15,l8e=4,bYe=128,c8e=256,gYe=c8e-2*l8e,vYe=2,wYe=128,_Ye=1,SYe=10,$Ye=1024,xYe=128,EYe=4,TYe=1,IYe=1<<20,CYe=.75,MYe=10,AYe=.75,kYe=256,LYe=32,RYe=512,OYe=0,FYe=1,d8e=1,PYe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],NYe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],qb=256;var AN,kN,LN,RN,cT,ON,FN,Ao,dT,Y1,Dr,z_,Pn,Tt,de,Ov,Hl,PN,NN,DN;(function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"})(AN||(AN={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(kN||(kN={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(LN||(LN={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(RN||(RN={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(cT||(cT={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(ON||(ON={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(FN||(FN={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(Ao||(Ao={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(dT||(dT={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(Y1||(Y1={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(Dr||(Dr={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(z_||(z_={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(Pn||(Pn={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(Tt||(Tt={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(de||(de={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(Ov||(Ov={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(Hl||(Hl={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(PN||(PN={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(NN||(NN={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(DN||(DN={}));const DYe=33984;var j_,VN,zN;(function(e){e[e.Texture=0]="Texture",e[e.BufferObject=1]="BufferObject",e[e.VertexArrayObject=2]="VertexArrayObject",e[e.Shader=3]="Shader",e[e.Program=4]="Program",e[e.FramebufferObject=5]="FramebufferObject",e[e.Renderbuffer=6]="Renderbuffer",e[e.TransformFeedback=7]="TransformFeedback",e[e.Sync=8]="Sync",e[e.UNCOUNTED=9]="UNCOUNTED",e[e.LinesOfCode=9]="LinesOfCode",e[e.Uniform=10]="Uniform",e[e.COUNT=11]="COUNT"})(j_||(j_={})),function(e){e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(VN||(VN={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(zN||(zN={}));const VYe=33306;var Yr,jN,qN,BN,UN,GN,HN;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(Yr||(Yr={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(jN||(jN={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(qN||(qN={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(BN||(BN={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(UN||(UN={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(GN||(GN={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(HN||(HN={}));const u8e=()=>B.getLogger("esri.views.webgl.checkWebGLError");function f8e(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const ZK=!!V("enable-feature:webgl-debug");function JK(){return ZK}function zYe(){return ZK}function Ph(e){if(JK()){const t=e.getError();if(t){const r=f8e(e,t),i=new Error().stack;u8e().error(new I("webgl-error","WebGL error occurred",{message:r,stack:i}))}}}var uT;(function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"})(uT||(uT={}));function p8e(e){switch(e){case Ao.BYTE:case Ao.UNSIGNED_BYTE:return 1;case Ao.SHORT:case Ao.UNSIGNED_SHORT:case Ao.HALF_FLOAT:return 2;case Ao.FLOAT:case Ao.INT:case Ao.UNSIGNED_INT:return 4}}function h8e(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function jYe(e,t,r,i,s=0){var a;const n=e.gl;e.bindBuffer(r);for(const o of i){const l=t.get(o.name);if(l==null){console.warn(`There is no location for vertex attribute '${o.name}' defined.`);continue}const d=s*o.stride;if(o.count<=4)n.vertexAttribPointer(l,o.count,o.type,o.normalized,o.stride,o.offset+d),n.enableVertexAttribArray(l),o.divisor>0&&e.gl.vertexAttribDivisor(l,o.divisor);else if(o.count===9)for(let f=0;f<3;f++)n.vertexAttribPointer(l+f,3,o.type,o.normalized,o.stride,o.offset+12*f+d),n.enableVertexAttribArray(l+f),o.divisor>0&&e.gl.vertexAttribDivisor(l+f,o.divisor);else if(o.count===16)for(let f=0;f<4;f++)n.vertexAttribPointer(l+f,4,o.type,o.normalized,o.stride,o.offset+16*f+d),n.enableVertexAttribArray(l+f),o.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(l+f,o.divisor));else console.error("Unsupported vertex attribute element count: "+o.count);if(JK()){const f=h8e(e),p=p8e(o.type),m=o.offset,y=Math.round(p/m)!==p/m?`. Offset not a multiple of stride. DataType requires ${p} bytes, but descriptor has an offset of ${m}`:"";f&&console.error(`Unable to bind vertex attribute "${o.name}" with baseInstanceOffset ${d}${y}:`,f,o)}}}function qYe(e,t,r,i){var n,a,o;const s=e.gl;e.bindBuffer(r);for(const l of i){const d=t.get(l.name);if(l.count<=4)s.disableVertexAttribArray(d),l.divisor&&l.divisor>0&&((n=e.gl)==null||n.vertexAttribDivisor(d,0));else if(l.count===9)for(let f=0;f<3;f++)s.disableVertexAttribArray(d+f),l.divisor&&l.divisor>0&&((a=e.gl)==null||a.vertexAttribDivisor(d+f,0));else if(l.count===16)for(let f=0;f<4;f++)s.disableVertexAttribArray(d+f),l.divisor&&l.divisor>0&&((o=e.gl)==null||o.vertexAttribDivisor(d+f,0));else console.error("Unsupported vertex attribute element count: "+l.count)}e.unbindBuffer(cT.ARRAY_BUFFER)}function m8e(e){switch(e){case Tt.ALPHA:case Tt.LUMINANCE:case Tt.RED:case Tt.RED_INTEGER:case de.R8:case de.R8I:case de.R8UI:case de.R8_SNORM:case Hl.STENCIL_INDEX8:return 1;case Tt.LUMINANCE_ALPHA:case Tt.RG:case Tt.RG_INTEGER:case de.RGBA4:case de.R16F:case de.R16I:case de.R16UI:case de.RG8:case de.RG8I:case de.RG8UI:case de.RG8_SNORM:case de.RGB565:case de.RGB5_A1:case Hl.DEPTH_COMPONENT16:return 2;case Tt.DEPTH_COMPONENT:case Tt.RGB:case Tt.RGB_INTEGER:case de.RGB8:case de.RGB8I:case de.RGB8UI:case de.RGB8_SNORM:case de.SRGB8:case Hl.DEPTH_COMPONENT24:return 3;case Tt.DEPTH_STENCIL:case Tt.DEPTH24_STENCIL8:case Tt.RGBA:case Tt.RGBA_INTEGER:case de.RGBA8:case de.R32F:case de.R11F_G11F_B10F:case de.RG16F:case de.R32I:case de.R32UI:case de.RG16I:case de.RG16UI:case de.RGBA8I:case de.RGBA8UI:case de.RGBA8_SNORM:case de.SRGB8_ALPHA8:case de.RGB9_E5:case de.RGB10_A2UI:case de.RGB10_A2:case Hl.DEPTH_STENCIL:case Hl.DEPTH_COMPONENT32F:case Hl.DEPTH24_STENCIL8:return 4;case Hl.DEPTH32F_STENCIL8:return 5;case de.RGB16F:case de.RGB16I:case de.RGB16UI:return 6;case de.RG32F:case de.RG32I:case de.RG32UI:case de.RGBA16F:case de.RGBA16I:case de.RGBA16UI:return 8;case de.RGB32F:case de.RGB32I:case de.RGB32UI:return 12;case de.RGBA32F:case de.RGBA32I:case de.RGBA32UI:return 16;case Yr.COMPRESSED_RGB_S3TC_DXT1_EXT:case Yr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Yr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Yr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Yr.COMPRESSED_R11_EAC:case Yr.COMPRESSED_SIGNED_R11_EAC:case Yr.COMPRESSED_RGB8_ETC2:case Yr.COMPRESSED_SRGB8_ETC2:case Yr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Yr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Yr.COMPRESSED_RG11_EAC:case Yr.COMPRESSED_SIGNED_RG11_EAC:case Yr.COMPRESSED_RGBA8_ETC2_EAC:case Yr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let YK=class{constructor(t=0,r=t){this.width=t,this.height=r,this.target=Pn.TEXTURE_2D,this.pixelFormat=Tt.RGBA,this.dataType=Ov.UNSIGNED_BYTE,this.samplingMode=Dr.LINEAR,this.wrapMode=z_.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}};function y8e(e){return e.width<=0||e.height<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(e.internalFormat==null?4:m8e(e.internalFormat))*(e.target===Pn.TEXTURE_CUBE_MAP?6:1))}const b8e=()=>B.getLogger("esri/views/webgl/textureUtils");function a3(e){(e.width!=null&&e.width<0||e.height!=null&&e.height<0||e.depth!=null&&e.depth<0)&&b8e().error("Negative dimension parameters are not allowed!")}function g8e(e){return e in de}function v8e(e){return e in Yr}function gm(e){return e!=null&&"type"in e&&e.type==="compressed"}function w8e(e){return e!=null&&"byteLength"in e}function WN(e){return e!=null&&!gm(e)&&!w8e(e)}function Nh(e){return e===Pn.TEXTURE_3D||e===Pn.TEXTURE_2D_ARRAY}function ZN(e,t,r,i=1){let s=Math.max(t,r);return e===Pn.TEXTURE_3D&&(s=Math.max(s,i)),Math.floor(Math.log2(s))+1}function o3(e){if(e.internalFormat!=null)return e.internalFormat===Tt.DEPTH_STENCIL?Tt.DEPTH24_STENCIL8:e.internalFormat;switch(e.dataType){case Ov.FLOAT:switch(e.pixelFormat){case Tt.RGBA:return de.RGBA32F;case Tt.RGB:return de.RGB32F;default:throw new I("Unable to derive format")}case Ov.UNSIGNED_BYTE:switch(e.pixelFormat){case Tt.RGBA:return de.RGBA8;case Tt.RGB:return de.RGB8}}return e.internalFormat=e.pixelFormat===Tt.DEPTH_STENCIL?Tt.DEPTH24_STENCIL8:e.pixelFormat}function _8e(e){let t="width"in e?e.width:e.codedWidth,r="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,r=e.videoHeight),{width:t,height:r,depth:1}}let S8e=class QK extends YK{constructor(t,r){switch(super(),this.context=t,Object.assign(this,r),this.internalFormat){case de.R16F:case de.R16I:case de.R16UI:case de.R32F:case de.R32I:case de.R32UI:case de.R8_SNORM:case de.R8:case de.R8I:case de.R8UI:this.pixelFormat=Tt.RED}}static validate(t,r){return new QK(t,r)}};const Wc=()=>B.getLogger("esri/views/webgl/Texture");let fT=class Ni{constructor(t,r=null,i=null){if(this.type=uT.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=_y(null),"context"in t)this._descriptor=t,i=r;else{const s=S8e.validate(t,r);if(!s)throw new I("Texture descriptor invalid");this._descriptor=s}this._descriptor.target===Pn.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return y8e(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return this._compressionAbortController.value!==null}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(j_.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,r){const i=this._descriptor;if(i.width!==t||i.height!==r){if(this._wasImmutablyAllocated)throw new I("Immutable textures can't be resized!");i.width=t,i.height=r,this._descriptor.target===Pn.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!gm(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in Yr&&(this._descriptor.internalFormat=void 0),this._setData(t),!gm(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(t,r,i,s,n,a,o=0){a||Wc().error("An attempt to use uninitialized data!"),this._glName||Wc().error("An attempt to update uninitialized texture!");const l=this._descriptor;l.internalFormat=o3(l);const{context:d,pixelFormat:f,dataType:p,target:m,isImmutable:y}=l;if(y&&!this._wasImmutablyAllocated)throw new I("Cannot update immutable texture before allocation!");const b=d.bindTexture(this,Ni.TEXTURE_UNIT_FOR_UPDATES,!0);(r<0||i<0||r+s>l.width||i+n>l.height)&&Wc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:g}=d;o&&(s&&n||Wc().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),g.pixelStorei(g.UNPACK_SKIP_ROWS,o)),WN(a)?g.texSubImage2D(m,t,r,i,s,n,f,p,a):gm(a)?g.compressedTexSubImage2D(m,t,r,i,s,n,l.internalFormat,a.levels[t]):g.texSubImage2D(m,t,r,i,s,n,f,p,a),o&&g.pixelStorei(g.UNPACK_SKIP_ROWS,0),d.bindTexture(b,Ni.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,r,i,s,n,a,o,l){l||Wc().error("An attempt to use uninitialized data!"),this._glName||Wc().error("An attempt to update an uninitialized texture!");const d=this._descriptor;d.internalFormat=o3(d);const{context:f,pixelFormat:p,dataType:m,isImmutable:y,target:b}=d;if(y&&!this._wasImmutablyAllocated)throw new I("Cannot update immutable texture before allocation!");Nh(b)||Wc().warn("Attempting to set 3D texture data on a non-3D texture");const g=f.bindTexture(this,Ni.TEXTURE_UNIT_FOR_UPDATES);f.setActiveTexture(Ni.TEXTURE_UNIT_FOR_UPDATES),(r<0||i<0||s<0||r+n>d.width||i+a>d.height||s+o>d.depth)&&Wc().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:v}=f;if(gm(l))l=l.levels[t],v.compressedTexSubImage3D(b,t,r,i,s,n,a,o,d.internalFormat,l);else{const w=l;v.texSubImage3D(b,t,r,i,s,n,a,o,p,m,w)}f.bindTexture(g,Ni.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(t.width===0||t.height===0)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new I("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,a3(t)}t.samplingMode===Dr.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=Dr.LINEAR_MIPMAP_NEAREST):t.samplingMode===Dr.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Dr.NEAREST_MIPMAP_NEAREST);const r=this._descriptor.context.bindTexture(this,Ni.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Ni.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(r,Ni.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new I("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,a3(t)}t.samplingMode===Dr.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=Dr.LINEAR):t.samplingMode===Dr.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=Dr.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,a3(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=Si(this._compressionAbortController.value))}_setData(t,r){var l;const i=this._descriptor,s=(l=i.context)==null?void 0:l.gl;if(!s)return;Ph(s),this._glName||(this._glName=s.createTexture(),this._glName&&i.context.instanceCounter.increment(j_.Texture,this)),a3(i);const n=i.context.bindTexture(this,Ni.TEXTURE_UNIT_FOR_UPDATES);i.context.setActiveTexture(Ni.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Ph(s);const a=r??i.target,o=Nh(a);if(WN(t))this._setDataFromTexImageSource(t,a);else{const{width:d,height:f,depth:p}=i;if(d==null||f==null)throw new I("Width and height must be specified!");if(o&&p==null)throw new I("Depth must be specified!");if(i.internalFormat=o3(i),i.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(a,i.internalFormat,i.hasMipmap,d,f,p),gm(t)){if(!v8e(i.internalFormat))throw new I("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,i.internalFormat,a)}else this._texImage(a,0,i.internalFormat,d,f,p,t),Ph(s),i.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),Ph(s),i.context.bindTexture(n,Ni.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let r=Pn.TEXTURE_CUBE_MAP_POSITIVE_X;r<=Pn.TEXTURE_CUBE_MAP_NEGATIVE_Z;r++)this._setData(t,r)}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:r,flipped:i,preMultiplyAlpha:s}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(t,r){const{gl:i}=this._descriptor.context,s=this._descriptor;s.internalFormat=o3(s);const n=Nh(r),{width:a,height:o,depth:l}=_8e(t);s.width&&s.height,s.width||(s.width=a),s.height||(s.height=o),n&&s.depth,n&&(s.depth=l),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,s.internalFormat,s.hasMipmap,a,o,l),this._texImage(r,0,s.internalFormat,a,o,l,t),Ph(i),s.hasMipmap&&(this.generateMipmap(),Ph(i))}_setDataFromCompressedSource(t,r,i){const s=this._descriptor,{width:n,height:a,depth:o}=s,l=t.levels,d=ZN(i,n,a,o),f=Math.min(d,l.length)-1;this._descriptor.context.gl.texParameteri(s.target,s.context.gl.TEXTURE_MAX_LEVEL,f),this._forEachMipmapLevel((p,m,y,b)=>{const g=l[Math.min(p,l.length-1)];this._compressedTexImage(i,p,r,m,y,b,g)},f)}_texStorage(t,r,i,s,n,a){const{gl:o}=this._descriptor.context;if(!g8e(r))throw new I("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=i?ZN(t,s,n,a):1;if(Nh(t)){if(a==null)throw new I("Missing depth dimension for 3D texture upload");o.texStorage3D(t,l,r,s,n,a)}else o.texStorage2D(t,l,r,s,n);this._wasImmutablyAllocated=!0}_texImage(t,r,i,s,n,a,o){const l=this._descriptor.context.gl,d=Nh(t),{isImmutable:f,pixelFormat:p,dataType:m}=this._descriptor;if(f){if(o!=null){const y=o;if(d){if(a==null)throw new I("Missing depth dimension for 3D texture upload");l.texSubImage3D(t,r,0,0,0,s,n,a,p,m,y)}else l.texSubImage2D(t,r,0,0,s,n,p,m,y)}}else{const y=o;if(d){if(a==null)throw new I("Missing depth dimension for 3D texture upload");l.texImage3D(t,r,i,s,n,a,0,p,m,y)}else l.texImage2D(t,r,i,s,n,0,p,m,y)}}_compressedTexImage(t,r,i,s,n,a,o){const l=this._descriptor.context.gl,d=Nh(t);if(this._descriptor.isImmutable){if(o!=null)if(d){if(a==null)throw new I("Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(t,r,0,0,0,s,n,a,i,o)}else l.compressedTexSubImage2D(t,r,0,0,s,n,i,o)}else if(d){if(a==null)throw new I("Missing depth dimension for 3D texture upload");l.compressedTexImage3D(t,r,i,s,n,a,0,o)}else l.compressedTexImage2D(t,r,i,s,n,0,o)}async _compressOnWorker(t){var s,n;if(!Ni.compressionWorkerHandle||!Ni.compressionWorkerHandle.isCompressible(t))return;const r=(s=this._descriptor.context)==null?void 0:s.gl.getExtension("WEBGL_compressed_texture_etc"),i=(n=this._descriptor.context)==null?void 0:n.gl.getExtension("WEBGL_compressed_texture_s3tc");if(r||i){const a=new AbortController;this._compressionAbortController.value=a;const o={data:await createImageBitmap(t),flipped:this.descriptor.flipped,width:t.width,height:t.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!r,hasS3TC:!!i};Ni.compressionWorkerHandle.invoke(o,this._compressionAbortController.value.signal).then(l=>{l&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=l.internalFormat,this._setData(l.compressedTexture)),a===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(l=>{fr(l)||a!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,r=1/0){let{width:i,height:s,depth:n,hasMipmap:a,target:o}=this._descriptor;const l=o===Pn.TEXTURE_3D;if(i==null||s==null||l&&n==null)throw new I("Missing texture dimensions for mipmap calculation");for(let d=0;t(d,i,s,n),a&&(i!==1||s!==1||l&&n!==1)&&!(d>=r);++d)i=Math.max(1,i>>1),s=Math.max(1,s>>1),l&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const t=this._descriptor,r=(n=t.context)==null?void 0:n.gl;let i=t.samplingMode,s=t.samplingMode;i===Dr.LINEAR_MIPMAP_NEAREST||i===Dr.LINEAR_MIPMAP_LINEAR?(i=Dr.LINEAR,t.hasMipmap||(s=Dr.LINEAR)):i!==Dr.NEAREST_MIPMAP_NEAREST&&i!==Dr.NEAREST_MIPMAP_LINEAR||(i=Dr.NEAREST,t.hasMipmap||(s=Dr.NEAREST)),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,i),r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var i;const t=this._descriptor,r=(i=t.context)==null?void 0:i.gl;typeof t.wrapMode=="number"?(r.texParameteri(t.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,t.wrapMode)):(r.texParameteri(t.target,r.TEXTURE_WRAP_S,t.wrapMode.s),r.texParameteri(t.target,r.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){const t=this._descriptor,r=t.context.capabilities.textureFilterAnisotropic;r&&t.context.gl.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};fT.TEXTURE_UNIT_FOR_UPDATES=0,fT.compressionWorkerHandle=null;const D7=()=>B.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function $8e(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}const x8e=[0,0,0,0];let KK=class{constructor(){this.type="single",this._highlightOptions=new pu,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*qb),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,r){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,a8e),r.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var t;(t=this._shadeTex)==null||t.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<WK)-1,activeGradient:this}]}_updateGradientTexture(t){const r=E8e(this._highlightOptions);if(r===this._optionsShadeTexKey)return;this._optionsShadeTexKey=r,$8e(this._highlightOptions,this._convertedHighlightOptions);const i=this._convertedHighlightOptions,s=i.outlinePosition-i.outlineWidth/2-i.outerHaloWidth,n=i.outlinePosition-i.outlineWidth/2,a=i.outlinePosition+i.outlineWidth/2,o=i.outlinePosition+i.outlineWidth/2+i.innerHaloWidth,l=Math.sqrt(Math.PI/2)*d8e,d=Math.abs(s)>l?Math.round(10*(Math.abs(s)-l))/10:0,f=Math.abs(o)>l?Math.round(10*(Math.abs(o)-l))/10:0;let p;d&&!f?D7().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&f?D7().error("The inner rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&f&&D7().error("The highlight is "+Math.max(d,f)+"px away from the edge of the feature; consider reducing some width values.");const m=[void 0,void 0,void 0,void 0];function y(g,v,w){m[0]=(1-w)*g[0]+w*v[0],m[1]=(1-w)*g[1]+w*v[1],m[2]=(1-w)*g[2]+w*v[2],m[3]=(1-w)*g[3]+w*v[3]}const{_texelData:b}=this;for(let g=0;g<qb;++g)p=s+g/(qb-1)*(o-s),p<s?(m[0]=0,m[1]=0,m[2]=0,m[3]=0):p<n?y(x8e,i.outlineColor,(p-s)/(n-s)):p<a?[m[0],m[1],m[2],m[3]]=i.outlineColor:p<o?y(i.outlineColor,i.fillColor,(p-a)/(o-a)):[m[0],m[1],m[2],m[3]]=i.fillColor,b[4*g]=255*m[0],b[4*g+1]=255*m[1],b[4*g+2]=255*m[2],b[4*g+3]=255*m[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=o,!this._shadeTex){const g=new YK;g.wrapMode=z_.CLAMP_TO_EDGE,g.width=qb,g.height=1,this._shadeTex=new fT(t,g)}this._shadeTex.updateData(0,0,0,qb,1,this._texelData)}};function E8e(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}let T8e=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let r=0;r<t.length;r++)this.gradients[r]||(this.gradients[r]=new KK),this.gradients[r].setHighlightOptions(t[r]);for(let r=t.length+1;r<this.gradients.length;r++)this.gradients[r].destroy();this.gradients.length=t.length}destroy(){for(const t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1;const r=[];for(let i=0;i<this.gradients.length;i++){const s=this.gradients[i];r.push({activeReasons:t,activeGradient:s}),t<<=1}return r}};var JN,YN,QN,KN,XN,eD,q_,tD,rD;(function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"})(JN||(JN={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(YN||(YN={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(QN||(QN={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(KN||(KN={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(XN||(XN={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(eD||(eD={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(q_||(q_={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(tD||(tD={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(rD||(rD={}));const XK={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:dT.EQUAL,mask:255,op:{fail:Y1.KEEP,zFail:Y1.KEEP,zPass:Y1.REPLACE}}}},I8e={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},C8e={...XK,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function M8e({pixelRatio:e,state:t,displayLevel:r,requiredLevel:i},s){const n=1/2**(r-s.key.level),a=1/2**(i-s.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:a,tileOffset:[s.x,s.y],currentScale:t.scale,currentZoom:r,metersPerSRUnit:Rs(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function eX(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="highlight"}function tX(e){var t;return((t=e.passOptions)==null?void 0:t.type)==="hittest"}function A8e(e){if(!tX(e))return null;const{position:t,distance:r,smallSymbolDistance:i,smallSymbolSizeThreshold:s}=e.passOptions;return{position:t,distance:r,smallSymbolDistance:i,smallSymbolSizeThreshold:s}}function k8e(e){if(!eX(e))return null;const{activeReasons:t,highlightAll:r}=e.passOptions;return{activeReasons:t,highlightAll:r?1:0}}function HYe(e,t,r){const i={};for(const s in r)r[s]instanceof Function?i[s]=r[s](e,t):i[s]=r[s];return i}function WYe(e,t){const{attributeView:r,context:i}=e;return{storage:r.getUniforms(i),view:M8e(e,t),hittestRequest:A8e(e),highlight:k8e(e)}}function ZYe(e){return{inside:e.selection===q_.InsideEffect,outside:e.selection===q_.OutsideEffect}}function L8e(e){return tX(e)?I8e:eX(e)&&e.passOptions.stepType==="clear"?C8e:XK}function JYe(e){const{row:t,col:r}=e.key,i=r*CN,s=t*CN;return{tileOffsetFromLocalOrigin:[i%n3,s%n3],maxIntsToLocalOrigin:[Math.floor(i/n3),Math.floor(s/n3)]}}const R8e=new ye({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function YYe(e){return R8e.toJSON(e)}function QYe(e){const{bandCount:t,attributeTable:r,colormap:i,pixelType:s}=e.raster.rasterInfo;return t===1&&(r!=null||i!=null||s==="u8"||s==="s8")}function O8e(e,t){return t==null?(e==null||e.destroy(),null):((e==null?void 0:e.type)==="single"&&Array.isArray(t)&&(e.destroy(),e=null),(e==null?void 0:e.type)!=="multi"||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new T8e:new KK),Array.isArray(t)?e.type==="multi"&&e.setHighlightOptions(t):e.type==="single"&&e.setHighlightOptions(t),e)}function KYe(e,t,r,i){const{painter:s,highlightGradient:n}=e,{highlight:a}=s.effects;if(!n)return;const o=e.passOptions,l=n.getReasonsWithGradients();for(let d=0;d<l.length;d++){const f={...e,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:l[d].activeReasons,stepType:"burn",highlightAll:t}};if(a.bind(f),r(f),d<l.length-1){let m=0;for(let y=d+1;y<l.length;y++)m|=l[y].activeReasons;r({...e,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:m,stepType:"clear",highlightAll:t}})}const p={...e,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:l[d].activeReasons,stepType:"draw",highlightAll:t}};s.setPipelineState(L8e(e)),s.updatePipelineState(e.context),a.draw(p),a.unbind()}e.passOptions=o}function XYe(e){if(!e)return[];let t=r2e(e)?[e]:W.isCollection(e)?e.toArray():Array.isArray(e)?e:[];return t=t==null?void 0:t.filter(It),((t==null?void 0:t.length)??0)===0?[]:t}const l3=e=>parseFloat(e)/100;function F8e(e,t,r){const i=typeof e.left=="string"?l3(e.left)*t:e.left,s=typeof e.right=="string"?l3(e.right)*t:e.right,n=typeof e.top=="string"?l3(e.top)*r:e.top,a=typeof e.bottom=="string"?l3(e.bottom)*r:e.bottom,o=n;return{xmin:i,xmax:Math.max(t-s,i),ymin:o,ymax:Math.max(r-a,n)}}function rX(e,t,r,i){switch(t.type){case"rect":{const{width:s,height:n}=e,{xmin:a,xmax:o,ymin:l,ymax:d}=F8e(t,s,n),{x:f,y:p}=r;return f>a&&f<o&&p>l&&p<d}case"path":return t.path.length===0||!Array.isArray(t.path[0][0])||eA(t.path,[r.x,r.y]);case"geometry":return t.geometry==null||(t.geometry.type==="polygon"?XM(t.geometry,i):x2(t.geometry,i))}}function P8e(e){if(!e.highlights)return null;const t=e.highlights.findIndex(r=>r.name==="default");return t===-1?null:e.highlights.items[t]}function N8e(e,t){if(!e.highlights){if(!t)return;e.highlights=new W([new pu])}const r=e.highlights.findIndex(i=>i.name==="default");t?e.highlights.items[r].assignFrom(t):(e.highlights.removeAt(r),e.highlights.length===0&&(e.highlights=null))}async function D8e(e,t,r){const i=TQ(t)?EQ(e,t):t;if(!e.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let s=new Set;const n=new Set;let a=!1,o=null,l=null;r!=null&&r.include?sD(r.include,iD(e,m=>{s.add(m),V7(m,y=>n.add(y))},(m,y)=>{n.add(m),s.add(y)},m=>{o||(o=new Set),o.add(m)},m=>s.add(m),()=>a=!0)):(a=!0,s=new Set(e.allLayerViews),s.forEach(m=>{V7(m,y=>n.add(y))})),r!=null&&r.exclude&&sD(r.exclude,iD(e,m=>{s.delete(m),V7(m,y=>n.delete(y))},m=>n.delete(m),m=>{l||(l=new Set),l.add(m)}));const d=e.toMap(i),f=e.allLayerViews.filter(m=>!m.suspended&&s.has(m)&&m.clips.every(y=>rX(e,y,i,d))).reverse();let p=[...a?e.graphicsView.hitTest(d).map(m=>({type:"graphic",graphic:m,layer:null,mapPoint:d})):[],...await Promise.all(f.map(m=>m.hitTest(d,i)).toArray())].filter(It).flat().filter(It);return p=p.filter(m=>{var y;return m.type!=="graphic"||((y=m.layer)==null?void 0:y.type)!=="subtype-group"||n.has(m.graphic.layer)}),o&&(p=p.filter(m=>!("graphic"in m)||!m.graphic||(o==null?void 0:o.has(pT(m.graphic))))),l&&(p=p.filter(m=>!("graphic"in m)||!m.graphic||!(l!=null&&l.has(pT(m.graphic))))),{screenPoint:i,results:p}}function iD(e,t,r,i,s,n){return a=>{if(a instanceof pr){if(a.layer===e)n==null||n();else{const o=e.allLayerViews.find(l=>l.layer===a.layer);o&&(s==null||s(o))}i(pT(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){const o=e.allLayerViews.find(l=>l.layer===a.parent);o&&r(a,o)}else{const o=e.allLayerViews.find(l=>l.layer===a);o&&t(o)}}}function sD(e,t){if(e)if(D5(e))for(const r of e)if(D5(r))for(const i of r)t(i);else t(r);else t(e)}function pT(e){var r,i;const t=e.getObjectId();return t?`${((r=e.layer)==null?void 0:r.uid)??((i=e.sourceLayer)==null?void 0:i.uid)??"MapView"}/${t}`:`"MapView/${e.uid}`}function V7({layer:e},t){(e==null?void 0:e.type)==="subtype-group"&&e.sublayers.forEach(r=>{t(r)})}let Bb=null,B_=!0;function V8e(e,t,r){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(B_)try{return new ImageData(e,t)}catch{B_=!1}return iX(e,t,r)}function eQe(e,t,r,i){if(!t||!r)throw new Error("Cannot construct image data without dimensions");if(B_)try{return new ImageData(e,t,r)}catch{B_=!1}const s=iX(t,r,i);return s.data.set(e,0),s}function z8e(){return Bb||(Bb=document.createElement("canvas"),Bb.width=1,Bb.height=1),Bb}function iX(e,t,r){return r||(r=z8e()),r.getContext("2d").createImageData(e,t)}async function j8e(e,t){const r=window.URL.createObjectURL(e);try{const{data:i}=await ze(r,{...t,responseType:"image"});return i}catch(i){throw fr(i)?i:new I("invalid-image",`Could not fetch requested image at ${r}`)}finally{window.URL.revokeObjectURL(r)}}async function tQe(e,t){const{arrayBuffer:r,mediaType:i}=await q8e(e,t),s=i==="image/png";if(i==="image/gif"){const{isAnimatedGIF:n,parseGif:a}=await C(()=>import("./gif-Djm16EOX.js"),[]);if(n(r))return a(r,t)}if(s){const{isAnimatedPNG:n,parseApng:a}=await C(()=>import("./apng-C7KdrDoV.js"),__vite__mapDeps([341,114]));if(n(r))return a(r,t)}return j8e(new Blob([r],{type:i}),t)}async function q8e(e,t){var s;const r=Kp(e);if(r!=null&&r.isBase64)return{arrayBuffer:YG(r.data),mediaType:r.mediaType};const i=await ze(e,{responseType:"array-buffer",...t});return{arrayBuffer:i.data,mediaType:((s=i.getHeader)==null?void 0:s.call(i,"Content-Type"))??""}}function sX(e,t,r){const{ctx:i,canvas:s}=aX(e,r),n=i.getImageData(0,0,e.width,e.height),a=lX(s,t);return oX(s),{dataUrl:a,data:n}}function nX(e,t){const{ctx:r,canvas:i}=aX(e,t),s=r.getImageData(0,0,e.width,e.height);return oX(i),s}function aX(e,t){const r=B8e();t.premultipliedAlpha&&W8e(e),r.width=e.width,r.height=e.height;const i=r.getContext("2d",{willReadFrequently:!0});return i.putImageData(e,0,0),t.flipY&&H8e(i),{ctx:i,canvas:r}}function oX(e){e.width=0,e.height=0}function B8e(){return z7==null&&(z7=document.createElement("canvas")),z7}let z7=null;function lX(e,t){const r=Z8e[t.format],i=t.quality/100;return e.toDataURL(r,i)}function cX(e,t){const r=G8e(e),i=Y8e[r];return{format:r,quality:As(t??i,0,100)}}function dX(e,t){return t/Math.max(e[0],e[1])}function U8e(e,t,r,i=0,s=0,n=e.width-i,a=e.height-s,o=!1){const{data:l}=e,{width:d,height:f,data:p}=t,m=n/d,y=a/f,b=Math.ceil(m/2),g=Math.ceil(y/2),v=e.width;for(let w=0;w<f;w++)for(let _=0;_<d;_++){const x=4*(_+(o?f-w-1:w)*d);let T=0,k=0,A=0,M=0,R=0,P=0;const z=(w+.5)*y;for(let j=Math.floor(w*y);j<(w+1)*y;j++){const H=Math.abs(z-(j+.5))/g,K=(_+.5)*m,J=H*H;for(let pe=Math.floor(_*m);pe<(_+1)*m;pe++){const Ae=Math.abs(K-(pe+.5))/b,ue=Math.sqrt(J+Ae*Ae);if(ue>=1)continue;let le=2*ue*ue*ue-3*ue*ue+1;const Ge=4*(i+pe+(s+j)*v);P+=le*l[Ge+3],k+=le,!r&&l[Ge+3]<255&&(le=le*l[Ge+3]/255),A+=le*l[Ge],M+=le*l[Ge+1],R+=le*l[Ge+2],T+=le}}p[x]=A/T,p[x+1]=M/T,p[x+2]=R/T,p[x+3]=P/k}return t}function G8e(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return J8e}}function H8e(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function W8e(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const s=t[i+3];if(s!==255&&s>0){const n=255/s;t[i]=t[i]*n,t[i+1]=t[i+1]*n,t[i+2]=t[i+2]*n}}}const Z8e={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},nD=98,J8e="png",Y8e={png:100,jpg:nD,jpeg:nD},rQe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:V8e,encode:sX,encodeData:nX,getFormatAndQuality:cX,getMaximumResolutionScale:dX,resampleHermite:U8e,toDataUrl:lX},Symbol.toStringTag,{value:"Module"})),uX={flipY:!0,premultipliedAlpha:!0};async function Q8e(e,t){const r=await fX(e,t),{format:i,quality:s}=cX(t==null?void 0:t.format,t==null?void 0:t.quality);return sX(r,{format:i,quality:s},uX)}async function K8e(e,t){const r=await fX(e,t);return nX(r,uX)}function fX(e,t){const r=t7e(t||{},e7e(e.stage,e.size),e.size,e.padding),i=X8e(t,e.allLayerViews);return e.stage.takeScreenshot(r,i,e.backgroundColor,t==null?void 0:t.rotation)}function X8e(e={},t){if(!e.layers)return;const r=[];return e.layers.forEach(i=>{const s=t.find(n=>n.layer.id===i.id);s!=null&&s.container&&r.push(s.container)}),r}function e7e(e,t){return Math.min(4,dX(t,Math.min(4096,e.context.parameters.maxTextureSize)))}function t7e(e,t,r,i){e.ignorePadding&&(i={left:0,right:0,top:0,bottom:0});let s=null;e.width!=null&&e.height!=null?s=[e.width,e.height]:e.width==null&&e.height!=null?s=[e.height,e.height]:e.width!=null&&e.height==null?s=[e.width,e.width]:e.width==null&&e.height==null&&(s=null);const n=r[0]-(i.left+i.right),a=r[1]-(i.top+i.bottom);let o,l,d=e.area||{x:0,y:0,width:n,height:a};if(s){const f=n/a,p=s[0]/s[1];if(p>f){const m=d.width/p;d={x:d.x,y:Math.round(d.y+(d.height-m)/2),width:d.width,height:Math.round(m)}}else{const m=d.height*p;d={x:Math.round(d.x+(d.width-m)/2),y:d.y,width:Math.round(m),height:d.height}}}else s=[d.width,d.height];return s[0]>d.width?(o=Math.min(s[0]/d.width,t),l=s[0]/d.width/o):(o=1,l=s[0]/d.width),{cropArea:{x:Math.round((d.x+i.left)*o),y:Math.round((d.y+i.top)*o),width:Math.round(d.width*o),height:Math.round(d.height*o)},outputScale:l,resolutionScale:o}}const r7e=e=>e.includes("Brush");let pX=class{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),r7e(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}};function i7e(e,t){const r=t.debugRendererInfo&&e.getExtension("WEBGL_debug_renderer_info");return r?{getUnmaskedRendererWebGL:()=>e.getParameter(r.UNMASKED_RENDERER_WEBGL)}:null}let aD;function s7e(){return aD??(aD=o7e()),aD}let n7e=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function a7e(e){if(typeof WebGL2RenderingContext>"u")return null;const t=document.createElement("canvas");if(!t)return null;let r=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(r==null&&(r=t.getContext("webgl2"),r!=null&&(e.majorPerformanceCaveat=!0)),r==null)return r;e.available=!0,e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const i=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);return i&&(e.supportsHighPrecisionFragment=i.precision>0),r}function o7e(){var r;const e=new n7e,t=a7e(e);return t==null||(e.supportsColorBufferFloat=t.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=t.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||t.getExtension("EXT_color_buffer_half_float")!==null,e.unmaskedRenderer=((r=i7e(t,{debugRendererInfo:!0}))==null?void 0:r.getUnmaskedRendererWebGL())??"unknown"),e}function l7e(e){const t=s7e();return t.available?e==="3d"&&t.majorPerformanceCaveat?new I("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new I("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new I("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new I("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function c7e(e){return e&&"nodeType"in e}function d7e(e){return e&&typeof e.render=="function"}const oD={component:"esri-component"};let Pf=class extends ie{constructor(){super(...arguments),this.widget=null}destroy(){var t;this.node=null,(t=this.widget)==null||t.destroy()}get id(){var t,r;return this._get("id")??((t=this.widget)==null?void 0:t.id)??((r=this.node)==null?void 0:r.id)}set id(t){this._set("id",t)}set node(t){const r=this._get("node");t!==r&&(t&&t.classList.add(oD.component),r&&r.classList.remove(oD.component),this._set("node",t))}castNode(t){var r;return(r=this.widget)==null||r.destroy(),t?typeof t=="string"||c7e(t)?(this._set("widget",null),$A(t)):(d7e(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};c([u()],Pf.prototype,"id",null),c([u()],Pf.prototype,"node",null),c([Oe("node")],Pf.prototype,"castNode",null),c([u({readOnly:!0})],Pf.prototype,"widget",void 0),Pf=c([S("esri.views.ui.Component")],Pf);const H9=Pf,hX="calcite-mode-";function u7e(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}function wk(){return u7e().startsWith("dark")}function f7e(){return`${hX}${wk()?"dark":"light"}`}function p7e(e){h7e(e),e.classList.add(f7e())}function h7e(e){Array.from(e.classList).forEach(t=>{t.startsWith(hX)&&e.classList.remove(t)})}const m7e={left:0,top:0,bottom:0,right:0},mX={bottom:30,top:15,right:15,left:15},cl="esri-ui",is={ui:cl,corner:`${cl}-corner`,innerContainer:`${cl}-inner-container`,manualContainer:`${cl}-manual-container`,cornerContainer:`${cl}-corner-container`,topLeft:`${cl}-top-left`,topRight:`${cl}-top-right`,bottomLeft:`${cl}-bottom-left`,bottomRight:`${cl}-bottom-right`};function y7e(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function c3(e){return e===0?"0":`${e}px`}function j7(e){const t=typeof e=="object"&&e!==null&&Object.getPrototypeOf(e);return(t===null||t===Object.prototype)&&("component"in e||"index"in e||"position"in e)?e:null}function q7(e,{top:t,bottom:r,left:i,right:s}){e.style.top=t,e.style.bottom=r,e.style.left=i,e.style.right=s}let bo=class extends an.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Ii(),this.view=null,this._applyViewPadding=()=>{const r=this.container;r&&q7(r,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const r=this._innerContainer;r&&q7(r,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([U(()=>{var t;return[(t=this.view)==null?void 0:t.padding,this.container]},this._applyViewPadding,we),U(()=>this.padding,this._applyUIPadding,we),U(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},we),lA(t=>{this._locale=t})])}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){const r=this._get("container");t!==r&&(t&&(t.classList.add(is.ui),p7e(t),this._attachContainers(t)),r&&(r.classList.remove(is.ui),q7(r,{top:"",bottom:"",left:"",right:""}),r.textContent=""),this._set("container",t))}get height(){var n;const t=((n=this.view)==null?void 0:n.height)??0;if(t===0)return t;const r=this._getViewPadding(),{top:i,bottom:s}=r;return Math.max(t-i-s,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:{...mX,...t}}get width(){var n;const t=((n=this.view)==null?void 0:n.width)??0;if(t===0)return t;const r=this._getViewPadding(),{left:i,right:s}=r;return Math.max(t-i-s,0)}add(t,r){let i,s,n;if(Array.isArray(t))return void t.forEach(o=>this.add(o,r));const a=j7(t);a&&({index:i,position:r,component:t,key:s}=a),r&&typeof r=="object"&&({index:i,key:s,position:r,internal:n}=r),!t||r&&!this._isValidPosition(r)||this._add(t,r,i,s,n)}remove(t,r){var s,n;if(!t)return;if(Array.isArray(t))return t.map(a=>this.remove(a,r));const i=this._find(t);if(i){if(this._componentMap.has(i)&&((s=this._componentMap.get(i))==null?void 0:s.key)!==r)return;const a=this._components.indexOf(i),o=i.node.parentNode;return o==null||o.removeChild(i.node),this._componentMap.delete(i),(n=i.widget)==null||n.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(a,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(const n of t)this.empty(n,r);return}const i=this._positionNameToContainerLookup[t??"manual"],s=Array.prototype.slice.call(i.children).map(n=>this._findByNode(n)).filter(n=>{var a;return n==null?!1:!(((a=this._componentMap.get(n))==null?void 0:a.internal)??!1)||r.removeInternal});for(const n of s)this.remove(n)}move(t,r){if(Array.isArray(t)&&t.forEach(a=>this.move(a,r)),!t)return;let i;const s=j7(t)||j7(r);if(s&&(i=s.index,r=s.position,t=s.component||t),r&&!this._isValidPosition(r))return;const n=this.remove(t);n&&this.add(n,{position:r,index:i})}find(t){if(!t)return null;const r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(i=>this._getComponentsAtPosition(i,r)):this._getComponentsAtPosition(t,r):this._components.filter(i=>{var s;return r.includeInternal||!((s=this._componentMap.get(i))!=null&&s.internal)}).map(({widget:i,node:s})=>i??s)}getPosition(t){for(const r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,i,s,n){t instanceof H9||(t=new H9({node:t}));const{widget:a}=t;a!=null&&a instanceof ie&&a.addHandles(Je(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:i}),this._components.push(t),this._componentMap.set(t,{key:s,internal:n})}_find(t){return t?t instanceof H9?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){var t;return((t=this.view)==null?void 0:t.padding)??m7e}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){const t=document.createElement("div");t.classList.add(is.innerContainer,is.cornerContainer);const r=document.createElement("div");r.classList.add(is.innerContainer,is.manualContainer);const i=document.createElement("div");i.classList.add(is.topLeft,is.corner),t.appendChild(i);const s=document.createElement("div");s.classList.add(is.topRight,is.corner),t.appendChild(s);const n=document.createElement("div");n.classList.add(is.bottomLeft,is.corner),t.appendChild(n);const a=document.createElement("div");a.classList.add(is.bottomRight,is.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=r;const o=za();this._cornerNameToContainerLookup={"top-left":i,"top-right":s,"bottom-left":n,"bottom-right":a,"top-leading":o?s:i,"top-trailing":o?i:s,"bottom-leading":o?a:n,"bottom-trailing":o?n:a},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){var d,f;const r=t.position??"manual",{component:i,index:s}=t,n=this._positionNameToContainerLookup[r],a=s!=null&&s>-1;if(y7e(i.widget)&&i.widget.startup(),!a)return void n.appendChild(i.node);const o=Array.from(n.children);if(s===0){const{firstChild:p}=n;return void(p?(d=p.parentNode)==null?void 0:d.insertBefore(i.node,p):n.appendChild(i.node))}if(s>=o.length)return void n.appendChild(i.node);const l=o[s];(f=l.parentNode)==null||f.insertBefore(i.node,l)}_toPixelPosition(t){return{top:c3(t.top),left:c3(t.left),right:c3(t.right),bottom:c3(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){const i=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(i.children).map(s=>this._findByNode(s)).filter(It).filter(s=>{var n;return r.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}};c([u()],bo.prototype,"_locale",void 0),c([u()],bo.prototype,"container",null),c([u()],bo.prototype,"height",null),c([u({value:mX})],bo.prototype,"padding",null),c([Oe("padding")],bo.prototype,"castPadding",null),c([u()],bo.prototype,"view",void 0),c([u()],bo.prototype,"width",null),bo=c([S("esri.views.ui.UI")],bo);const b7e=bo,g7e="randomUUID"in crypto;function F4(){if(g7e)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function oQe(){return`{${F4().toUpperCase()}}`}function v7e(){return`{${F4()}}`}function w7e(e){const t=e.toUpperCase();return e[0]!=="{"?`{${t}}`:t}const _7e={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},S7e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},$7e=e=>({...S7e,...e}),x7e=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},E7e=(e,t)=>e.find(t),lD=(e,t,r=!1)=>{let i=e;return t.forEach((s,n)=>{const a=i!=null&&i.children?E7e(i.children,o=>o.domNode===s):void 0;r&&!a&&n!==t.length-1||(i=a)}),i},T7e=e=>{let t;const r={..._7e,...e},i=$7e(r),s=i.performanceLogger;let n,a=!0,o=!1;const l=[],d=[],f=(m,y,b)=>{var w;let g;i.eventHandlerInterceptor=(_,x,T,k)=>function(A){let M;s("domEvent",A);const R=x7e(A.currentTarget,g.domNode),P=R.some(j=>{var H;return customElements.get((H=j==null?void 0:j.tagName)==null?void 0:H.toLowerCase())});if(A.eventPhase===Event.CAPTURING_PHASE||!P)R.reverse(),M=lD(g.getLastRender(),R);else{const j=A.composedPath(),H=j.slice(j.indexOf(A.currentTarget),j.indexOf(g.domNode)).reverse();M=lD(g.getLastRender(),H,!0)}let z;return M&&(z=r.handleInterceptedEvent(t,M,this,A)),s("domEventProcessed",A),z},(w=r.postProcessProjectionOptions)==null||w.call(r,i);const v=b();g=m(y,v,i),i.eventHandlerInterceptor=void 0,l.push(g),d.push(b),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(g,v)};let p=()=>{if(n=void 0,a){a=!1,s("renderStart",void 0);for(let m=0;m<l.length;m++){const y=d[m]();s("rendered",void 0);try{l[m].update(y)}catch(b){console.error(b)}s("patched",void 0)}s("renderDone",void 0),a=!0}};return r.modifyDoRenderImplementation&&(p=r.modifyDoRenderImplementation(p,l,d)),t={renderNow:p,scheduleRender:()=>{n||o||(n=requestAnimationFrame(p))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(m,y)=>{f(Kd.append,m,y)},insertBefore:(m,y)=>{f(Kd.insertBefore,m,y)},merge:(m,y)=>{f(Kd.merge,m,y)},replace:(m,y)=>{f(Kd.replace,m,y)},detach:m=>{for(let y=0;y<d.length;y++)if(d[y]===m)return d.splice(y,1),l.splice(y,1)[0];throw new Error("renderFunction was not found")}},t};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */let yX=!1;const I7e=e=>{yX=!0,Goe(e)};let bX;function C7e(){yX||I7e(xs(Et(bX)))}function dn(e){var r;const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push((r=e[i])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}bX="components/assets";const gX=Symbol("widget"),vX=Symbol("widget-test-data"),M7e=[],A7e={},U_=new WeakMap;function wX(e,t){let r=t.children;if(r!=null&&r.length)for(let s=0;s<r.length;++s)r[s]=wX(e,r[s]);else r=M7e;const i=t.vnodeSelector;if(G_(i)){const s=t.properties||A7e,n=s.key||i,a={key:n,afterCreate:k7e,afterUpdate:L7e,afterRemoved:_X,parentWidget:e,widgetConstructor:i,widgetProperties:{...s,key:n,children:r}};return{vnodeSelector:i.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function k7e(e,t,r,{parentWidget:i,widgetConstructor:s,widgetProperties:n}){var o;const a=new s(n);a.container=e,U_.set(e,a),(o=a.afterCreate)==null||o.call(a,a,e),i.addHandles(Je(()=>_X(e))),queueMicrotask(()=>{a[vX].projector.renderNow()})}function L7e(e,t,r,{widgetProperties:i}){var n;const s=U_.get(e);s&&(s.set(i),(n=s.afterUpdate)==null||n.call(s,s,e))}function _X(e){var r;const t=U_.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),U_.delete(e))}function G_(e){return typeof e=="function"&&e[gX]}const cD=new Set;function R7e(e){cD.add(e),e.finally(()=>cD.delete(e))}var SX;const O7e="esri.widgets.Widget";let F7e=0;function $X(e,t){const r=Object.prototype.hasOwnProperty;for(const i in t)r.call(t,i)&&r.call(e,i)&&(e[i]!=null&&t[i]!=null&&typeof e[i]=="object"&&typeof t[i]=="object"?$X(e[i],t[i]):e[i]=t[i]);return e}const P7e=T7e({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,s,n,a)=>{const o=t==null?void 0:t(i,s,n,a),l=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in n)||l){const d=i[2].toLowerCase()+i.slice(3),f=y=>o==null?void 0:o.call(n,y);n.addEventListener(d,f,l);const p=()=>n.removeEventListener(d,f,l),m=a.afterRemoved;a.afterRemoved=y=>{m==null||m(y),p()}}return o}},handleInterceptedEvent(e,t,r,i){const{eventPhase:s,type:n}=i,a=s===Event.CAPTURING_PHASE;let o=`on${n}${a?"capture":""}`;const l=t.properties;(l&&o in l||(o=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,l&&o in l))&&(lJ(),e.scheduleRender(),l[o].call(l.bind||r,i))}});let B7=!1,yr=class extends yh.EsriPromiseMixin(an.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=P7e,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=Uo(async()=>{var l;if((l=this._messageBundleProps)!=null&&l.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:f,propertyName:p})=>{if(this.destroyed)return;let m=await e4(f);this.uiStrings&&Object.keys(this.uiStrings)&&(m=$X(O(m),this.uiStrings)),this[p]=m}));if(this.destroyed)return;for(const f of d)f.status==="rejected"&&B.getLogger(this).error("widget-intl:locale-error",this.declaredClass,f.reason)}await this.loadLocale()}),C7e();const i="esri-widget-uid-"+F4(),s=this.render.bind(this);this._trackingTarget=new P6(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{var p,m;if(!this._readyForTrueRender||this.destroyed)return null;const l=s()??n(),d=l.properties??(l.properties={});if(d.key??(d.key=i),G_(l.vnodeSelector)){if(!this.visible)return n()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(p=d.styles).display??(p.display="");let f=0;return(m=l.children)==null||m.forEach(y=>{var b;G_(y.vnodeSelector)||(y.properties??(y.properties={}),(b=y.properties).key??(b.key=`${this.id}--${f++}`))}),wX(this,l)};this.render=()=>{if(B7)return a();let l=tge(this)??null;if(l)return l;this._trackingTarget.clear(),B7=!0;try{l=vc(this._trackingTarget,a)}catch(d){throw B.getLogger(this).error(d),d}finally{B7=!1}return l&&rge(this,l),l};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),R7e(this._resourcesFetch)}normalizeCtorArgs(t,r){const i={...t};return r&&(i.container=r),i}postInitialize(){}beforeFirstRender(){var r;const t=this.loadDependencies();return(r=this._messageBundleProps)!=null&&r.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(rO):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(pt(this._trackingTarget),pt(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,o7(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return $A(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){var t;return this._get("id")||((t=this.container)==null?void 0:t.id)||Date.now().toString(16)+"-widget-"+F7e++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(SX=gX,vX)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(o7(this),this._projector.scheduleRender())}classes(...t){return h0.apply(this,t)}renderNow(){o7(this),this._projector.renderNow()}_postInitialize(){var r;if(this.destroyed)return;this.scheduleRender(),(r=this._delegatedEventNames)!=null&&r.length&&this.addHandles(U(()=>this.viewModel,(i,s)=>{s&&this.removeHandles("delegated-events"),i&&F6(i)&&this.addHandles(this._delegatedEventNames.map(n=>b2(i,n,a=>{this.emit(n,a)})),"delegated-events")},Hi)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(rO),this.scheduleRender()};this.addHandles([lA(t),U(()=>this.uiStrings,t),jr(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){var r;this._attached&&(this._projector.detach(this.render),this._attached=!1),(r=t==null?void 0:t.parentNode)==null||r.removeChild(t)}};yr[SX]=!0,yr.vnodeSelector="div",c([u()],yr.prototype,"_readyForTrueRender",void 0),c([u({value:null})],yr.prototype,"container",null),c([Oe("container")],yr.prototype,"castContainer",null),c([u()],yr.prototype,"icon",null),c([u()],yr.prototype,"id",null),c([u()],yr.prototype,"label",null),c([u()],yr.prototype,"renderable",null),c([u()],yr.prototype,"uiStrings",void 0),c([u()],yr.prototype,"viewModel",void 0),c([u({value:!0})],yr.prototype,"visible",null),c([u()],yr.prototype,"key",void 0),c([u()],yr.prototype,"children",void 0),c([u()],yr.prototype,"afterCreate",void 0),c([u()],yr.prototype,"afterUpdate",void 0),c([u()],yr.prototype,"afterRemoved",void 0),yr=c([S(O7e)],yr);const lt=yr,N7e=new Map;function D7e(e){return N7e.get(e)}function dD(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function V7e(e,t){return e.length!==t.length||e.some((r,i)=>r.text!==t[i].text)}function Ub(e,t,r){!r||!t||e.find(i=>i.layerView===t&&i.text===r)||e.push({text:r,layerView:t})}function z7e(e){return e.type==="bing-maps"}const dl=[];let vm=class extends ie{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new W,this.view=null,this._allLayerViewsChange=r=>{var s;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=(s=this.view)==null?void 0:s.allLayerViews;i&&(this.addHandles(i.map(n=>U(()=>{var a;return[n.suspended,(a=n.layer)==null?void 0:a.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(n=>{n.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),r!=null&&r.removed&&r.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([Er(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},"change",r=>this._allLayerViewsChange(r),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),jr(()=>{var r;return((r=this.view)==null?void 0:r.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,r=t==null?void 0:t.allLayerViews;if(dl.length=0,!t||!r)return void this._clear();r.forEach(s=>{var o,l;if(s.suspended||!((o=s.layer)!=null&&o.attributionVisible))return;const n=s.layer;if(dD(n,"user"))return void Ub(dl,s,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(s)){const d=this._fetchedAttributionData.get(s);return void(d?Ub(dl,s,this._getDynamicAttribution(d,t,n)):dD(n)&&Ub(dl,s,n.copyright))}return void this._fetchAttributionData(s)}const a="portalItem"in n?(l=n.portalItem)==null?void 0:l.accessInformation:void 0;Ub(dl,s,a||n.copyright)});const i=r.find(s=>{var n;return((n=s.layer)==null?void 0:n.type)==="integrated-mesh-3dtiles"});if(this.view&&i){const s=D7e(this.view);if(s){const n=s.getAttributionText();for(let a=0;a<n.length;++a)Ub(dl,i,n[a])}}V7e(this.items,dl)&&(this.items.removeAll(),this.items.addMany(dl)),dl.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const r=await D6(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=r.ok?this._createContributionIndex(r.value,z7e(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,r){const i=t.contributors,s={};if(!i)return s;for(let n=0;n<i.length;n++){const a=i[n],o=a.coverageAreas;if(!o)return;for(const l of o){const d=l.bbox,f=l.zoomMin-(r&&l.zoomMin?1:0),p=l.zoomMax-(r&&l.zoomMax?1:0),m=new ht({xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:me.WGS84}),y={extent:cu(m),attribution:a.attribution||"",score:l.score!=null?l.score:100,id:n};for(let b=f;b<=p;b++)s[b]??(s[b]=[]),s[b].push(y)}}return s.maxKey=Math.max.apply(null,Object.keys(s)),s}_getDynamicAttribution(t,r,i){var f;const{extent:s,scale:n}=r;let a=((f=i.tileInfo)==null?void 0:f.scaleToZoom(n))??0;if(a=Math.min(t.maxKey??0,Math.round(a)),!s||a==null||a<=-1)return"";const o=t[a],l=U6(s.center.clone().normalize(),me.WebMercator),d=new Set;return o?o.filter(p=>{const m=p.id,y=!d.has(m)&&l&&p.extent&&x2(p.extent,l);return y&&d.add(m),y}).sort((p,m)=>m.score-p.score||p.objectId-m.objectId).map(p=>p.attribution).join(", "):""}};c([u({readOnly:!0,type:W})],vm.prototype,"items",void 0),c([u({readOnly:!0})],vm.prototype,"state",null),c([u()],vm.prototype,"view",void 0),vm=c([S("esri.widgets.Attribution.AttributionViewModel")],vm);const xX=vm,ve={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",hidden:"esri-hidden",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function j7e(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:B7e(e[t])}}}function q7e(e){const t=e==null?void 0:e.type;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function B7e(e){return function(t,...r){q7e(t)?age(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function Jt(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var U7e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},EX=function(e,t){for(var r=0,i=e.length;r<i;r++){var s=e[r];Array.isArray(s)?EX(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=U7e(s)),t.push(s))}},G7e=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var s=[];return EX(r,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function $(e,t,...r){return typeof e!="function"||G_(e)?G7e(e,t??null,...r):e(t,...r)}function dQe(...e){return e}const Dh="esri-attribution",Vh={base:Dh,poweredBy:`${Dh}__powered-by`,sources:`${Dh}__sources`,open:`${Dh}--open`,sourcesOpen:`${Dh}__sources--open`,link:`${Dh}__link`};let Di=class extends lt{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(i=>i.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new xX}initialize(){this.addHandles(Er(()=>{var t;return(t=this.viewModel)==null?void 0:t.items},"change",()=>this.scheduleRender()))}destroy(){var t;(t=this._resizeObserver)==null||t.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){const t={[Vh.open]:this._isOpen};return $("div",{bind:this,class:this.classes(Vh.base,ve.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return $("div",{class:Vh.poweredBy},"Powered by"," ",$("a",{class:Vh.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const t=this._isOpen,r=this._isInteractive,i=r?0:void 0,{attributionText:s}=this,n={[Vh.sourcesOpen]:t,[ve.interactive]:r};return $("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Vh.sources,n),innerHTML:s,tabIndex:i})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1;const{clientHeight:i,clientWidth:s,scrollWidth:n}=t,a=n>s,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(r=!0),this._isOpen){const l=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,l&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([u()],Di.prototype,"_isOpen",void 0),c([u()],Di.prototype,"_isInteractive",null),c([u()],Di.prototype,"_attributionTextOverflowed",void 0),c([u()],Di.prototype,"_prevSourceNodeHeight",void 0),c([u({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Di.prototype,"attributionText",null),c([u()],Di.prototype,"icon",null),c([u()],Di.prototype,"itemDelimiter",void 0),c([u()],Di.prototype,"label",null),c([u(),Jt("esri/widgets/Attribution/t9n/Attribution")],Di.prototype,"messages",void 0),c([u()],Di.prototype,"view",null),c([u({type:xX})],Di.prototype,"viewModel",void 0),c([j7e()],Di.prototype,"_toggleState",null),Di=c([S("esri.widgets.Attribution")],Di);const H7e=Di;function W7e(){const e=V("mapview-essential-goto-duration");return e==null?e:e}function Z7e(e){var t,r;return((t=e==null?void 0:e.spatialReference)==null?void 0:t.isWebMercator)||((r=e==null?void 0:e.spatialReference)==null?void 0:r.isGeographic)||!1}const TX=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:i}=this;return qy(i),this.goToOverride?this.goToOverride(i,r):i.goTo(r.target,r.options)}};return c([u()],t.prototype,"goToOverride",void 0),c([u()],t.prototype,"view",void 0),t=c([S("esri.widgets.support.GoTo")],t),t};let Nf=class extends TX(ie){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(we)}destroy(){this.view=null}get canShowNorth(){return Z7e(this.view)}get state(){var t;return!((t=this.view)!=null&&t.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var t,r;(t=this.view)!=null&&t.ready&&(((r=this.view)==null?void 0:r.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:W7e()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;const r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?U(()=>t==null?void 0:t.rotation,this._updateForRotation,we):U(()=>t==null?void 0:t.camera,this._updateForCamera,we))}_watchForView(t){this.addHandles(U(()=>this.view,this._updateRotationWatcher,t))}};c([u({readOnly:!0})],Nf.prototype,"canShowNorth",null),c([u({readOnly:!0})],Nf.prototype,"orientation",void 0),c([u({readOnly:!0})],Nf.prototype,"state",null),c([u()],Nf.prototype,"view",void 0),Nf=c([S("esri.widgets.Compass.CompassViewModel")],Nf);const IX=Nf,uD="esri-compass",fD={base:uD,iconContainer:`${uD}__icon-container`};let Il=class extends lt{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new IX,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return dn({button:()=>C(()=>Promise.resolve().then(()=>ew),void 0),icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:r}=this.viewModel,{messages:i}=this;return $("div",{class:this.classes(fD.base,ve.widget)},$("calcite-button",{class:ve.widgetButton,disabled:r==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},$("div",{"aria-hidden":"true",class:fD.iconContainer,title:i.reset},$("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};c([u()],Il.prototype,"goToOverride",null),c([u()],Il.prototype,"icon",null),c([u()],Il.prototype,"label",null),c([u(),Jt("esri/widgets/Compass/t9n/Compass")],Il.prototype,"messages",void 0),c([u()],Il.prototype,"view",null),c([u({type:IX})],Il.prototype,"viewModel",void 0),Il=c([S("esri.widgets.Compass")],Il);const J7e=Il,pD="esri-navigation-toggle",hD={base:pD,isLayoutHorizontal:`${pD}--horizontal`};let wm=class extends ie{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(jr(()=>{var t,r;return(r=(t=this.view)==null?void 0:t.navigation)==null?void 0:r.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,r;return(t=this.view)!=null&&t.ready&&((r=this.view)==null?void 0:r.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var i,s;const t=(s=(i=this.view)==null?void 0:i.navigation)==null?void 0:s.actionMap;if(!t)return;const r=this._navigationMode==="pan";t.dragPrimary=r?"pan":"rotate",t.dragSecondary=r?"rotate":"pan"}};c([u({readOnly:!0})],wm.prototype,"state",null),c([u()],wm.prototype,"_navigationMode",void 0),c([u()],wm.prototype,"view",void 0),wm=c([S("esri.widgets.NavigationToggle.NavigationToggleViewModel")],wm);const CX=wm;let Cl=class extends lt{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new CX,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const i=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;ac(i),this.toggle()}}loadDependencies(){return dn({button:()=>C(()=>Promise.resolve().then(()=>ew),void 0)})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){var s,n;const t=((s=this.viewModel)==null?void 0:s.state)==="disabled",r=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",i=this.messages.toggle;return $("div",{class:this.classes(hD.base,ve.widget,{[hD.isLayoutHorizontal]:this.layout==="horizontal"})},$("calcite-button",{afterCreate:a=>{this._panButton=a},appearance:r?"outline-fill":"solid",class:ve.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?void 0:-1,title:i}),$("calcite-button",{afterCreate:a=>{this._rotateButton=a},appearance:r?"solid":"outline-fill",class:ve.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?-1:void 0,title:i}))}};c([u()],Cl.prototype,"icon",null),c([u()],Cl.prototype,"label",null),c([u({value:"vertical"})],Cl.prototype,"layout",null),c([u(),Jt("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Cl.prototype,"messages",void 0),c([u()],Cl.prototype,"view",null),c([u({type:CX})],Cl.prototype,"viewModel",void 0),Cl=c([S("esri.widgets.NavigationToggle")],Cl);const Y7e=Cl;let Df=class extends ie{get canZoomIn(){var i,s,n;if(!((i=this.view)==null?void 0:i.ready))return!1;const r=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return r===0||this._scale>r}get canZoomOut(){var s;const{view:t}=this;if(!(t==null?void 0:t.ready))return!1;const i=(s=t.constraints)==null?void 0:s.effectiveMinScale;return i===0||this._scale<i}get _scale(){var r,i,s;const t=(i=(r=this.view)==null?void 0:r.animation)==null?void 0:i.target;return(t&&"then"in t||t==null?void 0:t.scale)??((s=this.view)==null?void 0:s.scale)??0}};c([u({readOnly:!0})],Df.prototype,"canZoomIn",null),c([u({readOnly:!0})],Df.prototype,"canZoomOut",null),c([u()],Df.prototype,"view",void 0),c([u()],Df.prototype,"_scale",null),Df=c([S("esri.widgets.Zoom.ZoomConditions2D")],Df);const Q7e=Df;let _m=class extends ie{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};c([u({readOnly:!0})],_m.prototype,"canZoomIn",null),c([u({readOnly:!0})],_m.prototype,"canZoomOut",null),c([u()],_m.prototype,"view",void 0),_m=c([S("esri.widgets.Zoom.ZoomConditions3D")],_m);const K7e=_m;let yd=class extends ie{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var t;return this._zoomConditions!=null&&((t=this._zoomConditions)==null?void 0:t.canZoomOut)}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new Q7e({view:t}):t.type==="3d"&&(this._zoomConditions=new K7e({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){const t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():Bo(t.goTo({zoomFactor:2})))}zoomOut(){const t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():Bo(t.goTo({zoomFactor:.5})))}};c([u()],yd.prototype,"_zoomConditions",void 0),c([u()],yd.prototype,"canZoomIn",null),c([u()],yd.prototype,"canZoomOut",null),c([u({readOnly:!0})],yd.prototype,"state",null),c([u()],yd.prototype,"view",null),yd=c([S("esri.widgets.Zoom.ZoomViewModel")],yd);const _k=yd,mD={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Ml=class extends lt{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new _k,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return dn({button:()=>C(()=>Promise.resolve().then(()=>ew),void 0)})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){const t={[mD.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:i}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return $("div",{class:this.classes(mD.base,ve.widget,t)},$("calcite-button",{class:ve.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),$("calcite-button",{class:ve.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};c([u()],Ml.prototype,"icon",null),c([u()],Ml.prototype,"label",null),c([u({value:"vertical"})],Ml.prototype,"layout",null),c([u(),Jt("esri/widgets/Zoom/t9n/Zoom")],Ml.prototype,"messages",void 0),c([u()],Ml.prototype,"view",null),c([u({type:_k})],Ml.prototype,"viewModel",void 0),Ml=c([S("esri.widgets.Zoom")],Ml);const X7e=Ml;function eSe(e){return(e==null?void 0:e.view)!==void 0}let W9=class extends b7e{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=r=>{this.components.forEach(i=>{const s=this._find(i),n=s==null?void 0:s.widget;eSe(n)&&(n.view=r)})},this._componentsWatcher=(r,i)=>{this._removeComponents(i),this._addComponents(r),this._adjustPadding(r)}}initialize(){this.addHandles([U(()=>this.components,this._componentsWatcher,we),U(()=>this.view,this._updateViewAwareWidgets,we)])}_add(t,r,i,s,n){let a=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;a=this._createComponent(t)}super._add(a,r,i,s,n)}_removeComponents(t){t.forEach(r=>{const i=this._find(r);i&&(this.remove(i),i.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:r}=this.padding;this.padding=r}}_addComponents(t){this.constructed&&t.forEach(r=>this.add(this._createComponent(r),this._defaultPositionLookup[r]))}_createComponent(t){const r=this._createWidget(t);return new H9({id:t,node:r})}_createWidget(t){const r=this.view;switch(t){case"attribution":return new H7e({view:r});case"compass":return new J7e({view:r});case"navigation-toggle":return new Y7e({view:r});case"zoom":return new X7e({view:r})}}};c([u()],W9.prototype,"components",void 0),W9=c([S("esri.views.ui.DefaultUI")],W9);const MX=W9;let Z9=class extends MX{constructor(t){super(t),this.components=["attribution","zoom"]}};c([u()],Z9.prototype,"components",void 0),Z9=c([S("esri.views.ui.2d.DefaultUI2D")],Z9);const AX=Z9;let kX=class hT{constructor(t,r,i=""){this.major=t,this.minor=r,this._context=i}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}greaterEqual(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){const r=this._context&&this._context+":",i=this._context&&this._context+" ";throw new I(r+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new hT(this.major,this.minor,this._context)}static parse(t,r=""){const[i,s]=t.split("."),n=/^\s*\d+\s*$/;if(!(i!=null&&i.match)||!n.test(i))throw new I((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!(s!=null&&s.match)||!n.test(s))throw new I((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(i,10),o=parseInt(s,10);return new hT(a,o,r)}},q0=class extends kX{constructor(t,r){super(t,r,"webmap")}};function U7(e){return e!=null&&typeof e=="object"&&"declaredClass"in e&&e.declaredClass==="esri.WebMap"}const LX=new q0(2,33);var mT;let J9=mT=class extends N{constructor(e){super(e),this.color=new Z([0,0,0,1])}clone(){return new mT(O({color:this.color}))}};c([u({type:Z,json:{write:!0}})],J9.prototype,"color",void 0),J9=mT=c([S("esri.webmap.background.ColorBackground")],J9);const P4=J9;let RX,OX,FX,PX,NX,DX,VX;async function tSe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:i,MagnifierView2D:s,GridView2D:n,Stage:a}]=await Promise.all([C(()=>import("./webglDeps-BMvgpo_w.js"),__vite__mapDeps([268,240,269,270,271])),C(()=>import("./mapViewDeps-BrEEb22I.js"),__vite__mapDeps([272,173,273,171,172,174,175,176,177,169,180,274,269,240,270,244,220,170,144,275,168,198,276,227,226,184,122,178,186,277,181,182,183,278,225,268,271,279,193,280,167,125,281,238,234,218,242,282,283,185,284,285,179,286,149,190,165,287,288,289,290,236,291,292]))]);OX=e,FX=t,PX=r,NX=i,DX=s,VX=n,RX=a}let qe=class extends G6e(lbe(Fge(_ge(r9e)))){constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new _v({getCollections:()=>{var r,i;return[(r=this.basemapView)==null?void 0:r.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new T4({actionMap:new XA({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new W,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new pX,this.type="2d",this.view2dType=null,this.ui=new AX,this.test={takeScreenshot:async r=>K8e(this._getScreenshotView(r),r)},this.padding={top:0,right:0,bottom:0,left:0},gye()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=pt(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new n8e(this.featuresTilingScheme)}get constraintsInfo(){var i,s;const t=(i=this.defaultsFromMap)==null?void 0:i.tileInfo,r=this.spatialReference;return{lods:(s=t==null?void 0:t.spatialReference)!=null&&s.equals(r)?t.lods:null,spatialReference:r}}get initialExtentRequired(){var o;if(!this.stateManager)return!1;const{scale:t,constraints:r,center:i,viewpoint:s,extent:n}=this;let a=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((o=this.map.initialViewProperties)!=null&&o.viewpoint))&&!n&&(r!=null&&r.effectiveLODs||(a=-1),(!i||t===0&&a===-1)&&((s==null?void 0:s.targetGeometry)==null||s.targetGeometry.type!=="extent"&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const t=this._getDefaultViewpoint();if(!t)return!1;const r=t.targetGeometry,i=this.spatialReference;return VZ(r.spatialReference,i)}get background(){return U7(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){var t;return((t=this.stateManager)==null?void 0:t.center)??null}set center(t){this.stateManager.center=t}get highlightOptions(){return P8e(this)}set highlightOptions(t){N8e(this,t)}get padding(){var t;return(t=this.stateManager)==null?void 0:t.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){var t;return((t=this.stage)==null?void 0:t.renderRequested)??!1}get resolution(){return this.stateManager.resolution??0}get scale(){var t;return((t=this.stateManager)==null?void 0:t.scale)??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get tileInfo(){var t;return(t=this.featuresTilingScheme)==null?void 0:t.tileInfo}get updating(){var i,s,n,a;const t=!(!this.magnifier.visible||this.magnifier.position===null||!((i=this._magnifierView)!=null&&i.updatingHandles.updating)),r=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(o=>!o.destroyed&&!("layerViews"in o)&&o.updating===!0)||t);if(V("esri-2d-log-updating")){const o=this.allLayerViews.reduce((l,d)=>({...l,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${r}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(a=this.graphicsView)==null?void 0:a.updating}
-> allLayerViews: ${JSON.stringify(o)}
-> updatingMagnifier: ${t}
`)}return r}get visibleArea(){const t=this.stateManager.visibleArea;return t&&new Gn({rings:[t.map(r=>[r[0],r[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){var t;return((t=this.mapViewNavigation)==null?void 0:t.interacting)??!1}async hitTest(t,r){return D8e(this,t,r)}async takeScreenshot(t){return Q8e(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;const r=TQ(t)?EQ(this,t):t;return this.stateManager.toMap(r)}toScreen(t,r){return this.stateManager.toScreen(t,r)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var t;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((t=this.defaultsFromMap)==null?void 0:t.spatialReference)||null}getDefaultTimeZone(){return U7(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return U7(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(t){return _N.hasLayerViewModule(t)}importLayerView(t){return _N.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(B.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){var d;const r=this.toMap(t),i=await this.hitTest(t),s=this.allLayerViews.toArray().filter(f=>f.clips.every(p=>rX(this,p,t,r))).reverse(),n=new globalThis.Map(s.map(f=>[f.layer.uid,f])),a=[];let o=0,l=0;for(;o<i.results.length||l<s.length;){const f=i.results.at(o);if(f&&f.type!=="graphic"){++o;continue}const p=n.get((d=(f==null?void 0:f.layer)??(f==null?void 0:f.graphic.layer))==null?void 0:d.uid);if((!f||p)&&l<s.length&&s.at(l)!==p){const m=s.at(l);"fetchPopupFeaturesAtLocation"in m&&a.push({mapPoint:r,layerView:m}),++l}else f&&(a.push({graphic:f.graphic,layerView:p}),++o)}return{hits:a,location:r}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=l7e(this.type);if(V("safari")&&V("safari")<9&&(t=new I("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:V("safari")})),t!=null)throw B.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return tSe()}_getDefaultViewpoint(){var v;const{constraints:t,initialExtent:r,map:i,padding:s,size:n}=this;if(!t)return null;const a=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),l=a==null?void 0:a.viewpoint,d=((v=l==null?void 0:l.targetGeometry)==null?void 0:v.extent)??r,f=d==null?void 0:d.center,p=(l==null?void 0:l.rotation)??0,m=(l==null?void 0:l.scale)||d&&k4(d,[n[0]-s.left-s.right,n[1]-s.top-s.bottom]),y=o.center??f,b=o.rotation??p,g=o.scale??m;return y&&g?new Tr({targetGeometry:y,scale:g,rotation:b}):null}_startup(){var o;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,(o=this.defaultsFromMap.extent)==null?void 0:o.center),this.graphics.owner=this;const r=new RX(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=r,this._magnifierView=new DX,this._magnifierView.magnifier=this.magnifier,this._gridView=new VX;const i=new PX({view:this});this._set("labelManager",i);const s=new j4e({view:this});this._set("animationManager",s);const n=new NX({view:this,animationManager:s});this._set("mapViewNavigation",n),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",l=>this.fatalError=l.error),U(()=>this.stationary,l=>r.stationary=l,Hi),U(()=>this.background,l=>{r.backgroundColor=l==null?void 0:l.color,this._magnifierView.backgroundColor=l==null?void 0:l.color},Hi),U(()=>this.magnifier,l=>this._magnifierView.magnifier=l,Hi),U(()=>this.grid,l=>this._gridView.grid=l,Hi),U(()=>this.renderingOptions,l=>r.renderingOptions=l,Hi),U(()=>this.highlights.items.map(l=>({name:l.name,options:{fillColor:l.color,haloColor:l.haloColor,fillOpacity:l.fillOpacity,haloOpacity:l.haloOpacity,haloWidth:l.haloWidth,haloBlur:l.haloBlur}})),()=>{r.highlightGradient=O8e(r.highlightGradient,this.highlights.items)},Hi),U(()=>this.state.id,()=>r.state=this.state,Hi)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(r=>{this.stage.addChild(r.container)});const t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const t=new W4e(j1.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);const r=new OX({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new FX(t)});this._set("graphicsView",r)}_destroySpatialReferenceDependentProperties(){const t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){var a;const{allLayerViews:r,padding:i,size:s,stage:n}=this;return{allLayerViews:r,backgroundColor:t!=null&&t.ignoreBackground?null:(a=this.background)==null?void 0:a.color,padding:i,size:s,stage:n}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(const r of this.allLayerViews)r.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const r of this.allLayerViews)r.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};qe.type="2d",c([u({constructOnly:!0})],qe.prototype,"deactivatedWebGLExtensions",void 0),c([u({constructOnly:!0})],qe.prototype,"debugWebGLExtensions",void 0),c([u({readOnly:!0})],qe.prototype,"featuresTilingScheme",void 0),c([u({readOnly:!0})],qe.prototype,"graphicsTileStore",null),c([u()],qe.prototype,"graphicsView",void 0),c([u()],qe.prototype,"constraintsInfo",null),c([u()],qe.prototype,"initialExtentRequired",null),c([u()],qe.prototype,"labelManager",void 0),c([u({type:T4,nonNullable:!0})],qe.prototype,"navigation",void 0),c([u({constructOnly:!0})],qe.prototype,"renderCanvas",void 0),c([u()],qe.prototype,"renderingOptions",void 0),c([u({constructOnly:!0})],qe.prototype,"supersampleScreenshotsEnabled",void 0),c([u({readOnly:!0})],qe.prototype,"supportsGround",void 0),c([u()],qe.prototype,"defaultsFromMapSettings",null),c([u({readOnly:!0})],qe.prototype,"typeSpecificPreconditionsReady",null),c([u({type:P4})],qe.prototype,"background",null),c([u()],qe.prototype,"center",null),c([u({type:W})],qe.prototype,"floors",void 0),c([u()],qe.prototype,"grid",void 0),c([u({type:pu})],qe.prototype,"highlightOptions",null),c([u()],qe.prototype,"map",void 0),c([u()],qe.prototype,"padding",null),c([u({readOnly:!0})],qe.prototype,"rendering",null),c([u({readOnly:!0})],qe.prototype,"resolution",null),c([u()],qe.prototype,"scale",null),c([u({constructOnly:!0})],qe.prototype,"spatialReferenceLocked",void 0),c([u({readOnly:!0})],qe.prototype,"tileInfo",null),c([u({type:pX,readOnly:!0})],qe.prototype,"timeline",void 0),c([u({readOnly:!0})],qe.prototype,"type",void 0),c([u({readOnly:!0})],qe.prototype,"updating",null),c([u({readOnly:!0})],qe.prototype,"view2dType",void 0),c([u({readOnly:!0})],qe.prototype,"visibleArea",null),c([u()],qe.prototype,"zoom",null),c([u({readOnly:!0})],qe.prototype,"navigating",null),c([u(),Oe(e=>e instanceof MX?e:Gy(AX,e))],qe.prototype,"ui",void 0),qe=c([S("esri.views.View2D")],qe);const rSe=qe;let Y9=class extends rSe{constructor(t){super(t),this.view2dType="map"}};c([u({readOnly:!0})],Y9.prototype,"view2dType",void 0),Y9=c([S("esri.views.MapView")],Y9);const yT=Y9;let iSe=class zX{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(l$),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new zX,i=this._originStores[Te.DEFAULTS];i&&i.forEach((s,n)=>{r.set(n,O(s),Te.DEFAULTS)});for(let s=Te.SERVICE;s<l$;s++){const n=this._originStores[s];n&&n.forEach((a,o)=>{t&&t.has(o)||r.set(o,O(a),s)})}return r}get(t,r){const i=r===void 0?this._values:this._originStores[r];return i?i.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,i=Te.USER){let s=this._originStores[i];if(s||(s=new Map,this._originStores[i]=s),s.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const n=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),n!==r}return!1}delete(t,r=Te.USER){const i=this._originStores[r];if(!i)return;const s=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let n=r-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,n);break}}}return s}has(t,r){const i=r===void 0?this._values:this._originStores[r];return!!i&&i.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const i=this._originStores[r],s=i==null?void 0:i.get(t),n=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,r),n!==s}originOf(t){return this._propertyOriginMap.get(t)||Te.DEFAULTS}forEach(t){this._values.forEach(t)}};const jX=e=>{let t=class extends e{constructor(...r){super(...r);const i=Cs(this),s=i.store,n=new iSe;i.store=n,qG(i,s,n)}read(r,i){UG(this,r,i)}getAtOrigin(r,i){const s=G7(this),n=Zd(i);if(typeof r=="string")return s.get(r,n);const a={};return r.forEach(o=>{a[o]=s.get(o,n)}),a}originOf(r){return j5(this.originIdOf(r))}originIdOf(r){return G7(this).originOf(r)}revert(r,i){const s=G7(this),n=Zd(i),a=Cs(this);let o;o=typeof r=="string"?r==="*"?s.keys(n):[r]:r,o.forEach(l=>{a.invalidate(l),s.revert(l,n),a.commit(l)})}};return t=c([S("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function G7(e){return Cs(e).store}let yD=class extends jX(ie){};yD=c([S("esri.core.ReadOnlyMultiOriginJSONSupport")],yD);const sSe=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,i="user"){return H7(this).delete(r,Zd(i))}write(r,i){return WG(this,r=r||{},i),r}setAtOrigin(r,i,s){Cs(this).setAtOrigin(r,i,Zd(s))}removeOrigin(r){const i=H7(this),s=Zd(r),n=i.keys(s);for(const a of n)i.originOf(a)===s&&i.set(a,i.get(a,s),Te.USER)}updateOrigin(r,i){const s=H7(this),n=Zd(i),a=Ji(this,r);for(let o=n+1;o<l$;++o)s.delete(r,o);s.set(r,a,n)}toJSON(r){return this.write({},r)}};return t=c([S("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function H7(e){return Cs(e).store}const N4=e=>{let t=class extends sSe(jX(e)){constructor(...r){super(...r)}};return t=c([S("esri.core.MultiOriginJSONSupport")],t),t};let bT=class extends N4(ie){};bT=c([S("esri.core.MultiOriginJSONSupport")],bT);async function nSe(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return f0(e);const r=me.WGS84;return await r4(t,r),Bu(e,r)}function aSe(e,t){if(!qX(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function qX(e,t){var r;return!!((r=e.typeKeywords)!=null&&r.includes(t))}function IQe(e){return qX(e,BX.HOSTED_SERVICE)}function oSe(e,t){const r=e.typeKeywords;if(r){const i=r.indexOf(t);i>-1&&r.splice(i,1)}}function CQe(e,t,r){r?aSe(e,t):oSe(e,t)}async function MQe(e){const t=e.clone().normalize();let r;if(t.length>1)for(const i of t)r?i.width>r.width&&(r=i):r=i;else r=t[0];return nSe(r)}const BX={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function lSe(e){var l;const{portal:t,isOrgItem:r,itemControl:i}=e,s=(l=t.user)==null?void 0:l.privileges;let n=!s||s.includes("features:user:edit"),a=!!r&&!!(s!=null&&s.includes("features:user:fullEdit"));const o=i==="update"||i==="admin";return o?a=n=!0:a&&(n=!0),{features:{edit:n,fullEdit:a},content:{updateItem:o}}}let bd=class extends N{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};c([u({type:String,json:{write:{isRequired:!0}}})],bd.prototype,"facilityIdField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],bd.prototype,"layerId",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],bd.prototype,"nameField",void 0),c([u({type:String,json:{write:!0}})],bd.prototype,"siteIdField",void 0),c([u({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],bd.prototype,"sublayerId",void 0),bd=c([S("esri.layers.support.FacilityLayerInfo")],bd);const cSe=bd;let ya=class extends N{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"facilityIdField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"layerId",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"levelIdField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"levelNumberField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"longNameField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"shortNameField",void 0),c([u({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],ya.prototype,"sublayerId",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],ya.prototype,"verticalOrderField",void 0),ya=c([S("esri.layers.support.LevelLayerInfo")],ya);const dSe=ya;let Vf=class extends N{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};c([u({type:String,json:{write:{isRequired:!0}}})],Vf.prototype,"layerId",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],Vf.prototype,"nameField",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],Vf.prototype,"siteIdField",void 0),c([u({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Vf.prototype,"sublayerId",void 0),Vf=c([S("esri.layers.support.SiteLayerInfo")],Vf);const uSe=Vf;let Sm=class extends N{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};c([u({type:dSe,json:{write:{isRequired:!0}}})],Sm.prototype,"levelLayer",void 0),c([u({type:cSe,json:{write:{isRequired:!0}}})],Sm.prototype,"facilityLayer",void 0),c([u({type:uSe,json:{write:!0}})],Sm.prototype,"siteLayer",void 0),Sm=c([S("esri.support.MapFloorInfo")],Sm);const fSe=Sm;var zo;(function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"})(zo||(zo={}));var gT;let $m=gT=class extends N{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new gT(O({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};c([u({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],$m.prototype,"activeRange",void 0),c([u({type:[Number],json:{write:!0}})],$m.prototype,"currentRangeExtent",void 0),c([u({type:[Number],json:{write:!0}})],$m.prototype,"fullRangeExtent",void 0),$m=gT=c([S("esri.webdoc.RangeInfo")],$m);const Sk=$m;var vT;let go=vT=class extends N{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new vT(O({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};c([u({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],go.prototype,"enabled",void 0),c([u({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],go.prototype,"longNames",void 0),c([u({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],go.prototype,"minimized",void 0),c([u({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],go.prototype,"pinnedLevels",void 0),c([u({type:String,json:{read:{source:"site"},write:{target:"site"}}})],go.prototype,"site",void 0),c([u({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],go.prototype,"facility",void 0),c([u({type:String,json:{read:{source:"level"},write:{target:"level"}}})],go.prototype,"level",void 0),go=vT=c([S("esri.webdoc.widgets.FloorFilter")],go);const pSe=go;var wT;const d3=new ye({slider:"slider",picker:"picker"});let xm=wT=class extends N{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new wT({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};c([u({type:d3.apiValues,nonNullable:!0,json:{type:d3.jsonValues,default:null,read:{reader:d3.read},write:{isRequired:!0,writer:d3.write}}})],xm.prototype,"interactionMode",void 0),c([u({type:Ve,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=this.stopInterval!=null;return{enabled:!e,isRequired:!e}}}}})],xm.prototype,"numStops",void 0),c([u({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],xm.prototype,"stopInterval",void 0),xm=wT=c([S("esri.webdoc.widgets.Range")],xm);const hSe=xm,$k=ar()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let Wg=class extends _e.ClonableMixin(N){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return XJ(this.value,this.unit,"milliseconds")}};c([re($k,{nonNullable:!0})],Wg.prototype,"unit",void 0),c([u({type:Number,json:{write:!0},nonNullable:!0})],Wg.prototype,"value",void 0),Wg=c([S("esri.time.TimeInterval")],Wg);const ch=Wg;var _T;let Fr=_T=class extends N{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){return e?Ir.fromArray(e):void 0}writeCurrentTimeExtent(e,t,r){e&&Ot(r,e.toArray(),t)}readFullTimeExtent(e,t){const r=t.properties;if(!r)return;const i=r.endTime!=null?new Date(r.endTime):null,s=r.startTime!=null?new Date(r.startTime):null;return new Ir({start:s,end:i})}writeFullTimeExtent(e,t){if(!e)return;const r=t.properties=t.properties||{},i=e.end,s=e.start;i&&(r.endTime=i!=null?i.getTime():null),s&&(r.startTime=s!=null?s.getTime():null)}readStopInterval(e,t,r){return e?ch.fromJSON({value:e.interval,unit:e.units},r):null}writeStopInterval(e,t,r,i){if(!e)return;const s=e.toJSON(i);Ot("properties.timeStopInterval",{interval:s.value,units:s.unit},t)}readStops(e){return e!=null&&e.length?e.map(t=>new Date(t)):null}writeStops(e,t,r){e!=null&&e.length&&Ot(r,e.map(i=>i.getTime()),t)}clone(){return new _T(O({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};c([u({type:Ir,json:{type:[[Ve,Hy]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Fr.prototype,"currentTimeExtent",void 0),c([Y("currentTimeExtent")],Fr.prototype,"readCurrentTimeExtent",null),c([Q("currentTimeExtent")],Fr.prototype,"writeCurrentTimeExtent",null),c([u({type:Ir,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Fr.prototype,"fullTimeExtent",void 0),c([Y("fullTimeExtent")],Fr.prototype,"readFullTimeExtent",null),c([Q("fullTimeExtent")],Fr.prototype,"writeFullTimeExtent",null),c([u({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Fr.prototype,"loop",void 0),c([u({type:Ve,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){var i;const e=!!this.stopInterval,t=!!((i=this.stops)!=null&&i.length),r=!(e||t);return{enabled:r,isRequired:r}}}}})],Fr.prototype,"numStops",void 0),c([u({type:[1,2],nonNullable:!0,json:{type:Ve,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Fr.prototype,"numThumbs",void 0),c([u({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Fr.prototype,"stopDelay",void 0),c([u({type:ch,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:$k.jsonValues.filter(e=>e!=="esriTimeUnitsUnknown")}},overridePolicy(){var r;const e=this.numStops!=null,t=!!((r=this.stops)!=null&&r.length);return{enabled:!t,isRequired:!(e||t)}}}}})],Fr.prototype,"stopInterval",void 0),c([Y("stopInterval")],Fr.prototype,"readStopInterval",null),c([Q("stopInterval")],Fr.prototype,"writeStopInterval",null),c([u({type:[Date],json:{type:[Ve],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],Fr.prototype,"stops",void 0),c([Y("stops")],Fr.prototype,"readStops",null),c([Q("stops")],Fr.prototype,"writeStops",null),Fr=_T=c([S("esri.webdoc.widgets.TimeSlider")],Fr);const mSe=Fr;var ST;let Em=ST=class extends N{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new ST(O({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};c([u({type:hSe,json:{write:!0}})],Em.prototype,"range",void 0),c([u({type:mSe,json:{write:!0}})],Em.prototype,"timeSlider",void 0),c([u({type:pSe,json:{write:!0}})],Em.prototype,"floorFilter",void 0),Em=ST=c([S("esri.webdoc.Widgets")],Em);const ySe=Em,bSe={width:600,height:400},u3=1.5;function gSe(e,t){t=t||bSe;let{width:r,height:i}=t;const s=r/i;return s<u3?i=r/u3:s>u3&&(r=i*u3),r>e.width&&(i*=e.width/r,r=e.width),i>e.height&&(r*=e.height/i,i=e.height),{width:Math.round(r),height:Math.round(i)}}function vSe(e,t){return{...UX(e,t),readResourcePaths:[]}}function FQe(e,t,r){const i=Zt(e.itemUrl);return{...UX(e,t),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:i?{rootPath:i.path,writtenUrls:[]}:null,resources:r?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function UX(e,t){return{origin:t,url:Zt(e.itemUrl),portal:e.portal||Mr.getDefault(),portalItem:e}}let zf=class extends N{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(s=>s.toJSON()),r=this.geometries[0],i={};return i.outSR=uy(this.outSpatialReference),i.inSR=uy(r.spatialReference),i.geometries=JSON.stringify({geometryType:Jy(r),geometries:t}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(i.transformForward=this.transformForward),i}};c([u()],zf.prototype,"geometries",void 0),c([u({type:me,json:{read:{source:"outSR"}}})],zf.prototype,"outSpatialReference",void 0),c([u()],zf.prototype,"transformation",void 0),c([u()],zf.prototype,"transformForward",void 0),zf=c([S("esri.rest.support.ProjectParameters")],zf);const GX=zf,wSe=yt(GX);async function _Se(e,t,r){t=wSe(t);const i=A4(e),s={...i.query,f:"json",...t.toJSON()},n=t.outSpatialReference,a=Jy(t.geometries[0]),o=K9e(s,r);return ze(i.path+"/project",o).then(({data:{geometries:l}})=>YQ(l,a,n))}function SSe(e,t){var r;return t.resourceInfo?HX(t,t.resourceInfo,{origin:e.origin}):(r=t.portalItem)!=null&&r.id?$Se(e,t,t.portalItem):Promise.resolve()}function HX(e,t,r){const i={context:{...r,layerContainerType:"operational-layers"}};return e.portalItem&&(i.context.portal=e.portalItem.portal||Mr.getDefault()),C(()=>import("./layersCreator-C81A2h45.js"),__vite__mapDeps([257,258,259,260,261,262])).then(({populateOperationalLayers:s})=>{const n=[],a=t.operationalLayers;a!=null&&a.length&&n.push(s(e.layers,a,i));const o={...i,context:{...i.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},l=t.tables;return l!=null&&l.length&&n.push(s(e.tables,l,o)),Promise.allSettled(n).then(()=>{})})}async function $Se(e,t,r){var a;if(await r.load().catch(o=>{throw new I(`${e.name}:load-portal-item`,"Failed to load portal item",{error:o})}),r.type!==e.itemType)throw new I(`${e.name}:invalid-portal-item`,`Invalid portal item type '${r.type}', expected '${e.itemType}'`,{type:r.type});const i=await r.fetchData();t.resourceInfo=i;const s=vSe(r,e.origin);await xSe(e,t,i,s),t.resourceReferences={portalItem:r,paths:s.readResourcePaths};const n=await TSe(t.initialViewProperties,r,B.getLogger(t));if(n){const o=((a=t.initialViewProperties)==null?void 0:a.clone())??e.createInitialViewProperties();o.viewpoint=n,t.initialViewProperties=o}}function xSe(e,t,r,i){const s=ESe(e,r);return t.read(s,i),HX(t,s,i)}function ESe(e,t){const r=e.parseVersion(t.version||"",e.name);return e.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}async function TSe(e,t,r){var n;if((n=e==null?void 0:e.viewpoint)==null?void 0:n.targetGeometry)return null;const s=await ISe(e,t,r);return s?new Tr({targetGeometry:s}):null}async function ISe(e,t,r){const i=e==null?void 0:e.spatialReference,s=t==null?void 0:t.extent;if(!i||!s)return null;if(i.isWGS84)return s.clone();if(i.isWebMercator)return cu(s);const{getGeometryServiceURL:n}=await C(()=>import("./geometryServiceUtils-CQWkVxPI.js"),[]);try{const a=await n(t),o=new GX({geometries:[s],outSpatialReference:i});return(await _Se(a,o))[0]}catch(a){r.error("Error projecting item's extent:",a)}return null}function bD(e){return{enabled:!!(e!=null&&e.length)}}var $T;let Tm=$T=class extends N{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new $T({exactMatch:this.exactMatch,type:this.type,name:this.name})}};c([u({type:Boolean,json:{write:!0}})],Tm.prototype,"exactMatch",void 0),c([u({type:String,json:{write:!0}})],Tm.prototype,"name",void 0),c([re(nb)],Tm.prototype,"type",void 0),Tm=$T=c([S("esri.webdoc.applicationProperties.SearchLayerField")],Tm);const CSe=Tm;var xT;let Im=xT=class extends N{constructor(e){super(e),this.field=null,this.id=null,this.subLayer=null}clone(){return new xT(O({field:this.field,id:this.id,subLayer:this.subLayer}))}};c([u({type:CSe,json:{write:{isRequired:!0}}})],Im.prototype,"field",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],Im.prototype,"id",void 0),c([u({type:Ve,json:{write:!0}})],Im.prototype,"subLayer",void 0),Im=xT=c([S("esri.webdoc.applicationProperties.SearchLayer")],Im);const MSe=Im;var ET;let Cm=ET=class extends N{constructor(e){super(e),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new ET({exactMatch:this.exactMatch,type:this.type,name:this.name})}};c([u({type:Boolean,json:{write:!0}})],Cm.prototype,"exactMatch",void 0),c([u({type:String,json:{write:!0}})],Cm.prototype,"name",void 0),c([re(nb)],Cm.prototype,"type",void 0),Cm=ET=c([S("esri.webdoc.applicationProperties.SearchTableField")],Cm);const ASe=Cm;var TT;let Zg=TT=class extends N{constructor(e){super(e),this.field=null,this.id=null}clone(){return new TT(O({field:this.field,id:this.id}))}};c([u({type:ASe,json:{write:{isRequired:!0}}})],Zg.prototype,"field",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],Zg.prototype,"id",void 0),Zg=TT=c([S("esri.webdoc.applicationProperties.SearchTable")],Zg);const kSe=Zg;var IT;const WX=W.ofType(MSe),ZX=W.ofType(kSe);let vo=IT=class extends N{constructor(e){super(e),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new WX,this.tables=new ZX}readAddressSearchEnabled(e){return!e}writeAddressSearchEnabled(e,t,r){t[r]=!e}clone(){return new IT(O({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};c([u({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],vo.prototype,"addressSearchEnabled",void 0),c([Y("addressSearchEnabled")],vo.prototype,"readAddressSearchEnabled",null),c([Q("addressSearchEnabled")],vo.prototype,"writeAddressSearchEnabled",null),c([u({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],vo.prototype,"enabled",void 0),c([u({type:String,json:{write:!0}})],vo.prototype,"hintText",void 0),c([u({type:WX,json:{write:{overridePolicy:bD},origins:{"web-scene":{write:{isRequired:!0}}}}})],vo.prototype,"layers",void 0),c([u({type:ZX,json:{read:!0,write:{overridePolicy:bD}}})],vo.prototype,"tables",void 0),vo=IT=c([S("esri.webdoc.applicationProperties.Search")],vo);const LSe=vo;var CT;let Q9=CT=class extends N{constructor(e){super(e),this.search=null}clone(){return new CT(O({search:this.search}))}};c([u({type:LSe,json:{write:!0}})],Q9.prototype,"search",void 0),Q9=CT=c([S("esri.webdoc.applicationProperties.Viewing")],Q9);const RSe=Q9;var MT;let Mm=MT=class extends N{constructor(e){super(e),this.editing=null,this.offline=null,this.viewing=null}clone(){return new MT(O({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};c([u({json:{write:!0}})],Mm.prototype,"editing",void 0),c([u({json:{write:!0}})],Mm.prototype,"offline",void 0),c([u({type:RSe,json:{write:!0}})],Mm.prototype,"viewing",void 0),Mm=MT=c([S("esri.webmap.ApplicationProperties")],Mm);const OSe=Mm;var AT;let en=AT=class extends N{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return iH(this.url)}get isDataURI(){return kc(this.url)}clone(){return new AT({url:this.url})}};c([u({type:String,json:{write:{isRequired:!0}}})],en.prototype,"url",void 0),c([u()],en.prototype,"isSecureUrl",null),c([u()],en.prototype,"isDataURI",null),en=AT=c([S("esri.webdoc.support.SlideThumbnail")],en);const FSe={type:Ir,json:{read:{source:"timeExtent",reader:e=>e?Array.isArray(e)?Ir.fromArray(e):Ir.fromJSON(e):null},write:{writer:(e,t,r,i)=>{e&&(e.isEmpty?i!=null&&i.messages&&i.messages.push(new I("invalid-timeExtent","TimeExtent cannot be empty")):t[r]=e.toArray())},target:{timeExtent:{type:[[Ve,Hy]]}}}}};var kT;let wo=kT=class extends Os.IdentifiableMixin(N){constructor(e){super(e),this.name=null,this.thumbnail=new en,this.timeExtent=null}castThumbnail(e){return typeof e=="string"?new en({url:e}):yt(en,e)}set viewpoint(e){const{targetGeometry:t,scale:r}=e;t!=null&&t.type==="point"&&r==null&&B.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}readViewpoint(e,t){const{extent:r,viewpoint:i}=t;return Tr.fromJSON(i||{targetGeometry:r})}writeViewpoint(e,t,r,i){if(!e)return;const{targetGeometry:s}=e;if(s==null||s.type==="extent")s!=null&&(t.extent=s.toJSON()),t[r]=e.toJSON();else{const n="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";i!=null&&i.messages?i.messages.push(new I("property:unsupported",n)):B.getLogger(this).error(n)}}clone(){return new kT(O({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};c([u({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],wo.prototype,"name",void 0),c([u({type:en,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],wo.prototype,"thumbnail",void 0),c([Oe("thumbnail")],wo.prototype,"castThumbnail",null),c([u(FSe)],wo.prototype,"timeExtent",void 0),c([u({type:Tr,nonNullable:!0,json:{write:!0}})],wo.prototype,"viewpoint",null),c([Y("viewpoint",["extent","viewpoint"])],wo.prototype,"readViewpoint",null),c([Q("viewpoint")],wo.prototype,"writeViewpoint",null),wo=kT=c([S("esri.webmap.Bookmark")],wo);const xk=wo;let Al=class extends _e.ClonableMixin(ie){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=ks,this.viewpoint=null}};c([u({type:P4})],Al.prototype,"background",void 0),c([u({type:Sk})],Al.prototype,"rangeInfo",void 0),c([u({type:me})],Al.prototype,"spatialReference",void 0),c([u({type:Ir})],Al.prototype,"timeExtent",void 0),c([u({nonNullable:!0})],Al.prototype,"timeZone",void 0),c([u({type:Tr})],Al.prototype,"viewpoint",void 0),Al=c([S("esri.webmap.InitialViewProperties")],Al);const H_=Al,JX=W.ofType(xk),PSe=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),NSe="ArcGIS Pro",DSe=BX.JSAPI;let St=class extends N4(Ai.LoadableMixin(yh.EsriPromiseMixin(tY))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new JX,this.floorInfo=null,this.initialViewProperties=new H_,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=Uo(async(r,i,s)=>{const{save:n,saveAs:a}=await C(()=>import("./webdocSaveUtils-DMcG00Pv.js"),__vite__mapDeps([342,343,344,345,346,347]));switch(r){case zo.SAVE:return n(this.context,this,i);case zo.SAVE_AS:return a(this.context,this,s,i)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=pt(this.portalItem)}initialize(){if(this.when().catch(t=>{B.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(r){return void this.addResolvingPromise(Promise.reject(r))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,r){t&&this._isAuthoringAppSetByUser?r.authoringApp=t:r.authoringApp=DSe}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,r){t&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=t:r.authoringAppVersion=dH}readInitialViewProperties(t,r){var a,o;const i=new H_;r.background&&(i.background=P4.fromJSON(r.background));const s=(a=r.initialState)==null?void 0:a.timeExtent;s&&(i.timeExtent=Ir.fromArray(s));const n=(o=r.initialState)==null?void 0:o.viewpoint;return n&&(n.rotation&&q0.parse(r.version||"","webmap").lessThan(2,20)&&r.authoringApp===NSe&&(n.rotation*=-1),i.viewpoint=Tr.fromJSON(n)),r.mapRangeInfo&&(i.rangeInfo=Sk.fromJSON(r.mapRangeInfo)),r.spatialReference&&(i.spatialReference=me.fromJSON(r.spatialReference)),r.timeZone&&(i.timeZone=r.timeZone),i}writeInitialViewProperties(t,r,i,s){var o;if(!t)return;(o=t.background)!=null&&o.color&&(r.background=t.background.write({},s));const{timeExtent:n,viewpoint:a}=t;if(a||n){const l={};a&&(l.viewpoint=a.write({},s)),n&&(l.timeExtent=n.toArray()),r.initialState=l}t.rangeInfo&&(r.mapRangeInfo=t.rangeInfo.toJSON(s)),t.spatialReference&&(r.spatialReference=t.spatialReference.write({},s)),r.timeZone=t.timeZone}writeLayers(t,r,i,s){r[i]=this._writeLayers(t,s,"operational-layers")}readSourceVersion(t,r){const[i,s]=r.version.split(".");return new q0(parseInt(i,10),parseInt(s,10))}writeSourceVersion(t,r,i){r[i]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(t,r,i,s){const n=this._writeLayers(t,s,"tables");n.length&&(r[i]=n)}get thumbnailUrl(){var t;return((t=this.portalItem)==null?void 0:t.thumbnailUrl)||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){return this.addResolvingPromise(SSe(this.context,this)),Promise.resolve(this)}loadAll(){return a4(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,r){r={...r,origin:this.context.origin};const i=this._getAuthoringPropsState();GG(this,t,s=>super.read(t,s),r),this._restoreAuthoringPropsFromState(i)}write(t,r){if(this.loadStatus!=="loaded"){const i=new I("webmap:not-loaded","Web map must be loaded before it can be serialized");throw B.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),i}return this._removeDanglingLayerRefs(),r={...r,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(t,r)}async save(t){return this._debouncedSaveOperations(zo.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(zo.SAVE_AS,r,t)}async updateFrom(t,r){const i=this._updateFromInternal(t,r);this._updateFromPromise=i,await i,i===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){var i,s,n,a;const r=this.resourceInfo;return this._collectAllLayersJSON([...((i=r==null?void 0:r.baseMap)==null?void 0:i.baseMapLayers)||[],...(r==null?void 0:r.operationalLayers)||[],...((a=(n=(s=this.basemap)==null?void 0:s.resourceInfo)==null?void 0:n.data)==null?void 0:a.baseMapLayers)||[]]).find(o=>o.id===t.id)}async updateItemThumbnail(){var t;this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await((t=this.portalItem)==null?void 0:t.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename})),this._clearThumbnailOverride())}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:aH(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((r,i)=>(r.push(i),i.layerType==="GroupLayer"&&(r=r.concat(this._collectAllLayersJSON(i.layers||[]))),r),[])}_writeLayers(t,r,i){return r={...r,layerContainerType:i},t.map(s=>vx(s,i==="tables"?null:this.getLayerJSONFromResourceInfo(s),r)).filter(It).toArray()}_validateJSON(t){const r=q0.parse(t.version||"","webmap");return this.context.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}_removeDanglingLayerRefs(){var a,o;const t=this.applicationProperties,r=(a=t==null?void 0:t.viewing)==null?void 0:a.search,i=l=>this.allLayers.some(d=>d.id===l);if(r!=null&&r.layers&&(r.layers=r.layers.filter(l=>i(l.id))),r!=null&&r.tables&&(r.tables=r.tables.filter(l=>this.tables.some(d=>d.id===l.id))),t){const l=(o=t.editing)==null?void 0:o.locationTracking;l!=null&&l.info&&!i(l.info.layerId)&&(t.editing=null)}const s="presentation"in this?this.presentation:null,n=s==null?void 0:s.slides;n&&n.forEach(l=>{l.visibleLayers&&(l.visibleLayers=l.visibleLayers.filter(d=>i(d.id)))})}async _updateFromInternal(t,r){if(r??(r={}),await Wa(()=>t.ready),this._updateInitialViewProperties(t,r),t.map===this)for(const i of t.allLayerViews)"visible"in i&&"visible"in i.layer&&i._isOverridden("visible")&&(i.layer.visible=i.visible),"featureEffect"in i&&"featureEffect"in i.layer&&i._isOverridden("featureEffect")&&(i.layer.featureEffect=i.featureEffect);await this._updateThumbnailUrl(t,r)}_updateInitialViewProperties(t,r){var i,s;if(r.backgroundExcluded||(this.initialViewProperties.background=(i=t.background)==null?void 0:i.clone()),this.initialViewProperties.spatialReference=(s=t.spatialReference)==null?void 0:s.clone(),this.initialViewProperties.timeZone=t.timeZone,r.viewpointExcluded||(this.initialViewProperties.viewpoint=new Tr({rotation:t.rotation,scale:r.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!r.widgetsExcluded)for(const n of t.persistableViewModels)n.updateWebDocument(this)}_getViewExtent(t){const r=t.center.clone().normalize(),i=t.extent.clone(),s=i.width/2;return i.xmin=r.x-s,i.xmax=r.x+s,i}async _updateThumbnailUrl(t,r){if(r.thumbnailExcluded)return;const i=gSe(t,r.thumbnailSize),s=await t.takeScreenshot({format:"png",width:i.width,height:i.height});this._setAutoGeneratedThumbnail(s.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(kc(t)){const r=Kp(t),i=r==null?void 0:r.mediaType,s=i&&PSe.get(i.toLowerCase())||null,n=`thumbnail${Date.now()}`;return s?`${n}.${s}`:n}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};c([u()],St.prototype,"_updateFromPromise",void 0),c([u({type:OSe,json:{write:!0}})],St.prototype,"applicationProperties",void 0),c([u({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],St.prototype,"authoringApp",null),c([Q("authoringApp")],St.prototype,"writeAuthoringApp",null),c([u({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],St.prototype,"authoringAppVersion",null),c([Q("authoringAppVersion")],St.prototype,"writeAuthoringAppVersion",null),c([u({type:JX,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],St.prototype,"bookmarks",void 0),c([u({type:fSe,json:{name:"mapFloorInfo",write:!0}})],St.prototype,"floorInfo",void 0),c([u({type:H_,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:P4},"initialState.timeExtent":{type:Ir},"initialState.viewpoint":{type:Tr},mapRangeInfo:{type:Sk},spatialReference:{type:me},"timeZone:":{type:String}}}}})],St.prototype,"initialViewProperties",void 0),c([Y("initialViewProperties")],St.prototype,"readInitialViewProperties",null),c([Q("initialViewProperties")],St.prototype,"writeInitialViewProperties",null),c([u({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],St.prototype,"layers",void 0),c([Q("layers")],St.prototype,"writeLayers",null),c([u({type:Ho})],St.prototype,"portalItem",void 0),c([u()],St.prototype,"resourceInfo",void 0),c([u({readOnly:!0,type:q0,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],St.prototype,"sourceVersion",void 0),c([Y("sourceVersion")],St.prototype,"readSourceVersion",null),c([Q("sourceVersion")],St.prototype,"writeSourceVersion",null),c([u({json:{read:!1,write:{ignoreOrigin:!0}}})],St.prototype,"tables",void 0),c([Q("tables")],St.prototype,"writeTables",null),c([u()],St.prototype,"thumbnailUrl",null),c([u()],St.prototype,"updatingFromView",null),c([u({type:ySe,json:{write:!0}})],St.prototype,"widgets",void 0),St=c([S("esri.WebDocument2D")],St);const VSe=St,Pt=(e=>e)(["operational-layers","basemap","ground"]);var LT;let jf=LT=class extends N{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new LT({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([u({type:String,json:{write:!0}})],jf.prototype,"expression",void 0),c([u({type:String,json:{write:!0}})],jf.prototype,"name",void 0),c([u({type:["boolean","date","number","string"],json:{write:!0}})],jf.prototype,"returnType",void 0),c([u({type:String,json:{write:!0}})],jf.prototype,"title",void 0),jf=LT=c([S("esri.form.ExpressionInfo")],jf);const zSe=jf;let qf=class extends N{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([u({type:String,json:{write:!0}})],qf.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],qf.prototype,"label",void 0),c([u()],qf.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],qf.prototype,"visibilityExpression",void 0),qf=c([S("esri.form.elements.Element")],qf);const Fu=qf;let K9=class extends _e.ClonableMixin(N){constructor(t){super(t),this.type=null}};c([u()],K9.prototype,"type",void 0),K9=c([S("esri.form.elements.inputs.attachments.Input")],K9);const Pu=K9,D4=["any","capture","upload"];let Am=class extends Pu{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};c([u({type:["audio"],readOnly:!0,json:{write:!0}})],Am.prototype,"type",void 0),c([u({type:D4,json:{write:!0}})],Am.prototype,"inputMethod",void 0),c([u({type:Number,json:{write:!0}})],Am.prototype,"maxDuration",void 0),Am=c([S("esri.form.elements.inputs.attachments.AudioInput")],Am);const gD=Am;let Jg=class extends Pu{constructor(t){super(t),this.type="document",this.maxFileSize=null}};c([u({type:["document"],readOnly:!0,json:{write:!0}})],Jg.prototype,"type",void 0),c([u({type:Number,json:{write:!0}})],Jg.prototype,"maxFileSize",void 0),Jg=c([S("esri.form.elements.inputs.attachments.DocumentInput")],Jg);const vD=Jg;let km=class extends Pu{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};c([u({type:["image"],readOnly:!0,json:{write:!0}})],km.prototype,"type",void 0),c([u({type:D4,json:{write:!0}})],km.prototype,"inputMethod",void 0),c([u({type:Number,json:{write:!0}})],km.prototype,"maxImageSize",void 0),km=c([S("esri.form.elements.inputs.attachments.ImageInput")],km);const wD=km;let Yg=class extends Pu{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};c([u({type:["signature"],readOnly:!0,json:{write:!0}})],Yg.prototype,"type",void 0),c([u({type:D4,json:{write:!0}})],Yg.prototype,"inputMethod",void 0),Yg=c([S("esri.form.elements.inputs.attachments.SignatureInput")],Yg);const _D=Yg;let Lm=class extends Pu{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};c([u({type:["video"],readOnly:!0,json:{write:!0}})],Lm.prototype,"type",void 0),c([u({type:D4,json:{write:!0}})],Lm.prototype,"inputMethod",void 0),c([u({type:Number,json:{write:!0}})],Lm.prototype,"maxDuration",void 0),Lm=c([S("esri.form.elements.inputs.attachments.VideoInput")],Lm);const SD=Lm;function YX(e){return{nestableTypes:{base:Pu,key:"type",typeMap:{audio:gD,document:vD,image:wD,signature:_D,video:SD}},allTypes:{base:Pu,key:"type",typeMap:{attachment:e,audio:gD,document:vD,image:wD,signature:_D,video:SD}}}}function jSe(e,t,r){return e?e.map(i=>Ha(t.nestableTypes,i)):null}function qSe(e,t,r){if(!e)return null;const i=t.nestableTypes.typeMap;return e.filter(s=>i[s.type]).map(s=>i[s.type].fromJSON(s))}function BSe(e,t,r){if(!e)return null;const i=t.nestableTypes.typeMap;return e.filter(s=>i[s.type]).map(s=>s.toJSON())}let ko=class extends Pu{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return jSe(t,W7)}readInputs(t,r){return qSe(r.inputTypes,W7)}writeInputs(t,r){r.inputTypes=BSe(t,W7)}};c([u({type:["attachment"],readOnly:!0,json:{write:!0}})],ko.prototype,"type",void 0),c([u({type:["any","exact","exactOrNone"],json:{write:!0}})],ko.prototype,"attachmentAssociationType",void 0),c([u({json:{write:{isRequired:!0}}})],ko.prototype,"inputTypes",void 0),c([Oe("inputTypes")],ko.prototype,"castInputs",null),c([Y("inputTypes")],ko.prototype,"readInputs",null),c([Q("inputTypes")],ko.prototype,"writeInputs",null),ko=c([S("esri.form.elements.inputs.attachments.AttachmentInput")],ko);const W7=YX(ko),USe=ko;var RT;const GSe=YX(USe);let Gs=RT=class extends Fu{constructor(e){super(e),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){var e;return new RT({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:(e=this.input)==null?void 0:e.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};c([u({type:Boolean,json:{write:!0}})],Gs.prototype,"allowUserRename",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],Gs.prototype,"attachmentKeyword",void 0),c([u({type:Boolean,json:{write:!0}})],Gs.prototype,"displayFilename",void 0),c([u({type:String,json:{write:!0}})],Gs.prototype,"editableExpression",void 0),c([u({type:String,json:{write:!0}})],Gs.prototype,"filenameExpression",void 0),c([u({types:GSe.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],Gs.prototype,"input",void 0),c([u({type:Number,json:{write:!0}})],Gs.prototype,"maxAttachmentCount",void 0),c([u({type:Number,json:{write:!0}})],Gs.prototype,"minAttachmentCount",void 0),c([u({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Gs.prototype,"type",void 0),c([u({type:Boolean,json:{write:!0}})],Gs.prototype,"useOriginalFilename",void 0),Gs=RT=c([S("esri.form.elements.AttachmentElement")],Gs);const $D=Gs;let X9=class extends N{constructor(t){super(t),this.type=null}};c([u()],X9.prototype,"type",void 0),X9=c([S("esri.form.elements.inputs.Input")],X9);const Fc=X9;let Qg=class extends Fc{constructor(t){super(t),this.maxLength=null,this.minLength=0}};c([u({type:Number,json:{write:!0}})],Qg.prototype,"maxLength",void 0),c([u({type:Number,json:{write:!0}})],Qg.prototype,"minLength",void 0),Qg=c([S("esri.form.elements.inputs.TextInput")],Qg);const Ek=Qg;var OT;let e5=OT=class extends Ek{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new OT({maxLength:this.maxLength,minLength:this.minLength})}};c([u({type:["barcode-scanner"],json:{read:!1,write:!0}})],e5.prototype,"type",void 0),e5=OT=c([S("esri.form.elements.inputs.BarcodeScannerInput")],e5);const HSe=e5;var FT;let Rm=FT=class extends Fc{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new FT({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([u({type:String,json:{write:!0}})],Rm.prototype,"noValueOptionLabel",void 0),c([u({type:Boolean,json:{write:!0}})],Rm.prototype,"showNoValueOption",void 0),c([u({type:["combo-box"],json:{read:!1,write:!0}})],Rm.prototype,"type",void 0),Rm=FT=c([S("esri.form.elements.inputs.ComboBoxInput")],Rm);const WSe=Rm;var PT;function xD(e){return e??null}function ED(e){return e??null}let _o=PT=class extends Fc{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,t){return xD(t.max)}writeMax(e,t){t.max=ED(e)}readMin(e,t){return xD(t.min)}writeMin(e,t){t.min=ED(e)}clone(){return new PT({max:this.max,min:this.min})}};c([u({type:String,json:{type:String,write:!0}})],_o.prototype,"max",void 0),c([Y("max")],_o.prototype,"readMax",null),c([Q("max")],_o.prototype,"writeMax",null),c([u({type:String,json:{type:String,write:!0}})],_o.prototype,"min",void 0),c([Y("min")],_o.prototype,"readMin",null),c([Q("min")],_o.prototype,"writeMin",null),c([u({type:["date-picker"],json:{read:!1,write:!0}})],_o.prototype,"type",void 0),_o=PT=c([S("esri.form.elements.inputs.DatePickerInput")],_o);const ZSe=_o;var NT;function Z7(e){return e??null}function J7(e){return e??null}let cs=NT=class extends Fc{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,t){return Z7(t.max)}writeMax(e,t){t.max=J7(e)}readMin(e,t){return Z7(t.min)}writeMin(e,t){t.min=J7(e)}readTimeResolution(e,t){return Z7(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=J7(e)}clone(){return new NT({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([u({type:Boolean,json:{write:!0}})],cs.prototype,"includeTimeOffset",void 0),c([u({type:String,json:{type:String,write:!0}})],cs.prototype,"max",void 0),c([Y("max")],cs.prototype,"readMax",null),c([Q("max")],cs.prototype,"writeMax",null),c([u({type:String,json:{type:String,write:!0}})],cs.prototype,"min",void 0),c([Y("min")],cs.prototype,"readMin",null),c([Q("min")],cs.prototype,"writeMin",null),c([u({type:String,json:{type:String,write:!0}})],cs.prototype,"timeResolution",void 0),c([Y("timeResolution")],cs.prototype,"readTimeResolution",null),c([Q("timeResolution")],cs.prototype,"writeTimeResolution",null),c([u({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],cs.prototype,"type",void 0),cs=NT=c([S("esri.form.elements.inputs.DateTimeOffsetPickerInput")],cs);const JSe=cs;var DT;function TD(e){return e!=null?new Date(e):null}function ID(e){return e?e.getTime():null}let ba=DT=class extends Fc{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return TD(t.max)}writeMax(e,t){t.max=ID(e)}readMin(e,t){return TD(t.min)}writeMin(e,t){t.min=ID(e)}clone(){return new DT({includeTime:this.includeTime,max:this.max,min:this.min})}};c([u({type:Boolean,json:{write:!0}})],ba.prototype,"includeTime",void 0),c([u({type:Date,json:{type:Number,write:!0}})],ba.prototype,"max",void 0),c([Y("max")],ba.prototype,"readMax",null),c([Q("max")],ba.prototype,"writeMax",null),c([u({type:Date,json:{type:Number,write:!0}})],ba.prototype,"min",void 0),c([Y("min")],ba.prototype,"readMin",null),c([Q("min")],ba.prototype,"writeMin",null),c([u({type:["datetime-picker"],json:{read:!1,write:!0}})],ba.prototype,"type",void 0),ba=DT=c([S("esri.form.elements.inputs.DateTimePickerInput")],ba);const YSe=ba;var VT;let Om=VT=class extends Fc{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new VT({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([u({type:String,json:{write:!0}})],Om.prototype,"noValueOptionLabel",void 0),c([u({type:Boolean,json:{write:!0}})],Om.prototype,"showNoValueOption",void 0),c([u({type:["radio-buttons"],json:{read:!1,write:!0}})],Om.prototype,"type",void 0),Om=VT=c([S("esri.form.elements.inputs.RadioButtonsInput")],Om);const QSe=Om;var zT;let Fm=zT=class extends Fc{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new zT({offValue:this.offValue,onValue:this.onValue})}};c([u({type:[String,Number],json:{write:!0}})],Fm.prototype,"offValue",void 0),c([u({type:[String,Number],json:{write:!0}})],Fm.prototype,"onValue",void 0),c([u({type:["switch"],json:{read:!1,write:!0}})],Fm.prototype,"type",void 0),Fm=zT=c([S("esri.form.elements.inputs.SwitchInput")],Fm);const KSe=Fm;var jT;let t5=jT=class extends Ek{constructor(e){super(e),this.type="text-area"}clone(){return new jT({maxLength:this.maxLength,minLength:this.minLength})}};c([u({type:["text-area"],json:{read:!1,write:!0}})],t5.prototype,"type",void 0),t5=jT=c([S("esri.form.elements.inputs.TextAreaInput")],t5);const XSe=t5;var qT;let r5=qT=class extends Ek{constructor(e){super(e),this.type="text-box"}clone(){return new qT({maxLength:this.maxLength,minLength:this.minLength})}};c([u({type:["text-box"],json:{read:!1,write:!0}})],r5.prototype,"type",void 0),r5=qT=c([S("esri.form.elements.inputs.TextBoxInput")],r5);const e$e=r5;var BT;function Y7(e){return e??null}function Q7(e){return e??null}let Hs=BT=class extends Fc{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,t){return Y7(t.max)}writeMax(e,t){t.max=Q7(e)}readMin(e,t){return Y7(t.min)}writeMin(e,t){t.min=Q7(e)}readTimeResolution(e,t){return Y7(t.timeResolution)}writeTimeResolution(e,t){t.timeResolution=Q7(e)}clone(){return new BT({max:this.max,min:this.min,timeResolution:this.timeResolution})}};c([u({type:String,json:{type:String,write:!0}})],Hs.prototype,"max",void 0),c([Y("max")],Hs.prototype,"readMax",null),c([Q("max")],Hs.prototype,"writeMax",null),c([u({type:String,json:{type:String,write:!0}})],Hs.prototype,"min",void 0),c([Y("min")],Hs.prototype,"readMin",null),c([Q("min")],Hs.prototype,"writeMin",null),c([u({type:String,json:{type:String,write:!0}})],Hs.prototype,"timeResolution",void 0),c([Y("timeResolution")],Hs.prototype,"readTimeResolution",null),c([Q("timeResolution")],Hs.prototype,"writeTimeResolution",null),c([u({type:["time-picker"],json:{read:!1,write:!0}})],Hs.prototype,"type",void 0),Hs=BT=c([S("esri.form.elements.inputs.TimePickerInput")],Hs);const t$e=Hs,r$e={base:Fc,key:"type",typeMap:{"barcode-scanner":HSe,"combo-box":WSe,"date-picker":ZSe,"datetime-picker":YSe,"datetimeoffset-picker":JSe,"radio-buttons":QSe,switch:KSe,"text-area":XSe,"text-box":e$e,"time-picker":t$e}};var UT;let _n=UT=class extends Fu{constructor(e){super(e),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new UT({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([u({types:gQ,json:{read:{reader:E4},write:!0}})],_n.prototype,"domain",void 0),c([u({type:Boolean,json:{write:!0}})],_n.prototype,"editable",void 0),c([u({type:String,json:{write:!0}})],_n.prototype,"editableExpression",void 0),c([u({type:String,json:{write:!0}})],_n.prototype,"fieldName",void 0),c([u({type:String,json:{write:!0}})],_n.prototype,"hint",void 0),c([u({types:r$e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],_n.prototype,"input",void 0),c([u({type:String,json:{write:!0}})],_n.prototype,"requiredExpression",void 0),c([u({type:String,json:{read:!1,write:!0}})],_n.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],_n.prototype,"valueExpression",void 0),_n=UT=c([S("esri.form.elements.FieldElement")],_n);const CD=_n;var GT;let kl=GT=class extends Fu{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new GT({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:O(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([u({type:Number,json:{write:!0}})],kl.prototype,"displayCount",void 0),c([u({type:["list"],json:{write:!0}})],kl.prototype,"displayType",void 0),c([u({type:String,json:{write:!0}})],kl.prototype,"editableExpression",void 0),c([u({type:[VA],json:{write:!0}})],kl.prototype,"orderByFields",void 0),c([u({type:Number,json:{write:!0}})],kl.prototype,"relationshipId",void 0),c([u({type:["relationship"],json:{read:!1,write:!0}})],kl.prototype,"type",void 0),kl=GT=c([S("esri.form.elements.RelationshipElement")],kl);const MD=kl;var HT;let Pm=HT=class extends Fu{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new HT({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};c([u({type:String,json:{write:!0}})],Pm.prototype,"text",void 0),c([u({type:String,json:{write:!0}})],Pm.prototype,"textFormat",void 0),c([u({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Pm.prototype,"type",void 0),Pm=HT=c([S("esri.form.elements.TextElement")],Pm);const AD=Pm;let Nm=class extends _e.ClonableMixin(Fu){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};c([u({type:[RY],json:{write:{isRequired:!0}}})],Nm.prototype,"associationTypes",void 0),c([u({type:String,json:{write:!0}})],Nm.prototype,"editableExpression",void 0),c([u({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],Nm.prototype,"type",void 0),Nm=c([S("esri.form.elements.UtilityNetworkAssociationsElement")],Nm);const kD=Nm,i$e=e=>e.type==="field",s$e=e=>e.type==="group",n$e=e=>e.type==="text";function QX(e){return{typesWithGroup:{base:Fu,key:"type",typeMap:{attachment:$D,field:CD,group:e,relationship:MD,text:AD,utilityNetworkAssociations:kD}},typesWithoutGroup:{base:Fu,key:"type",typeMap:{attachment:$D,field:CD,relationship:MD,text:AD,utilityNetworkAssociations:kD}}}}function KX(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>i[s.type]).map(s=>i[s.type].fromJSON(s))}function XX(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>i[s.type]).map(s=>s.toJSON())}function eee(e,t,r=!0){return e?e.map(i=>Ha(r?t.typesWithGroup:t.typesWithoutGroup,i)):null}var WT;let Lo=WT=class extends Fu{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return eee(e,K7,!1)}readElements(e,t){return KX(t.formElements,K7,!1)}writeElements(e,t){t.formElements=XX(e,K7,!1)}clone(){return new WT({description:this.description,elements:O(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([u({json:{write:!0}})],Lo.prototype,"elements",void 0),c([Oe("elements")],Lo.prototype,"castElements",null),c([Y("elements",["formElements"])],Lo.prototype,"readElements",null),c([Q("elements")],Lo.prototype,"writeElements",null),c([u({type:["collapsed","expanded"],json:{write:!0}})],Lo.prototype,"initialState",void 0),c([u({type:String,json:{read:!1,write:!0}})],Lo.prototype,"type",void 0),Lo=WT=c([S("esri.form.elements.GroupElement")],Lo);const K7=QX(Lo),a$e=Lo;var ZT;const X7=QX(a$e);let ga=ZT=class extends N{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return eee(e,X7)}readElements(e,t){return KX(t.formElements,X7)}writeElements(e,t){t.formElements=XX(e,X7)}clone(){return new ZT({description:this.description,expressionInfos:O(this.expressionInfos),elements:O(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(e,t){const r=new Set,{description:i,elements:s,expressionInfos:n,title:a}=this;if(Q1(r,e,i),Q1(r,e,a),!s)return[];const o=o$e(s,n).map(l=>ki(r,e,l));await Promise.all(o);for(const l of s)tee(r,{fieldsIndex:e,relationships:t},l);return Array.from(r).sort()}};function tee(e,t,r){var s;const{fieldsIndex:i}=t;if(!i||i.fields.length!==e.size)switch(Q1(e,i,r.label),Q1(e,i,r.description),r.type){case"field":Xi(e,i,r.fieldName);break;case"group":r.elements.forEach(n=>tee(e,t,n));break;case"relationship":if(t.relationships){const n=t.relationships.find(a=>a.id===r.relationshipId);n&&Xi(e,i,n.keyField)}ah(e,i,(s=r.orderByFields)==null?void 0:s.map(n=>n.field));break;case"text":Q1(e,i,r.text)}}function o$e(e,t){if(!t||t.length===0)return[];const r=ree(e),i=[];for(const s of t)r.has(s.name)&&i.push(s.expression);return i}function ree(e){const t=new Set;for(const r of e)if(sO(t,r.visibilityExpression),!n$e(r)){if(s$e(r))H5(t,ree(r.elements));else if(sO(t,r.editableExpression),i$e(r)){const{requiredExpression:i,valueExpression:s}=r;H5(t,[i,s])}}return t}function Q1(e,t,r){ah(e,t,NA(r))}c([u({type:String,json:{write:!0}})],ga.prototype,"description",void 0),c([u({json:{write:!0}})],ga.prototype,"elements",void 0),c([Oe("elements")],ga.prototype,"castElements",null),c([Y("elements",["formElements"])],ga.prototype,"readElements",null),c([Q("elements")],ga.prototype,"writeElements",null),c([u({type:[zSe],json:{write:!0}})],ga.prototype,"expressionInfos",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],ga.prototype,"preserveFieldValuesWhenHidden",void 0),c([u({type:String,json:{write:!0}})],ga.prototype,"title",void 0),ga=ZT=c([S("esri.form.FormTemplate")],ga);const l$e=ga;function LD(e,t,r){if(e.hasM==null||e.hasZ)for(const i of t)for(const s of i)s.length>2&&(s[2]*=r)}function c$e(e,t,r){if(!e&&!t||!r)return;const i=py(r);RD(e,r,i),RD(t,r,i)}function RD(e,t,r){if(e)for(const i of e)d$e(i.geometry,t,r)}function d$e(e,t,r){if(!(e!=null&&e.spatialReference)||Nt(e.spatialReference,t))return;const i=py(e.spatialReference)/r;if(i!==1){if("x"in e)e.z!=null&&(e.z*=i);else if("rings"in e)LD(e,e.rings,i);else if("paths"in e)LD(e,e.paths,i);else if("points"in e&&(e.hasM==null||e.hasZ))for(const s of e.points)s.length>2&&(s[2]*=i)}}function JT(e,t,r){if(!(r!=null&&r.features)||!r.hasZ)return;const i=NZ(r.geometryType,t,e.outSpatialReference);if(i!=null)for(const s of r.features)i(s.geometry)}var YT;const QT=new ye({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Hr=YT=class extends N{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,pr)}writeGeometryType(e,t,r,i){if(e)return void QT.write(e,t,r,i);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void QT.write(n.geometry.type,t,r,i)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,i=Ja(e);return i&&!r&&t.spatialReference&&(i.spatialReference=me.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const i of r)if(i&&i.geometry!=null&&i.geometry.spatialReference)return void(t.spatialReference=i.geometry.spatialReference.toJSON())}}clone(){return new YT(this.cloneProperties())}cloneProperties(){return O({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const i=t.features[r];if(i.geometry){const s=e==null?void 0:e[r];i.geometry=(s==null?void 0:s.toJSON())||i.geometry}}return t}quantize(e){const{scale:[t,r],translate:[i,s]}=e,n=d=>Math.round((d-i)/t),a=d=>Math.round((s-d)/r),o=this.features,l=this._getQuantizationFunction(this.geometryType,n,a);for(let d=0,f=o.length;d<f;d++)l!=null&&l(o[d].geometry)||(o.splice(d,1),d--,f--);return this.transform=e,this}unquantize(){var m,y;const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[i,s],scale:[n,a]}=r,o=b=>b*n+i,l=b=>s-b*a;let d=null,f=null;if(this.hasZ&&((m=r==null?void 0:r.scale)==null?void 0:m[2])!=null){const{translate:[,,b],scale:[,,g]}=r;d=v=>v*g+b}if(this.hasM&&((y=r==null?void 0:r.scale)==null?void 0:y[3])!=null){const{translate:[,,,b],scale:[,,,g]}=r;f=v=>v==null?v:v*g+b}const p=this._getHydrationFunction(e,o,l,d,f);for(const{geometry:b}of t)b!=null&&p&&p(b);return this.transform=null,this}readFeaturesWithClass(e,t,r){var n;const i=me.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const o=e[a],l=r.fromJSON(o),d=(n=o.geometry)==null?void 0:n.spatialReference;l.geometry==null||d||(l.geometry.spatialReference=i);const f=o.aggregateGeometries,p=l.aggregateGeometries;if(f&&p!=null)for(const m in p){const y=p[m],b=f[m],g=b==null?void 0:b.spatialReference;y==null||g||(y.spatialReference=i)}s.push(l)}return s}_quantizePoints(e,t,r){let i,s;const n=[];for(let a=0,o=e.length;a<o;a++){const l=e[a];if(a>0){const d=t(l[0]),f=r(l[1]);d===i&&f===s||(n.push([d-i,f-s]),i=d,s=f)}else i=t(l[0]),s=r(l[1]),n.push([i,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return e==="point"?i=>(i.x=t(i.x),i.y=r(i.y),i):e==="polyline"||e==="polygon"?i=>{const s=fc(i)?i.rings:i.paths,n=[];for(let a=0,o=s.length;a<o;a++){const l=s[a],d=this._quantizePoints(l,t,r);d&&n.push(d)}return n.length>0?(fc(i)?i.rings=n:i.paths=n,i):null}:e==="multipoint"?i=>{const s=this._quantizePoints(i.points,t,r);return s&&s.length>0?(i.points=s,i):null}:e==="extent"?i=>i:null}_getHydrationFunction(e,t,r,i,s){return e==="point"?n=>{n.x=t(n.x),n.y=r(n.y),i&&(n.z=i(n.z))}:e==="polyline"||e==="polygon"?n=>{const a=fc(n)?n.rings:n.paths;let o,l;for(let d=0,f=a.length;d<f;d++){const p=a[d];for(let m=0,y=p.length;m<y;m++){const b=p[m];m>0?(o+=b[0],l+=b[1]):(o=b[0],l=b[1]),b[0]=t(o),b[1]=r(l)}}if(i&&s)for(let d=0,f=a.length;d<f;d++){const p=a[d];for(let m=0,y=p.length;m<y;m++){const b=p[m];b[2]=i(b[2]),b[3]=s(b[3])}}else if(i)for(let d=0,f=a.length;d<f;d++){const p=a[d];for(let m=0,y=p.length;m<y;m++){const b=p[m];b[2]=i(b[2])}}else if(s)for(let d=0,f=a.length;d<f;d++){const p=a[d];for(let m=0,y=p.length;m<y;m++){const b=p[m];b[2]=s(b[2])}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=r(n.ymin),n.xmax=t(n.xmax),n.ymax=r(n.ymax),i&&n.zmax!=null&&n.zmin!=null&&(n.zmax=i(n.zmax),n.zmin=i(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:e==="multipoint"?n=>{const a=n.points;let o,l;for(let d=0,f=a.length;d<f;d++){const p=a[d];d>0?(o+=p[0],l+=p[1]):(o=p[0],l=p[1]),p[0]=t(o),p[1]=r(l)}if(i&&s)for(let d=0,f=a.length;d<f;d++){const p=a[d];p[2]=i(p[2]),p[3]=s(p[3])}else if(i)for(let d=0,f=a.length;d<f;d++){const p=a[d];p[2]=i(p[2])}else if(s)for(let d=0,f=a.length;d<f;d++){const p=a[d];p[2]=s(p[2])}}:null}};c([u({type:String,json:{write:!0}})],Hr.prototype,"displayFieldName",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hr.prototype,"exceededTransferLimit",void 0),c([u({type:[pr],json:{write:!0}})],Hr.prototype,"features",void 0),c([Y("features")],Hr.prototype,"readFeatures",null),c([u({type:[q2],json:{write:!0}})],Hr.prototype,"fields",void 0),c([u({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:QT.read}}})],Hr.prototype,"geometryType",void 0),c([Q("geometryType")],Hr.prototype,"writeGeometryType",null),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hr.prototype,"hasM",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Hr.prototype,"hasZ",void 0),c([u({types:fh,json:{write:!0}})],Hr.prototype,"queryGeometry",void 0),c([Y("queryGeometry")],Hr.prototype,"readQueryGeometry",null),c([u({type:me,json:{write:!0}})],Hr.prototype,"spatialReference",void 0),c([Q("spatialReference")],Hr.prototype,"writeSpatialReference",null),c([u({json:{write:!0}})],Hr.prototype,"transform",void 0),Hr=YT=c([S("esri.rest.support.FeatureSet")],Hr),Hr.prototype.toJSON.isDefaultToJSON=!0;const ob=Hr;let u$e=0,Wl=class extends Ai.LoadableMixin(yh.EsriPromiseMixin(W)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){const r=t!=null?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){var t;(t=this._connection)==null||t.close(),this._connection=null}get _workerGeometryType(){var r;const t=(r=this.layer)==null?void 0:r.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);JT(t,this.layer.spatialReference,i);const s=ob.fromJSON(i);if(!this._requiresClientGraphicMapping())return s;const n=this.layer.objectIdField;for(const a of s.features){const o=a.attributes[n],l=this._idToClientGraphic.get(o);l&&(a.geometry=l.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new I("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);const i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return JT(t,this.layer.spatialReference,i),i}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(i=>({count:i.count,extent:ht.fromJSON(i.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async queryAttributeBins(t,r={}){return await this.load(),this._connection.invoke("queryAttributeBins",t==null?void 0:t.toJSON(),r)}async _applyEdits(t){if(!this._connection)throw new I("feature-layer-source:edit-failure","Memory source not loaded");const r=this.layer.objectIdField;let i=null;const s=[],n=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);const a=f=>"objectId"in f&&f.objectId!=null?f.objectId:"attributes"in f&&f.attributes[r]!=null?f.attributes[r]:null;if(t.addFeatures&&(i=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(const f of t.deleteFeatures){const p=a(f);p!=null&&s.push(p)}const o=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(const f of t.updateFeatures)if(n.push(this._serializeFeature(f)),o){const p=a(f);p!=null&&o.set(p,f)}}c$e(i?i.features:null,n,this.layer.spatialReference);const{fullExtent:l,featureEditResults:d}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:n,deletes:s});return this.fullExtent=l,i&&i.finish(d.uidToObjectId),this._updateClientGraphicIds(o,d),this._createEditsResult(d)}async _prepareClientMapping(t,r){if(this._layerOrSourceGeometryType!=="mesh"||t==null)return;const i=[];for(const{geometry:s}of t)s==null||s.type!=="mesh"||s.hasExtent||s.loaded||i.push(s.load({signal:r}));i.length&&await Promise.all(i)}_updateClientGraphicIds(t,r){if(this._idToClientGraphic){if(t)for(const i of r.updateResults){if(!i.success)continue;const s=t.get(i.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const i of r.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){const r=t.success===!0?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new I("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){const r=new Map,i=new Array(t.length);let s=null;for(let a=0;a<t.length;a++){const o=t[a],l=this._serializeFeature(o);s||o.geometry==null||(s=o.geometry.type),i[a]=l,r.set(`${l.uid}`,o)}const n=this;return{features:i,inferredGeometryType:s,finish(a){const o=n.sourceJSON.objectIdField;for(const l in a){const d=a[l],f=r.get(l);f&&(f.attributes||(f.attributes={}),d===-1?delete f.attributes[o]:f.attributes[o]=d,n._addIdToClientGraphic(f))}}}}_addIdToClientGraphic(t){var s;if(!this._idToClientGraphic)return;const r=this.sourceJSON.objectIdField,i=(s=t.attributes)==null?void 0:s[r];i!=null&&this._idToClientGraphic.set(i,t)}get _layerOrSourceGeometryType(){var t,r;return((t=this.layer)==null?void 0:t.geometryType)??((r=this.sourceJSON)==null?void 0:r.geometryType)}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return t==="mesh"||t==="multipatch"||t==="extent"}_serializeFeature(t){const{attributes:r}=t,i=this._geometryForSerialization(t),s=(u$e++).toString();return i?{uid:s,geometry:i.toJSON(),attributes:r}:{uid:s,attributes:r}}_geometryForSerialization(t){const{geometry:r}=t;return r==null?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?Gn.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await IZ("MemorySourceWorker",{strategy:V("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});const{fields:r,spatialReference:i,objectIdField:s,hasM:n,hasZ:a,timeInfo:o,dateFieldsTimeZone:l}=this.layer,d=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,t);const f=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",b=>{B.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),b.preventDefault()}));const p={features:f.features,fields:r==null?void 0:r.map(b=>b.toJSON()),geometryType:DO.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&n,hasZ:this._layerOrSourceGeometryType==="mesh"||a,objectIdField:s,spatialReference:d?null:i&&i.toJSON(),timeInfo:(o==null?void 0:o.toJSON())??null,dateFieldsTimeZone:l},m=await this._connection.invoke("load",p,{signal:t});for(const b of m.warnings)B.getLogger(this.layer).warn("#load()",`${b.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:b});m.featureErrors.length&&B.getLogger(this.layer).warn("#load()",`Encountered ${m.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:m.featureErrors});const y=m.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(f.inferredGeometryType)&&(y.geometryType=DO.toJSON(f.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),f.finish(m.assignedObjectIds)}};c([CM({Type:pr,ensureType:yt(pr)})],Wl.prototype,"itemType",void 0),c([u()],Wl.prototype,"type",void 0),c([u({constructOnly:!0})],Wl.prototype,"layer",void 0),c([u({readOnly:!0})],Wl.prototype,"_workerGeometryType",null),c([u()],Wl.prototype,"sourceJSON",void 0),Wl=c([S("esri.layers.graphics.sources.MemorySource")],Wl);function f$e(e){return"portalItem"in e}const p$e=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):f$e(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([u({type:String})],t.prototype,"apiKey",null),t=c([S("esri.layers.mixins.APIKeyMixin")],t),t},h$e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Iu(this.url);if(r!=null&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",bfe(r,B.getLogger(this)))}};return c([u()],t.prototype,"title",null),c([u({type:String})],t.prototype,"url",null),t=c([S("esri.layers.mixins.ArcGISService")],t),t};function m$e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function B0(e,t,r,i){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,B0.prototype),s.expected=t,s.found=r,s.location=i,s.name="SyntaxError",s}function eS(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}function y$e(e,t){var r,i={},s=(t=t!==void 0?t:{}).grammarSource,n={start:fR},a=fR,o="none",l=")",d=",",f="(",p="%",m="px",y="cm",b="mm",g="in",v="pt",w="pc",_="deg",x="rad",T="grad",k="turn",A="#",M=".",R="e",P=/^[ \t\n\r]/,z=/^[a-z\-]/,j=/^[0-9a-fA-F]/,H=/^[+\-]/,K=/^[0-9]/,J=nl("none"),pe=Br("none",!1),Ae=Br(")",!1),ue=Br(",",!1),le=nl("whitespace"),Ge=vb([" ","	",`
`,"\r"],!1,!1),Ut=nl("function"),ts=Br("(",!1),or=nl("identifier"),un=vb([["a","z"],"-"],!1,!1),rl=nl("percentage"),il=Br("%",!1),Qa=nl("length"),Ka=Br("px",!1),Yn=Br("cm",!1),Ju=Br("mm",!1),Yu=Br("in",!1),Qu=Br("pt",!1),Xa=Br("pc",!1),sl=nl("angle"),cw=Br("deg",!1),dw=Br("rad",!1),uw=Br("grad",!1),fw=Br("turn",!1),pw=nl("number"),hw=nl("color"),mw=Br("#",!1),bb=vb([["0","9"],["a","f"],["A","F"]],!1,!1),gb=vb(["+","-"],!1,!1),Qn=vb([["0","9"]],!1,!1),yw=Br(".",!1),bw=Br("e",!1),gw=function(){return[]},vw=function(L,G){return{type:"function",name:L,parameters:G||[]}},Fne=function(L,G){return G.length>0?hae(L,G,3):[L]},Pne=function(L){return{type:"quantity",value:L.value,unit:L.unit}},Nne=function(L){return{type:"color",colorType:L.type,value:L.value}},Dne=function(L){return L},Vne=function(){return _w()},zne=function(L){return{value:L,unit:"%"}},jne=function(L){return{value:L,unit:"px"}},qne=function(L){return{value:L,unit:"cm"}},Bne=function(L){return{value:L,unit:"mm"}},Une=function(L){return{value:L,unit:"in"}},Gne=function(L){return{value:L,unit:"pt"}},Hne=function(L){return{value:L,unit:"pc"}},Wne=function(L){return{value:L,unit:"deg"}},Zne=function(L){return{value:L,unit:"rad"}},Jne=function(L){return{value:L,unit:"grad"}},Yne=function(L){return{value:L,unit:"turn"}},Qne=function(L){return{value:L,unit:null}},Kne=function(){return{type:"hex",value:_w()}},Xne=function(L){return{type:"function",value:L}},eae=function(){return{type:"named",value:_w()}},tae=function(){return parseFloat(_w())},q=0|t.peg$currPos,Dt=q,xh=[{line:1,column:1}],Kn=q,ww=t.peg$maxFailExpected||[],fe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=n[t.startRule]}function _w(){return e.substring(Dt,q)}function Br(L,G){return{type:"literal",text:L,ignoreCase:G}}function vb(L,G,ee){return{type:"class",parts:L,inverted:G,ignoreCase:ee}}function rae(){return{type:"end"}}function nl(L){return{type:"other",description:L}}function dR(L){var G,ee=xh[L];if(ee)return ee;if(L>=xh.length)G=xh.length-1;else for(G=L;!xh[--G];);for(ee={line:(ee=xh[G]).line,column:ee.column};G<L;)e.charCodeAt(G)===10?(ee.line++,ee.column=1):ee.column++,G++;return xh[L]=ee,ee}function uR(L,G,ee){var Ie=dR(L),vt=dR(G);return{source:s,start:{offset:L,line:Ie.line,column:Ie.column},end:{offset:G,line:vt.line,column:vt.column}}}function Ne(L){q<Kn||(q>Kn&&(Kn=q,ww=[]),ww.push(L))}function iae(L,G,ee){return new B0(B0.buildMessage(L,G),L,G,ee)}function fR(){var L;return(L=sae())===i&&(L=nae()),L}function sae(){var L,G;return fe++,L=q,Ur(),e.substr(q,4)===o?(G=o,q+=4):(G=i,fe===0&&Ne(pe)),G!==i?(Ur(),Dt=L,L=gw()):(q=L,L=i),fe--,L===i&&fe===0&&Ne(J),L}function nae(){var L,G;if(L=[],(G=w8())!==i)for(;G!==i;)L.push(G),G=w8();else L=i;return L}function w8(){var L,G,ee,Ie;return L=q,Ur(),(G=oae())!==i?(Ur(),(ee=aae())===i&&(ee=null),Ur(),e.charCodeAt(q)===41?(Ie=l,q++):(Ie=i,fe===0&&Ne(Ae)),Ie!==i?(Ur(),Dt=L,L=vw(G,ee)):(q=L,L=i)):(q=L,L=i),L}function aae(){var L,G,ee,Ie,vt,Qt,Lr,rs;if(L=q,(G=_8())!==i){for(ee=[],Ie=q,vt=Ur(),e.charCodeAt(q)===44?(Qt=d,q++):(Qt=i,fe===0&&Ne(ue)),Qt===i&&(Qt=null),Lr=Ur(),(rs=_8())!==i?Ie=vt=[vt,Qt,Lr,rs]:(q=Ie,Ie=i);Ie!==i;)ee.push(Ie),Ie=q,vt=Ur(),e.charCodeAt(q)===44?(Qt=d,q++):(Qt=i,fe===0&&Ne(ue)),Qt===i&&(Qt=null),Lr=Ur(),(rs=_8())!==i?Ie=vt=[vt,Qt,Lr,rs]:(q=Ie,Ie=i);Dt=L,L=Fne(G,ee)}else q=L,L=i;return L}function _8(){var L,G;return L=q,(G=lae())===i&&(G=cae())===i&&(G=dae())===i&&(G=uae()),G!==i&&(Dt=L,G=Pne(G)),(L=G)===i&&(L=q,(G=fae())!==i&&(Dt=L,G=Nne(G)),L=G),L}function Ur(){var L,G;for(fe++,L=[],G=e.charAt(q),P.test(G)?q++:(G=i,fe===0&&Ne(Ge));G!==i;)L.push(G),G=e.charAt(q),P.test(G)?q++:(G=i,fe===0&&Ne(Ge));return fe--,G=i,fe===0&&Ne(le),L}function oae(){var L,G,ee;return fe++,L=q,(G=pR())!==i?(e.charCodeAt(q)===40?(ee=f,q++):(ee=i,fe===0&&Ne(ts)),ee!==i?(Dt=L,L=Dne(G)):(q=L,L=i)):(q=L,L=i),fe--,L===i&&(G=i,fe===0&&Ne(Ut)),L}function pR(){var L,G,ee;if(fe++,L=q,G=[],ee=e.charAt(q),z.test(ee)?q++:(ee=i,fe===0&&Ne(un)),ee!==i)for(;ee!==i;)G.push(ee),ee=e.charAt(q),z.test(ee)?q++:(ee=i,fe===0&&Ne(un));else G=i;return G!==i&&(Dt=L,G=Vne()),fe--,(L=G)===i&&(G=i,fe===0&&Ne(or)),L}function lae(){var L,G,ee;return fe++,L=q,Ur(),(G=fn())!==i?(e.charCodeAt(q)===37?(ee=p,q++):(ee=i,fe===0&&Ne(il)),ee!==i?(Dt=L,L=zne(G)):(q=L,L=i)):(q=L,L=i),fe--,L===i&&fe===0&&Ne(rl),L}function cae(){var L,G,ee;return fe++,L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===m?(ee=m,q+=2):(ee=i,fe===0&&Ne(Ka)),ee!==i?(Dt=L,L=jne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===y?(ee=y,q+=2):(ee=i,fe===0&&Ne(Yn)),ee!==i?(Dt=L,L=qne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===b?(ee=b,q+=2):(ee=i,fe===0&&Ne(Ju)),ee!==i?(Dt=L,L=Bne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===g?(ee=g,q+=2):(ee=i,fe===0&&Ne(Yu)),ee!==i?(Dt=L,L=Une(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===v?(ee=v,q+=2):(ee=i,fe===0&&Ne(Qu)),ee!==i?(Dt=L,L=Gne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,Ur(),(G=fn())!==i?(e.substr(q,2)===w?(ee=w,q+=2):(ee=i,fe===0&&Ne(Xa)),ee!==i?(Dt=L,L=Hne(G)):(q=L,L=i)):(q=L,L=i)))))),fe--,L===i&&fe===0&&Ne(Qa),L}function dae(){var L,G,ee;return fe++,L=q,(G=fn())!==i?(e.substr(q,3)===_?(ee=_,q+=3):(ee=i,fe===0&&Ne(cw)),ee!==i?(Dt=L,L=Wne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,(G=fn())!==i?(e.substr(q,3)===x?(ee=x,q+=3):(ee=i,fe===0&&Ne(dw)),ee!==i?(Dt=L,L=Zne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,(G=fn())!==i?(e.substr(q,4)===T?(ee=T,q+=4):(ee=i,fe===0&&Ne(uw)),ee!==i?(Dt=L,L=Jne(G)):(q=L,L=i)):(q=L,L=i),L===i&&(L=q,(G=fn())!==i?(e.substr(q,4)===k?(ee=k,q+=4):(ee=i,fe===0&&Ne(fw)),ee!==i?(Dt=L,L=Yne(G)):(q=L,L=i)):(q=L,L=i)))),fe--,L===i&&(G=i,fe===0&&Ne(sl)),L}function uae(){var L,G;return fe++,L=q,Ur(),(G=fn())!==i?(Dt=L,L=Qne(G)):(q=L,L=i),fe--,L===i&&fe===0&&Ne(pw),L}function fae(){var L,G,ee,Ie;if(fe++,L=q,e.charCodeAt(q)===35?(G=A,q++):(G=i,fe===0&&Ne(mw)),G!==i){if(ee=[],Ie=e.charAt(q),j.test(Ie)?q++:(Ie=i,fe===0&&Ne(bb)),Ie!==i)for(;Ie!==i;)ee.push(Ie),Ie=e.charAt(q),j.test(Ie)?q++:(Ie=i,fe===0&&Ne(bb));else ee=i;ee!==i?(Dt=L,L=Kne()):(q=L,L=i)}else q=L,L=i;return L===i&&(L=q,(G=w8())!==i&&(Dt=L,G=Xne(G)),(L=G)===i&&(L=q,(G=pR())!==i&&(Dt=L,G=eae()),L=G)),fe--,L===i&&(G=i,fe===0&&Ne(hw)),L}function fn(){var L,G,ee,Ie,vt,Qt,Lr,rs;for(L=q,G=e.charAt(q),H.test(G)?q++:(G=i,fe===0&&Ne(gb)),G===i&&(G=null),ee=q,Ie=[],vt=e.charAt(q),K.test(vt)?q++:(vt=i,fe===0&&Ne(Qn));vt!==i;)Ie.push(vt),vt=e.charAt(q),K.test(vt)?q++:(vt=i,fe===0&&Ne(Qn));if(e.charCodeAt(q)===46?(vt=M,q++):(vt=i,fe===0&&Ne(yw)),vt!==i){if(Qt=[],Lr=e.charAt(q),K.test(Lr)?q++:(Lr=i,fe===0&&Ne(Qn)),Lr!==i)for(;Lr!==i;)Qt.push(Lr),Lr=e.charAt(q),K.test(Lr)?q++:(Lr=i,fe===0&&Ne(Qn));else Qt=i;Qt!==i?ee=Ie=[Ie,vt,Qt]:(q=ee,ee=i)}else q=ee,ee=i;if(ee===i)if(ee=[],Ie=e.charAt(q),K.test(Ie)?q++:(Ie=i,fe===0&&Ne(Qn)),Ie!==i)for(;Ie!==i;)ee.push(Ie),Ie=e.charAt(q),K.test(Ie)?q++:(Ie=i,fe===0&&Ne(Qn));else ee=i;if(ee!==i){if(Ie=q,e.charCodeAt(q)===101?(vt=R,q++):(vt=i,fe===0&&Ne(bw)),vt!==i){if(Qt=e.charAt(q),H.test(Qt)?q++:(Qt=i,fe===0&&Ne(gb)),Qt===i&&(Qt=null),Lr=[],rs=e.charAt(q),K.test(rs)?q++:(rs=i,fe===0&&Ne(Qn)),rs!==i)for(;rs!==i;)Lr.push(rs),rs=e.charAt(q),K.test(rs)?q++:(rs=i,fe===0&&Ne(Qn));else Lr=i;Lr!==i?Ie=vt=[vt,Qt,Lr]:(q=Ie,Ie=i)}else q=Ie,Ie=i;Ie===i&&(Ie=null),Dt=L,L=tae()}else q=L,L=i;return L}function pae(L,G){return L.map(function(ee){return ee[G]})}function hae(L,G,ee){return[L].concat(pae(G,ee))}if(r=a(),t.peg$library)return{peg$result:r,peg$currPos:q,peg$FAILED:i,peg$maxFailExpected:ww,peg$maxFailPos:Kn};if(r!==i&&q===e.length)return r;throw r!==i&&q<e.length&&Ne(rae()),iae(ww,Kn<e.length?e.charAt(Kn):null,Kn<e.length?uR(Kn,Kn+1):uR(Kn,Kn))}function Tk(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=OD(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new I("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:OD(r.value)}});t.sort((r,i)=>i.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!GJ(t[r].effects,t[r+1].effects))throw new I("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});HJ(t[r].effects,t[r+1].effects)}return t.sort((r,i)=>i.scale-r.scale),t}function OD(e){let t;if(!e)return[];try{t=y$e(e)}catch(r){throw new I("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>b$e(r))}function b$e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return g$e(e);case"opacity":return v$e(e);case"hue-rotate":return w$e(e);case"blur":return _$e(e);case"drop-shadow":return S$e(e);case"bloom":return $$e(e)}}catch(t){throw t.details.filter=e,t}throw new I("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function g$e(e){let t=1;return lb(e.parameters,1),e.parameters.length===1&&(t=Fa(e.parameters[0])),new Sx(e.name,t)}function v$e(e){let t=1;return lb(e.parameters,1),e.parameters.length===1&&(t=Fa(e.parameters[0])),new BJ(t)}function w$e(e){let t=0;return lb(e.parameters,1),e.parameters.length===1&&(t=M$e(e.parameters[0])),new jJ(t)}function _$e(e){let t=0;return lb(e.parameters,1),e.parameters.length===1&&(t=Mk(e.parameters[0]),W2(t,e.parameters[0])),new PJ(t)}function S$e(e){const t=[];let r=null;for(const i of e.parameters)if(i.type==="color"){if(t.length&&Object.freeze(t),r)throw new I("effect:type-error","Accepts only one color",{});r=A$e(i)}else{const s=Mk(i);if(Object.isFrozen(t))throw new I("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(s),t.length===3&&W2(s,i)}if(t.length<2||t.length>3)throw new I("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new VJ(t[0],t[1],t[2]||0,r||iee("black"))}function $$e(e){let t=1,r=0,i=0;return lb(e.parameters,3),e.parameters[0]&&(t=Fa(e.parameters[0])),e.parameters[1]&&(r=Mk(e.parameters[1]),W2(r,e.parameters[1])),e.parameters[2]&&(i=Fa(e.parameters[2])),new OJ(t,r,i)}function lb(e,t){if(e.length>t)throw new I("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function V4(e){if(e.type==="color")return"<color>";if(e.unit){if(e.unit in Ck)return"<length>";if(e.unit in Ik)return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function W2(e,t){if(e<0)throw new I("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function x$e(e){if(e.type!=="quantity"||e.unit!==null)throw new I("effect:type-error",`Expected <double>, Actual: ${V4(e)}`,{term:e})}function E$e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new I("effect:type-error",`Expected <double> or <percentage>, Actual: ${V4(e)}`,{term:e})}m$e(B0,Error),B0.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r,i=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){i=e[r].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,n=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+n.line+":"+n.column;if(i){var o=this.location.end,l=eS("",n.line.toString().length," "),d=i[s.line-1],f=(s.line===o.line?o.column:d.length+1)-s.column||1;t+=`
 --> `+a+`
`+l+` |
`+n.line+" | "+d+`
`+l+" | "+eS("",s.column-1," ")+eS("",f,"^")}else t+=`
 at `+a}return t},B0.buildMessage=function(e,t){var r={literal:function(d){return'"'+s(d.text)+'"'},class:function(d){var f=d.parts.map(function(p){return Array.isArray(p)?n(p[0])+"-"+n(p[1]):n(p)});return"["+(d.inverted?"^":"")+f.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function i(d){return d.charCodeAt(0).toString(16).toUpperCase()}function s(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+i(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+i(f)})}function n(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+i(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+i(f)})}function a(d){return r[d.type](d)}function o(d){var f,p,m=d.map(a);if(m.sort(),m.length>0){for(f=1,p=1;f<m.length;f++)m[f-1]!==m[f]&&(m[p]=m[f],p++);m.length=p}switch(m.length){case 1:return m[0];case 2:return m[0]+" or "+m[1];default:return m.slice(0,-1).join(", ")+", or "+m[m.length-1]}}function l(d){return d?'"'+s(d)+'"':"end of input"}return"Expected "+o(e)+" but "+l(t)+" found."};const Ik={deg:1,grad:.9,rad:180/Math.PI,turn:360};function T$e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Ik[e.unit]!=null))throw new I("effect:type-error",`Expected <angle>, Actual: ${V4(e)}`,{term:e})}const Ck={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function I$e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&Ck[e.unit]!=null))throw new I("effect:type-error",`Expected <length>, Actual: ${V4(e)}`,{term:e})}function Fa(e){E$e(e);const t=e.value;return W2(t,e),e.unit==="%"?.01*t:t}function C$e(e){return x$e(e),W2(e.value,e),e.value}function M$e(e){return T$e(e),e.value*Ik[e.unit]||0}function Mk(e){return I$e(e),e.value*Ck[e.unit]||0}function A$e(e){switch(e.colorType){case"hex":return v1e(e.value);case"named":return iee(e.value);case"function":return R$e(e.value)}}function iee(e){if(!EJ(e))throw new I("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return g1e(e)}const k$e=/^rgba?/i,L$e=/^hsla?/i;function R$e(e){if(lb(e.parameters,4),k$e.test(e.name))return[Fa(e.parameters[0]),Fa(e.parameters[1]),Fa(e.parameters[2]),e.parameters[3]?Fa(e.parameters[3]):1];if(L$e.test(e.name))return TJ(C$e(e.parameters[0]),Fa(e.parameters[1]),Fa(e.parameters[2]),e.parameters[3]?Fa(e.parameters[3]):1);throw new I("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Fv(e,t,r){var i;try{return F$e(e)}catch(s){(i=r==null?void 0:r.messages)==null||i.push(s)}return null}function Pv(e,t,r,i){try{const s=O$e(e);Ot(r,s,t)}catch(s){i.messages&&i.messages.push(s)}}function O$e(e){const t=Tk(e);return t?Mve(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:i})=>({scale:r,value:i.map(s=>s.toJSON())})):null}function F$e(e){if(!e||e.length===0)return null;if(P$e(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:W_(r.value)});return t}return W_(e)}function P$e(e){const t=e[0];return!!t&&"scale"in t}function W_(e){if(!(e!=null&&e.length))return"";const t=[];for(const r of e){let i=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":i=[ul(r,"amount")];break;case"blur":i=[ul(r,"radius","pt")];break;case"hue-rotate":i=[ul(r,"angle","deg")];break;case"drop-shadow":i=[ul(r,"xoffset","pt"),ul(r,"yoffset","pt"),ul(r,"blurRadius","pt"),N$e(r,"color")];break;case"bloom":i=[ul(r,"strength"),ul(r,"radius","pt"),ul(r,"threshold")]}const s=`${r.type}(${i.filter(Boolean).join(" ")})`;Tk(s),t.push(s)}return t.join(" ")}function ul(e,t,r){if(e[t]==null)throw new I("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function N$e(e,t){if(e[t]==null)throw new I("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const D$e={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:Pt}},"portal-item":{read:!0,write:{layerContainerTypes:Pt}}}}},FD={read:{reader:Fv},write:{allowNull:!0,writer:Pv,layerContainerTypes:Pt}},V$e={json:{read:!1,write:!1,origins:{"web-map":FD,"portal-item":FD}}},see=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([u(D$e)],t.prototype,"blendMode",void 0),c([u(V$e)],t.prototype,"effect",void 0),t=c([S("esri.layers.mixins.BlendLayer")],t),t},z$e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([u({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([S("esri.layers.mixins.CustomParametersMixin")],t),t},Ak=96;function j$e(e,t){const r=t||e.extent,i=e.width,s=Rs(r==null?void 0:r.spatialReference);return r&&i?r.width/i*s*QM*Ak:0}function QQe(e,t){return e/(Rs(t)*QM*Ak)}function KT(e,t){return e*(Rs(t)*QM*Ak)}function q$e(e,t,r){return B$e(e,t)&&U$e(e,r)}function B$e(e,t){return t===0||Ts(e,t)||e<t}function U$e(e,t){return t===0||Ts(e,t)||e>t}function G$e(e,t){return Ts(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}const PD={write:{overridePolicy:(e,t,r)=>({enabled:!r||r.filterMode==="scale"})}};let gd=class extends _e.ClonableMixin(N){constructor(t){super(t),this.id=F4(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};c([u({type:String,json:{write:!0}})],gd.prototype,"id",void 0),c([u({type:Number,json:PD})],gd.prototype,"maxScale",void 0),c([u({type:Number,json:PD})],gd.prototype,"minScale",void 0),c([u({type:String,json:{write:!0}})],gd.prototype,"title",void 0),c([u({type:String,json:{write:!0}})],gd.prototype,"where",void 0),gd=c([S("esri.layers.support.DisplayFilter")],gd);const nee=gd;function H$e(e,t){return{...t,filterMode:e.mode}}function W$e(e,t){return aee(e,t).next().value??null}function XQe(e,t,r){const i=Z$e(e);if(i&&(NG(t,i[0])||$$(r,i[1])))return"";const s=Array.from(aee(e,t,r)),n=J$e(s,t,r)?"1=1":s.map(a=>a.where||"1=1").reduce((a,o)=>Kve(a,o),"");return n&&n!=="1=1"?n:""}function Z$e(e){if(oee(e)==="manual")return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:i}of e.filters)t[0]=Math.max(t[0],Nv(r)),t[1]=Math.min(t[1],Z_(i));return t}function*aee(e,t,r){if(oee(e)==="manual"){const i=e.filters.find(s=>s.id===e.activeFilterId);i&&(yield i)}else{typeof t=="object"&&(t=t.scale);for(const i of e.filters)Y$e(i.minScale,i.maxScale,t,r)&&(yield i)}}function J$e(e,t,r){var n,a;if(e.length===0)return!0;const i=Nv((n=e.at(0))==null?void 0:n.minScale),s=Z_((a=e.at(-1))==null?void 0:a.maxScale);if($$(i,t)||NG(s,r))return!0;for(let o=0;o<e.length-1;o++){const l=e[o],d=e[o+1];if($$(Nv(d.minScale),Z_(l.maxScale)))return!0}return!1}function Y$e(e,t,r,i){return e=Nv(e),r=Nv(r),t=Z_(t),!(!Ts(r,e)&&(i??r)>e)&&!mue(t,r)&&(i===void 0||!Ts(i,e))}function oee(e){return"mode"in e?e.mode:e.filterMode}function Nv(e){return e||Number.POSITIVE_INFINITY}function Z_(e){return e||0}let Bf=class extends _e.ClonableMixin(N){constructor(t){super(t),this.activeFilterId=null,this.filters=new(W.ofType(nee)),this.mode="manual"}writeFilters(t,r,i,s){const n=t.toArray();this.mode==="scale"&&n.sort((a,o)=>{const l=G$e(o.minScale,a.minScale),d=a.maxScale-o.maxScale;return l===0?d:l}),r[i]=n.map(a=>a.toJSON(s))}write(t,r){return super.write(t,H$e(this,r))}};c([u({type:String,json:{write:{overridePolicy:(e,t,r)=>({enabled:r.filterMode==="manual",isRequired:!0})}}})],Bf.prototype,"activeFilterId",void 0),c([u({type:W.ofType(nee),nonNullable:!0,json:{write:!0}})],Bf.prototype,"filters",void 0),c([Q("filters")],Bf.prototype,"writeFilters",null),c([u({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],Bf.prototype,"mode",void 0),Bf=c([S("esri.layers.support.DisplayFilterInfo")],Bf);const Q$e=Bf,K$e=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return c([u(X$e)],t.prototype,"displayFilterEnabled",void 0),c([u(exe)],t.prototype,"displayFilterInfo",void 0),t=c([S("esri.layers.mixins.DisplayFilteredLayer")],t),t},X$e={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:Pt,writer(e,t,r){Ot(r,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},exe={type:Q$e,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:Pt},origins:{"web-scene":{write:!1,read:!1}}}},XT=v7e(),lee=new Map,cee=new Map;async function tKe(e,t,r){if(!e||!r)return!1;if(!t)return!0;const i=new URL(e).host;let s=lee.get(i);if(!s){const n=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await ze(n,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return s===t}async function ND(e,t,r=!1){var n,a,o;if(!e||!t)return!0;const i=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=(n=cee.get(i))==null?void 0:n.entries();if(s){for(const[l,d]of s)if(d.name===t){const f=!((a=d.stack)!=null&&a.hasForwardEdits());if(!f&&r){const[{deleteForwardEdits:p},{default:m}]=await Promise.all([C(()=>import("./deleteForwardEdits-CXz8E6dp.js"),[]),C(()=>import("./DeleteForwardEditsParameters-DAyPmQhT.js"),[])]),y=await p(i,l,new m({sessionId:XT,moment:d.moment}));return y.success&&((o=d.stack)==null||o.clearForwardEdits()),y.success}return f}}return!0}function i5(e,t){var s;if(!e)return!1;const r=e.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),i=(s=cee.get(r))==null?void 0:s.entries();if(i){for(const[n,a]of i)if(a.name===t)return a.lockType==="edit"}return!1}const kk=new an.EventEmitter;function dee(e){return kk.on("apply-edits",new WeakRef(e))}function uee(e){return kk.on("update-moment",new WeakRef(e))}function DD(e,t,r=null,i=!1){const s=Ms();return i=t==null||i,kk.emit("apply-edits",{serviceUrl:e,layerId:t,gdbVersion:r,mayReceiveServiceEdits:i,result:s.promise}),s}const fee=Symbol();function rKe(e){return e!=null&&typeof e=="object"&&fee in e}function Gb(e){return e!=null&&typeof e=="object"&&"gdbVersion"in e}function K1(e,t,r){const i=new URL(e).host,s=lee.get(i),n=a=>!a||a===s;return n(t)&&n(r)||t===r}const txe=e=>{var t;let r=class extends e{constructor(...i){super(...i),this[t]=!0,this._applyEditsHandler=s=>{const{serviceUrl:n,layerId:a,gdbVersion:o,mayReceiveServiceEdits:l,result:d}=s,f=n===this.url,p=a!=null&&this.layerId!=null&&a===this.layerId,m=Gb(this),y=Gb(this)&&K1(n,o,this.gdbVersion);if(!f||m&&!y||!p&&!l)return;const b=d.then(g=>{var _;if(this.lastEditsEventDate=new Date,p&&(g.addedFeatures.length||g.updatedFeatures.length||g.deletedFeatures.length||g.addedAttachments.length||g.updatedAttachments.length||g.deletedAttachments.length))return this.emit("edits",O(g)),g;const v=(_=g.editedFeatures)==null?void 0:_.find(({layerId:x})=>x===this.layerId);if(v){const{adds:x,updates:T,deletes:k}=v.editedFeatures,A={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:x?x.map(({attributes:M})=>({objectId:this.objectIdField&&M[this.objectIdField],globalId:this.globalIdField&&M[this.globalIdField]})):[],deletedFeatures:k?k.map(({attributes:M})=>({objectId:this.objectIdField&&M[this.objectIdField],globalId:this.globalIdField&&M[this.globalIdField]})):[],updatedFeatures:T?T.map(({current:{attributes:M}})=>({objectId:this.objectIdField&&M[this.objectIdField],globalId:this.globalIdField&&M[this.globalIdField]})):[],editedFeatures:O(g.editedFeatures),exceededTransferLimit:!1,historicMoment:O(g.historicMoment)};return this.emit("edits",A),A}const w={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:O(g.editedFeatures),exceededTransferLimit:!1,historicMoment:O(g.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(n,o,w.historicMoment)&&this.emit("edits",w),w}).then(g=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(n,o,g.historicMoment)&&(this.historicMoment=g.historicMoment),g));this.emit("apply-edits",{result:b})},this._updateMomentHandler=s=>{const{serviceUrl:n,gdbVersion:a,moment:o}=s,l=n===this.url,d=Gb(this),f=Gb(this)&&K1(n,a,this.gdbVersion),p=Gb(this)&&!K1(n,this.gdbVersion,null);l&&d&&f&&p&&"historicMoment"in this&&this.historicMoment!==o&&(this.historicMoment=o)},this.when().then(()=>{this.addHandles(dee(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(uee(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(i,s,n){return"historicMoment"in this&&this.historicMoment!==n&&i5(i,s)}};return t=fee,c([u()],r.prototype,"lastEditsEventDate",void 0),r=c([S("esri.layers.mixins.EditBusLayer")],r),r};var eI;const tS=new ye({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),rS=new ye({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let So=eI=class extends N{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:s,objectIds:n,units:a,distance:o}=this;return new li({geometry:O(r),objectIds:O(n),spatialRelationship:i,timeExtent:O(s),where:t,units:a,distance:o,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:i,objectIds:s,units:n,distance:a}=this;return new eI({geometry:O(t),objectIds:O(s),spatialRelationship:r,timeExtent:O(i),where:e,units:n,distance:a})}};c([u({type:String,json:{write:!0}})],So.prototype,"where",void 0),c([u({types:fh,json:{write:!0}})],So.prototype,"geometry",void 0),c([u({type:tS.apiValues,json:{name:"spatialRel",read:{reader:tS.read},write:{allowNull:!1,writer:tS.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],So.prototype,"spatialRelationship",void 0),c([u({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],So.prototype,"distance",void 0),c([u({type:[Number],json:{write:!0}})],So.prototype,"objectIds",void 0),c([u({type:rS.apiValues,json:{read:rS.read,write:{writer:rS.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],So.prototype,"units",void 0),c([u({type:Ir,json:{write:!0}})],So.prototype,"timeExtent",void 0),So=eI=c([S("esri.layers.support.FeatureFilter")],So);const rxe=So;var tI;const VD={read:{reader:Fv},write:{writer:Pv,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},zD={read:{reader:Fv},write:{writer:Pv,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},jD={name:"showExcludedLabels",default:!0};let Uf=tI=class extends N{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){var i,s;const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const n=Object.keys(r.filter);if(n.length>1||n[0]!=="where")return(i=t.messages)==null||i.push(new I("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return(s=t.messages)==null||s.push(new I("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new tI({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([u({type:rxe,json:{write:{allowNull:!0,writer(e,t,r,i){const s=e==null?void 0:e.write({},i);s&&Object.keys(s).length!==0?Ot(r,s,t):Ot(r,null,t)}}}})],Uf.prototype,"filter",void 0),c([u({json:{read:Fv,write:{writer:Pv,allowNull:!0},origins:{"web-map":VD,"portal-item":VD}}})],Uf.prototype,"includedEffect",void 0),c([u({json:{read:Fv,write:{writer:Pv,allowNull:!0},origins:{"web-map":zD,"portal-item":zD}}})],Uf.prototype,"excludedEffect",void 0),c([u({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":jD,"portal-item":jD}}})],Uf.prototype,"excludedLabelsVisible",void 0),Uf=tI=c([S("esri.layers.support.FeatureEffect")],Uf);const ixe=Uf,qD={write:{allowNull:!0}},sxe={type:ixe,json:{origins:{"web-map":qD,"portal-item":qD}}},nxe=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([u(sxe)],t.prototype,"featureEffect",void 0),t=c([S("esri.layers.mixins.FeatureEffectLayer")],t),t};var rI;let Kg=rI=class extends N{constructor(e){super(e)}async collectRequiredFields(e,t){return ki(e,t,this.expression)}clone(){return new rI({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};c([u({type:String,json:{write:{isRequired:!0}}})],Kg.prototype,"expression",void 0),c([u({type:String,json:{write:!0}})],Kg.prototype,"title",void 0),Kg=rI=c([S("esri.symbols.support.FeatureExpressionInfo")],Kg);const BD=Kg,z4={unknown:1,inches:Ze(1,"meters","inches"),feet:Ze(1,"meters","feet"),"us-feet":Ze(1,"meters","us-feet"),yards:Ze(1,"meters","yards"),miles:Ze(1,"meters","miles"),"nautical-miles":Ze(1,"meters","nautical-miles"),millimeters:Ze(1,"meters","millimeters"),centimeters:Ze(1,"meters","centimeters"),decimeters:Ze(1,"meters","decimeters"),meters:Ze(1,"meters","meters"),kilometers:Ze(1,"meters","kilometers"),"decimal-degrees":1/ope(1,"meters",Bt.radius)};function iKe(e){return!!e&&z4[e]!=null}function sKe(e){return 1/(z4[e]||1)}function axe(){const e=Object.keys(z4);return TU(e,"decimal-degrees"),e.sort(),e}const oxe=axe();var iI;const f3=ar()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),UD=new ye({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Ll=iI=class extends N{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,i){t[r]=e.write({},i),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new iI({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&hce(this.featureExpressionInfo,e.featureExpressionInfo)}};c([u({type:BD,json:{write:!0}})],Ll.prototype,"featureExpressionInfo",void 0),c([Y("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Ll.prototype,"readFeatureExpressionInfo",null),c([Q("featureExpressionInfo",{featureExpressionInfo:{type:BD},"featureExpression.value":{type:[0]}})],Ll.prototype,"writeFeatureExpressionInfo",null),c([u({type:f3.apiValues,nonNullable:!0,json:{type:f3.jsonValues,read:f3.read,write:{writer:f3.write,isRequired:!0}}})],Ll.prototype,"mode",null),c([u({type:Number,json:{write:!0}})],Ll.prototype,"offset",void 0),c([u({type:oxe,json:{type:String,read:UD.read,write:UD.write}})],Ll.prototype,"unit",null),Ll=iI=c([S("esri.symbols.support.ElevationInfo")],Ll);const pee=Ll;let Dm=class extends N{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};c([u({type:String,json:{write:!0}})],Dm.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],Dm.prototype,"label",void 0),c([u()],Dm.prototype,"type",void 0),Dm=c([S("esri.tables.elements.AttributeTableElement")],Dm);const Ty=Dm;var sI;let Xg=sI=class extends Ty{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new sI({description:this.description,displayType:this.displayType,label:this.label})}};c([u({type:["auto"],json:{write:!0}})],Xg.prototype,"displayType",void 0),c([u({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Xg.prototype,"type",void 0),Xg=sI=c([S("esri.tables.elements.AttributeTableAttachmentElement")],Xg);const GD=Xg;var nI;let e1=nI=class extends Ty{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new nI({description:this.description,fieldName:this.fieldName,label:this.label})}};c([u({type:String,json:{write:!0}})],e1.prototype,"fieldName",void 0),c([u({type:String,json:{read:!1,write:!0}})],e1.prototype,"type",void 0),e1=nI=c([S("esri.tables.elements.AttributeTableFieldElement")],e1);const HD=e1;var aI;let t1=aI=class extends Ty{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new aI({description:this.description,label:this.label,relationshipId:this.relationshipId})}};c([u({type:Number,json:{write:!0}})],t1.prototype,"relationshipId",void 0),c([u({type:["relationship"],json:{read:!1,write:!0}})],t1.prototype,"type",void 0),t1=aI=c([S("esri.tables.elements.AttributeTableRelationshipElement")],t1);const WD=t1;function hee(e){return{typesWithGroup:{base:Ty,key:"type",typeMap:{attachment:GD,field:HD,group:e,relationship:WD}},typesWithoutGroup:{base:Ty,key:"type",typeMap:{attachment:GD,field:HD,relationship:WD}}}}function mee(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>i[s.type]).map(s=>i[s.type].fromJSON(s))}function yee(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(s=>i[s.type]).map(s=>s.toJSON())}function bee(e,t,r=!0){return e?e.map(i=>Ha(r?t.typesWithGroup:t.typesWithoutGroup,i)):null}var oI;let Zl=oI=class extends Ty{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return bee(e,iS,!1)}readElements(e,t){return mee(t.attributeTableElements,iS,!1)}writeElements(e,t){t.attributeTableElements=yee(e,iS,!1)}clone(){return new oI({description:this.description,elements:O(this.elements),label:this.label})}};c([u({json:{write:!0}})],Zl.prototype,"elements",void 0),c([Oe("elements")],Zl.prototype,"castElements",null),c([Y("elements",["attributeTableElements"])],Zl.prototype,"readElements",null),c([Q("elements")],Zl.prototype,"writeElements",null),c([u({type:String,json:{read:!1,write:!0}})],Zl.prototype,"type",void 0),Zl=oI=c([S("esri.tables.elements.AttributeTableGroupElement")],Zl);const iS=hee(Zl),lxe=Zl;var lI;const sS=hee(lxe);let vd=lI=class extends N{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return bee(e,sS)}readElements(e,t){return mee(t.attributeTableElements,sS)}writeElements(e,t){t.attributeTableElements=yee(e,sS)}clone(){return new lI({elements:O(this.elements),orderByFields:this.orderByFields})}};c([u({json:{write:!0}})],vd.prototype,"elements",void 0),c([Oe("elements")],vd.prototype,"castElements",null),c([Y("elements",["attributeTableElements"])],vd.prototype,"readElements",null),c([Q("elements")],vd.prototype,"writeElements",null),c([u({type:[Object],json:{write:!0}})],vd.prototype,"orderByFields",void 0),vd=lI=c([S("esri.tables.AttributeTableTemplate")],vd);const cxe=vd,dxe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Pt}}},j4={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},q4={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Pt}}},uxe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:Xp}}},fxe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Pt}}},pxe={value:null,type:pee,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Pt}}};function aKe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const gee={write:{enabled:!0,layerContainerTypes:Pt},read:!0},cI={type:Number,json:{origins:{"web-document":gee,"portal-item":{write:{layerContainerTypes:Pt}}}}},hxe={...cI,json:{...cI.json,origins:{"web-document":{...gee,write:{enabled:!0,layerContainerTypes:Pt,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>{var i;return r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?(i=t.layerDefinition)!=null&&i.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Cv(t.layerDefinition.drawingInfo.transparency):void 0:Cv(t.drawingInfo.transparency)}}}},oKe={type:ht,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=ht.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=me.fromJSON(t.spatialReference)),r}}}},read:!1}},mxe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},yxe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:Pt}}},bxe={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:Pt}}},vee={json:{write:{ignoreOrigin:!0,layerContainerTypes:Pt},origins:{"web-map":{read:!1,write:!1}}}},gxe={type:cxe,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}};let Rl=class extends _e.ClonableMixin(N){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};c([u()],Rl.prototype,"creatorField",void 0),c([u()],Rl.prototype,"creationDateField",void 0),c([u()],Rl.prototype,"editorField",void 0),c([u()],Rl.prototype,"editDateField",void 0),c([u()],Rl.prototype,"realm",void 0),c([u(g_("dateFieldsTimeReference",!0))],Rl.prototype,"timeZone",void 0),Rl=c([S("esri.layers.support.EditFieldsInfo")],Rl);const vxe=Rl;let Ro=class extends _e.ClonableMixin(N){constructor(t){super(t)}};c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"name",void 0),c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"fields",void 0),c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"isAscending",void 0),c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"indexType",void 0),c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"isUnique",void 0),c([u({constructOnly:!0,json:{write:!0}})],Ro.prototype,"description",void 0),Ro=c([S("esri.layers.support.FeatureIndex")],Ro);async function wee(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=_ee(e));const i=wxe(e),s=e.capabilities.query.supportsPagination;t.start=0,t.num=i;let n=null;for(;;){const a=await e.source.queryFeaturesJSON(t,r);if(n==null?n=a:n.features=n.features.concat(a.features),n.exceededTransferLimit=a.exceededTransferLimit,!s||!a.exceededTransferLimit)break;t.start+=i}return n}function wxe(e){return _ee(e)*_xe(e)}function _xe(e){return e.capabilities.query.maxRecordCount||2e3}function _ee(e){return e.capabilities.query.supportsMaxRecordCountFactor?li.MAX_MAX_RECORD_COUNT_FACTOR:1}var dI;let r1=dI=class extends N{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new dI({minValue:this.minValue,maxValue:this.maxValue})}};c([u({type:Number,json:{write:!0}})],r1.prototype,"minValue",void 0),c([u({type:Number,json:{write:!0}})],r1.prototype,"maxValue",void 0),r1=dI=c([S("esri.renderers.support.AuthoringInfoClassBreakInfo")],r1);var uI;let Dd=uI=class extends N{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new uI({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:O(this.classBreakInfos)})}};c([u({type:String,json:{write:!0}})],Dd.prototype,"field",void 0),c([u({type:String,json:{write:!0}})],Dd.prototype,"normalizationField",void 0),c([u({type:String,json:{write:!0}})],Dd.prototype,"label",void 0),c([u({type:[r1],json:{write:!0}})],Dd.prototype,"classBreakInfos",void 0),Dd=uI=c([S("esri.renderers.support.AuthoringInfoFieldInfo")],Dd);var fI;let Vm=fI=class extends N{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new fI({label:this.label,value:this.value,size:this.size})}};c([u({type:String,json:{write:!0}})],Vm.prototype,"label",void 0),c([u({type:Number,json:{write:!0}})],Vm.prototype,"size",void 0),c([u({type:Number,json:{write:!0}})],Vm.prototype,"value",void 0),Vm=fI=c([S("esri.renderers.support.AuthoringInfoSizeStop")],Vm);const Sxe=Vm;var pI;const p3=new ye({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),h3=new ye({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),ZD={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},JD=["high-to-low","above-and-below","centered-on","extremes"],YD=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],QD=["seconds","minutes","hours","days","months","years"],$xe=["circle","diamond","hexagon-flat","hexagon-pointy","square"];let Wr=pI=class extends N{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}get normalizationField(){return this.theme==="reference-size"?this._get("normalizationField"):null}set normalizationField(e){this._set("normalizationField",e)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(e){this._set("referenceSizeScale",e)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(e){this._set("referenceSizeSymbolStyle",e)}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get sizeStops(){return this.theme==="reference-size"?this._get("sizeStops"):null}set sizeStops(e){this._set("sizeStops",e)}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new pI({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:O(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([u({types:ZD,json:{write:!0}})],Wr.prototype,"endTime",void 0),c([Oe("endTime")],Wr.prototype,"castEndTime",null),c([u({type:String,json:{write:!0}})],Wr.prototype,"field",void 0),c([u({type:Number,json:{write:!0}})],Wr.prototype,"maxSliderValue",void 0),c([u({type:Number,json:{write:!0}})],Wr.prototype,"minSliderValue",void 0),c([u({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Wr.prototype,"normalizationField",null),c([u({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Wr.prototype,"referenceSizeScale",null),c([u({type:$xe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Wr.prototype,"referenceSizeSymbolStyle",null),c([u({types:ZD,json:{write:!0}})],Wr.prototype,"startTime",void 0),c([Oe("startTime")],Wr.prototype,"castStartTime",null),c([u({type:[Sxe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Wr.prototype,"sizeStops",null),c([u({type:p3.apiValues,value:null,json:{type:p3.jsonValues,read:p3.read,write:p3.write}})],Wr.prototype,"style",null),c([u({type:YD,value:null,json:{type:YD,origins:{"web-scene":{type:JD,write:{writer:(e,t)=>{JD.includes(e)&&(t.theme=e)}}}},write:!0}})],Wr.prototype,"theme",null),c([u({type:h3.apiValues,json:{type:h3.jsonValues,read:h3.read,write:h3.write}})],Wr.prototype,"type",void 0),c([u({type:QD,json:{type:QD,write:!0}})],Wr.prototype,"units",void 0),Wr=pI=c([S("esri.renderers.support.AuthoringInfoVisualVariable")],Wr);const See=Wr;let s5=class extends N{constructor(t){super(t),this.type=null}};c([u({readOnly:!0,json:{read:!1,write:!0}})],s5.prototype,"type",void 0),s5=c([S("esri.rest.support.ColorRamp")],s5);const Lk=s5;var hI;let Gf=hI=class extends Lk{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new hI({fromColor:O(this.fromColor),toColor:O(this.toColor),algorithm:this.algorithm})}};c([re({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Gf.prototype,"algorithm",void 0),c([u({type:Z,json:{type:[Ve],write:!0}})],Gf.prototype,"fromColor",void 0),c([u({type:Z,json:{type:[Ve],write:!0}})],Gf.prototype,"toColor",void 0),c([u({type:["algorithmic"]})],Gf.prototype,"type",void 0),Gf=hI=c([S("esri.rest.support.AlgorithmicColorRamp")],Gf);const Rk=Gf;var mI;let i1=mI=class extends Lk{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new mI({colorRamps:O(this.colorRamps)})}};c([u({type:[Rk],json:{write:!0}})],i1.prototype,"colorRamps",void 0),c([u({type:["multipart"]})],i1.prototype,"type",void 0),i1=mI=c([S("esri.rest.support.MultipartColorRamp")],i1);const $ee=i1,xxe={key:"type",base:Lk,typeMap:{algorithmic:Rk,multipart:$ee}};function Exe(e){return e!=null&&e.type?e.type==="algorithmic"?Rk.fromJSON(e):e.type==="multipart"?$ee.fromJSON(e):null:null}var yI;const of=new ye({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),m3=new ye({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),KD=new ye({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),XD=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],Txe=["high-to-low","above-and-below","above","below"],Ixe=["flow-line","wave-front"],Cxe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Gt=yI=class extends N{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?Exe(e):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){var e;return new yI({classificationMethod:this.classificationMethod,colorRamp:O(this.colorRamp),fadeRatio:O(this.fadeRatio),fields:(e=this.fields)==null?void 0:e.slice(),field1:O(this.field1),field2:O(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([u({type:of.apiValues,value:null,json:{type:of.jsonValues,read:of.read,write:of.write,origins:{"web-document":{default:"manual",type:of.jsonValues,read:of.read,write:of.write}}}})],Gt.prototype,"classificationMethod",null),c([u({types:xxe,json:{write:!0}})],Gt.prototype,"colorRamp",void 0),c([Y("colorRamp")],Gt.prototype,"readColorRamp",null),c([u({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Gt.prototype,"fadeRatio",void 0),c([u({type:[String],value:null,json:{write:!0}})],Gt.prototype,"fields",null),c([u({type:Dd,value:null,json:{write:!0}})],Gt.prototype,"field1",null),c([u({type:Dd,value:null,json:{write:!0}})],Gt.prototype,"field2",null),c([u({type:Ixe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Gt.prototype,"flowTheme",null),c([u({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Gt.prototype,"focus",null),c([u({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Gt.prototype,"isAutoGenerated",void 0),c([u({type:Number,value:null,json:{type:Ve,write:!0}})],Gt.prototype,"numClasses",null),c([u({type:XD,json:{type:XD,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Gt.prototype,"lengthUnit",void 0),c([u({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Gt.prototype,"maxSliderValue",void 0),c([u({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Gt.prototype,"minSliderValue",void 0),c([u({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Gt.prototype,"statistics",null),c([u({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Gt.prototype,"standardDeviationInterval",null),c([u({type:m3.apiValues,value:null,json:{type:m3.jsonValues,read:m3.read,write:m3.write,origins:{"web-scene":{type:KD.jsonValues,write:{writer:KD.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Gt.prototype,"type",null),c([u({type:[See],json:{write:!0}})],Gt.prototype,"visualVariables",void 0),c([u({type:Cxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Gt.prototype,"univariateSymbolStyle",null),c([u({type:Txe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Gt.prototype,"univariateTheme",null),Gt=yI=c([S("esri.renderers.support.AuthoringInfo")],Gt);const B4=Gt,nS=new ye({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let s1=class extends N{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([u({type:B4,json:{write:!0}})],s1.prototype,"authoringInfo",void 0),c([u({type:nS.apiValues,readOnly:!0,json:{type:nS.jsonValues,read:!1,write:{writer:nS.write,ignoreOrigin:!0,isRequired:!0}}})],s1.prototype,"type",void 0),s1=c([S("esri.renderers.Renderer")],s1);const Pc=s1;let n1=class extends _e.ClonableMixin(N){constructor(){super(...arguments),this.showLegend=null,this.title=null}};c([u({type:Boolean,json:{write:!0}})],n1.prototype,"showLegend",void 0),c([u({type:String,json:{write:!0}})],n1.prototype,"title",void 0),n1=c([S("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],n1);const Ok=n1,aS=new ye({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let va=class extends N{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return t==null?t:typeof t=="function"?(B.getLogger(this).error(".field: field must be a string value"),null):w2(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([u()],va.prototype,"index",void 0),c([u({type:aS.apiValues,readOnly:!0,json:{read:aS.read,write:{writer:aS.write,isRequired:!0}}})],va.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],va.prototype,"field",void 0),c([Oe("field")],va.prototype,"castField",null),c([u({type:String,json:{write:!0}})],va.prototype,"valueExpression",void 0),c([u({type:String,json:{write:!0}})],va.prototype,"valueExpressionTitle",void 0),c([u({readOnly:!0})],va.prototype,"arcadeRequired",null),c([u({type:Ok,json:{write:!0}})],va.prototype,"legendOptions",void 0),va=c([S("esri.renderers.visualVariables.VisualVariable")],va);const cb=va;var bI;let Hf=bI=class extends N{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new bI({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([u({type:Z,json:{type:[Ve],write:{isRequired:!0}}})],Hf.prototype,"color",void 0),c([u({type:String,json:{write:!0}})],Hf.prototype,"label",void 0),c([u({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Hf.prototype,"value",void 0),c([Q("value")],Hf.prototype,"writeValue",null),Hf=bI=c([S("esri.renderers.visualVariables.support.ColorStop")],Hf);const Fk=Hf;var gI;let Wf=gI=class extends cb{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new gI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([u({readOnly:!0})],Wf.prototype,"cache",null),c([u({type:["color"],json:{type:["colorInfo"]}})],Wf.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],Wf.prototype,"normalizationField",void 0),c([u({type:[Fk],json:{write:!0}})],Wf.prototype,"stops",null),Wf=gI=c([S("esri.renderers.visualVariables.ColorVariable")],Wf);const Pk=Wf;var vI;let wd=vI=class extends N{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Cv(t.transparency)}writeOpacity(e,t,r){t[r]=l4(e)}clone(){return new vI({label:this.label,opacity:this.opacity,value:this.value})}};c([u({type:String,json:{write:!0}})],wd.prototype,"label",void 0),c([u({type:Number,json:{type:Ve,write:{target:"transparency",isRequired:!0}}})],wd.prototype,"opacity",void 0),c([Y("opacity",["transparency"])],wd.prototype,"readOpacity",null),c([Q("opacity")],wd.prototype,"writeOpacity",null),c([u({type:Number,json:{write:{isRequired:!0}}})],wd.prototype,"value",void 0),wd=vI=c([S("esri.renderers.visualVariables.support.OpacityStop")],wd);const Mxe=wd;var wI;let Zf=wI=class extends cb{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){var e;return new wI({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([u({readOnly:!0})],Zf.prototype,"cache",null),c([u({type:["opacity"],json:{type:["transparencyInfo"]}})],Zf.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],Zf.prototype,"normalizationField",void 0),c([u({type:[Mxe],json:{write:!0}})],Zf.prototype,"stops",null),Zf=wI=c([S("esri.renderers.visualVariables.OpacityVariable")],Zf);const Nk=Zf;var _I;let Jf=_I=class extends cb{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var e;return new _I({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}};c([u({readOnly:!0})],Jf.prototype,"cache",null),c([u({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Jf.prototype,"axis",void 0),c([u({type:["rotation"],json:{type:["rotationInfo"]}})],Jf.prototype,"type",void 0),c([u({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Jf.prototype,"rotationType",void 0),Jf=_I=c([S("esri.renderers.visualVariables.RotationVariable")],Jf);const xee=Jf;function Axe(e){return Ue(e)}var SI;let _d=SI=class extends N{constructor(e){super(e),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new SI({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};c([u({type:String,json:{write:!0}})],_d.prototype,"label",void 0),c([u({type:Number,cast:Ue,json:{write:{isRequired:!0}}})],_d.prototype,"size",void 0),c([u({type:Number,json:{write:{isRequired:!0}}})],_d.prototype,"value",void 0),c([u({type:Boolean,json:{write:!1}})],_d.prototype,"useMinValue",void 0),c([u({type:Boolean,json:{write:!1}})],_d.prototype,"useMaxValue",void 0),_d=SI=c([S("esri.renderers.visualVariables.support.SizeStop")],_d);const Ua=_d;let n5=class extends Ok{constructor(){super(...arguments),this.customValues=null}};c([u({type:[Number],json:{write:!0}})],n5.prototype,"customValues",void 0),n5=c([S("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],n5);const Eee=n5;var hc,Vr;function g0(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Dv(e){return e!=null&&!isNaN(e)&&isFinite(e)}function Tee(e){return e.valueExpression?hc.Expression:e.field&&typeof e.field=="string"?hc.Field:hc.Unknown}function kxe(e,t){const r=t||Tee(e),i=e.valueUnit||"unknown";return r===hc.Unknown?Vr.Constant:e.stops?Vr.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Vr.ClampedLinear:i==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Vr.Proportional:Vr.Additive:Vr.Identity:Vr.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(hc||(hc={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Vr||(Vr={}));const Iee=()=>B.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),U4=e=>Iee().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${e}`),G4=()=>Iee().error("Use of arcade expressions requires an arcade context"),eV=new pr,a5=Math.PI,Cee=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Mee(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="color"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void U4("ColorVariable");const s=typeof t=="number",n=s?null:t,a=n==null?void 0:n.attributes;let o=s?t:null;const l=i.field,{ipData:d,hasExpression:f}=i.cache;let p=i.cache.compiledFunc;if(!l&&!f){const b=i.stops;return b&&b[0]&&b[0].color}if(typeof o!="number")if(f){if((r==null?void 0:r.arcade)==null)return void G4();const b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,v=g.getViewInfo(b),w=g.createExecContext(n,v,r.timeZone);if(!p){const _=g.createSyntaxTree(i.valueExpression);p=g.createFunction(_),i.cache.compiledFunc=p}o=g.executeFunction(p,w)}else a&&(o=a[l]);const m=i.normalizationField,y=a!=null&&m!=null?parseFloat(a[m]):void 0;if(o!=null&&(!m||s||!isNaN(y)&&y!==0)){isNaN(y)||s||(o/=y);const b=Dk(o,d);if(b){const g=b[0],v=b[1],w=g===v?i.stops[g].color:Z.blendColors(i.stops[g].color,i.stops[v].color,b[2],r!=null?r.color:void 0);return new Z(w)}}}function Aee(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="opacity"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void U4("OpacityVariable");const s=typeof t=="number",n=s?null:t,a=n==null?void 0:n.attributes;let o=s?t:null;const l=i.field,{ipData:d,hasExpression:f}=i.cache;let p=i.cache.compiledFunc;if(!l&&!f){const b=i.stops;return b&&b[0]&&b[0].opacity}if(typeof o!="number")if(f){if((r==null?void 0:r.arcade)==null)return void G4();const b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},g=r.arcade.arcadeUtils,v=g.getViewInfo(b),w=g.createExecContext(n,v,r.timeZone);if(!p){const _=g.createSyntaxTree(i.valueExpression);p=g.createFunction(_),i.cache.compiledFunc=p}o=g.executeFunction(p,w)}else a&&(o=a[l]);const m=i.normalizationField,y=a!=null&&m!=null?parseFloat(a[m]):void 0;if(o!=null&&(!m||s||!isNaN(y)&&y!==0)){isNaN(y)||s||(o/=y);const b=Dk(o,d);if(b){const g=b[0],v=b[1];if(g===v)return i.stops[g].opacity;{const w=i.stops[g].opacity;return w+(i.stops[v].opacity-w)*b[2]}}}}function kee(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(y=>y.type==="rotation"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void U4("RotationVariable");const s=i.axis||"heading",n=s==="heading"&&i.rotationType==="arithmetic"?90:0,a=s==="heading"&&i.rotationType==="arithmetic"?-1:1,o=typeof t=="number"?null:t,l=o==null?void 0:o.attributes,d=i.field,{hasExpression:f}=i.cache;let p=i.cache.compiledFunc,m=0;if(!d&&!f)return m;if(f){if((r==null?void 0:r.arcade)==null)return void G4();const y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},b=r.arcade.arcadeUtils,g=b.getViewInfo(y),v=b.createExecContext(o,g,r.timeZone);if(!p){const w=b.createSyntaxTree(i.valueExpression);p=b.createFunction(w),i.cache.compiledFunc=p}m=b.executeFunction(p,v)}else l&&(m=l[d]||0);return m=typeof m!="number"||isNaN(m)?null:n+a*m,m}function Lxe(e,t,r){const i=typeof t=="number",s=i?null:t,n=s==null?void 0:s.attributes;let a=i?t:null;const{isScaleDriven:o}=e.cache;let l=e.cache.compiledFunc;if(o){const f=r!=null?r.scale:void 0,p=r!=null?r.view:void 0;a=f==null||p==="3d"?Rxe(e):f}else if(!i)switch(e.inputValueType){case hc.Expression:{if((r==null?void 0:r.arcade)==null)return void G4();const f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},p=r.arcade.arcadeUtils,m=p.getViewInfo(f),y=p.createExecContext(s,m,r.timeZone);if(!l){const b=p.createSyntaxTree(e.valueExpression);l=p.createFunction(b),e.cache.compiledFunc=l}a=p.executeFunction(l,y);break}case hc.Field:n&&(a=n[e.field]);break;case hc.Unknown:a=null}if(!Dv(a))return null;if(i||!e.normalizationField)return a;const d=n?parseFloat(n[e.normalizationField]):null;return Dv(d)&&d!==0?a/d:null}function Rxe(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function H4(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!i)return;if(i.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void U4("SizeVariable");const s=Ree(Lxe(i,t,r),i,t,r,i.cache.ipData);return s==null||isNaN(s)?0:s}function Is(e,t,r){return e==null?null:g0(e)?H4(e,t,r):Dv(e)?e:null}function Lee(e,t,r){return Dv(r)&&e>r?r:Dv(t)&&e<t?t:e}function Oxe(e,t,r,i){return e+((Is(t.minSize,r,i)||t.minDataValue)??0)}function Fxe(e,t,r){const i=e.stops;let s=(i==null?void 0:i.length)&&i[0].size;return s==null&&(s=e.minSize),Is(s,t,r)}function Pxe(e,t,r,i){const s=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=Is(t.minSize,r,i),a=Is(t.maxSize,r,i),o=i!=null?i.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return a;if(n==null||a==null)return null;if(t.scaleBy==="area"&&o){const l=o==="circle",d=l?a5*(n/2)**2:n*n,f=d+s*((l?a5*(a/2)**2:a*a)-d);return l?2*Math.sqrt(f/a5):Math.sqrt(f)}return n+s*(a-n)}function Nxe(e,t,r,i){const s=i!=null?i.shape:void 0,n=e/t.minDataValue,a=Is(t.minSize,r,i),o=Is(t.maxSize,r,i);let l=null;return l=s==="circle"?2*Math.sqrt(n*(a/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(n*a**2):n*a,Lee(l,a,o)}function Dxe(e,t,r,i,s){var l,d,f;const[n,a,o]=Dk(e,s);if(n===a)return Is((l=t.stops)==null?void 0:l[n].size,r,i);{const p=Is((d=t.stops)==null?void 0:d[n].size,r,i);return p+(Is((f=t.stops)==null?void 0:f[a].size,r,i)-p)*o}}function Vxe(e,t,r,i){const s=((i==null?void 0:i.resolution)??1)*z4[t.valueUnit],n=Is(t.minSize,r,i),a=Is(t.maxSize,r,i),{valueRepresentation:o}=t;let l=null;return l=o==="area"?2*Math.sqrt(e/a5)/s:o==="radius"||o==="distance"?2*e/s:e/s,Lee(l,n,a)}function Ree(e,t,r,i,s){switch(t.transformationType){case Vr.Additive:return Oxe(e,t,r,i);case Vr.Constant:return Fxe(t,r,i);case Vr.ClampedLinear:return Pxe(e,t,r,i);case Vr.Proportional:return Nxe(e,t,r,i);case Vr.Stops:return Dxe(e,t,r,i,s);case Vr.RealWorldSize:return Vxe(e,t,r,i);case Vr.Identity:return e;case Vr.Unknown:return null}}function zxe(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&r==="3d"||t))return null;const s={scale:t,view:r};let n=Is(e.minSize,eV,s),a=Is(e.maxSize,eV,s);if(n!=null||a!=null){if(n>a){const o=a;a=n,n=o}return{minSize:n,maxSize:a}}}function jxe(e,t,r){if(!e.visualVariables)return;const i=[],s=[],n=[],a=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":s.push(l);break;case"opacity":n.push(l);break;case"rotation":o.push(l);break;case"size":a.push(l)}return s.forEach(l=>{const d=Mee(l,t,r);i.push({variable:l,value:d})}),n.forEach(l=>{const d=Aee(l,t,r);i.push({variable:l,value:d})}),o.forEach(l=>{const d=kee(l,t,r);i.push({variable:l,value:d})}),a.forEach(l=>{const d=H4(l,t,r);i.push({variable:l,value:d})}),i.filter(l=>l.value!=null)}function Dk(e,t){if(!t)return;let r=0,i=t.length-1;return t.some((s,n)=>e<s?(i=n,!0):(r=n,!1)),[r,i,(e-t[r])/(t[i]-t[r])]}function qxe(e,t,r){const i=["proportional","proportional","proportional"];for(const s of e){const n=s.useSymbolValue?"symbol-value":H4(s,t,r);switch(s.axis){case"width":i[0]=n;break;case"depth":i[1]=n;break;case"height":i[2]=n;break;case"width-and-depth":i[0]=n,i[1]=n;break;case"all":case void 0:case null:i[0]=n,i[1]=n,i[2]=n;break;default:s.axis}}return i}const gh=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:qxe,getColor:Mee,getOpacity:Aee,getRotationAngle:kee,getSize:H4,getSizeForValue:Ree,getSizeFromNumberOrVariable:Is,getSizeRangeAtScale:zxe,getVisualVariableValues:jxe,viewScaleRE:Cee},Symbol.toStringTag,{value:"Module"}));var $I;const y3=new ye({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),xI=new ye({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function tV(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Axe(e):e.type==="size"?g0(e)?e:(delete(e={...e}).type,new rt(e)):void 0}function rV(e,t,r){if(typeof e!="object")return e;const i=new rt;return i.read(e,r),i}let rt=$I=class extends cb{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Cee.test(this.valueExpression)}}set index(e){g0(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),g0(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Tee(this)}set maxDataValue(e){e&&this.stops&&(B.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(B.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return tV(e)}readMaxSize(e,t,r){return rV(e,t,r)}set minDataValue(e){e&&this.stops&&(B.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(B.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return tV(e)}readMinSize(e,t,r){return rV(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(B.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return kxe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,i){if(e==="$view.scale"){if(i!=null&&i.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;i.messages.push(new I("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:i}))}}else t[r]=e}readValueUnit(e){return e?xI.read(e):null}clone(){var e,t;return new $I({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:g0(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:g0(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(e=this.stops)==null?void 0:e.map(r=>r.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}flipSizes(){if(this.transformationType===Vr.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Vr.Stops){const e=this.stops;if(!e)return this;const t=e.map(i=>i.size).reverse(),r=e.length;for(let i=0;i<r;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var e;return(e=this.stops)==null?void 0:e.map(t=>t.value||0)}};c([u({readOnly:!0})],rt.prototype,"cache",null),c([u({type:y3.apiValues,json:{type:y3.jsonValues,origins:{"web-map":{read:!1}},read:y3.read,write:y3.write}})],rt.prototype,"axis",void 0),c([u()],rt.prototype,"index",null),c([u({type:String,readOnly:!0})],rt.prototype,"inputValueType",null),c([u({type:Eee,json:{write:!0}})],rt.prototype,"legendOptions",void 0),c([u({type:Number,value:null,json:{write:!0}})],rt.prototype,"maxDataValue",null),c([u({type:Number,value:null,json:{write:!0}})],rt.prototype,"maxSize",null),c([Oe("maxSize")],rt.prototype,"castMaxSize",null),c([Y("maxSize")],rt.prototype,"readMaxSize",null),c([u({type:Number,value:null,json:{write:!0}})],rt.prototype,"minDataValue",null),c([u({type:Number,value:null,json:{write:!0}})],rt.prototype,"minSize",null),c([Oe("minSize")],rt.prototype,"castMinSize",null),c([Y("minSize")],rt.prototype,"readMinSize",null),c([u({type:String,json:{write:!0}})],rt.prototype,"normalizationField",void 0),c([u({readOnly:!0})],rt.prototype,"arcadeRequired",null),c([u({type:String})],rt.prototype,"scaleBy",void 0),c([u({type:[Ua],value:null,json:{write:!0}})],rt.prototype,"stops",null),c([u({type:["outline"],json:{write:!0}})],rt.prototype,"target",void 0),c([u({type:String,readOnly:!0})],rt.prototype,"transformationType",null),c([u({type:["size"],json:{type:["sizeInfo"]}})],rt.prototype,"type",void 0),c([u({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],rt.prototype,"useSymbolValue",void 0),c([u({type:String,json:{write:!0}})],rt.prototype,"valueExpression",void 0),c([Y("valueExpression",["valueExpression","expression"])],rt.prototype,"readValueExpression",null),c([Q("web-scene","valueExpression")],rt.prototype,"writeValueExpressionWebScene",null),c([u({type:["radius","diameter","area","width","distance"],json:{write:!0}})],rt.prototype,"valueRepresentation",void 0),c([u({type:xI.apiValues,json:{write:xI.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],rt.prototype,"valueUnit",void 0),c([Y("valueUnit")],rt.prototype,"readValueUnit",null),rt=$I=c([S("esri.renderers.visualVariables.SizeVariable")],rt);const cn=rt,Bxe={color:Pk,size:cn,opacity:Nk,rotation:xee},Uxe=new ye({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Gxe=/^\[([^\]]+)\]$/i;let o5=class extends ie{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t==null?void 0:t.filter(r=>!!r),t==null?void 0:t.length){for(const r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(r=>!!r.target)&&t.sort((r,i)=>{let s=null;return s=r.target===i.target?0:r.target?1:-1,s});for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,i){const{rotationExpression:s,rotationType:n}=r,a=s==null?void 0:s.match(Gxe),o=a==null?void 0:a[1];if(o&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:n,field:o})),t)return t.map(l=>{const d=Uxe.read(l.type),f=Bxe[d];f||(B.getLogger(this).warn(`Unknown variable type: ${d}`),i!=null&&i.messages&&i.messages.push(new Un("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:l,context:i})));const p=new f;return p.read(l,i),p})}writeVariables(t,r){const i=[];for(const s of t){const n=s.toJSON(r);n&&i.push(n)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([u()],o5.prototype,"visualVariables",null),o5=c([S("esri.renderers.visualVariables.VisualVariableFactory")],o5);const Hxe=o5,Wxe={base:cb,key:"type",typeMap:{opacity:Nk,color:Pk,rotation:xee,size:cn}},db=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new Hxe}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,i,s){return this._vvFactory.readVariables(r,i,s)}writeVisualVariables(r,i,s,n){i[s]=this._vvFactory.writeVariables(r,n)}get arcadeRequiredForVisualVariables(){var r;return((r=this.visualVariables)==null?void 0:r.some(({arcadeRequired:i})=>i))??!1}hasVisualVariables(r,i){return r?this.getVisualVariablesForType(r,i).length>0:this.getVisualVariablesForType("size",i).length>0||this.getVisualVariablesForType("color",i).length>0||this.getVisualVariablesForType("opacity",i).length>0||this.getVisualVariablesForType("rotation",i).length>0}getVisualVariablesForType(r,i){var s;return((s=this.visualVariables)==null?void 0:s.filter(n=>n.type===r&&(typeof i=="string"?n.target===i:i!==!1||!n.target)))??[]}async collectVVRequiredFields(r,i){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const n of s)n&&(n.field&&Xi(r,i,n.field),n.normalizationField&&Xi(r,i,n.normalizationField),n.valueExpression&&(Zxe(n.valueExpression,r,i)||await ki(r,i,n.valueExpression)))}};return c([u({types:[Wxe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([Y("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([Q("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([S("esri.renderers.mixins.VisualVariablesMixin")],t),t};function Zxe(e,t,r){const i=p2e(e);return i!=null&&(Xi(t,r,i),!0)}const Vk=[252,146,31,255],Jxe=[153,153,153,255],Yxe={type:"esriSMS",style:"esriSMSCircle",size:6,color:Vk,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Qxe={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Vk},Kxe={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Xxe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},eEe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},tEe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},rEe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},J_=oi.fromJSON(Yxe),zk=Li.fromJSON(Qxe),Oee=el.fromJSON(Kxe),iEe=sb.fromJSON(Xxe);function yKe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return J_;case"polyline":return zk;case"polygon":case"extent":return Oee}return null}const bKe=oi.fromJSON(eEe),gKe=Li.fromJSON(tEe),vKe=el.fromJSON(rEe),sEe=ja.fromSimpleMarkerSymbol(J_),nEe=Ec.fromSimpleLineSymbol(zk),aEe=Qo.fromSimpleFillSymbol(Oee),oEe=new ib({symbolLayers:new W([new xc({material:{color:Vk},edges:new qA({size:Ar(1),color:new Z(Jxe)})})])}),lEe=new Ec({symbolLayers:new W([new bh({material:{color:new Z([0,0,0])},size:Ar(1)})])}),cEe=new Qo({symbolLayers:new W([new xc({outline:{color:new Z([0,0,0]),size:Ar(1)}})])});function wKe(e){if(e==null)return null;switch(e.type){case"mesh":return oEe;case"point":case"multipoint":return sEe;case"polyline":return nEe;case"polygon":case"extent":return aEe}return null}const iV="#useCIMFallbackSymbology()",Kl={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Iy(e,t=Kl){var l,d,f,p;if(!e)return{symbol:null};const{retainId:r=Kl.retainId,ignoreDrivers:i=Kl.ignoreDrivers,hasLabelingContext:s=Kl.hasLabelingContext,retainCIM:n=Kl.retainCIM,cimFallbackEnabled:a=Kl.cimFallbackEnabled}=t;let o=null;if(tl(e)||e instanceof Ru)o=e.clone();else if(e.type==="cim"){const m=(d=(l=e.data)==null?void 0:l.symbol)==null?void 0:d.type;switch(m){case"CIMPointSymbol":o=n?e.clone():ja.fromCIMSymbol(e);break;case"CIMLineSymbol":a&&(o=lEe.clone(),(f=t==null?void 0:t.logWarning)==null||f.call(t,iV,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":a&&(o=cEe.clone(),(p=t==null?void 0:t.logWarning)==null||p.call(t,iV,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!o)return{error:new I("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${m||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Li)o=Ec.fromSimpleLineSymbol(e);else if(e instanceof oi)o=ja.fromSimpleMarkerSymbol(e);else if(e instanceof z2)o=ja.fromPictureMarkerSymbol(e);else if(e instanceof el)o=t.geometryType&&t.geometryType==="mesh"?ib.fromSimpleFillSymbol(e):Qo.fromSimpleFillSymbol(e);else{if(!(e instanceof sb))return{error:new I("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};o=s?S4.fromTextSymbol(e):ja.fromTextSymbol(e)}return r&&o&&o.type!=="cim"&&(o.id=e.id),!i||o.type==="cim"||o instanceof Ru||o.symbolLayers.forEach(m=>m.ignoreDrivers=!0),{symbol:o}}function Y_(e,t,r,i){const s=Fee(e,{},{context:i,isLabelSymbol:!1});s!=null&&(t[r]=s)}function sV(e,t,r,i){const s=Fee(e,{},{context:i,isLabelSymbol:!0});s!=null&&(t[r]=s)}function nV(e){return tl(e)||e instanceof Ru}function dEe(e){return(e==null?void 0:e.type)==="polygon-3d"||(e==null?void 0:e.type)==="line-3d"}function Fee(e,t,r){var o;if(e==null)return null;const{context:i,isLabelSymbol:s}=r,n=i==null?void 0:i.origin,a=i==null?void 0:i.messages;if(n==="web-scene"&&!nV(e)){const l=Iy(e,{retainCIM:!0,hasLabelingContext:s});return l.symbol!=null?l.symbol.write(t,i):(a==null||a.push(new I("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:l.error})),null)}return gx(i==null?void 0:i.layer)&&dEe(e)?(a==null||a.push(new I("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${(o=i==null?void 0:i.layer)==null?void 0:o.declaredClass}'.`,{symbol:e,context:i})),null):(n==="web-map"||n==="portal-item"&&!gx(i==null?void 0:i.layer))&&nV(e)?(a==null||a.push(new I("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function Pee(e,t){return Qwe(e,null,t)}const W4={types:pQ,json:{write:{writer:Y_},origins:{"web-scene":{types:LP,write:{writer:Y_},read:{reader:Wy({types:LP})}}}}},jk=hM({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},W4),qk={types:{base:ci,key:"type",typeMap:{"simple-fill":eu.typeMap["simple-fill"],"picture-fill":eu.typeMap["picture-fill"],"polygon-3d":eu.typeMap["polygon-3d"],cim:eu.typeMap.cim}},json:{write:{writer:Y_},origins:{"web-scene":{type:Qo,write:{writer:Y_}}}}},l5={cast:e=>e==null||typeof e=="string"||typeof e=="number"?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}};var EI;let Yf=EI=class extends db(Pc){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.symbols.map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new EI({description:this.description,label:this.label,symbol:O(this.symbol),visualVariables:O(this.visualVariables),authoringInfo:O(this.authoringInfo)})}};c([u({type:String,json:{write:!0}})],Yf.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],Yf.prototype,"label",void 0),c([u(jk)],Yf.prototype,"symbol",void 0),c([re({simple:"simple"})],Yf.prototype,"type",void 0),Yf=EI=c([S("esri.renderers.SimpleRenderer")],Yf);const mc=Yf,uEe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function TI(e){return e instanceof ie}function aV(e){return e instanceof W?Object.keys(e.items):TI(e)?Cs(e).keys():e?Object.keys(e):[]}function b3(e,t){return e instanceof W?e.items[t]:e[t]}function fEe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function X1(e){return e?e.declaredClass:null}function Nee(e,t){var p;const r=e.diff;if(r&&typeof r=="function")return r(e,t);const i=aV(e),s=aV(t);if(i.length===0&&s.length===0)return;if(!i.length||!s.length||fEe(e,t))return{type:"complete",oldValue:e,newValue:t};const n=s.filter(m=>!i.includes(m)),a=i.filter(m=>!s.includes(m)),o=i.filter(m=>s.includes(m)&&b3(e,m)!==b3(t,m)).concat(n,a).sort(),l=X1(e);if(l&&uEe.has(l)&&o.length)return{type:"complete",oldValue:e,newValue:t};let d;const f=TI(e)&&TI(t);for(const m of o){const y=b3(e,m),b=b3(t,m);let g;if((f||typeof y!="function"&&typeof b!="function")&&y!==b&&(y!=null||b!=null)){if(r&&r[m]&&typeof r[m]=="function")g=(p=r[m])==null?void 0:p.call(r,y,b);else if(y instanceof Date&&b instanceof Date){if(y.getTime()===b.getTime())continue;g={type:"complete",oldValue:y,newValue:b}}else g=typeof y=="object"&&typeof b=="object"&&X1(y)===X1(b)?Nee(y,b):{type:"complete",oldValue:y,newValue:b};g!=null&&(d!=null?d.diff[m]=g:d={type:"partial",diff:{[m]:g}})}}return d}function _Ke(e,t){return pEe(e,t)}function pEe(e,t){if(e==null)return!1;const r=t.split(".");let i=e;for(const s of r){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{const n=i.diff[s];if(!n)return!1;i=n}}return!0}function SKe(e,t){if(!e)return!1;if(e.type==="partial"){const r=Object.keys(e.diff);return r.length===1&&r[0]===t}return!1}function hEe(e,t){if(typeof e!="function"&&typeof t!="function"&&(e!=null||t!=null))return e==null||t==null||typeof e=="object"&&typeof t=="object"&&X1(e)!==X1(t)?{type:"complete",oldValue:e,newValue:t}:Nee(e,t)}function g3(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const r of t.added)if(!g3(r))return!1;for(const r of t.removed)if(!g3(r))return!1;for(const r of t.changed)if(!g3(r))return!1;return!0}case"partial":for(const t in e.diff)if(!g3(e.diff[t]))return!1;return!0}}var II;const mEe=ar()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let a1=II=class extends _e.ClonableMixin(N){static from(e){return Gy(II,e)}constructor(e){super(e),this.title=null,this.order=null}};c([u({type:String,json:{write:!0}})],a1.prototype,"title",void 0),c([re(mEe)],a1.prototype,"order",void 0),a1=II=c([S("esri.renderers.support.RendererLegendOptions")],a1);const Z4=a1;let zm=class extends _e.ClonableMixin(N){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};c([u(l5)],zm.prototype,"value",void 0),c([u(l5)],zm.prototype,"value2",void 0),c([u(l5)],zm.prototype,"value3",void 0),zm=c([S("esri.renderers.support.UniqueValue")],zm);const U0=zm;let Sd=class extends _e.ClonableMixin(N){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(t==null)return null;const r=typeof(t=Array.isArray(t)?t:[t])[0];return r==="string"||r==="number"?t.map(i=>new U0({value:i})):r==="object"?t[0]instanceof U0?t:t.map(i=>new U0(i)):null}};c([u({type:String,json:{write:!0}})],Sd.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],Sd.prototype,"label",void 0),c([u(W4)],Sd.prototype,"symbol",void 0),c([u({type:[U0],json:{type:[[String]],read:{reader:e=>e?e.map(t=>new U0({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(e,t)=>{const r=[];for(const i of e){const s=[i.value,i.value2,i.value3].filter(It).map(n=>n.toString());r.push(s)}t.values=r}}}})],Sd.prototype,"values",void 0),c([Oe("values")],Sd.prototype,"castValues",null),Sd=c([S("esri.renderers.support.UniqueValueClass")],Sd);const Dee=Sd;let o1=class extends _e.ClonableMixin(N){constructor(t){super(t),this.heading=null,this.classes=null}};c([u({type:String,json:{write:!0}})],o1.prototype,"heading",void 0),c([u({type:[Dee],json:{write:{isRequired:!0}}})],o1.prototype,"classes",void 0),o1=c([S("esri.renderers.support.UniqueValueGroup")],o1);const CI=o1;var MI;let Qf=MI=class extends N{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new MI({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var t;const e=JSON.stringify((t=this.symbol)==null?void 0:t.toJSON());return`${this.value}.${e}`}};c([u({type:String,json:{write:!0}})],Qf.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],Qf.prototype,"label",void 0),c([u(jk)],Qf.prototype,"symbol",void 0),c([u(l5)],Qf.prototype,"value",void 0),Qf=MI=c([S("esri.renderers.support.UniqueValueInfo")],Qf);const ev=Qf,oV=new Map;async function yEe(e,t){try{return{data:(await Bk(e,t)).data,baseUrl:zM(e),styleUrl:e}}catch(r){return Do(r),null}}function bEe(e,t,r){var l;const i=t.portal!=null?t.portal:Mr.getDefault();let s;const n=`${i.url} - ${(l=i.user)==null?void 0:l.username} - ${e}`,a=oV.get(n);if(a)return a;const o=gEe(e,i,r).then(d=>(s=d,d.fetchData())).then(d=>({data:d,baseUrl:s.itemUrl??"",styleName:e}));return oV.set(n,o),o}function gEe(e,t,r){return t.load(r).then(()=>{const i=new Na({disableExtraQuery:!0,query:`owner:${lV} AND type:${cV} AND typekeywords:"${e}"`});return t.queryItems(i,r)}).then(({results:i})=>{var a;let s=null;const n=e.toLowerCase();if(i&&Array.isArray(i)){for(const o of i)if(((a=o.typeKeywords)==null?void 0:a.some(d=>d.toLowerCase()===n))&&o.type===cV&&o.owner===lV){s=o;break}}if(!s)throw new I("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(r)})}function Vee(e,t,r){return(e==null?void 0:e.styleUrl)!=null?yEe(e.styleUrl,r):(e==null?void 0:e.styleName)!=null?bEe(e.styleName,t,r):Promise.reject(new I("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function zee(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function vEe(e,t){for(const r of t)switch(r){case"cim":if(e.cimRef)return{format:r,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const i=oS(e,"gltf_basisu");if(i)return{format:r,url:i};break}case"web-gltf":{const i=oS(e,"gltf");if(i)return{format:r,url:i};break}case"web":{const i=oS(e,"gltf");if(i)return{format:"web-gltf",url:i};if(e.webRef)return{format:r,url:encodeURI(e.webRef)};break}}}function oS(e,t){var r,i;if(!V("enable-feature:force-wosr"))return(i=(r=e.formatInfos)==null?void 0:r.find(s=>s.type===t))==null?void 0:i.href}function Bk(e,t){const r={responseType:"json",query:{f:"json"},...t};return ze(Bn(e),r)}const lV="esri_en",cV="Style",wEe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var l1;const jee="esri.renderers.UniqueValueRenderer",Zc=()=>B.getLogger(jee),dV="uvInfos-watcher",uV="uvGroups-watcher",_Ee=",",SEe=yt(ev);function $Ee(e){const{field1:t,field2:r,field3:i,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:a}=e,o=!(!t||!r);return[{classes:(n??[]).map(l=>{var w;const{symbol:d,label:f,value:p,description:m}=l,[y,b,g]=o?((w=p==null?void 0:p.toString())==null?void 0:w.split(s||""))||[]:[p],v=[];return(t||a)&&v.push(y),r&&v.push(b),i&&v.push(g),{symbol:d,label:f,values:[v],description:m}})}]}function zh(e){return e!=null&&e!==""&&(typeof e!="string"||e.trim()!==""&&e.toLowerCase()!=="<null>")||(e=null),e+""}let kt=l1=class extends db(Pc){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let i=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<r.length;n++){const a=t.find(o=>o.value===r[n].value);a?hEe(a,r[n])?(s.changed.push({type:"complete",oldValue:a,newValue:r[n]}),i=!0):s.unchanged.push({oldValue:a,newValue:r[n]}):(s.added.push(r[n]),i=!0)}for(let n=0;n<t.length;n++)r.find(a=>a.value===t[n].value)||(s.removed.push(t[n]),i=!0);return i?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return e==null||typeof e=="function"?e:w2(e)}writeField(e,t,r,i){typeof e=="string"?t[r]=e:i!=null&&i.messages?i.messages.push(new I("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Zc().error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||Mr.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const i=Tu(t.styleUrl,r);return Object.freeze({styleUrl:i})}}writeStyleOrigin(e,t,r,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=S2(e.styleUrl,i))}set uniqueValueGroups(e){this.styleOrigin?Zc().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?Zc().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){var i;if(this.styleOrigin)return void Zc().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?SEe(e):new ev({value:e,symbol:hQ(t)}),(i=this.uniqueValueInfos)==null||i.push(r),this._valueInfoMap[zh(r.value)]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void Zc().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){const i=t[r];if(String(i.value)===String(e)){delete this._valueInfoMap[zh(e)],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await ln()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void Zc().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return(r==null?void 0:r.symbol)||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(r==null?void 0:r.arcade)==null){const s=await ln(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r={...r,arcade:s}}const i=this._getUniqueValueInfo(e,r);return(i==null?void 0:i.symbol)||this.defaultSymbol}get symbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){var i;const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=(i=this.uniqueValueInfos)==null?void 0:i.reduce((s,n)=>s+n.getMeshHash(),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new l1({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:O(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:O(this.visualVariables),legendOptions:O(this.legendOptions),authoringInfo:O(this.authoringInfo),backgroundFillSymbol:O(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=O(this.uniqueValueInfos),r=O(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(O(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(i=>i.collectRequiredFields(e,t)),ki(e,t,this.valueExpression)];Xi(e,t,this.field),Xi(e,t,this.field2),Xi(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return Vee(this.styleOrigin,{portal:this.portal}).then(e=>{var r;const t=[];return this._valueInfoMap={},e!=null&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(i=>{const s=new Ru({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new ev({value:i.name,symbol:s});t.push(n),this._valueInfoMap[zh(i.name)]=n}),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((r=this.uniqueValueInfos)!=null&&r.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",_Ee)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[zh(t.value)]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(dV);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(U(()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description}),(i,s)=>{i!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(t,dV)}}_watchUniqueValueGroups(){this.removeHandles(uV);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(U(()=>({classes:r.classes}),(i,s)=>{i!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const i of r.classes??[])t.push(U(()=>({symbol:i.symbol,values:i.values,label:i.label,description:i.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(t,uV)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:i,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:a}=this;if(!t&&!a)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const o=!(!t||!r);for(const l of n)for(const d of l.classes??[]){const{symbol:f,label:p,values:m,description:y}=d;for(const b of m??[]){const{value:g,value2:v,value3:w}=b,_=[g];r&&_.push(v),i&&_.push(w);const x=o?_.join(s||""):_[0]??void 0;e.push(new ev({symbol:f,label:p,value:x,description:y}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:i,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!t&&!i||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const a=!(!t||!r),o=n.map(d=>{var w;const{symbol:f,label:p,value:m,description:y}=d,[b,g,v]=a?((w=m==null?void 0:m.toString())==null?void 0:w.split(s||""))||[]:[m];return new Dee({symbol:f,label:p,description:y,values:[new U0({value:b,value2:g,value3:v})]})}),l=[new CI({classes:o})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:s,arcade:n,timeZone:a}=t??{};let o=this._cache.compiledFunc;const l=n.arcadeUtils;if(!o){const f=l.createSyntaxTree(this.valueExpression);o=l.createFunction(f),this._cache.compiledFunc=o}const d=l.executeFunction(o,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:i,spatialReference:s}),a));return this._valueInfoMap[zh(d)]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let i;if(this.field2){const s=this.field2,n=this.field3,a=[];t&&a.push(r[t]),s&&a.push(r[s]),n&&a.push(r[n]),i=a.join(this.fieldDelimiter||"")}else t&&(i=r[t]);return this._valueInfoMap[zh(i)]}static fromPortalStyle(e,t){const r=new l1(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",(t==null?void 0:t.portal)||Mr.getDefault());const i=r.populateFromStyle();return i.catch(s=>{Zc().error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",s)}),i}static fromStyleUrl(e,t){const r=new l1(t==null?void 0:t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch(s=>{Zc().error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),i}};c([u({readOnly:!0})],kt.prototype,"_cache",null),c([re({uniqueValue:"unique-value"})],kt.prototype,"type",void 0),c([u(qk)],kt.prototype,"backgroundFillSymbol",void 0),c([u({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],kt.prototype,"field",null),c([Oe("field")],kt.prototype,"castField",null),c([Q("field")],kt.prototype,"writeField",null),c([u({type:String,value:null,json:{write:!0}})],kt.prototype,"field2",null),c([u({type:String,value:null,json:{write:!0}})],kt.prototype,"field3",null),c([u({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],kt.prototype,"orderByClassesEnabled",void 0),c([u({type:String,value:null,json:{write:!0}})],kt.prototype,"valueExpression",null),c([u({type:String,json:{write:!0}})],kt.prototype,"valueExpressionTitle",void 0),c([u({type:Z4,json:{write:!0}})],kt.prototype,"legendOptions",void 0),c([u({type:String,json:{write:!0}})],kt.prototype,"defaultLabel",void 0),c([u(hM({...W4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],kt.prototype,"defaultSymbol",null),c([u({type:String,value:null,json:{write:!0}})],kt.prototype,"fieldDelimiter",null),c([u({type:Mr,readOnly:!0})],kt.prototype,"portal",void 0),c([Y("portal",["styleName"])],kt.prototype,"readPortal",null),c([u({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],kt.prototype,"styleOrigin",void 0),c([Y("styleOrigin",["styleName","styleUrl"])],kt.prototype,"readStyleOrigin",null),c([Q("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],kt.prototype,"writeStyleOrigin",null),c([u({type:[CI],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||$Ee(t)).map(i=>CI.fromJSON(i,r))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],kt.prototype,"uniqueValueGroups",null),c([u({type:[ev],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],kt.prototype,"uniqueValueInfos",null),kt=l1=c([S(jee)],kt);const Uk=kt;var AI;let Pr=AI=class extends N{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new AI(O({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([u({type:[String],json:{write:!0}})],Pr.prototype,"attachmentTypes",void 0),c([u({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Pr.prototype,"attachmentsWhere",void 0),c([u({type:Boolean,json:{write:!0}})],Pr.prototype,"cacheHint",void 0),c([u({type:[String],json:{write:!0}})],Pr.prototype,"keywords",void 0),c([u({type:[String],json:{write:!0}})],Pr.prototype,"globalIds",void 0),c([u({json:{write:!0}})],Pr.prototype,"name",void 0),c([u({type:Number,json:{read:{source:"resultRecordCount"}}})],Pr.prototype,"num",void 0),c([u({type:[Number],json:{write:!0}})],Pr.prototype,"objectIds",void 0),c([u({type:[String],json:{write:!0}})],Pr.prototype,"orderByFields",void 0),c([u({type:Boolean,json:{default:!1,write:!0}})],Pr.prototype,"returnMetadata",void 0),c([u({type:[Number],json:{write:!0}})],Pr.prototype,"size",void 0),c([u({type:Number,json:{read:{source:"resultOffset"}}})],Pr.prototype,"start",void 0),c([Q("start"),Q("num")],Pr.prototype,"writeStart",null),c([u({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Pr.prototype,"where",void 0),Pr=AI=c([S("esri.rest.support.AttachmentQuery")],Pr),Pr.from=yt(Pr);const kI=Pr,qee=ar()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),fV="percent-of-total",pV="field",Bee=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const i=!!this.normalizationField,s=this.normalizationTotal!=null;return i||s?(r=i&&pV||s&&fV||null,i&&s&&B.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==pV&&r!==fV||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return c([u({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),c([u({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),c([u({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),c([u({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),c([re(qee,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=c([S("esri.rest.support.NormalizationBinParametersMixin")],t),t};var LI;let Vt=LI=class extends N{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new LI(O({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([u({type:Boolean,json:{write:!0}})],Vt.prototype,"cacheHint",void 0),c([u({type:Oa,json:{write:!0}})],Vt.prototype,"dynamicDataSource",void 0),c([u({type:String,json:{write:!0}})],Vt.prototype,"gdbVersion",void 0),c([u({type:Number,json:{write:!0}})],Vt.prototype,"geometryPrecision",void 0),c([u({type:Date})],Vt.prototype,"historicMoment",void 0),c([Q("historicMoment")],Vt.prototype,"_writeHistoricMoment",null),c([u({type:Number,json:{write:!0}})],Vt.prototype,"maxAllowableOffset",void 0),c([u({json:{write:!0}})],Vt.prototype,"objectIds",void 0),c([u({type:[String],json:{write:!0}})],Vt.prototype,"orderByFields",void 0),c([u({type:[String],json:{write:!0}})],Vt.prototype,"outFields",void 0),c([u({type:me,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Vt.prototype,"outSpatialReference",void 0),c([u({json:{write:!0}})],Vt.prototype,"relationshipId",void 0),c([u({type:Number,json:{read:{source:"resultOffset"}}})],Vt.prototype,"start",void 0),c([Q("start"),Q("num")],Vt.prototype,"writeStart",null),c([u({type:Number,json:{read:{source:"resultRecordCount"}}})],Vt.prototype,"num",void 0),c([u({json:{write:!0}})],Vt.prototype,"returnGeometry",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vt.prototype,"returnM",void 0),c([u({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vt.prototype,"returnZ",void 0),c([u({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Vt.prototype,"where",void 0),Vt=LI=c([S("esri.rest.support.RelationshipQuery")],Vt),Vt.from=yt(Vt);const Cy=Vt,TKe=Object.freeze(Object.defineProperty({__proto__:null,default:Cy},Symbol.toStringTag,{value:"Module"})),RI=new ye({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function xEe(e,t,r,i){const s=await Zu(e);if(await Gk(e,t,i),!s.addAttachment)throw new I(i,"Layer source does not support addAttachment capability");return s.addAttachment(t,r)}function Gk(e,t,r){var n,a;const{attributes:i}=t,{objectIdField:s}=e;return(a=(n=e.capabilities)==null?void 0:n.data)!=null&&a.supportsAttachment?t?i?s&&i[s]?Promise.resolve():Promise.reject(new I(r,`feature is missing the identifying attribute ${s}`)):Promise.reject(new I(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new I(r,"A feature is required to add/delete/update attachments")):Promise.reject(new I(r,"this layer doesn't support attachments"))}async function EEe(e,t,r,i,s){const n=await Zu(e);if(await Gk(e,t,s),!n.updateAttachment)throw new I(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(t,r,i)}async function TEe(e,t,r){const{applyEdits:i}=await C(()=>import("./editingSupport-BDaKMeVC.js"),[]),s=await e.load();let n=r;return s.type==="feature"&&s.infoFor3D&&t.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await ZEe(s,t.deleteFeatures,s.globalIdField)}),i(s,s.source,t,r)}async function IEe(e,t,r){const{uploadAssets:i}=await C(()=>import("./editingSupport-BDaKMeVC.js"),[]),s=await e.load();return i(s,s.source,t,r)}async function CEe(e,t,r,i){const s=await Zu(e);if(await Gk(e,t,i),!s.deleteAttachments)throw new I(i,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(t,r)}async function MEe(e,t,r){const i=(await e.load({signal:t==null?void 0:t.signal})).source;if(!i.fetchRecomputedExtents)throw new I(r,"Layer source does not support fetchUpdates capability");return i.fetchRecomputedExtents(t)}async function AEe(e,t,r,i){var y,b,g,v;t=kI.from(t),await e.load();const s=e.source,n=e.capabilities;if(!((y=n==null?void 0:n.data)!=null&&y.supportsAttachment))throw new I(i,"this layer doesn't support attachments");const{attachmentTypes:a,objectIds:o,globalIds:l,num:d,size:f,start:p,where:m}=t;if(!((b=n==null?void 0:n.operations)!=null&&b.supportsQueryAttachments)&&((a==null?void 0:a.length)>0||(l==null?void 0:l.length)>0||(f==null?void 0:f.length)>0||d||p||m))throw new I(i,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(o!=null&&o.length||l!=null&&l.length||m))throw new I(i,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!s.queryAttachments)throw new I(i,"Layer source does not support queryAttachments capability",t);return!((g=n==null?void 0:n.attachment)!=null&&g.supportsOrderByFields)&&((v=t.orderByFields)!=null&&v.length)&&((t=t.clone()).orderByFields=null),s.queryAttachments(t)}async function kEe(e,t,r,i){const s=await Zu(e);if(!s.queryObjectIds)throw new I(i,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(li.from(t)??e.createQuery(),r)}async function LEe(e,t,r,i){const s=await Zu(e);if(!s.queryFeatureCount)throw new I(i,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(li.from(t)??e.createQuery(),r)}async function REe(e,t,r,i){const s=await Zu(e);if(!s.queryExtent)throw new I(i,"Layer source does not support queryExtent capability");return s.queryExtent(li.from(t)??e.createQuery(),r)}async function OEe(e,t,r,i){const s=await Zu(e);if(!s.queryRelatedFeatures)throw new I(i,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(Cy.from(t),r)}async function FEe(e,t,r,i){const s=await Zu(e);if(!s.queryRelatedFeaturesCount)throw new I(i,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(Cy.from(t),r)}async function PEe(e){const t=e.source;if(t!=null&&t.refresh)try{const{dataChanged:r,updates:i}=await t.refresh();if(i!=null&&(e.sourceJSON={...e.sourceJSON,...i},e.read(i,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await OA(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function NEe(e){var a,o;const t=new li,r=(a=e.capabilities)==null?void 0:a.data,i=(o=e.capabilities)==null?void 0:o.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,i&&(t.compactGeometryEnabled=i.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),r&&(r.supportsZ&&e.returnZ!=null&&(t.returnZ=e.returnZ),r.supportsM&&e.returnM!=null&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:s,timeExtent:n}=e;return t.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,t.multipatchOption=e.geometryType==="multipatch"?"xyFootprint":null,t}function Uee(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r){for(const i of r)if(i.type==="esriFieldTypeGlobalID")return i.name}}function Gee(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r){for(const i of r)if(i.type==="esriFieldTypeOID")return i.name}}function DEe(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function VEe(e,t,r,i){var l,d;const s=r==null?void 0:r.feature,n=!!((l=e.subtypes)!=null&&l.length);if(n&&!(r!=null&&r.excludeImpliedDomains)){const f=jEe(e,t);if(f)return f}const a=n&&zEe(e,s);if(a){const f=(d=a==null?void 0:a.domains)==null?void 0:d[t];return(f==null?void 0:f.type)==="inherited"?i:f}const o=Zee(e.types,e.typeIdField,s);if(o){const f=o.domains&&o.domains[t];if(f&&(f==null?void 0:f.type)!=="inherited")return f}if(i)return i;if(!(r!=null&&r.excludeImpliedDomains)){const f=qEe(e,t);if(f)return f}return null}function zEe(e,t){const{subtypes:r,subtypeField:i}=e;if(!(t!=null&&t.attributes)||!(r!=null&&r.length)||!i)return null;const s=t.attributes[i];return s==null?null:r.find(n=>n.code===s)}function jEe(e,t){var a,o;const{fieldsIndex:r,subtypeField:i}=e,{name:s,type:n}=r.get(t)??{};if(!s)return null;if((i&&((a=r.get(i))==null?void 0:a.name))===s&&((o=e.subtypes)!=null&&o.length)){const l=e.subtypes.map(d=>new tu({code:Hee(d.code,n),name:d.name}));if(l!=null&&l.length)return new j2({codedValues:l})}return null}function qEe(e,t){var n,a;const{fieldsIndex:r}=e,{name:i,type:s}=r.get(t)??{};if(!i)return null;if(("typeIdField"in e?(n=r.get(e.typeIdField))==null?void 0:n.name:null)===i&&"types"in e&&((a=e.types)!=null&&a.length)){const o=e.types.map(l=>new tu({code:Hee(l.id,s),name:l.name}));return new j2({codedValues:o})}return null}function Hee(e,t){return t?PA({type:t})&&typeof e=="number"?`${e}`:H2e({type:t})&&typeof e=="string"?Number.parseInt(e,10):e:e}async function Zu(e){return(await e.load()).source}async function IKe(e,t){if(!Ee)return;const r=Ee.findCredential(e);if(r)return r.userId;let i;try{const s=await MA(e,t);s&&(i=await Ee.checkSignInStatus(`${s}/sharing`))}catch{}return i?i.userId:null}async function Wee(e,t){if(!Ee||Ee.findCredential(e))return;let r;try{const i=await MA(e,t);i&&(r=await Ee.checkSignInStatus(`${i}/sharing`))}catch{}if(r)try{const i=t!=null?t.signal:null;await Ee.getCredential(e,{signal:i})}catch{}}async function BEe(e,t,r){var s;const i=(s=e.parsedUrl)==null?void 0:s.path;i&&e.authenticationTriggerEvent===t&&await Wee(i,r)}async function CKe(e){var r;const t=(r=e.parsedUrl)==null?void 0:r.path;t&&UEe(e)&&await Wee(t)}function UEe(e){return GEe(e)&&("serviceDefinitionExpression"in e&&Q_(e.serviceDefinitionExpression)||"definitionExpression"in e&&Q_(e.definitionExpression))}function GEe(e){var t;return!(!SJ(e)||!((t=e.capabilities)!=null&&t.query.supportsCurrentUser))}function Q_(e){return!!(e!=null&&e.toLowerCase().includes("current_user"))}function HEe(e){return!c5(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const lS=Wy({types:pQ});function Hk(e,t){var r;if(e.defaultSymbol)return(r=e.types)!=null&&r.length?new Uk({defaultSymbol:lS(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(i=>({id:i.id,symbol:lS(i.symbol,i,t)}))}):new mc({symbol:lS(e.defaultSymbol,e,t)})}function WEe(e){var i,s,n;let t=(i=e.sourceJSON)==null?void 0:i.cacheMaxAge;if(!t)return!1;const r=(n=(s=e.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return r==null||(t*=1e3,Date.now()-r<t)}async function ZEe(e,t,r){if(t==null)return null;const i=[],{objectIdField:s}=e;if(t.forEach(d=>{let f=null;if("attributes"in d){const{attributes:p}=d;f={globalId:p[r],objectId:p[s]!=null&&p[s]!==-1?p[s]:null}}else f={globalId:d.globalId,objectId:d.objectId!=null&&d.objectId!==-1?d.objectId:null};f.globalId!=null&&(f.objectId!=null&&f.objectId!==-1||i.push(f.globalId))}),i.length===0)return null;const n=e.createQuery();n.where=i.map(d=>`${r}='${d}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,r],n.cacheHint=!1;const a=await nue(wee(e,n));if(!a.ok)return null;const o=new Map,l=a.value.features;for(const d of l){const f=d.attributes[r],p=d.attributes[s];f!=null&&p!=null&&p!==-1&&o.set(w7e(f),p)}return o}function Zee(e,t,r){if(!t||!r||!e)return null;const i=r.getAttribute(t);return i==null?null:e.find(s=>{const{id:n}=s;return n!=null&&n.toString()===i.toString()})??null}function c5(e){var t;return((t=e.sourceJSON)==null?void 0:t.isMultiServicesView)||JEe(e)}function JEe(e){var t,r;return!!((r=(t=e.sourceJSON)==null?void 0:t.capabilities)!=null&&r.toLowerCase().split(",").map(i=>i.trim()).includes("map"))}function YEe(e,t,r){const i=t==null?void 0:t.queryAttributeBins;if(!i)throw new I(r,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!i.supportsAutoInterval)throw new I(r,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!i.supportsNormalization||!hV(e.binParameters.normalizationType,i.supportedNormalizationTypes)))throw new I(r,"Layer source does not support normalization binning");break;case"date":if(!i.supportsDate)throw new I(r,"Layer source does not support date binning");if(e.binParameters.snapToData&&!i.supportsSnapToData)throw new I(r,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!i.supportsReturnFullIntervalBin)throw new I(r,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!i.supportsFixedBoundaries)throw new I(r,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!i.supportsFixedInterval)throw new I(r,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!i.supportsNormalization||!hV(e.binParameters.normalizationType,i.supportedNormalizationTypes)))throw new I(r,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!i.supportsStackBy)throw new I(r,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!i.supportsSplitBy)throw new I(r,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!i.supportsFirstDayOfWeek)throw new I(r,"Layer source does not support firstDayOfWeek binning");const s=i==null?void 0:i.supportedStatistics;if(e.outStatistics&&s){const n=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:a}of e.outStatistics){const o=n.get(a);if(o&&!s[o])throw new I(r,`Layer source does not support ${a} statistic type`)}}}function hV(e,t){return e!=null&&!!(t!=null&&t[qee.toJSON(e)])}let jm=class extends _e.ClonableMixin(N){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([u({type:String,json:{read:{source:"shapeAreaFieldName"}}})],jm.prototype,"shapeAreaField",void 0),c([u({type:String,json:{read:{source:"shapeLengthFieldName"}}})],jm.prototype,"shapeLengthField",void 0),c([u({type:String,json:{read:e=>hpe.read(e)||mpe.read(e)}})],jm.prototype,"units",void 0),jm=c([S("esri.layers.support.GeometryFieldsInfo")],jm);const QEe=jm;var OI;let qm=OI=class extends N{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new W}clone(){return new OI({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([u({type:String,json:{write:{isRequired:!0}}})],qm.prototype,"floorField",void 0),c([u({json:{read:!1,write:!1}})],qm.prototype,"viewAllMode",void 0),c([u({json:{read:!1,write:!1}})],qm.prototype,"viewAllLevelIds",void 0),qm=OI=c([S("esri.layers.support.LayerFloorInfo")],qm);const KEe=qm,mV=new ye({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),yV=new ye({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ws=class extends _e.ClonableMixin(N){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([u({json:{read:mV.read,write:mV.write}})],Ws.prototype,"cardinality",void 0),c([u({json:{name:"catalogID"}})],Ws.prototype,"catalogId",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"composite",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"id",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"keyField",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"keyFieldInRelationshipTable",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"name",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"relatedTableId",void 0),c([u({json:{read:!0,write:!0}})],Ws.prototype,"relationshipTableId",void 0),c([u({json:{read:yV.read,write:yV.write}})],Ws.prototype,"role",void 0),Ws=c([S("esri.layers.support.Relationship")],Ws);const XEe=Ws,eTe=[["binary","application/octet-stream","bin",""]];function kKe(e,t){return Kee(t.name,(e==null?void 0:e.supportedFormats)??[])!=null}function LKe(e,t){if(!e)return!1;const r=tTe(t,e.supportedFormats??[]);return r!=null&&e.editFormats.includes(r)}function Jee(e,t){return Zk(nTe(e,t))}function Yee(e,t){return Zk(Kee(e,t))}function RKe(e,t){return Xee(sTe(e,t))}function tTe(e,t){return Yee(e.name,t)??Jee(e.type,t)}function J4(e,t,r){return Jee(e,r)??Yee(t,r)}function Qee({supportedFormats:e}){return J4("model/gltf-binary","glb",e)}function OKe(e){const t=Qee(e);return t!=null&&e.editFormats.includes(t)}function rTe({supportedFormats:e}){return J4("model/gltf+json","gltf",e)}function iTe(e){if(!e)return null;const t=Qee(e),r=rTe(e);let i=null;for(const s of e.queryFormats){if(s===t)return s;s===r&&(i=s)}return i}function FKe({supportedFormats:e}){return J4("application/esri3do-SR_world","wld",e)}function PKe({supportedFormats:e}){return J4("application/esri3do-SR_prj","prj",e)}function Wk(e){return[...eTe,...e]}function sTe(e,t){return Wk(t).find(r=>Zk(r)===e)}function nTe(e,t){const r=e.toLowerCase();return Wk(t).find(i=>Xee(i)===r)}function Kee(e,t){const r=e.toLowerCase();return Wk(t).find(i=>aTe(i).some(s=>r.endsWith(s)))}function Zk(e){return e==null?void 0:e[0]}function Xee(e){return e==null?void 0:e[1].toLowerCase()}function aTe(e){return(e==null?void 0:e[2].split(",").map(t=>t.toLowerCase()))??[]}function NKe(e){var t;return(t=e.tables)==null?void 0:t.find(r=>r.role==="assetMaps")}function ne(e,t,r){return!!ete(e,t,r)}function c1(e,t,r){return ete(e,t,r)}function ete(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}const oTe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function lTe(e){var r;const t=(r=e==null?void 0:e.supportedSpatialAggregationStatistics)==null?void 0:r.map(i=>i.toLowerCase());return{envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function Z2(e,t){var i;const r=(i=e==null?void 0:e.supportedOperationsWithCacheHint)==null?void 0:i.map(s=>s.toLowerCase());return!!(r!=null&&r.includes(t.toLowerCase()))}function cTe(e){var r;const t=(r=e==null?void 0:e.supportedStatisticTypes)==null?void 0:r.map(i=>i.toLowerCase());return{count:!!(t!=null&&t.includes("count")),sum:!!(t!=null&&t.includes("sum")),min:!!(t!=null&&t.includes("min")),max:!!(t!=null&&t.includes("max")),avg:!!(t!=null&&t.includes("avg")),var:!!(t!=null&&t.includes("var")),stddev:!!(t!=null&&t.includes("stddev")),percentileContinuous:!!(t!=null&&t.includes("percentile_continuous")),percentileDiscrete:!!(t!=null&&t.includes("percentile_discrete")),envelope:!!(t!=null&&t.includes("envelopeaggregate")),centroid:!!(t!=null&&t.includes("centroidaggregate")),convexHull:!!(t!=null&&t.includes("convexhullaggregate"))}}function dTe(e){var r;const t=(r=e==null?void 0:e.supportedNormalizationTypes)==null?void 0:r.map(i=>i.toLowerCase());return{field:!!(t!=null&&t.includes("field")),log:!!(t!=null&&t.includes("log")),naturalLog:!!(t!=null&&t.includes("naturallog")),percentOfTotal:!!(t!=null&&t.includes("percentoftotal")),squareRoot:!!(t!=null&&t.includes("squareroot"))}}function tte(e,t){return{analytics:uTe(e),attachment:fTe(e),data:pTe(e),metadata:hTe(e),operations:mTe(e.capabilities,e,t),query:yTe(e,t),queryAttributeBins:vTe(e),queryRelated:bTe(e),queryTopFeatures:gTe(e),editing:wTe(e)}}function uTe(e){return{supportsCacheHint:Z2(e.advancedQueryCapabilities,"queryAnalytics")}}function fTe(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:Z2(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:ne(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:ne(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach(i=>{const s=oTe[i.name];s&&(r[s]=!!i.isEnabled)}),r}function pTe(e){return{isVersioned:ne(e,"isDataVersioned",!1),isBranchVersioned:ne(e,"isDataBranchVersioned",!1),supportsAttachment:ne(e,"hasAttachments",!1),supportsM:ne(e,"hasM",!1),supportsZ:ne(e,"hasZ",!1)}}function hTe(e){return{supportsAdvancedFieldProperties:ne(e,"supportsFieldDescriptionProperty",!1)}}function mTe(e,t,r){const i=e?e.toLowerCase().split(",").map(m=>m.trim()):[],s=r?Iu(r):null,n=i.includes(s!=null&&s.serverType==="MapServer"?"data":"query"),a=i.includes("editing")&&!t.datesInUnknownTimezone;let o=a&&i.includes("create"),l=a&&i.includes("delete"),d=a&&i.includes("update");const f=i.includes("changetracking"),p=t.advancedQueryCapabilities;return a&&!(o||l||d)&&(o=l=d=!0),{supportsCalculate:ne(t,"supportsCalculate",!1),supportsTruncate:ne(t,"supportsTruncate",!1),supportsValidateSql:ne(t,"supportsValidateSql",!1),supportsAdd:o,supportsDelete:l,supportsEditing:a,supportsChangeTracking:f,supportsQuery:n,supportsQueryAnalytics:ne(p,"supportsQueryAnalytic",!1),supportsQueryAttachments:ne(p,"supportsQueryAttachments",!1),supportsQueryBins:ne(p,"supportsQueryBins",!1),supportsQueryTopFeatures:ne(p,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:ne(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:d,supportsExceedsLimitStatistics:ne(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:ne(t,"supportsAsyncConvert3D",!1)}}function yTe(e,t){const r=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,n=e.currentVersion,a=t==null?void 0:t.includes("MapServer"),o=!a||n>=V("mapserver-pbf-version-support"),l=gv(t),d=new Set((e.supportedQueryFormats??"").split(",").map(f=>f.toLowerCase().trim()));return{maxRecordCount:c1(e,"maxRecordCount",void 0),maxRecordCountFactor:c1(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:c1(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:lTe(r),supportsCacheHint:ne(r,"supportsQueryWithCacheHint",!1)||Z2(r,"query"),supportsCentroid:ne(r,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsCurrentUser:ne(r,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:ne(r,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:ne(r,"supportsDisjointSpatialRel",!1),supportsDistance:ne(r,"supportsQueryWithDistance",!1),supportsDistinct:ne(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:ne(r,"supportsReturningQueryExtent",!1),supportsFormatPBF:o&&d.has("pbf"),supportsFullTextSearch:ne(r,"supportsFullTextSearch",!1),supportsGeometryProperties:ne(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:ne(r,"supportsHavingClause",!1),supportsHistoricMoment:ne(s,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:ne(r,"supportsMaxRecordCountFactor",!1),supportsOrderBy:ne(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:ne(r,"supportsPagination",!1),supportsPercentileStatistics:ne(r,"supportsPercentileStatistics",!1),supportsQuantization:ne(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:ne(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:ne(i,"allowAnonymousToQuery",!0),supportsQueryByOthers:ne(i,"allowOthersToQuery",!0),supportsQueryGeometry:ne(e,"supportsReturningQueryGeometry",!1),supportsResultType:ne(r,"supportsQueryWithResultType",!1),supportsReturnMesh:!!iTe(e.infoFor3D),supportsSpatialAggregationStatistics:ne(r,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:ne(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:ne(e,"useStandardizedQueries",!1),supportsStatistics:ne(r,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:ne(r,"supportsTopFeaturesQuery",!1),supportsTrueCurve:ne(r,"supportsTrueCurve",!1),tileMaxRecordCount:c1(e,"tileMaxRecordCount",void 0)}}function bTe(e){const t=e.advancedQueryCapabilities,r=ne(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:ne(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:Z2(t,"queryRelated")}}function gTe(e){return{supportsCacheHint:Z2(e.advancedQueryCapabilities,"queryTopFilter")}}function vTe(e){const t=e?e.queryBinsCapabilities:void 0;return{supportsDate:ne(t,"supportsDateBin",!1),supportsFixedInterval:ne(t,"supportsFixedIntervalBin",!1),supportsAutoInterval:ne(t,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:ne(t,"supportsFixedBoundariesBin",!1),supportsStackBy:ne(t,"supportsStackBy",!1),supportsSplitBy:ne(t,"supportsSplitBy",!1),supportsSnapToData:ne(t,"supportsSnapToData",!1),supportsReturnFullIntervalBin:ne(t,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:ne(t,"supportsFirstDayOfWeek",!1),supportsNormalization:ne(t,"supportsNormalization",!1),supportedStatistics:cTe(t),supportedNormalizationTypes:dTe(t)}}function wTe(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:ne(e,"allowGeometryUpdates",!0),supportsGlobalId:ne(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:ne(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:ne(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:ne(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:ne(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:ne(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:ne(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:ne(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:ne(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:ne(r,"supportsAsyncApplyEdits",!1),zDefault:c1(e,"zDefault",void 0)}}function DKe(e){var t;return{operations:{supportsAppend:ne(e,"supportsAppend",!1),supportsCoverageQuery:((t=e==null?void 0:e.playbackInfo)==null?void 0:t.klv["0601"])??!1,supportsExportClip:ne(e,"supportsExportClip",!1),supportsExportFrameset:ne(e,"supportsExportFrameset",!1),supportsMensuration:ne(e,"supportsMensuration",!1),supportsUpdate:ne(e,"supportsUpdate",!1)}}}let Ol=class extends _e.ClonableMixin(N){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;const r={};for(const i of Object.keys(t))r[i]=E4(t[i]);return r}writeDomains(t,r){var s;if(!t)return;const i={};for(const n of Object.keys(t))t[n]&&(i[n]=(s=t[n])==null?void 0:s.toJSON());r.domains=i}};c([u({type:Number,json:{write:!0}})],Ol.prototype,"code",void 0),c([u({type:Object,json:{write:!0}})],Ol.prototype,"defaultValues",void 0),c([u({json:{write:!0}})],Ol.prototype,"domains",void 0),c([Y("domains")],Ol.prototype,"readDomains",null),c([Q("domains")],Ol.prototype,"writeDomains",null),c([u({type:String,json:{write:!0}})],Ol.prototype,"name",void 0),Ol=c([S("esri.layers.support.Subtype")],Ol);const _Te=Ol,STe=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(W.ofType(Ro)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=me.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}getFieldDomain(){throw new Error("Not implemented")}getField(r){return this.fieldsIndex.get(r)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:s,operations:n,editing:a}=r;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||n.supportsEditing&&!(a.supportsUpdateByOthers&&a.supportsUpdateByAnonymous&&a.supportsDeleteByOthers&&a.supportsDeleteByAnonymous))return"load"}if(Q_(this.serviceDefinitionExpression)||Q_(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(WEe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const i=this.editFieldsInfo;return(i!=null&&i.creatorField||i!=null&&i.editorField)&&(r!=null&&r.operations.supportsEditing)?"editing":null}readCapabilitiesFromService(r,i){return tte(i,this.url)}readEditingInfo(r,i){const{editingInfo:s}=i;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const i=O(r),{operations:s,editing:n}=i;return c5(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=n.supportsDeleteByOthers=n.supportsGeometryUpdate=n.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=n.supportsGeometryUpdate=!0),i)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(r,i){return Uee(i)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||c5(this))return!1;const{operations:i,editing:s}=r;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:i,editing:s}=r;return c5(this)?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(r,i){return i.type==="Table"}readMaxScale(r,i){return i.effectiveMaxScale||r||0}readMinScale(r,i){return i.effectiveMinScale||r||0}readObjectIdFieldFromService(r,i){return Gee(i)}readServiceDefinitionExpression(r,i){return i.definitionQuery||i.definitionExpression}set url(r){if(r==null)return void this._set("url",r);const i=gfe({layer:this,url:r,nonStandardUrlAllowed:!0,logger:B.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(r,i,s,n){vfe(this,r,null,i,n)}readVersion(r,i){return DEe(i)}};return c([u({readOnly:!0})],t.prototype,"authenticationTriggerEvent",null),c([u({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),c([u({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),c([Y("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),c([u(g_("dateFieldsTimeReference"))],t.prototype,"dateFieldsTimeZone",void 0),c([u({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),c([u({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),c([u({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),c([u({readOnly:!0,type:vxe})],t.prototype,"editFieldsInfo",void 0),c([u({readOnly:!0})],t.prototype,"editingInfo",void 0),c([Y("editingInfo")],t.prototype,"readEditingInfo",null),c([u({readOnly:!0})],t.prototype,"effectiveCapabilities",null),c([u()],t.prototype,"effectiveEditingEnabled",null),c([u((()=>{const r=O(pxe),i=r.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},r})())],t.prototype,"elevationInfo",void 0),c([u()],t.prototype,"fieldsIndex",void 0),c([u({type:KEe,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:Pt}}})],t.prototype,"floorInfo",void 0),c([u({type:ht,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),c([u()],t.prototype,"gdbVersion",void 0),c([u({readOnly:!0,type:QEe,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),c([u({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:RI.read}}}})],t.prototype,"geometryType",void 0),c([u({type:String})],t.prototype,"globalIdField",void 0),c([Y("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),c([u({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),c([u({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),c([u({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),c([u({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),c([u({readOnly:!0,type:k2})],t.prototype,"heightModelInfo",void 0),c([u({type:Date})],t.prototype,"historicMoment",void 0),c([u({type:W.ofType(Ro),readOnly:!0})],t.prototype,"indexes",void 0),c([u({readOnly:!0})],t.prototype,"isTable",void 0),c([Y("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),c([u({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),c([u(bxe)],t.prototype,"maxScale",void 0),c([Y("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),c([u(yxe)],t.prototype,"minScale",void 0),c([Y("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),c([u({type:String})],t.prototype,"objectIdField",void 0),c([Y("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),c([u(g_("preferredTimeReference"))],t.prototype,"preferredTimeZone",void 0),c([u({type:[XEe],readOnly:!0})],t.prototype,"relationships",void 0),c([u({type:Boolean})],t.prototype,"returnM",void 0),c([u({type:Boolean})],t.prototype,"returnZ",void 0),c([u({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),c([u({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),c([Y("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),c([u({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),c([u()],t.prototype,"sourceJSON",void 0),c([u({type:me,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),c([u({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),c([u({type:[_Te],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"subtypes",void 0),c([u({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),c([u(uxe)],t.prototype,"url",null),c([Q("url")],t.prototype,"writeUrl",null),c([u({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),c([Y("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=c([S("esri.layers.mixins.FeatureLayerBase")],t),t};let Bm=class extends _e.ClonableMixin(N){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};c([u({type:String,json:{write:!0}})],Bm.prototype,"expression",void 0),c([u({type:String,json:{write:!0}})],Bm.prototype,"title",void 0),c([u({type:String,json:{write:!0}})],Bm.prototype,"returnType",void 0),Bm=c([S("esri.layers.support.ExpressionInfo")],Bm);const Jk=Bm;var FI;let Fl=FI=class extends N{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new FI({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:O(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};c([u({type:Boolean,json:{write:!0}})],Fl.prototype,"isAutoGenerated",void 0),c([u({type:String,json:{write:!0}})],Fl.prototype,"name",void 0),c([u({type:String,json:{write:!0}})],Fl.prototype,"alias",void 0),c([u({type:String,json:{write:!0}})],Fl.prototype,"onStatisticField",void 0),c([u({type:Jk,json:{write:!0}})],Fl.prototype,"onStatisticExpression",void 0),c([u({type:String,json:{write:!0}})],Fl.prototype,"statisticType",void 0),Fl=FI=c([S("esri.layers.support.AggregateField")],Fl);const Nu=Fl;let hu=class extends N{constructor(){super(...arguments),this.type=null}};c([u({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],hu.prototype,"type",void 0),hu=c([S("esri.layers.support.FeatureReduction")],hu);const Yk="__begin__",Qk="__end__",$Te=new RegExp(Yk,"ig"),xTe=new RegExp(Qk,"ig"),bV=new RegExp("^"+Yk,"i"),gV=new RegExp(Qk+"$","i"),K_='"',ETe=K_+" + ",TTe=" + "+K_;function ITe(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function CTe(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function Kk(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=ITe(e.labelExpression),t.type="conventional"),t}function MTe(e){const t=Kk(e);switch(t.type){case"conventional":return PI(t.expression);case"arcade":return t.expression}return null}function ATe(e){const t=Kk(e);switch(t.type){case"conventional":return LTe(t.expression);case"arcade":return rte(t.expression)}return null}function PI(e){let t;return e?(t=Ga(e,r=>Yk+'$feature["'+r+'"]'+Qk),t=bV.test(t)?t.replace(bV,""):K_+t,t=gV.test(t)?t.replace(gV,""):t+K_,t=t.replaceAll($Te,ETe).replaceAll(xTe,TTe)):t='""',t}const kTe=/^\s*\{([^}]+)\}\s*$/i;function LTe(e){const t=e==null?void 0:e.match(kTe);return(t==null?void 0:t[1].trim())||null}const RTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,OTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,FTe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function rte(e){if(!e)return null;let t=RTe.exec(e)||OTe.exec(e);return t?t[1]||t[3]:(t=FTe.exec(e),t?t[2]:null)}var NI;let $d=NI=class extends N{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?PI(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=PI(this.value)),e!=null&&(t[r]=e)}clone(){return new NI({expression:this.expression,title:this.title,value:this.value})}};c([u({type:String,json:{write:{writerEnsuresNonNull:!0}}})],$d.prototype,"expression",void 0),c([Y("expression",["expression","value"])],$d.prototype,"readExpression",null),c([Q("expression")],$d.prototype,"writeExpression",null),c([u({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],$d.prototype,"title",void 0),c([u({json:{read:!1,write:!1}})],$d.prototype,"value",void 0),$d=NI=c([S("esri.layers.support.LabelExpressionInfo")],$d);const ite=$d;var DI;const v3=new ye({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function w3(e,t,r){return{enabled:!gx(r==null?void 0:r.layer)}}function ste(e){var t;return!e||e.origin!=="service"&&((t=e.layer)==null?void 0:t.type)!=="map-image"}function PTe(e){return(e==null?void 0:e.type)==="map-image"}function nte(e){var t,r;return!!PTe(e)&&!!((r=(t=e.capabilities)==null?void 0:t.exportMap)!=null&&r.supportsArcadeExpressionForLabeling)}function NTe(e){return ste(e)||nte(e==null?void 0:e.layer)}let er=DI=class extends N{static evaluateWhere(e,t){const r=(i,s,n)=>{switch(s){case"=":return i==n;case"<>":return i!=n;case">":return i>n;case">=":return i>=n;case"<":return i<n;case"<=":return i<=n}return!1};try{if(e==null)return!0;const i=e.split(" ");if(i.length===3)return r(t[i[0]],i[1],i[2]);if(i.length===7){const s=r(t[i[0]],i[1],i[2]),n=i[3],a=r(t[i[4]],i[5],i[6]);switch(n){case"AND":return s&&a;case"OR":return s||a}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=iEe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=CTe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const i=rte(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(e==null&&this.labelExpression!=null&&ste(i))e=new ite({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(i);s.expression&&(t[r]=s)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return Kk(this)}getLabelExpressionArcade(){return MTe(this)}getLabelExpressionSingleField(){return ATe(this)}hash(){return JSON.stringify(this)}clone(){return new DI({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:O(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:O(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([u({type:String,json:{write:!0}})],er.prototype,"name",void 0),c([u({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w3}}}}})],er.prototype,"allowOverrun",void 0),c([u({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w3}}}}})],er.prototype,"deconflictionStrategy",void 0),c([u({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&nte(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],er.prototype,"labelExpression",void 0),c([Y("labelExpression")],er.prototype,"readLabelExpression",null),c([Q("labelExpression")],er.prototype,"writeLabelExpression",null),c([u({type:ite,json:{write:{overridePolicy:(e,t,r)=>NTe(r)?{allowNull:!0}:{enabled:!1}}}})],er.prototype,"labelExpressionInfo",void 0),c([Q("labelExpressionInfo")],er.prototype,"writeLabelExpressionInfo",null),c([u({type:v3.apiValues,json:{type:v3.jsonValues,read:v3.read,write:v3.write}})],er.prototype,"labelPlacement",void 0),c([u({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],er.prototype,"labelPosition",void 0),c([u({type:Number})],er.prototype,"maxScale",void 0),c([Q("maxScale")],er.prototype,"writeMaxScale",null),c([u({type:Number})],er.prototype,"minScale",void 0),c([Q("minScale")],er.prototype,"writeMinScale",null),c([u({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w3}}}}})],er.prototype,"repeatLabel",void 0),c([u({type:Number,cast:Ue,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w3}}}}})],er.prototype,"repeatLabelDistance",void 0),c([u({types:Kwe,json:{origins:{"web-scene":{types:Xwe,write:sV,default:null}},write:sV,default:null}})],er.prototype,"symbol",void 0),c([u({type:Boolean,json:{write:!0}})],er.prototype,"useCodedValues",void 0),c([u({type:String,json:{write:!0}})],er.prototype,"where",void 0),er=DI=c([S("esri.layers.support.LabelClass")],er);const J2=er;var VI;let xd=VI=class extends N{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var e;return new VI({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((e=this.symbol)==null?void 0:e.clone())??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([u({type:String,json:{write:!0}})],xd.prototype,"description",void 0),c([u({type:String,json:{write:!0}})],xd.prototype,"label",void 0),c([u({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],xd.prototype,"minValue",void 0),c([u({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],xd.prototype,"maxValue",void 0),c([u(jk)],xd.prototype,"symbol",void 0),xd=VI=c([S("esri.renderers.support.ClassBreakInfo")],xd);const X_=xd;var zI;const ate="log",d5="percent-of-total",u5="field",_3=new ye({esriNormalizeByLog:ate,esriNormalizeByPercentOfTotal:d5,esriNormalizeByField:u5}),DTe=yt(X_);let br=zI=class extends db(Pc){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let i=t.minValue;return e.map(s=>{const n=new X_;return n.read(s,r),n.minValue==null&&(n.minValue=i),n.maxValue==null&&(n.maxValue=n.minValue),i=n.maxValue,n})}writeClassBreakInfos(e,t,r,i){const s=e.map(n=>n.write({},i));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),t[r]=s}castField(e){return e==null?e:typeof e=="function"?(B.getLogger(this).error(".field: field must be a string value"),null):w2(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&u5||r&&d5||null,t&&r&&B.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==u5&&e!==d5||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let i=null;i=typeof e=="number"?new X_({minValue:e,maxValue:t,symbol:hQ(r)}):DTe(O(e)),this.classBreakInfos.push(i),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let i=0;i<r;i++){const s=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(s[0]===e&&s[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(t==null?void 0:t.arcade)==null&&B.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(t==null?void 0:t.arcade)==null&&(r={...r,arcade:await ln()});const i=this.getBreakIndex(e,r);return i!==-1?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&(t==null?void 0:t.arcade)==null)return void B.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(t==null?void 0:t.arcade)==null){const s=await ln(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r={...r,arcade:s}}const i=this.getBreakIndex(e,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((i,s)=>i+s.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var e,t;return new zI({field:this.field,backgroundFillSymbol:(e=this.backgroundFillSymbol)==null?void 0:e.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(t=this.defaultSymbol)==null?void 0:t.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:O(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:O(this.visualVariables),legendOptions:O(this.legendOptions),authoringInfo:O(this.authoringInfo)})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.symbols.map(i=>i.collectRequiredFields(e,t)),ki(e,t,this.valueExpression)];Xi(e,t,this.field),Xi(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:s,arcade:n,timeZone:a}=t??{},{valueExpression:o}=this;let l=this._compiledValueExpression.valueExpression===o?this._compiledValueExpression.compiledFunction:null;const d=n.arcadeUtils;if(!l){const p=d.createSyntaxTree(o);l=d.createFunction(p),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=o;const f=d.executeFunction(l,d.createExecContext(e,d.getViewInfo({viewingMode:r,scale:i,spatialReference:s}),a));return this._getBreakIndexfromInfos(f)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,i=this.normalizationType;let s=parseFloat(r[t]);if(i){const n=this.normalizationTotal,a=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(i===ate)s=Math.log(s)*Math.LOG10E;else if(i!==d5||n==null||isNaN(n)){if(i===u5&&!isNaN(a)){if(isNaN(s)||isNaN(a))return-1;s/=a}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};c([u(qk)],br.prototype,"backgroundFillSymbol",void 0),c([u({type:[X_],json:{write:{isRequired:!0}}})],br.prototype,"classBreakInfos",void 0),c([Y("classBreakInfos")],br.prototype,"readClassBreakInfos",null),c([Q("classBreakInfos")],br.prototype,"writeClassBreakInfos",null),c([u({type:String,json:{write:!0}})],br.prototype,"defaultLabel",void 0),c([u(W4)],br.prototype,"defaultSymbol",void 0),c([u({type:String,json:{write:!0}})],br.prototype,"field",void 0),c([Oe("field")],br.prototype,"castField",null),c([u({type:Boolean})],br.prototype,"isMaxInclusive",void 0),c([u({type:Z4,json:{write:!0}})],br.prototype,"legendOptions",void 0),c([u({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],br.prototype,"minValue",null),c([u({type:String,json:{write:!0}})],br.prototype,"normalizationField",void 0),c([u({type:Number,json:{write:!0}})],br.prototype,"normalizationTotal",void 0),c([u({type:_3.apiValues,value:null,json:{type:_3.jsonValues,read:_3.read,write:_3.write}})],br.prototype,"normalizationType",null),c([re({classBreaks:"class-breaks"})],br.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],br.prototype,"valueExpression",void 0),c([u({type:String,json:{write:!0}})],br.prototype,"valueExpressionTitle",void 0),br=zI=c([S("esri.renderers.ClassBreaksRenderer")],br);const Xk=br,jI=-3,VTe=jI-1;var Jl;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Jl||(Jl={}));let zTe=class{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Op,this._users=new Op}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){const i=this._db.get(t.id+r);return(i==null?void 0:i.size)??0}put(t,r,i,s,n){r=t.id+r;const a=this._db.get(r);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(r),a.entry!==i&&this._notifyRemove(r,a.entry,a.size,Jl.ALL)),s>this._maxSize)return void this._notifyRemove(r,i,s,Jl.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return console.warn(`Refusing to cache entry with size ${s} for key ${r}`),void this._notifyRemove(r,i,0,Jl.ALL);const o=1+Math.max(n,VTe)-jI;this._db.set(r,new jTe(i,s,o)),this._size+=s,t.size+=s,this._checkSize()}updateSize(t,r,i,s){r=t.id+r;const n=this._db.get(r);if(n&&n.entry===i){for(this._size-=n.size,t.size-=n.size;s>this._maxSize;){const a=this._notifyRemove(r,i,s,Jl.SOME);if(!(a!=null&&a>0))return void this._db.delete(r);s=a}n.size=s,this._size+=s,t.size+=s,this._checkSize()}}pop(t,r){r=t.id+r;const i=this._db.get(r);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(r),++this._hit,i.entry;++this._miss}get(t,r){r=t.id+r;const i=this._db.get(r);if(i!==void 0)return this._db.delete(r),i.lives=i.lifetime,this._db.set(r,i),++this._hit,i.entry;++this._miss}peek(t,r){const i=this._db.get(t.id+r);return i?++this._hit:++this._miss,i==null?void 0:i.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((a,o)=>{const l=a.lifetime;i[l]=(i[l]||0)+a.size,this._users.forAll(d=>{const{id:f,name:p}=d;if(o.startsWith(f)){const m=r[p]||0;r[p]=m+a.size}})});const s={};this._users.forAll(a=>{const o=a.name;if("hitRate"in a&&typeof a.hitRate=="number"&&!isNaN(a.hitRate)&&a.hitRate>0){const l=r[o]||0;r[o]=l,s[o]=Math.round(100*a.hitRate)+"%"}else s[o]="0%"});const n=Object.keys(r);n.sort((a,o)=>r[o]-r[a]),n.forEach(a=>t[a]=Math.round(r[a]/2**20)+"MB / "+s[a]);for(let a=i.length-1;a>=0;--a){const o=i[a];o&&(t["Priority "+(a+jI-1)]=Math.round(o/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){const r=t.id;this._db.forEach((i,s)=>{s.startsWith(r)&&(this._size-=i.size,this._db.delete(s),this._notifyRemove(s,i.entry,i.size,Jl.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,Jl.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,i,s){let n;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){const o=a[1](r,s,i);return typeof o=="number"&&(n=o),!0}return!1}),n}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){const r=t??this;if(r.maxSize<0||r.size<=r.maxSize)return;const i=t==null?void 0:t.id;let s=!0;for(;s;){s=!1;for(const[n,a]of this._db)if(a.lifetime===0&&(!i||n.startsWith(i))){if(this._purgeItem(n,a,t),r.size<=.9*r.maxSize)return;s||(s=this._db.has(n))}}for(const[n,a]of this._db)if((!i||n.startsWith(i))&&(this._purgeItem(n,a,t),r.size<=.9*r.maxSize))return}_purgeItem(t,r,i=this._users.find(s=>t.startsWith(s.id))){if(this._db.delete(t),r.lives<=1){this._size-=r.size,i&&(i.size-=r.size);const s=this._notifyRemove(t,r.entry,r.size,Jl.SOME);s!=null&&s>0&&(this._size+=s,i&&(i.size+=s),r.lives=r.lifetime,r.size=s,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}},jTe=class{constructor(t,r,i){this.entry=t,this.size=r,this.lifetime=i,this.lives=i}},ote=class{constructor(t,r){this._storage=new zTe,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,i=1){this._storage.put(this,t,r,i,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}};function qTe(e){return"timeZone"in e}function BTe(e){return"timeZone"in e}function UTe(e){return"dateFieldsTimeZone"in e}const GTe=new Map;let lte=class f5{static fromJSON(t){return new f5(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new f5(t.fields??[],wV(t))}static fromLayerJSON(t){return new f5(t.fields??[],wV(t))}constructor(t=[],r){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;const i=[];for(const n of this.fields){const a=n==null?void 0:n.name,o=vV(a);if(a&&o){const l=yp(a);this._fieldsMap.set(a,n),this._fieldsMap.set(l,n),this._normalizedFieldsMap.set(o,n),i.push(`${l}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(a)}`),h4(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):R2(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),xP(n)||EP(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)xP(t)||EP(t)||t.nullable||N2e(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===(t==null?void 0:t.uid)}has(t){return this.get(t)!=null}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||(r=this._fieldsMap.get(yp(t))??this._normalizedFieldsMap.get(vV(t)),r&&this._fieldsMap.set(t,r),r)}getTimeZone(t){const r=this.get(t&&typeof t!="string"?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):r.type==="date"||r.type==="esriFieldTypeDate"?(B.getLogger("esri.layers.support.FieldsIndex").errorOnce(new I("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),Jo):cte.has(r.type)?nh:null:null}getLuxonTimeZone(t){const r=this.getTimeZone(t);return r?r===nh?Pa.instance:r===Jo?$r.utcInstance:Uy(GTe,r,()=>Ls.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return Ci(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){var r;return((r=this.get(t))==null?void 0:r.name)??void 0}toJSON(){return{fields:this.fields.map(t=>N.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function yp(e){return e.trim().toLowerCase()}function vV(e){var t;return((t=$2e(e))==null?void 0:t.toLowerCase())??""}const cte=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function wV(e){const t=new Map;if(!e.fields)return t;const r=e.datesInUnknownTimezone===!0,{timeInfo:i,editFieldsInfo:s}=e,n=(i?"startField"in i?i.startField:i.startTimeField:"")??"",a=(i?"endField"in i?i.endField:i.endTimeField:"")??"",o=UTe(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?p9(e.dateFieldsTimeReference):null,l=s?qTe(s)?s.timeZone??o:s.dateFieldsTimeReference?p9(s.dateFieldsTimeReference):o??Jo:null,d=i?BTe(i)?i.timeZone??o:i.timeReference?p9(i.timeReference):o:null,f=new Map([[yp((s==null?void 0:s.creationDateField)??""),l],[yp((s==null?void 0:s.editDateField)??""),l],[yp(n),d],[yp(a),d]]);for(const{name:p,type:m}of e.fields)if(cte.has(m))t.set(p,nh);else if(m!=="date"&&m!=="esriFieldTypeDate")t.set(p,null);else if(r)t.set(p,nh);else{const y=f.get(yp(p??""))??o;t.set(p,y)}return t}var _V,SV,$V,xV,EV,TV,IV,CV,MV,AV,qI,BI,kV,LV,RV,OV,FV,PV,NV,DV,VV,zV,jV,qV,BV,UV,GV,HV,WV,ZV,JV,YV,QV,KV,XV,ez,tz,rz,iz,sz,nz,az,oz,lz,cz,dz,uz,fz,pz,hz,mz,yz,bz,gz,vz,e6,wz,_z,Sz,$z,xz,Ez,Tz;(function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"})(_V||(_V={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(SV||(SV={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}($V||($V={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(xV||(xV={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(EV||(EV={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(TV||(TV={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(IV||(IV={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(CV||(CV={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(MV||(MV={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(AV||(AV={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(qI||(qI={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(BI||(BI={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(kV||(kV={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(LV||(LV={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(RV||(RV={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(OV||(OV={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(FV||(FV={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(PV||(PV={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(NV||(NV={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(DV||(DV={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(VV||(VV={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(zV||(zV={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(jV||(jV={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(qV||(qV={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(BV||(BV={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(UV||(UV={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(GV||(GV={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(HV||(HV={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(WV||(WV={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(ZV||(ZV={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(JV||(JV={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(YV||(YV={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(QV||(QV={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(KV||(KV={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(XV||(XV={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(ez||(ez={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(tz||(tz={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(rz||(rz={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(iz||(iz={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(sz||(sz={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(nz||(nz={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(az||(az={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(oz||(oz={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(lz||(lz={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(cz||(cz={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(dz||(dz={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(uz||(uz={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(fz||(fz={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(pz||(pz={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(hz||(hz={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(mz||(mz={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(yz||(yz={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(bz||(bz={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(gz||(gz={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(vz||(vz={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(e6||(e6={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(wz||(wz={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(_z||(_z={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(Sz||(Sz={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}($z||($z={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(xz||(xz={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(Ez||(Ez={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(Tz||(Tz={}));const HTe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},UI={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:e6.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:e6.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:qI.Loop,repeatdelay:0,easing:BI.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}};function WTe(e){return typeof e=="function"}function GKe(e,t,r,i){return WTe(e)?e(t,r,i):e}function HKe(e){return[e.r,e.g,e.b,e.a]}const ZTe=` /-,
`;function Iz(e){let t=e.length;for(;t--;)if(!ZTe.includes(e.charAt(t)))return!1;return!0}function WKe(e,t){const r=[];let i=0,s=-1;do if(s=e.indexOf("[",i),s>=i){if(s>i){const n=e.slice(i,s);r.push([n,null,Iz(n)])}if(i=s+1,s=e.indexOf("]",i),s>=i){if(s>i){const n=t[e.slice(i,s)];n&&r.push([null,n,!1])}i=s+1}}while(s!==-1);if(i<e.length){const n=e.slice(i);r.push([n,null,Iz(n)])}return r}function ZKe(e,t,r,i){let s="",n=null;for(const a of t){const[o,l,d]=a;if(o)d?n=o:(n&&(s+=n,n=null),s+=o);else{let f=l;r!=null&&(f=hte(l,r));const p=e.attributes[f];p&&(n&&(s+=n,n=null),s+=p)}}return JTe(s,i)}function JTe(e,t){switch(typeof e!="string"&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function JKe(e,t,r,i,s,n,a=!0){const o=t/s,l=r/n,d=Math.ceil(o/2),f=Math.ceil(l/2);for(let p=0;p<n;p++)for(let m=0;m<s;m++){const y=4*(m+(a?n-p-1:p)*s);let b=0,g=0,v=0,w=0,_=0,x=0,T=0;const k=(p+.5)*l;for(let A=Math.floor(p*l);A<(p+1)*l;A++){const M=Math.abs(k-(A+.5))/f,R=(m+.5)*o,P=M*M;for(let z=Math.floor(m*o);z<(m+1)*o;z++){let j=Math.abs(R-(z+.5))/d;const H=Math.sqrt(P+j*j);H>=-1&&H<=1&&(b=2*H*H*H-3*H*H+1,b>0&&(j=4*(z+A*t),T+=b*e[j+3],v+=b,e[j+3]<255&&(b=b*e[j+3]/250),w+=b*e[j],_+=b*e[j+1],x+=b*e[j+2],g+=b))}}i[y]=w/g,i[y+1]=_/g,i[y+2]=x/g,i[y+3]=T/v}}function dte(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function ute(e){var t;return((t=e.data)==null?void 0:t.symbol)??null}function fte(e){return e.type==="CIMVectorMarker"||e.type==="CIMPictureMarker"||e.type==="CIMBarChartMarker"||e.type==="CIMCharacterMarker"||e.type==="CIMPieChartMarker"||e.type==="CIMStackedBarChartMarker"}function pte(e){return e.type==="CIMGradientStroke"||e.type==="CIMPictureStroke"||e.type==="CIMSolidStroke"}function YKe(e){return e!=null&&(e.type==="CIMGradientFill"||e.type==="CIMHatchFill"||e.type==="CIMPictureFill"||e.type==="CIMSolidFill"||e.type==="CIMWaterFill")}function Y4(e){return e!=null&&(e.type==="CIMMarkerPlacementAlongLineRandomSize"||e.type==="CIMMarkerPlacementAlongLineSameSize"||e.type==="CIMMarkerPlacementAlongLineVariableSize"||e.type==="CIMMarkerPlacementAtExtremities"||e.type==="CIMMarkerPlacementAtMeasuredUnits"||e.type==="CIMMarkerPlacementAtRatioPositions"||e.type==="CIMMarkerPlacementOnLine"||e.type==="CIMMarkerPlacementOnVertices")}const QKe=(e,t=0)=>e==null||isNaN(e)?t:e,KKe=(e,t)=>e??t,XKe=(e,t)=>e??t,eXe=e=>e.tintColor?dte(e.tintColor):[255,255,255,1],tXe=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function rXe(){return C(()=>import("./geometryEngineJSON-BSvQtszJ.js").then(e=>e.g),__vite__mapDeps([116,117,114]))}function iXe(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function sXe(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function nXe(e){let t="normal",r="normal";if(e){const i=e.toLowerCase();i.includes("italic")?t="italic":i.includes("oblique")&&(t="oblique"),i.includes("bold")?r="bold":i.includes("light")&&(r="lighter")}return{style:t,weight:r}}function aXe(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function Cz(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=Cz(t);if(r!=null)return r}break;case"CIMTextSymbol":return Cz(e.symbol);case"CIMSolidFill":return e.color}return null}function Mz(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const r of t){const i=Mz(r);if(i!=null)return i}break}case"CIMTextSymbol":return Mz(e.symbol);case"CIMSolidStroke":return e.color}}function Az(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const r=Az(t);if(r!==void 0)return r}break;case"CIMTextSymbol":return Az(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function oXe(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function lXe(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function cXe(e){return(e?Object.keys(e):[]).map(t=>({name:t,alias:t,type:typeof e[t]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const dXe=e=>e.includes("data:image/svg+xml");function uXe(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function eL(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function fXe(e,t,r,i,s,n,a=!0){const{infos:o}=n;let l=1,d=0,f=0,p=0,m=1;for(const{absoluteAnchorPoint:g,offsetX:v,offsetY:w,rotation:_,size:x,frameHeight:T,rotateClockWise:k,scaleSymbolsProportionally:A}of o)m=g?1:l,f=Lz(v,w,d,m,f),p=kz(v,w,d,m,p),T&&(A||a)&&(l*=x/T),d=Rz(_,k,d);const y=Lz(i,s,d,m,f),b=kz(i,s,d,m,p);return{size:e*l,rotation:Rz(t,r,d),offsetX:y,offsetY:b}}function YTe(e){if(e==null)return!1;if(Array.isArray(e))return e.every(t=>YTe(t));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function QTe(e,t){if(t==="color"||t==="outlinecolor"||t==="backgroundcolor"||t==="borderlinecolor"||t==="tintcolor")return[...HTe[t]];const r=UI[e];if(!r)throw new Error(`InternalError: default value for type ${e}.`);return r[t]}function KTe(e){return e.split(" ").map(t=>Number(t))}function XTe(e){return typeof e=="string"?KTe(e):e}function pXe(e){return e!=null&&e.dashTemplate&&(e.dashTemplate=XTe(e.dashTemplate)),e}function GI(e){if(e==null)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const r of t)if(r.type==="CIMVectorMarker")return GI(r)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const r of t)if(r.symbol)return GI(r.symbol)}}return"Normal"}function hXe(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const i=r.size??UI.CIMVectorMarker.size;i>t&&(t=i);break}}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers){for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const i=r.width;i!=null&&i>t&&(t=i);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&Y4(r.markerPlacement)){const i=r.size??UI.CIMVectorMarker.size;i>t&&(t=i)}break;case"CIMPictureFill":{const i=r.height;i!=null&&i>t&&(t=i)}}}return t}}}function hte(e,t){if(t!==null){const r=t.get(e);return r?r.name:e}return e}function mXe(e){return e.map(t=>({...t,propertyName:eL(t.propertyName)}))}function yXe(e){const t={};for(const r in e){const i=e[r];t[eL(r)]=i}return t}function kz(e,t,r,i,s){const n=r*Math.PI/180;if(n){const a=Math.cos(n);return(Math.sin(n)*e+a*t)*i+s}return t*i+s}function Lz(e,t,r,i,s){const n=r*Math.PI/180;return n?(Math.cos(n)*e-Math.sin(n)*t)*i+s:e*i+s}function Rz(e,t,r){return t?r-e:r+e}function bXe(e,t,r){const i=r==="Color"||r==="TintColor"||r==="ToColor",s=r==="Rotation"||r==="Angle"||r==="ToRotation";let n=t[eL(r)];if(n!=null&&(i?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=QTe(t.type,r.toLowerCase()),n!=null&&(i?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),t.primitiveName!=null){const a=e[t.primitiveName];if(a!=null){const o=a[r];o==null||(typeof o=="string"||typeof o=="number"||Array.isArray(o)?(n=o,n!=null&&(i?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:o,defaultValue:n},n!=null&&(i?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${r}".`);return n}function gXe(e,t){return Math.max(Math.min((e??t)/100,1),0)}const Oz="esri.renderers.support.DictionaryLoader",eIe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let mte=class{constructor(t,r,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new ote(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){var p;let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{i=await this._dictionaryPromise}catch(m){if(fr(m))return this._dictionaryPromise=null,null}const s=(p=this._dictionaryVersion)==null?void 0:p.greaterEqual(4,0),n={};if(this.fieldMap)for(const m of this._symbolFields){const y=hte(this.fieldMap[m],this._fieldIndex);if(y){const b=t.attributes[y];n[m]=s?b:b!=null?""+t.attributes[y]:""}else n[m]=""}let a=null;try{a=i==null?void 0:i(n,r)}catch{return null}if(!a||typeof a!="string"||a==="invalid")return null;const o=a.split(";"),l=[],d=[];for(let m=0;m<o.length;m++){const y=o[m];if(y){if(y.includes("po:")){const b=y.slice(3).split("|");if(b.length===3){const g=b[0],v=b[1];let w=b[2];const _="countrylabel";if(g===_&&v==="TextString"){if(this.fieldMap!=null){let x=this.fieldMap[_];x==null&&(x=_,this.fieldMap[x]=x),t.attributes[x]=w}continue}if(v==="DashTemplate")w=w.split(" ").map(x=>Number(x));else if(v==="Color"){const x=new Z(w).toRgba();w=[x[0],x[1],x[2],255*x[3]]}else w=Number(w);d.push({primitiveName:g,propertyName:v,value:w,defaultValue:null})}}else if(y.includes("|")){for(const b of y.split("|"))if(this._itemNames.has(b)){l.push(b);break}}else if(this._itemNames.has(y))l.push(y);else if(m===0){l.length=0;let b="Invalid_P";t.geometry!=null&&(fc(t.geometry)?b="Invalid_A":H6(t.geometry)&&(b="Invalid_L")),l.push(b);break}}}const f=t.geometry==null||!t.geometry.hasZ&&t.geometry.type==="point";return this._cimPartsToCIMSymbol(t,l,d,f,r)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void B.getLogger(Oz).error("no valid URL!");const r=ze(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:t!=null?t.signal:null}),[{data:i}]=await Promise.all([r,ln()]);if(!i)throw this._dictionaryPromise=null,new I("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:s,dictionary_version:n,expression:a,itemsNames:o}=i,l=a;let d=!1;n&&(this._dictionaryVersion=kX.parse(n),d=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(o),this._symbolFields=s.symbol;const f={};if(this.config){const y=this.config;for(const b in y)f[b]=y[b]}if(s.configuration)for(const y of s.configuration)f.hasOwnProperty(y.name)||(f[y.name]=y.value);const p=[];if(t!=null&&t.fields&&this.fieldMap)for(const y in this.fieldMap){const b=this.fieldMap[y],g=t.fields.filter(v=>v.name.toLowerCase()===(b==null?void 0:b.toLowerCase()));g.length>0&&p.push({...g[0],type:d?g[0].type:"esriFieldTypeString"})}p.length>0&&(this._fieldIndex=new lte(p));const m=w2e(l,t!=null?t.spatialReference:null,p,f).then(y=>{const b={scale:0};return(g,v)=>{if(y==null)return null;const w=y.repurposeFeature({geometry:null,attributes:g});return b.scale=v!=null?v.scale??void 0:void 0,y.evaluate({$feature:w,$view:b},y.services)}}).catch(y=>(B.getLogger(Oz).error("Creating dictionary expression failed:",y),null));return this._dictionaryPromise=m,m}async _cimPartsToCIMSymbol(t,r,i,s,n){const a=new Array(r.length);for(let d=0;d<r.length;d++)a[d]=this._getSymbolPart(r[d],n);let o=await Promise.all(a);const l=this.fieldMap;if(l&&o.length>0){const{OverrideHelper:d}=await C(()=>import("./OverrideHelper-Co-3jC5M.js").then(f=>f.O),[]);o=O(o);for(const f of o)d.applyDictionaryTextOverrides(f,t,l,this._fieldIndex,GI(f))}return new Hu({data:tIe(o,i,s)})}async _getSymbolPart(t,r){const i=this._symbolCache.get(t);if(i)return i;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(a=>a.data);const s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),n=ze(s,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,n),n.finally(()=>this._ongoingRequests.delete(t));try{const a=await n;return this._symbolCache.put(t,a.data),a.data}catch(a){throw a}}};function tIe(e,t,r){if(!e||e.length===0)return null;const i={...e[0]};if(e.length>1){i.effects=null,i.symbolLayers=[];for(const s of e){const n=s;if(n.effects!=null)for(const a of n.symbolLayers)a.effects==null?a.effects=n.effects:a.effects.unshift(...n.effects);i.symbolLayers.unshift(...n.symbolLayers)}}return r&&(i.callout=eIe),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}var HI;let wa=HI=class extends db(Pc){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new mte(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){i!=null&&i.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new HI({config:O(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:O(this.fieldMap),url:O(this.url),visualVariables:O(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await ki(e,t,this.scaleExpression);for(const r in this.fieldMap){const i=this.fieldMap[r];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([u({type:mte})],wa.prototype,"_loader",null),c([u({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],wa.prototype,"config",void 0),c([u({type:Object,json:{write:!0}})],wa.prototype,"fieldMap",void 0),c([u({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],wa.prototype,"scaleExpression",void 0),c([Q("scaleExpression")],wa.prototype,"writeData",null),c([u({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],wa.prototype,"scaleExpressionTitle",void 0),c([u({type:String,json:{write:!0}})],wa.prototype,"url",void 0),c([Q("visualVariables")],wa.prototype,"writeVisualVariables",null),wa=HI=c([S("esri.renderers.DictionaryRenderer")],wa);const rIe=wa;var WI;let Pl=WI=class extends N{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(B.getLogger(this).error(".field: field must be a string value"),null):w2(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var e;return new WI({color:(e=this.color)==null?void 0:e.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([u({type:Z,json:{type:[Number],write:!0}})],Pl.prototype,"color",void 0),c([u({type:String,json:{write:!0}})],Pl.prototype,"field",void 0),c([Oe("field")],Pl.prototype,"castField",null),c([u({type:String,json:{write:!0}})],Pl.prototype,"label",void 0),c([u({type:String,json:{write:!0}})],Pl.prototype,"valueExpression",void 0),c([u({type:String,json:{write:!0}})],Pl.prototype,"valueExpressionTitle",void 0),Pl=WI=c([S("esri.renderers.support.AttributeColorInfo")],Pl);const yte=Pl;var ZI;let p5=ZI=class extends N{constructor(){super(...arguments),this.unit=null}clone(){return new ZI({unit:this.unit})}};c([u({type:String,json:{write:!0}})],p5.prototype,"unit",void 0),p5=ZI=c([S("esri.renderers.support.DotDensityLegendOptions")],p5);const iIe=p5;var JI;let ds=JI=class extends db(Pc){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Z([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Li,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new el({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var e;return((e=this.attributes)==null?void 0:e.reduce((t,r)=>t+r.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new JI({attributes:O(this.attributes),backgroundColor:O(this.backgroundColor),dotBlendingEnabled:O(this.dotBlendingEnabled),dotShape:O(this.dotShape),dotSize:O(this.dotSize),dotValue:O(this.dotValue),legendOptions:O(this.legendOptions),outline:O(this.outline),referenceScale:O(this.referenceScale),seed:O(this.seed),visualVariables:O(this.visualVariables),authoringInfo:O(this.authoringInfo)})}getControllerHash(){var t;return`${(t=this.attributes)==null?void 0:t.map(r=>r.field||r.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await ki(e,t,r.valueExpression),r.field&&e.add(r.field)}};c([u({type:[yte],json:{write:!0}})],ds.prototype,"attributes",void 0),c([u({type:Z,json:{write:!0}})],ds.prototype,"backgroundColor",void 0),c([u({type:Boolean,json:{write:!0}})],ds.prototype,"dotBlendingEnabled",void 0),c([u({type:String,json:{write:!1}})],ds.prototype,"dotShape",void 0),c([u({type:Number,json:{write:!0}})],ds.prototype,"dotSize",void 0),c([u({type:iIe,json:{write:!0}})],ds.prototype,"legendOptions",void 0),c([u({type:Li,json:{default:null,write:!0}})],ds.prototype,"outline",void 0),c([u({type:Number,json:{write:!0}})],ds.prototype,"dotValue",void 0),c([u({type:Number,json:{write:!0}})],ds.prototype,"referenceScale",void 0),c([u({type:Number,json:{write:!0}})],ds.prototype,"seed",void 0),c([re({dotDensity:"dot-density"})],ds.prototype,"type",void 0),ds=JI=c([S("esri.renderers.DotDensityRenderer")],ds);const sIe=ds;var YI;let d1=YI=class extends N{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new YI({color:this.color&&this.color.clone(),ratio:this.ratio})}};c([u({type:Z,json:{type:[Ve],default:null,write:{isRequired:!0}}})],d1.prototype,"color",void 0),c([u({type:Number,json:{write:{isRequired:!0}}})],d1.prototype,"ratio",void 0),d1=YI=c([S("esri.renderers.support.HeatmapColorStop")],d1);const tv=d1;let Um=class extends _e.ClonableMixin(N){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};c([u({type:String,json:{write:!0}})],Um.prototype,"minLabel",void 0),c([u({type:String,json:{write:!0}})],Um.prototype,"maxLabel",void 0),c([u({type:String,json:{write:!0}})],Um.prototype,"title",void 0),Um=c([S("esri.renderers.support.HeatmapLegendOptions")],Um);function nIe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function aIe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function oIe(e,t,r,i,s){return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e}function lIe(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function bte(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function gte(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function vte(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function cIe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function dIe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function uIe(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function fIe(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function pIe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function hIe(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function mIe(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function wte(e,t){const r=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return Math.sqrt(r*r+i*i+s*s+n*n)}function _te(e,t){const r=t[0]-e[0],i=t[1]-e[1],s=t[2]-e[2],n=t[3]-e[3];return r*r+i*i+s*s+n*n}function Ste(e){const t=e[0],r=e[1],i=e[2],s=e[3];return Math.sqrt(t*t+r*r+i*i+s*s)}function $te(e){const t=e[0],r=e[1],i=e[2],s=e[3];return t*t+r*r+i*i+s*s}function yIe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function bIe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function gIe(e,t){const r=t[0],i=t[1],s=t[2],n=t[3];let a=r*r+i*i+s*s+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=i*a,e[2]=s*a,e[3]=n*a),e}function vIe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function xte(e,t,r,i){const s=t[0],n=t[1],a=t[2],o=t[3];return e[0]=s+i*(r[0]-s),e[1]=n+i*(r[1]-n),e[2]=a+i*(r[2]-a),e[3]=o+i*(r[3]-o),e}function wIe(e,t=1){const r=d4;let i,s,n,a,o,l;do i=2*r()-1,s=2*r()-1,o=i*i+s*s;while(o>=1);do n=2*r()-1,a=2*r()-1,l=n*n+a*a;while(l>=1);const d=Math.sqrt((1-o)/l);return e[0]=t*i,e[1]=t*s,e[2]=t*n*d,e[3]=t*a*d,e}function _Ie(e,t,r){const i=t[0],s=t[1],n=t[2],a=t[3];return e[0]=r[0]*i+r[4]*s+r[8]*n+r[12]*a,e[1]=r[1]*i+r[5]*s+r[9]*n+r[13]*a,e[2]=r[2]*i+r[6]*s+r[10]*n+r[14]*a,e[3]=r[3]*i+r[7]*s+r[11]*n+r[15]*a,e}function SIe(e,t,r){const i=t[0],s=t[1],n=t[2],a=r[0],o=r[1],l=r[2],d=r[3],f=d*i+o*n-l*s,p=d*s+l*i-a*n,m=d*n+a*s-o*i,y=-a*i-o*s-l*n;return e[0]=f*d+y*-a+p*-l-m*-o,e[1]=p*d+y*-o+m*-a-f*-l,e[2]=m*d+y*-l+f*-o-p*-a,e[3]=t[3],e}function $Ie(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function xIe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function EIe(e,t){const r=e[0],i=e[1],s=e[2],n=e[3],a=t[0],o=t[1],l=t[2],d=t[3],f=Ki();return Math.abs(r-a)<=f*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=f*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(s-l)<=f*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(n-d)<=f*Math.max(1,Math.abs(n),Math.abs(d))}const TIe=bte,IIe=gte,CIe=vte,MIe=wte,AIe=_te,kIe=Ste,LIe=$te;Object.freeze(Object.defineProperty({__proto__:null,add:lIe,ceil:cIe,copy:nIe,copyVec3:aIe,dist:MIe,distance:wte,div:CIe,divide:vte,dot:vIe,equals:EIe,exactEquals:xIe,floor:dIe,inverse:bIe,len:kIe,length:Ste,lerp:xte,max:fIe,min:uIe,mul:IIe,multiply:gte,negate:yIe,normalize:gIe,random:wIe,round:pIe,scale:hIe,scaleAndAdd:mIe,set:oIe,sqrDist:AIe,sqrLen:LIe,squaredDistance:_te,squaredLength:$te,str:$Ie,sub:TIe,subtract:bte,transformMat4:_Ie,transformQuat:SIe},Symbol.toStringTag,{value:"Module"}));function Q4(){return[0,0,0,0]}function RIe(e){return[e[0],e[1],e[2],e[3]]}function vh(e,t,r,i){return[e,t,r,i]}function OIe(e,t,r,i){return[e,t,r,i]}function FIe(e,t=Q4()){const r=Math.min(4,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function PIe(e,t){return new Float64Array(e,t,4)}function Ete(){return Q4()}function Tte(){return vh(1,1,1,1)}function Ite(){return vh(1,0,0,0)}function Cte(){return vh(0,1,0,0)}function Mte(){return vh(0,0,1,0)}function Ate(){return vh(0,0,0,1)}const NIe=Ete(),DIe=Tte(),VIe=Ite(),zIe=Cte(),jIe=Mte(),qIe=Ate();Object.freeze(Object.defineProperty({__proto__:null,ONES:DIe,UNIT_W:qIe,UNIT_X:VIe,UNIT_Y:zIe,UNIT_Z:jIe,ZEROS:NIe,clone:RIe,create:Q4,createView:PIe,freeze:OIe,fromArray:FIe,fromValues:vh,ones:Tte,unitW:Ate,unitX:Ite,unitY:Cte,unitZ:Mte,zeros:Ete},Symbol.toStringTag,{value:"Module"}));const tL=2.4;function BIe(e){return Ar(e*tL)}function UIe(e){return Ct(e)/tL}function GIe(e,t,r,i){let{color:s,ratio:n}=t,{color:a,ratio:o}=r;o===n&&(o===1?n-=1e-6:o+=1e-6);const l=As((i-n)/(o-n),0,1);xte(e,s.toArray(),a.toArray(),l)}function _Xe(e){const r=new Uint8ClampedArray(2048);if(e=e.filter(({ratio:o})=>o>=0&&o<=1).sort((o,l)=>o.ratio-l.ratio).map(({color:o,ratio:l})=>({color:o,ratio:Math.max(l,.001)})),e.length<1)return r;let i=e[0],s=e[0],n=1;const a=Q4();for(let o=0;o<512;o++){const l=(o+.5)/512;for(;l>s.ratio&&n<e.length;)i=s,s=e[n++];GIe(a,i,s,l),r.set(a,4*o)}return r}function HIe(e,t,r){const i=Math.sqrt(e**2+t**2)/r;return i>1?0:3/(Math.PI*r**2)*(1-i**2)**2}function WIe(e){return typeof e=="function"?e:e?t=>+t[e]:()=>1}var QI;function Fz(e){if(e!=null){const{maxDensity:t,minDensity:r,radius:i}=e;if(t!=null||r!=null||i!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:a,...o}=e;return o}}return e}let Zr=QI=class extends Pc{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new tv({ratio:0,color:new Z("rgba(255, 140, 0, 0)")}),new tv({ratio:.75,color:new Z("rgba(255, 140, 0, 1)")}),new tv({ratio:.9,color:new Z("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return Fz(e)}get blurRadius(){return UIe(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",BIe(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(tL**2*this.blurRadius**4)}read(e,t){e=Fz(e),super.read(e,t)}getSymbol(){return new oi}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,i=this.valueExpression;r&&typeof r=="string"&&Xi(e,t,r),i&&typeof i=="string"&&await ki(e,t,i)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new QI({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:O(this.colorStops),field:this.field,legendOptions:O(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([u({type:B4,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Zr.prototype,"authoringInfo",void 0),c([u({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Zr.prototype,"blurRadius",null),c([u({type:[tv],json:{write:{isRequired:!0}}})],Zr.prototype,"colorStops",void 0),c([u({type:String,json:{write:!0}})],Zr.prototype,"field",void 0),c([u({type:Um,json:{write:!0}})],Zr.prototype,"legendOptions",void 0),c([u({type:Number,json:{write:!0}})],Zr.prototype,"maxDensity",void 0),c([u({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Zr.prototype,"maxPixelIntensity",null),c([u({type:Number,json:{write:!0}})],Zr.prototype,"minDensity",void 0),c([u({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Zr.prototype,"minPixelIntensity",null),c([u({type:Number,cast:Ue,json:{write:!0}})],Zr.prototype,"radius",void 0),c([u({type:Number,range:{min:0},json:{default:0,write:!0}})],Zr.prototype,"referenceScale",void 0),c([re({heatmap:"heatmap"})],Zr.prototype,"type",void 0),c([u({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Zr.prototype,"valueExpression",void 0),c([u({type:String})],Zr.prototype,"valueExpressionTitle",void 0),c([u({readOnly:!0})],Zr.prototype,"_pixelIntensityToDensity",null),Zr=QI=c([S("esri.renderers.HeatmapRenderer")],Zr);const kte=Zr;let bp=class extends _e.ClonableMixin(N){constructor(){super(...arguments),this.color=new Z([0,0,0,0]),this.label=null,this.threshold=0}};c([u({type:Z,json:{write:!0}})],bp.prototype,"color",void 0),c([u({type:String,json:{write:!0}})],bp.prototype,"label",void 0),c([u({type:Number,range:{min:0,max:1},json:{write:!0}})],bp.prototype,"threshold",void 0),bp=c([S("esri.renderers.support.OthersCategory")],bp);const ZIe={base:cb,key:"type",typeMap:{size:cn,opacity:Nk}};let us=class extends db(_e.ClonableMixin(Pc)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Z([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new bp,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var t;return new oi({size:this.size?this.size/2+(((t=this.outline)==null?void 0:t.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(It)}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((r,i)=>r+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){await this.collectVVRequiredFields(t,r);for(const i of this.attributes)i.valueExpression&&await ki(t,r,i.valueExpression),i.field&&t.add(i.field)}};c([u({type:[yte],json:{write:!0}})],us.prototype,"attributes",void 0),c([u(qk)],us.prototype,"backgroundFillSymbol",void 0),c([u({type:Z,json:{write:!0}})],us.prototype,"defaultColor",void 0),c([u({type:String,json:{write:!0}})],us.prototype,"defaultLabel",void 0),c([u({type:Number,range:{min:0,max:1},json:{write:!0}})],us.prototype,"holePercentage",void 0),c([u({type:bp,json:{write:!0}})],us.prototype,"othersCategory",void 0),c([u({type:Z4,json:{write:!0}})],us.prototype,"legendOptions",void 0),c([u({type:Li,json:{default:null,write:!0}})],us.prototype,"outline",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],us.prototype,"size",void 0),c([re({pieChart:"pie-chart"})],us.prototype,"type",void 0),c([u({types:[ZIe]})],us.prototype,"visualVariables",void 0),us=c([S("esri.renderers.PieChartRenderer")],us);const JIe=us,Y2={key:"type",base:Pc,typeMap:{heatmap:kte,simple:mc,"unique-value":Uk,"class-breaks":Xk,"dot-density":sIe,dictionary:rIe,"pie-chart":JIe},errorContext:"renderer"},YIe={key:"type",base:Pc,typeMap:{simple:mc,"unique-value":Uk,"class-breaks":Xk,heatmap:kte},errorContext:"renderer",validate:QIe};function QIe(e){switch(e.type){case"simple":return KIe(e);case"unique-value":return XIe(e);case"class-breaks":return eCe(e);case"heatmap":return e}}function KIe(e){if(e.symbol)return e;B.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function XIe(e){const t=e.uniqueValueInfos,r=t==null?void 0:t.filter(({symbol:i,label:s},n)=>(i||B.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!i));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.uniqueValueInfos=r),e}function eCe(e){const t=e.classBreakInfos,r=t==null?void 0:t.filter(({symbol:i,label:s},n)=>(i||B.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!i));return(r==null?void 0:r.length)!==(t==null?void 0:t.length)&&(e.classBreakInfos=r),e}function Lte(e,t){return Vv(e,null,t)}const tCe=Wy({types:Y2});function Vv(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r!=null&&r.messages&&r.messages.push(new Un("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):tCe(e,t,r):null}var KI;let gi=KI=class extends hu{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=Ue("12px"),this.fields=[],this.renderer=null}writeFields(e,t,r){const i=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());Ot(r,i,t)}readRenderer(e,t,r){var s;const i=(s=t.drawingInfo)==null?void 0:s.renderer;return i?Vv(i,t,r)??void 0:Hk(t,r)}clone(){return new KI({fields:O(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:O(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:O(this.popupTemplate),renderer:O(this.renderer),binType:O(this.binType),size:this.size})}};c([re({binning:"binning"})],gi.prototype,"type",void 0),c([re({geohash:"geohash",square:"square"}),u({type:["geohash","square"]})],gi.prototype,"binType",void 0),c([u({type:Number,json:{write:!0}})],gi.prototype,"fixedBinLevel",void 0),c([u({type:[J2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],gi.prototype,"labelingInfo",void 0),c([u(q4)],gi.prototype,"labelsVisible",void 0),c([u({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],gi.prototype,"maxScale",void 0),c([u(j4)],gi.prototype,"popupEnabled",void 0),c([u({type:tb,json:{name:"popupInfo",write:!0}})],gi.prototype,"popupTemplate",void 0),c([u({cast:e=>e==="auto"?e:Zi(Ue(e))})],gi.prototype,"size",void 0),c([u({type:[Nu],json:{write:!0}})],gi.prototype,"fields",void 0),c([Q("fields")],gi.prototype,"writeFields",null),c([u({types:Y2,json:{write:{target:"drawingInfo.renderer"}}})],gi.prototype,"renderer",void 0),c([Y("renderer",["drawingInfo.renderer"])],gi.prototype,"readRenderer",null),gi=KI=c([S("esri.layers.support.FeatureReductionBinning")],gi);const Rte=gi;var XI;function Pz(e){var t;return e.type==="simple"&&!((t=e.visualVariables)!=null&&t.length)}let gr=XI=class extends N{constructor(e){super(e),this.type="cluster",this.clusterRadius=Ue("80px"),this.clusterMinSize=Ue("12px"),this.clusterMaxSize=Ue("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,r){var s,n;const i=(s=t.drawingInfo)==null?void 0:s.renderer;return(n=i==null?void 0:i.authoringInfo)!=null&&n.isAutoGenerated?null:i?Pz(i)?null:Vv(i,t,r)??void 0:Hk(t,r)}readSymbol(e,t,r){var s,n;const i=(s=t.drawingInfo)==null?void 0:s.renderer;if((n=i==null?void 0:i.authoringInfo)!=null&&n.isAutoGenerated)return null;if(i&&Pz(i)){const a=Vv(i,t,r);return a==null?void 0:a.symbol}return null}writeSymbol(e,t,r,i){var n,a;const s=(a=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:a.isAutoGenerated;if(!this.renderer||s){const o=new mc({symbol:e});t.drawingInfo={renderer:o.write({},i)}}}writeFields(e,t,r){const i=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());Ot(r,i,t)}readFields(e,t,r){return e.filter(i=>!i.isAutoGenerated).map(i=>Nu.fromJSON(i))}clone(){return new XI({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:O(this.labelingInfo),labelsVisible:this.labelsVisible,fields:O(this.fields),maxScale:this.maxScale,renderer:O(this.renderer),symbol:O(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:O(this.popupTemplate)})}};c([u({type:["cluster"],readOnly:!0,json:{write:!0}})],gr.prototype,"type",void 0),c([u({cast:e=>e==="auto"?e:Zi(Ue(e)),json:{write:!0}})],gr.prototype,"clusterRadius",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],gr.prototype,"clusterMinSize",void 0),c([u({type:Number,cast:Ue,json:{write:!0}})],gr.prototype,"clusterMaxSize",void 0),c([u({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],gr.prototype,"maxScale",void 0),c([u(j4)],gr.prototype,"popupEnabled",void 0),c([u({type:tb,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],gr.prototype,"popupTemplate",void 0),c([u({types:Y2,json:{write:{target:"drawingInfo.renderer"}}})],gr.prototype,"renderer",void 0),c([Y("renderer",["drawingInfo.renderer"])],gr.prototype,"readRenderer",null),c([u({types:Ywe})],gr.prototype,"symbol",void 0),c([Y("symbol",["drawingInfo.renderer"])],gr.prototype,"readSymbol",null),c([Q("symbol")],gr.prototype,"writeSymbol",null),c([u({type:[J2],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],gr.prototype,"labelingInfo",void 0),c([u(q4)],gr.prototype,"labelsVisible",void 0),c([u({type:[Nu],json:{write:!0}})],gr.prototype,"fields",void 0),c([Q("fields")],gr.prototype,"writeFields",null),c([Y("fields")],gr.prototype,"readFields",null),gr=XI=c([S("esri.layers.support.FeatureReductionCluster")],gr);const Ote=gr;var eC;let h5=eC=class extends hu{constructor(e){super(e),this.type="selection"}clone(){return new eC}};c([u({type:["selection"]})],h5.prototype,"type",void 0),h5=eC=c([S("esri.layers.support.FeatureReductionSelection")],h5);const Nz=h5,Dz={key:"type",base:hu,typeMap:{cluster:Ote,binning:Rte}},rCe={types:{key:"type",base:hu,typeMap:{selection:Nz,cluster:Ote,binning:Rte}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:Dz},"portal-item":{types:Dz},"web-scene":{types:{key:"type",base:hu,typeMap:{selection:Nz}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:Pt}}}}},jh={Base64:0,Hex:1,String:2,Raw:3},G0=8,Fte=(1<<G0)-1;function ru(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function iCe(e){const t=[];for(let r=0,i=e.length*G0;r<i;r+=G0)t[r>>5]|=(e.charCodeAt(r/G0)&Fte)<<r%32;return t}function sCe(e){const t=[];for(let r=0,i=32*e.length;r<i;r+=G0)t.push(String.fromCharCode(e[r>>5]>>>r%32&Fte));return t.join("")}function nCe(e){const t="0123456789abcdef",r=[];for(let i=0,s=4*e.length;i<s;i++)r.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return r.join("")}function aCe(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[];for(let s=0,n=4*e.length;s<n;s+=3){const a=(e[s>>2]>>s%4*8&255)<<16|(e[s+1>>2]>>(s+1)%4*8&255)<<8|e[s+2>>2]>>(s+2)%4*8&255;for(let o=0;o<4;o++)8*s+6*o>32*e.length?i.push(t):i.push(r.charAt(a>>6*(3-o)&63))}return i.join("")}function oCe(e,t){return e<<t|e>>>32-t}function K4(e,t,r,i,s,n){return ru(oCe(ru(ru(t,e),ru(i,n)),s),r)}function di(e,t,r,i,s,n,a){return K4(t&r|~t&i,e,t,s,n,a)}function ui(e,t,r,i,s,n,a){return K4(t&i|r&~i,e,t,s,n,a)}function fi(e,t,r,i,s,n,a){return K4(t^r^i,e,t,s,n,a)}function pi(e,t,r,i,s,n,a){return K4(r^(t|~i),e,t,s,n,a)}function lCe(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,i=-271733879,s=-1732584194,n=271733878;for(let a=0;a<e.length;a+=16){const o=r,l=i,d=s,f=n;r=di(r,i,s,n,e[a],7,-680876936),n=di(n,r,i,s,e[a+1],12,-389564586),s=di(s,n,r,i,e[a+2],17,606105819),i=di(i,s,n,r,e[a+3],22,-1044525330),r=di(r,i,s,n,e[a+4],7,-176418897),n=di(n,r,i,s,e[a+5],12,1200080426),s=di(s,n,r,i,e[a+6],17,-1473231341),i=di(i,s,n,r,e[a+7],22,-45705983),r=di(r,i,s,n,e[a+8],7,1770035416),n=di(n,r,i,s,e[a+9],12,-1958414417),s=di(s,n,r,i,e[a+10],17,-42063),i=di(i,s,n,r,e[a+11],22,-1990404162),r=di(r,i,s,n,e[a+12],7,1804603682),n=di(n,r,i,s,e[a+13],12,-40341101),s=di(s,n,r,i,e[a+14],17,-1502002290),i=di(i,s,n,r,e[a+15],22,1236535329),r=ui(r,i,s,n,e[a+1],5,-165796510),n=ui(n,r,i,s,e[a+6],9,-1069501632),s=ui(s,n,r,i,e[a+11],14,643717713),i=ui(i,s,n,r,e[a],20,-373897302),r=ui(r,i,s,n,e[a+5],5,-701558691),n=ui(n,r,i,s,e[a+10],9,38016083),s=ui(s,n,r,i,e[a+15],14,-660478335),i=ui(i,s,n,r,e[a+4],20,-405537848),r=ui(r,i,s,n,e[a+9],5,568446438),n=ui(n,r,i,s,e[a+14],9,-1019803690),s=ui(s,n,r,i,e[a+3],14,-187363961),i=ui(i,s,n,r,e[a+8],20,1163531501),r=ui(r,i,s,n,e[a+13],5,-1444681467),n=ui(n,r,i,s,e[a+2],9,-51403784),s=ui(s,n,r,i,e[a+7],14,1735328473),i=ui(i,s,n,r,e[a+12],20,-1926607734),r=fi(r,i,s,n,e[a+5],4,-378558),n=fi(n,r,i,s,e[a+8],11,-2022574463),s=fi(s,n,r,i,e[a+11],16,1839030562),i=fi(i,s,n,r,e[a+14],23,-35309556),r=fi(r,i,s,n,e[a+1],4,-1530992060),n=fi(n,r,i,s,e[a+4],11,1272893353),s=fi(s,n,r,i,e[a+7],16,-155497632),i=fi(i,s,n,r,e[a+10],23,-1094730640),r=fi(r,i,s,n,e[a+13],4,681279174),n=fi(n,r,i,s,e[a],11,-358537222),s=fi(s,n,r,i,e[a+3],16,-722521979),i=fi(i,s,n,r,e[a+6],23,76029189),r=fi(r,i,s,n,e[a+9],4,-640364487),n=fi(n,r,i,s,e[a+12],11,-421815835),s=fi(s,n,r,i,e[a+15],16,530742520),i=fi(i,s,n,r,e[a+2],23,-995338651),r=pi(r,i,s,n,e[a],6,-198630844),n=pi(n,r,i,s,e[a+7],10,1126891415),s=pi(s,n,r,i,e[a+14],15,-1416354905),i=pi(i,s,n,r,e[a+5],21,-57434055),r=pi(r,i,s,n,e[a+12],6,1700485571),n=pi(n,r,i,s,e[a+3],10,-1894986606),s=pi(s,n,r,i,e[a+10],15,-1051523),i=pi(i,s,n,r,e[a+1],21,-2054922799),r=pi(r,i,s,n,e[a+8],6,1873313359),n=pi(n,r,i,s,e[a+15],10,-30611744),s=pi(s,n,r,i,e[a+6],15,-1560198380),i=pi(i,s,n,r,e[a+13],21,1309151649),r=pi(r,i,s,n,e[a+4],6,-145523070),n=pi(n,r,i,s,e[a+11],10,-1120210379),s=pi(s,n,r,i,e[a+2],15,718787259),i=pi(i,s,n,r,e[a+9],21,-343485551),r=ru(r,o),i=ru(i,l),s=ru(s,d),n=ru(n,f)}return[r,i,s,n]}function Pte(e,t=jh.Hex){const r=t||jh.Base64,i=lCe(iCe(e),e.length*G0);switch(r){case jh.Raw:return i;case jh.Hex:return nCe(i);case jh.String:return sCe(i);case jh.Base64:return aCe(i)}}const cCe=()=>B.getLogger("esri.views.2d.layers.support.clusterUtils");V.add("esri-cluster-arcade-enabled",!0);const dCe=V("esri-cluster-arcade-enabled"),uCe=new Set(["simple-line","simple-fill","picture-fill"]);function Vz(e,t){let r=t.clone();if(!fCe(r))return r;if(t.symbols.some(i=>uCe.has(i.type))&&(r=new mc({symbol:new oi})),r.authoringInfo||(r.authoringInfo=new B4),r.authoringInfo.isAutoGenerated=!0,"visualVariables"in r){const i=(r.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");i.forEach(s=>{s.type==="rotation"?s.field?s.field=lf(e,s.field,"avg_angle","number"):s.valueExpression&&(s.field=Hb(e,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=lf(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=lf(e,s.field,"avg","number"):s.valueExpression&&(s.field=Hb(e,s.valueExpression,"avg","number"),s.valueExpression=null)}),r.visualVariables=i}switch(r.type){case"simple":break;case"pie-chart":for(const i of r.attributes)i.field?i.field=lf(e,i.field,"sum","number"):i.valueExpression&&(i.field=Hb(e,i.valueExpression,"sum","number"),i.valueExpression=null);break;case"unique-value":r.field?r.field=lf(e,r.field,"mode","string"):r.valueExpression&&(r.field=Hb(e,r.valueExpression,"mode","string"),r.valueExpression=null);break;case"class-breaks":r.normalizationField?(r.field=lf(e,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=lf(e,r.field,"avg","number"):r.valueExpression&&(r.field=Hb(e,r.valueExpression,"avg","number"),r.valueExpression=null)}return r}const fCe=e=>{const t=r=>cCe().error(new I("Unsupported-renderer",r,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if(r!=="field")return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!dCe){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some(r=>!(!("valueExpression"in r)||!r.valueExpression)))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function pCe(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const i=r,s="field",n=t.toLowerCase()+",norm:"+s+","+i.toLowerCase();return"cluster_avg_"+Pte(n)}}}function Hb(e,t,r,i){const s=Pte(t),n=r==="mode"?`cluster_type_${s}`:r==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return e.some(a=>a.name===n)||e.push(new Nu({name:n,isAutoGenerated:!0,onStatisticExpression:new Jk({expression:t,returnType:i}),statisticType:r})),n}function lf(e,t,r,i,s){if(t==="cluster_count"||e.some(a=>a.name===t))return t;const n=pCe(r,t,s);return e.some(a=>a.name===n)||(r==="avg_norm"?e.push(new Nu({name:n,isAutoGenerated:!0,onStatisticExpression:new Jk({expression:`$feature.${t} / $feature.${s}`,returnType:i}),statisticType:"avg"})):e.push(new Nu({name:n,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),n}const hCe=e=>{let t=class extends e{constructor(...r){super(...r),this.addHandles(U(()=>this.renderer,()=>{if(this.featureReduction){const i=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",i)}},Za))}set featureReduction(r){const i=this._normalizeFeatureReduction(r);this._set("featureReduction",i)}set renderer(r){}_withClusterVariable(r,i,s){const n=r.clone();return"visualVariables"in n&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.some(a=>a.type==="size")||n.visualVariables.push(new cn({field:"cluster_count",stops:[new Ua({value:1}),new Ua({useMinValue:!0,size:i}),new Ua({useMaxValue:!0,size:s})]}))),n}_normalizeFeatureReduction(r){var p;if((r==null?void 0:r.type)!=="cluster")return r;const i=r.clone(),s=[new Nu({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],n=(i.fields??[]).filter(m=>!m.isAutoGenerated),a=r.renderer&&!((p=r.renderer.authoringInfo)!=null&&p.isAutoGenerated),{clusterMinSize:o,clusterMaxSize:l}=i;if(a){i.fields=[...s,...n];const m=this._withClusterVariable(i.renderer,o,l);return i.effectiveFeatureRenderer=m,i.effectiveClusterRenderer=m,i}if(r.symbol){if(i.fields=[...s,...n],i.renderer=null,!this.renderer)return i.effectiveFeatureRenderer=null,i.effectiveClusterRenderer=null,i;const m=Vz(s,this.renderer),y=this._withClusterVariable(m,o,l),b="visualVariables"in y&&y.visualVariables?y.visualVariables:[],g=new mc({symbol:r.symbol,visualVariables:b});return i.fields=[...s,...n],i.effectiveFeatureRenderer=y,i.effectiveClusterRenderer=g,i}if(!this.renderer)return r;const d=Vz(s,this.renderer);i.fields=[...s,...n],i.renderer=d;const f=this._withClusterVariable(d,o,l);return i.effectiveFeatureRenderer=f,i.effectiveClusterRenderer=f,i}};return c([u(rCe)],t.prototype,"featureReduction",null),t=c([S("esri.layers.mixins.FeatureReductionLayer")],t),t},zz={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},jz={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},qz={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},mCe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":zz,"web-map/basemap":jz,"web-map/tables":qz,"link-chart/operational-layers":{...zz,LinkChartLayer:!0},"link-chart/basemap":jz,"link-chart/tables":qz,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},yCe=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,i,s){var n;return((n=s==null?void 0:s.portalItem)==null?void 0:n.type)==="Group Layer"?void 0:r}writeListMode(r,i,s,n){(n&&n.layerContainerType==="ground"||r&&Cue(this,s,{},n))&&(i[s]=r)}writeOperationalLayerType(r,i,s){r&&(i[s]=r)}writeTitle(r,i){i.title=r??"Layer"}readVisibilityTimeExtent(r){return r?Ir.fromArray(r):null}writeVisibilityTimeExtent(r,i,s,n){r&&n.layerContainerType!=="tables"&&(r.isEmpty?n!=null&&n.messages&&n.messages.push(new I("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):i[s]=r.toArray())}read(r,i){i&&(i.layer=this),GG(this,r,s=>super.read(r,s),i)}write(r,i){var a,o;if(!this.persistenceEnabled&&!(i!=null&&i.ignorePersistenceEnabled))return null;if(i!=null&&i.origin){const l=`${i.origin}/${i.layerContainerType||"operational-layers"}`,d=mCe[l];let f=!!(d!=null&&d[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(f=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&l==="web-map/operational-layers"&&(f=!1),!f)return(a=i.messages)==null||a.push(new I("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const s=super.write(r,{...i,layer:this}),n=!!i&&!!i.messages&&!!i.messages.filter(l=>l instanceof I&&l.name==="web-document-write:property-required").length;return z6(s==null?void 0:s.url)?((o=i==null?void 0:i.messages)==null||o.push(new I("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&n?null:s}beforeSave(){}};return c([u({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([Y("id",["id"])],t.prototype,"readId",null),c([u(vee)],t.prototype,"listMode",void 0),c([Q("listMode")],t.prototype,"writeListMode",null),c([u({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Pt,isRequired:!0}}}}})],t.prototype,"operationalLayerType",void 0),c([Q("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([u(cI)],t.prototype,"opacity",void 0),c([u({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),c([u({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([Q("title"),Q(["web-scene"],"title")],t.prototype,"writeTitle",null),c([u({type:Ir,json:{origins:{"web-scene":{write:{layerContainerTypes:Pt}}}}})],t.prototype,"visibilityTimeExtent",void 0),c([Y("visibilityTimeExtent")],t.prototype,"readVisibilityTimeExtent",null),c([Q(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[Ve,Hy]]}})],t.prototype,"writeVisibilityTimeExtent",null),c([u({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:Pt}}})],t.prototype,"visible",void 0),t=c([S("esri.layers.mixins.OperationalLayer")],t),t};var tC;const S3=new ye({asc:"ascending",desc:"descending"});let Gm=tC=class extends N{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new tC({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([u({type:String,json:{write:!0}})],Gm.prototype,"field",void 0),c([u({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Gm.prototype,"valueExpression",void 0),c([u({type:S3.apiValues,json:{type:S3.jsonValues,read:S3.read,write:S3.write}})],Gm.prototype,"order",void 0),Gm=tC=c([S("esri.layers.support.OrderByInfo")],Gm);const Nte=Gm;function bCe(e,t,r){if(!e)return null;const i=e.find(n=>!!n.field);if(!i)return null;const s=new Nte;return s.read(i,r),[s]}function gCe(e,t,r,i){const s=e.find(n=>!!n.field);s&&Ot(r,[s.toJSON()],t)}const vCe={type:[Nte],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:bCe},write:{writer:gCe}}},wCe=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([u(vCe)],t.prototype,"orderBy",void 0),t=c([S("esri.layers.mixins.OrderedLayer")],t),t},_Ce=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=pt(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,i,s){if(i.itemId)return new Ho({id:i.itemId,portal:s==null?void 0:s.portal})}writePortalItem(r,i){r!=null&&r.id&&(i.itemId=r.id)}async loadFromPortal(r,i){var s;if((s=this.portalItem)!=null&&s.id)try{const{load:n}=await C(()=>import("./layersLoader-CUl9xVxQ.js"),__vite__mapDeps([348,259,258,260]));return Ce(i),await n({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},i)}catch(n){throw fr(n)||B.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${n}`),n}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(i=>(Do(i),!0)))}async setUserPrivileges(r,i){if(!it.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(i);if(this.url)try{const{features:{edit:s,fullEdit:n},content:{updateItem:a}}=await this._fetchUserPrivileges(r,i);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",a)}catch(s){Do(s)}}async _fetchUserPrivileges(r,i){let s=this.portalItem;if(!r||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(i);const n=!(Ee!=null&&Ee.findCredential(this.url)),a=r===s.id;if(a&&s.portal.user)return this._getUserPrivileges(s,n);let o,l;if(a)o=s.portal.url;else try{o=await MA(this.url,i)}catch(m){Do(m)}if(!o||!Yue(o,s.portal.url))return this._fetchFallbackUserPrivileges(i);try{const m=i!=null?i.signal:null;l=await(Ee==null?void 0:Ee.getCredential(`${o}/sharing`,{prompt:!1,signal:m}))}catch(m){Do(m)}const d=!0,f=!1,p=!1;if(!l)return{features:{edit:d,fullEdit:f},content:{updateItem:p}};try{if(a?await s.reload():(s=new Ho({id:r,portal:{url:o}}),await s.load(i)),s.portal.user)return this._getUserPrivileges(s,n)}catch(m){Do(m)}return{features:{edit:d,fullEdit:f},content:{updateItem:p}}}_getUserPrivileges(r,i){const s=lSe(r);return i&&(s.features.edit=!0),s}async _fetchFallbackUserPrivileges(r){let i=!0;try{i=await this._fetchUserHasEditingPrivileges(r)}catch(s){Do(s)}return{features:{edit:i,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const i=this.url?Ee==null?void 0:Ee.findCredential(this.url):null;if(!i)return!0;const s=$3.credential===i?$3.user:await this._fetchEditingUser(r);return $3.credential=i,$3.user=s,(s==null?void 0:s.privileges)==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var f,p;const i=(p=(f=this.portalItem)==null?void 0:f.portal)==null?void 0:p.user;if(i)return i;const s=Ee==null?void 0:Ee.findServerInfo(this.url??"");if(!(s!=null&&s.owningSystemUrl))return null;const n=`${s.owningSystemUrl}/sharing/rest`,a=Mr.getDefault();if(a&&a.loaded&&Bn(a.restUrl)===Bn(n))return a.user;const o=`${n}/community/self`,l=r!=null?r.signal:null,d=await D6(ze(o,{authMode:"no-prompt",query:{f:"json"},signal:l}));return d.ok?CA.fromJSON(d.value.data):null}read(r,i){i&&(i.layer=this),super.read(r,i)}write(r,i){var a;const s=i==null?void 0:i.portal,n=((a=this.portalItem)==null?void 0:a.id)&&(this.portalItem.portal||Mr.getDefault());return s&&n&&!tH(n.restUrl,s.restUrl)?(i.messages&&i.messages.push(new I("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...i,layer:this})}};return c([u({type:Ho})],t.prototype,"portalItem",null),c([Y("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([Q("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([u({clonable:!1})],t.prototype,"resourceReferences",void 0),c([u({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),c([u({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),c([u({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=c([S("esri.layers.mixins.PortalLayer")],t),t},$3={credential:null,user:null};let u1=class extends ie{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};c([u()],u1.prototype,"updating",void 0),c([u()],u1.prototype,"status",void 0),u1=c([S("esri.layers.support.PublishingInfo")],u1);const SCe=u1,$Ce=Symbol(),xCe=e=>{var t;let r=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const i=this._get("publishingInfo");if(i)return i;const s=new SCe;return this._checkPublishingStatus(s),s}_checkPublishingStatus(i){let a=0;const o=async d=>{let f;i.updating=!0;try{f=await this.fetchPublishingStatus()}catch{f="unavailable"}f!=="published"&&f!=="unavailable"||(i.status==="publishing"&&this.refresh(),l.remove()),i.status=f,i.updating=!1,l.removed||(a=setTimeout(o,d,d+125))},l={removed:!1,remove(){this.removed=!0,clearTimeout(a)}};this.when().catch(()=>l.remove()),o(250),this.addHandles(l)}};return t=$Ce,c([u({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=c([S("esri.layers.mixins.PublishableLayer")],r),r},iu=new W,rv=new WeakMap;function ECe(e){ICe(e)&&iu.push(new WeakRef(e))}function TCe(e){const t=iu.find(r=>r.deref()===e);t&&iu.remove(t)}function ICe(e){return e!=null&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function Dte(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:Dte(t,e%t):0}let cS=0,x3=0;function CCe(){const e=Date.now();let t=!1;for(const r of iu){const i=r.deref();i?i.refreshInterval&&e-(rv.get(i)??0)+5>=6e4*i.refreshInterval&&(rv.set(i,e),i.refresh(e)):t=!0}if(t)for(let r=iu.length-1;r>=0;r--)iu.at(r).deref()||iu.removeAt(r)}_M(()=>{const e=Date.now();let t=0;for(const r of iu){const i=r.deref();i&&(t=Dte(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?rv.get(i)||rv.set(i,e):rv.delete(i))}if(t!==x3){if(x3=t,clearInterval(cS),x3===0)return void(cS=0);cS=setInterval(CCe,x3)}},Za);const Bz=.1,MCe=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Uo(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||ECe(this)},()=>{})}destroy(){TCe(this)}castRefreshInterval(r){return r>=Bz?r:r<=0?0:Bz}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){Bo(this._debounceHasDataChanged()).then(i=>{i&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:i})},i=>{B.getLogger(this).error(i),this.emit("refresh",{dataChanged:!1,error:i})})}async hasDataChanged(){return!0}get test(){}};return c([u({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Pt}}}}})],t.prototype,"refreshInterval",void 0),c([Oe("refreshInterval")],t.prototype,"castRefreshInterval",null),c([u({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([u({readOnly:!0})],t.prototype,"refreshParameters",null),t=c([S("esri.layers.mixins.RefreshableLayer")],t),t},Vte=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},i=this.parent;i&&"effectiveScaleRange"in i&&ACe(r,i.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===r.minScale&&s.maxScale===r.maxScale?s:r}};return c([u({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([u({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([u({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([S("esri.layers.mixins.ScaleRangeLayer")],t),t};function ACe(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}function Uz(e,t){return ch.fromJSON({value:e,unit:t})}let ti=class extends _e.ClonableMixin(N){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&r.timeExtent.length===2?Ir.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){(t==null?void 0:t.start)!=null&&t.end!=null?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?Uz(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?Uz(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=(t==null?void 0:t.toJSON().value)??null,r.timeIntervalUnits=(t==null?void 0:t.toJSON().unit)??null}};c([u({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],ti.prototype,"cumulative",void 0),c([u({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],ti.prototype,"endField",void 0),c([u({type:Ir,json:{write:{enabled:!0,allowNull:!0}}})],ti.prototype,"fullTimeExtent",void 0),c([Y("fullTimeExtent",["timeExtent"])],ti.prototype,"readFullTimeExtent",null),c([Q("fullTimeExtent")],ti.prototype,"writeFullTimeExtent",null),c([u({type:Boolean,json:{write:!0}})],ti.prototype,"hasLiveData",void 0),c([u({type:ch,json:{write:{enabled:!0,allowNull:!0}}})],ti.prototype,"interval",void 0),c([Y("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],ti.prototype,"readInterval",null),c([Q("interval")],ti.prototype,"writeInterval",null),c([u({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],ti.prototype,"startField",void 0),c([u(g_("timeReference",!0))],ti.prototype,"timeZone",void 0),c([u({type:String,json:{write:{enabled:!0,allowNull:!0}}})],ti.prototype,"trackIdField",void 0),c([u({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],ti.prototype,"useTime",void 0),c([u({type:[Date],json:{read:!1}})],ti.prototype,"stops",void 0),ti=c([S("esri.layers.support.TimeInfo")],ti);const zte=ti,kCe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Pt}}},LCe=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,i){const s=i.timeInfo.exportOptions;if(!s)return null;const n=s.timeOffset,a=$k.fromJSON(s.timeOffsetUnits);return n&&a?new ch({value:n,unit:a}):null}set timeInfo(r){uY(r,this.fieldsIndex),this._set("timeInfo",r)}};return c([u({type:Ir,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([u({type:ch})],t.prototype,"timeOffset",void 0),c([Y("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([u({value:null,type:zte,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([u(kCe)],t.prototype,"useViewTime",void 0),t=c([S("esri.layers.mixins.TemporalLayer")],t),t};let Kf=class extends _e.ClonableMixin(N){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};c([u({type:[J2],json:{write:!0}})],Kf.prototype,"labelingInfo",void 0),c([u(q4)],Kf.prototype,"labelsVisible",void 0),c([u({types:Y2,json:{write:!0}})],Kf.prototype,"renderer",void 0),c([u({type:Boolean,json:{write:!0}})],Kf.prototype,"visible",void 0),Kf=c([S("esri.layers.support.TrackPartInfo")],Kf);const H0=Kf;let fs=class extends _e.ClonableMixin(N){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new H0({renderer:new mc({symbol:J_.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new H0({renderer:new mc({symbol:J_.clone()})}),this.trackLines=new H0({renderer:new mc({symbol:zk.clone()})}),this.timeField="startTimeField"}writeFields(t,r,i){const s=t.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());Ot(i,s,r)}};c([u({type:Boolean,json:{write:!0}})],fs.prototype,"enabled",void 0),c([u({type:[Nu],json:{write:!0}})],fs.prototype,"fields",void 0),c([Q("fields")],fs.prototype,"writeFields",null),c([u({type:H0,json:{write:!0}})],fs.prototype,"latestObservations",void 0),c([u({type:ch,json:{write:!0}})],fs.prototype,"maxDisplayDuration",void 0),c([u({type:Number,json:{write:!0}})],fs.prototype,"maxDisplayObservationsPerTrack",void 0),c([u(j4)],fs.prototype,"popupEnabled",void 0),c([u({type:tb,json:{name:"popupInfo",write:!0}})],fs.prototype,"popupTemplate",void 0),c([u({type:H0,json:{write:!0}})],fs.prototype,"previousObservations",void 0),c([u({type:H0,json:{write:!0}})],fs.prototype,"trackLines",void 0),c([u({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],fs.prototype,"timeField",void 0),fs=c([S("esri.layers.support.TrackInfo")],fs);const RCe=fs,OCe=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return c([u({type:RCe})],t.prototype,"trackInfo",void 0),t=c([S("esri.layers.mixins.TrackableLayer")],t),t},Gz=new ye({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Ed=class extends _e.ClonableMixin(N){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([u({json:{write:!0}})],Ed.prototype,"name",void 0),c([u({json:{write:!0}})],Ed.prototype,"description",void 0),c([u({json:{read:Gz.read,write:Gz.write}})],Ed.prototype,"drawingTool",void 0),c([u({json:{write:!0}})],Ed.prototype,"prototype",void 0),c([u({json:{write:!0}})],Ed.prototype,"thumbnail",void 0),Ed=c([S("esri.layers.support.FeatureTemplate")],Ed);const rL=Ed;let Nl=class extends _e.ClonableMixin(N){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){const r={};for(const i of Object.keys(t))r[i]=E4(t[i]);return r}writeDomains(t,r){var s;const i={};for(const n of Object.keys(t))t[n]&&(i[n]=(s=t[n])==null?void 0:s.toJSON());r.domains=i}};c([u({json:{write:!0}})],Nl.prototype,"id",void 0),c([u({json:{write:!0}})],Nl.prototype,"name",void 0),c([u({json:{write:!0}})],Nl.prototype,"domains",void 0),c([Y("domains")],Nl.prototype,"readDomains",null),c([Q("domains")],Nl.prototype,"writeDomains",null),c([u({type:[rL],json:{write:!0}})],Nl.prototype,"templates",void 0),Nl=c([S("esri.layers.support.FeatureType")],Nl);const jte=Nl;function FCe(){return{fields:{type:[q2],value:null,set:function(e){if(e&&V("big-integer-warning-enabled")){const t=e.filter(r=>r.type==="big-integer"||r.type==="oid"&&(r.length||0)>=8);if(t.length){const r=t.map(i=>`'${i.name}'`).join(", ");B.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${r}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return lte.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var t;const e=this._userOutFields;if(!(e!=null&&e.length))return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const r of e)((t=this.fieldsIndex)==null?void 0:t.has(r))||B.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${r} found in outFields`,{layer:this,outFields:e});return p4(this.fieldsIndex,e)}}}}const dS=()=>B.getLogger("esri.layers.support.labelingInfo"),PCe=/\[([^[\]]+)\]/gi;function uS(e,t,r){return e?e.map(i=>{var n;const s=new J2;if(s.read(i,r),s.labelExpression){const a=t.fields||((n=t.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(PCe,(o,l)=>`[${NCe(l,a)}]`)}return s}):null}function NCe(e,t){if(!t)return e;const r=e.toLowerCase();for(let i=0;i<t.length;i++){const s=t[i].name;if(s.toLowerCase()===r)return s}return e}const DCe={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function AXe(e,t){const r=[];for(const i of e){const s=i.labelPlacement,n=DCe[t];if(!i.symbol)return dS().warn("No ILabelClass symbol specified."),[];if(!n)return dS().error(new I("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(n.includes(s))r.push(i);else{const a=n[0];s&&dS().warn(`Found invalid label placement type ${s} for ${t}. Defaulting to ${a}`);const o=i.clone();o.labelPlacement=a,r.push(o)}}return r}const VCe="relationships/",zCe="expression/";let Vi=class extends ie{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||_c(()=>ln()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??C(()=>Promise.resolve().then(()=>TNe),void 0).then(t=>this._featureUtils=t)}get calculatedExpressions(){var r;const t=new W;if(!this.expressionsUsedInTitle.length)return t;if(!((r=this._arcadeTask)!=null&&r.value)){for(const i of this.expressionsUsedInTitle??[])t.push({name:i.name,invalid:!0});return t}for(const i of this.expressionsUsedInTitle)try{const s=this._arcadeTask.value.arcade.parseScript(i.expression,["$layer","$map","$datastore"]);if(s.isAsync){t.push({name:i.name,invalid:!0});break}t.push({name:i.name,syntax:s,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(s,{vars:{$feature:"any"}})})}catch{t.push({name:i.name,invalid:!0});break}return t}get expressionsUsedInTitle(){var r,i,s;let t=((r=this.effectivePopupTemplate)==null?void 0:r.title)??"";return typeof t!="string"?[]:(t=t.toLowerCase(),((s=(i=this.effectivePopupTemplate)==null?void 0:i.expressionInfos)==null?void 0:s.filter(n=>t.includes(`{expression/${n.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){var i,s;const t=new Set;if((i=this._arcadeTask)!=null&&i.value&&!this.hasBadExpressions)for(const n of((s=this.calculatedExpressions)==null?void 0:s.toArray())??[])try{const a=this._arcadeTask.value.arcade.extractFieldLiterals(n.syntax);for(const o of a){const l=o.split("."),d=this.fieldsIndex.get(l.at(-1)??"");d&&t.add(d.name)}}catch{}const r=this._extractFieldNames(this.workingTitle);for(const n of r){const a=this.fieldsIndex.get(n);a&&t.add(a.name)}return t}get titleFromDisplayField(){var r,i;let t="";return this.displayField&&(t=((r=this.fieldsIndex.get(this.displayField))==null?void 0:r.name)??""),t||(t=((i=this.fieldsIndex.get(this.objectIdField))==null?void 0:i.name)??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,r,i){var s;try{const{attributes:n}=r,a=(i==null?void 0:i.timeZone)??"system",[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,(s=this._arcadeTask)==null?void 0:s.promise]);if(i.fetchMissingFields&&(r=await this._checkAndReQueryGraphic(t,r)),this.workingTitle&&this.fieldInfoMap){const l=this._createFormattedAttributes(t,r,a).global;return o({attributes:n,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:l,layer:t,text:this.workingTitle})}return""}catch{}return""}async _checkAndReQueryGraphic(t,r){const i=r.getObjectId();if(i==null)return r;if(!xY(this.requiredFields,r)){const s=t.createQuery();s.where="1=1",s.outFields=[...this.requiredFields],s.objectIds=[i];const n=await t.queryFeatures(s);if((n==null?void 0:n.features.length)===1)return n.features[0]}return r}_createFieldInfoMap(t){const r=new Map;if(!t)return r;for(const i of t){if(!i.fieldName)continue;const s=this.fieldsIndex.get(i.fieldName),n=(s==null?void 0:s.name)??i.fieldName;i.fieldName=n,r.set(n.toLowerCase(),i)}return r}_createFormattedAttributes(t,r,i="system"){var o,l;const s=((o=this.effectivePopupTemplate)==null?void 0:o.fieldInfos)??[],n={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&((l=this._arcadeTask)!=null&&l.value)){const d=this._arcadeTask.value.Feature.createFromGraphicLikeObject(r.geometry,r.attributes,t,null);for(const f of this.calculatedExpressions)try{n[`expression/${f.name}`]=f.func({vars:{$feature:d}})}catch{}}const a={...r.attributes,...n};return{global:this._featureUtils.formatAttributes({fieldInfos:s,attributes:a,graphic:r,timeZone:i,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return NA(t).filter(r=>!(r.indexOf(VCe)===0||r.indexOf(zCe)===0))}};c([u({readOnly:!0})],Vi.prototype,"_arcadeTask",null),c([u()],Vi.prototype,"_featureUtils",void 0),c([u({readOnly:!0})],Vi.prototype,"featureUtilsPromise",null),c([u({readOnly:!0})],Vi.prototype,"calculatedExpressions",null),c([u()],Vi.prototype,"displayField",void 0),c([u()],Vi.prototype,"effectivePopupTemplate",void 0),c([u()],Vi.prototype,"expressionsUsedInTitle",null),c([u()],Vi.prototype,"fieldsIndex",void 0),c([u()],Vi.prototype,"fieldInfoMap",null),c([u()],Vi.prototype,"fields",void 0),c([u()],Vi.prototype,"objectIdField",void 0),c([u()],Vi.prototype,"requiredFields",null),Vi=c([S("esri.layers.support.TitleCreator")],Vi);const jCe=Vi,Hm=[];function qCe(e,t){if(gv(e.url??""))return!0;const{wkid:r}=t;for(const i of Hm){if((e.version??0)>=i[0])return!0;if(typeof i[1]=="function"&&(i[1]=i[1]()),i[1].has(r))return!1}return!0}Hm.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),Hm.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Hm.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Hm.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Hm.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]);async function BCe(e,t,r){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&i.type==="unique-value"&&i.styleOrigin){const s=await D6(i.populateFromStyle());if(Ce(r),s.ok===!1){const n=s.error;t!=null&&t.messages&&t.messages.push(new Un("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t==null?void 0:t.origin)}}}function UCe({displayField:e,editFieldsInfo:t,fields:r,objectIdField:i,title:s},n){if(!r)return null;const a=ZCe({editFieldsInfo:t,fields:r,objectIdField:i},n);if(!a.length)return null;const o=QCe({titleBase:s,fields:r,displayField:e}),l=YCe();return new tb({title:o,content:l,fieldInfos:a})}function Hz(e){var d;const{title:t,graphic:r}=e??{},{attributes:i,sourceLayer:s}=r??{},n=s&&"displayField"in s?s.displayField:null,a=n?i==null?void 0:i[n]:null,o=a!=null?JSON.stringify(a):null,l=(d=r==null?void 0:r.getObjectId())==null?void 0:d.toString();return t||o||l||""}const GCe=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):P2e(e,t);function HCe({fields:e,ignoreFieldTypes:t,sortDisabled:r}){const i=e;return t&&(e=e.filter(s=>!t.includes(s.type))),e===i&&(e=e.slice()),r!==!0&&e.sort(WCe),e}function WCe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:Wz(e)?-1:Wz(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function ZCe(e,t){const r=t==null?void 0:t.visibleFieldNames;return HCe({fields:e.fields??[],ignoreFieldTypes:(t==null?void 0:t.ignoreFieldTypes)||KCe,sortDisabled:t==null?void 0:t.sortDisabled}).map(i=>new O2({fieldName:i.name,isEditable:F2e(i,e),label:i.alias,format:JCe(i),visible:GCe(i,{...e,visibleFieldNames:r})}))}function JCe(e){switch(e.type){case"small-integer":case"integer":case"single":return new $9({digitSeparator:!0,places:0});case"double":return new $9({digitSeparator:!0,places:2});case"string":return Ix(e.name)?new $9({digitSeparator:!0,places:0}):void 0;default:return}}function YCe(){return[new oh,new Sy]}function QCe(e){const t=T2e(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function Wz(e){var r;return(e.name&&e.name.toLowerCase())==="name"?!0:((r=e.alias)==null?void 0:r.toLowerCase())==="name"}const KCe=["geometry","blob","raster","guid","xml"],Xr="FeatureLayer";function E3(e,t){return new I("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function Zz(e){return e&&e instanceof W}const fS=FCe();function pS(e,t,r){const i=!!(r!=null&&r.writeLayerSchema);return{enabled:i,ignoreOrigin:i}}let oe=class extends STe(hCe(nxe(xCe(txe(K$e(see(wCe(LCe(OCe(Vte(MCe(h$e(yCe(_Ce(N4(z$e(p$e(_e.ClonableMixin(f4))))))))))))))))))){constructor(...t){super(...t),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=me.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=Uo(async(r,i,s)=>{const{save:n,saveAs:a}=await C(()=>import("./featureLayerUtils-D0ACFqlI.js"),__vite__mapDeps([349,343,344,350,347,259]));switch(r){case zo.SAVE:return n(this,i);case zo.SAVE_AS:return a(this,s,i)}})}destroy(){var t;(t=this.source)==null||t.destroy()}normalizeCtorArgs(t,r){return typeof t=="string"?{url:t,...r}:t}load(t){var s;const r=t!=null?t.signal:null;if((s=this.portalItem)!=null&&s.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(r).then(n=>this.initLayerProperties(n))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(Do).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstValidLayerId(r);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new I("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(r))}).then(()=>BEe(this,"load",t));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){const t=this._get("_titleCreator");return pt(t),new jCe({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(t,r){return r=r.layerDefinition||r,tte(r,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){var t;return!(this.loaded&&!((t=this.capabilities)!=null&&t.operations.supportsEditing))&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,r){return this._readEditingEnabled(r,!1)}readEditingEnabledFromWebMap(t,r,i){return this._readEditingEnabled(r,!0,i)}writeEditingEnabled(t,r){this._writeEditingEnabled(t,r,!1)}writeEditingEnabledToWebMap(t,r,i,s){this._writeEditingEnabled(t,r,!0,s)}get effectiveEditingEnabled(){return HEe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(t,r){return(r=(r==null?void 0:r.layerDefinition)??r).type==="Table"||!r.geometryType}writeIsTable(t,r,i,s){s!=null&&s.writeLayerSchema&&Ot(i,t?"Table":"Feature Layer",r)}readGlobalIdField(t,r){return Uee(r.layerDefinition||r)}readObjectIdField(t,r){return Gee(r.layerDefinition||r)}get parsedUrl(){const t=Zt(this.url);return t!=null&&(this.dynamicDataSource!=null?t.path=Qp(t.path,"dynamicLayer"):this.layerId!=null&&(t.path=Qp(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){SP(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,r,i){var n;r=r.layerDefinition||r;const s=(n=r.drawingInfo)==null?void 0:n.renderer;if(s){const a=Vv(s,r,i)??void 0;return a||B.getLogger(this).error("Failed to create renderer",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:i}),a}return Hk(r,i)}set source(t){const r=this._get("source");r!==t&&(Zz(r)&&this._resetMemorySource(r),Zz(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof W?new Wl({layer:this,items:t}):t:null}readSource(t,r){const i=ob.fromJSON(r.featureSet);return new Wl({layer:this,items:(i==null?void 0:i.features)??[]})}readTemplates(t,r){const i=r.editFieldsInfo,s=i==null?void 0:i.creatorField,n=i==null?void 0:i.editorField;return t=t==null?void 0:t.map(a=>rL.fromJSON(a)),this._fixTemplates(t,s),this._fixTemplates(t,n),t}readTitle(t,r){var n,a,o;const i=((n=r.layerDefinition)==null?void 0:n.name)??r.name,s=r.title||((a=r.layerDefinition)==null?void 0:a.title);if(i){const l=(o=this.portalItem)==null?void 0:o.title;if(this.sublayerTitleMode==="item-title")return this.url?yfe(this.url,i):i;let d=i;if(!d&&this.url){const f=Iu(this.url);f!=null&&(d=f.title)}return d?(this.sublayerTitleMode==="item-title-and-service-name"&&l&&l!==d&&(d=l+" - "+d),UM(d)):void 0}if(this.sublayerTitleMode==="item-title"&&s)return s}readTitleFromWebMap(t,r){var i;return r.title||((i=r.layerDefinition)==null?void 0:i.name)}readTypeIdField(t,r){let i=(r=r.layerDefinition||r).typeIdField;if(i&&r.fields){i=i.toLowerCase();const s=r.fields.find(n=>n.name.toLowerCase()===i);s&&(i=s.name)}return i}readTypes(t,r){t=(r=r.layerDefinition||r).types;const i=r.editFieldsInfo,s=i==null?void 0:i.creatorField,n=i==null?void 0:i.editorField;return t==null?void 0:t.map(a=>(a=jte.fromJSON(a),this._fixTemplates(a.templates,s),this._fixTemplates(a.templates,n),a))}readVisible(t,r){var i;return((i=r.layerDefinition)==null?void 0:i.defaultVisibility)!=null?!!r.layerDefinition.defaultVisibility:r.visibility!=null?!!r.visibility:void 0}async addAttachment(t,r){const i=await xEe(this,t,r,Xr);return this.lastEditsEventDate=new Date,i}async updateAttachment(t,r,i){const s=await EEe(this,t,r,i,Xr);return this.lastEditsEventDate=new Date,s}async applyEdits(t,r){return TEe(this,t,r)}async uploadAssets(t,r){return IEe(this,t,r)}on(t,r){return super.on(t,r)}createPopupTemplate(t){return UCe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:r}=await bM(C(()=>import("./FeatureLayerSource-BghikZxo.js"),__vite__mapDeps([351,147,154,352,353,150,196,149,197,354,355,133,126,356,357,122])),t);return new r({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=NEe(this);t.dynamicDataSource=this.dynamicDataSource;const r=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=iY(this.definitionExpression,r);return t.where=i||"1=1",t}async deleteAttachments(t,r){const i=await CEe(this,t,r,Xr);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(t){return MEe(this,t,Xr)}getFeatureTitle(t,r={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,t,r)}getFeatureType(t){return Zee(this.types,this.typeIdField,t)}getFieldDomain(t,r){var i;return VEe(this,t,r,((i=this.getField(t))==null?void 0:i.domain)??null)}async queryAttachments(t,r){return AEe(this,t,r,Xr)}async queryFeatures(t,r){const i=await this.load(),s=await i.source.queryFeatures(li.from(t)??i.createQuery(),r);if(s!=null&&s.features)for(const n of s.features)n.layer=n.sourceLayer=i;return s}async queryObjectIds(t,r){return(await kEe(this,t,r,Xr)).filter(gP)}async queryFeatureCount(t,r){return LEe(this,t,r,Xr)}async queryExtent(t,r){return REe(this,t,r,Xr)}async queryRelatedFeatures(t,r){return OEe(this,t,r,Xr)}async queryRelatedFeaturesCount(t,r){return FEe(this,t,r,Xr)}async queryTopFeatures(t,r){var o;const{source:i,capabilities:s}=await this.load();if(!i.queryTopFeatures||!((o=s==null?void 0:s.query)!=null&&o.supportsTopFeaturesQuery))throw new I(Xr,"Layer source does not support queryTopFeatures capability");const n=await C(()=>import("./TopFeaturesQuery-B3J2iDJ3.js"),[]),a=await i.queryTopFeatures(n.default.from(t),r);if(a!=null&&a.features)for(const l of a.features)l.layer=l.sourceLayer=this;return a}async queryAttributeBins(t,r){var o;const{source:i,capabilities:s}=await this.load();if(!i.queryAttributeBins||!((o=s==null?void 0:s.operations)!=null&&o.supportsQueryBins))throw new I(Xr,"Layer source does not support queryAttributeBins capability");YEe(t,s,Xr);const n=await C(()=>Promise.resolve().then(()=>rje),void 0),a=await i.queryAttributeBins(n.default.from(t),r);if(a.features)for(const l of a.features)l.layer=l.sourceLayer=this;return a}async queryTopObjectIds(t,r){const{source:i,capabilities:s}=await this.load();if(!i.queryTopObjectIds||!(s!=null&&s.query.supportsTopFeaturesQuery))throw new I(Xr,"Layer source does not support queryTopObjectIds capability");const n=await C(()=>import("./TopFeaturesQuery-B3J2iDJ3.js"),[]);return(await i.queryTopObjectIds(n.default.from(t),r)).filter(gP)}async queryTopFeaturesExtent(t,r){var a;const{source:i,capabilities:s}=await this.load();if(!i.queryTopExtents||!((a=s==null?void 0:s.query)!=null&&a.supportsTopFeaturesQuery))throw new I(Xr,"Layer source does not support queryTopExtents capability");const n=await C(()=>import("./TopFeaturesQuery-B3J2iDJ3.js"),[]);return i.queryTopExtents(n.default.from(t),r)}async queryTopFeatureCount(t,r){var a;const{source:i,capabilities:s}=await this.load();if(!i.queryTopCount||!((a=s==null?void 0:s.query)!=null&&a.supportsTopFeaturesQuery))throw new I(Xr,"Layer source does not support queryFeatureCount capability");const n=await C(()=>import("./TopFeaturesQuery-B3J2iDJ3.js"),[]);return i.queryTopCount(n.default.from(t),r)}read(t,r){const i=t.featureCollection;if((i||t.type==="Feature Collection")&&(this.resourceInfo=t),i){const s=i.layers;s&&s.length===1&&(super.read(s[0],r),i.showLegend!=null&&super.read({showLegend:i.showLegend},r))}super.read(t,r),r&&r.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,r){r={...r,origin:(r==null?void 0:r.origin)??void 0,writeLayerSchema:(r==null?void 0:r.writeLayerSchema)??this._hasMemorySource()};const{origin:i,layerContainerType:s,messages:n}=r;if(this.dynamicDataSource)return n==null||n.push(E3(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&s!=="tables")return n==null||n.push(E3(this,`a table source can only be written to tables, not ${s}`)),null;if(this._hasMemorySource())return n==null||n.push(E3(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&s==="tables")return n==null||n.push(E3(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,r)}clone(){if(this._hasMemorySource())throw new I(Xr,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){var r;return!!this.loaded&&(((r=this.source)==null?void 0:r.type)==="memory"||qCe(this,t))}async save(t){return this._debouncedSaveOperations(zo.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(zo.SAVE_AS,r,t)}_readEditingEnabled(t,r,i){var n;let s=(n=t.layerDefinition)==null?void 0:n.capabilities;return s?this._hasEditingCapability(s):(s=t.capabilities,r&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&s?this._hasEditingCapability(s):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(r=>r.trim()).includes("editing")}_writeEditingEnabled(t,r,i,s){var n,a;if(!t){const o=(a=(n=this.capabilities)==null?void 0:n.operations)!=null&&a.supportsSync?"Query,Sync":"Query";Ot("layerDefinition.capabilities",o,r),i&&!(s!=null&&s.writeLayerSchema)&&(r.capabilities=o)}}_fetchFirstValidLayerId(t){return ze(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(r=>{const i=r.data;if(i)return this.findFirstValidLayerId(i)})}async initLayerProperties(t){var r;return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:(r=this.portalItem)==null?void 0:r.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),SP(this.renderer,this.fieldsIndex),uY(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),BCe(this,{origin:"service"})}async hasDataChanged(){return PEe(this)}async fetchPublishingStatus(){const t=this.source;return t!=null&&t.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){var r,i;const t=((r=this.parsedUrl)==null?void 0:r.path)??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||(i=this.fields)!=null&&i.some(s=>s.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,r){t&&t.forEach(i=>{var n;const s=(n=i.prototype)==null?void 0:n.attributes;s&&r&&delete s[r]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new I("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new I("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(r=>{r.layer=this,r.sourceLayer=this}),this.addHandles([t.on("after-add",r=>{r.item.layer=this,r.item.sourceLayer=this}),t.on("after-remove",r=>{r.item.layer=null,r.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(r=>{r.layer=null,r.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};c([u({clonable:!1,readOnly:!0})],oe.prototype,"_titleCreator",null),c([u(gxe)],oe.prototype,"attributeTableTemplate",void 0),c([Y("service","capabilities")],oe.prototype,"readCapabilities",null),c([u({json:{origins:{"web-scene":{write:!1}},write:!0}})],oe.prototype,"charts",void 0),c([u({readOnly:!0})],oe.prototype,"createQueryVersion",null),c([u({json:{read:{source:"layerDefinition.copyrightText"}}})],oe.prototype,"copyright",void 0),c([u({json:{read:{source:"layerDefinition.displayField"}}})],oe.prototype,"displayField",void 0),c([u({types:eu,readOnly:!0})],oe.prototype,"defaultSymbol",void 0),c([u({type:Oa})],oe.prototype,"dynamicDataSource",void 0),c([u({type:Boolean})],oe.prototype,"editingEnabled",null),c([Y(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],oe.prototype,"readEditingEnabled",null),c([Y("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],oe.prototype,"readEditingEnabledFromWebMap",null),c([Q(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],oe.prototype,"writeEditingEnabled",null),c([Q("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],oe.prototype,"writeEditingEnabledToWebMap",null),c([u({readOnly:!0})],oe.prototype,"effectiveEditingEnabled",null),c([u({clonable:!1,readOnly:!0})],oe.prototype,"featureTitleFields",null),c([u({...fS.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:pS}}}}})],oe.prototype,"fields",void 0),c([u(fS.fieldsIndex)],oe.prototype,"fieldsIndex",void 0),c([u({type:l$e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],oe.prototype,"formTemplate",void 0),c([u({json:{read:{source:"layerDefinition.extent"}}})],oe.prototype,"fullExtent",void 0),c([u({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:pS,writer(e,t,r){const i=e?RI.toJSON(e):null;i&&Ot(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:RI.read}}})],oe.prototype,"geometryType",void 0),c([u({json:{read:{source:"layerDefinition.hasM"}}})],oe.prototype,"hasM",void 0),c([u({json:{read:{source:"layerDefinition.hasZ"}}})],oe.prototype,"hasZ",void 0),c([u(mxe)],oe.prototype,"id",void 0),c([u({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],oe.prototype,"infoFor3D",void 0),c([u({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],oe.prototype,"isTable",void 0),c([Y("service","isTable",["type","geometryType"]),Y("isTable",["layerDefinition.type","layerDefinition.geometryType"])],oe.prototype,"readIsTable",null),c([Q("web-map","isTable")],oe.prototype,"writeIsTable",null),c([u(q4)],oe.prototype,"labelsVisible",void 0),c([u({type:[J2],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:uS,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:uS,write:{enabled:!0,layerContainerTypes:Pt}}},name:"layerDefinition.drawingInfo.labelingInfo",read:uS,write:!0}})],oe.prototype,"labelingInfo",void 0),c([u((()=>{const e=O(hxe);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,i){Ot(i,l4(t),r)}}},e})())],oe.prototype,"opacity",void 0),c([u(fxe)],oe.prototype,"legendEnabled",void 0),c([u({type:["show","hide"],json:(()=>{const e=O(vee.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],oe.prototype,"listMode",void 0),c([Y("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],oe.prototype,"readGlobalIdField",null),c([u({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:pS}}}}})],oe.prototype,"objectIdField",void 0),c([Y("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],oe.prototype,"readObjectIdField",null),c([u({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:Pt}}})],oe.prototype,"operationalLayerType",void 0),c([u(fS.outFields)],oe.prototype,"outFields",void 0),c([u({readOnly:!0})],oe.prototype,"parsedUrl",null),c([u({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],oe.prototype,"path",void 0),c([u(j4)],oe.prototype,"popupEnabled",void 0),c([u({type:tb,json:{name:"popupInfo",write:!0}})],oe.prototype,"popupTemplate",void 0),c([u({readOnly:!0})],oe.prototype,"defaultPopupTemplate",null),c([u({types:Y2,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:YIe,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Pt,overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],oe.prototype,"renderer",null),c([Y("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Y("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],oe.prototype,"readRenderer",null),c([u()],oe.prototype,"resourceInfo",void 0),c([u((()=>{const e=O(dxe);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],oe.prototype,"screenSizePerspectiveEnabled",void 0),c([u({clonable:!1})],oe.prototype,"source",null),c([Oe("source")],oe.prototype,"castSource",null),c([Y("portal-item","source",["featureSet"]),Y("web-map","source",["featureSet"])],oe.prototype,"readSource",null),c([u({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],oe.prototype,"spatialReference",void 0),c([u({type:Number})],oe.prototype,"subtypeCode",void 0),c([u({type:[rL]})],oe.prototype,"templates",void 0),c([Y("templates",["editFieldsInfo","creatorField","editorField","templates"])],oe.prototype,"readTemplates",null),c([u({type:zte})],oe.prototype,"timeInfo",void 0),c([u()],oe.prototype,"title",void 0),c([Y("service","title",["name"]),Y("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],oe.prototype,"readTitle",null),c([Y("web-map","title",["layerDefinition.name","title"])],oe.prototype,"readTitleFromWebMap",null),c([u({type:String})],oe.prototype,"sublayerTitleMode",void 0),c([u({json:{read:!1}})],oe.prototype,"type",void 0),c([u({type:String})],oe.prototype,"typeIdField",void 0),c([Y("service","typeIdField"),Y("typeIdField",["layerDefinition.typeIdField"])],oe.prototype,"readTypeIdField",null),c([u({type:[jte]})],oe.prototype,"types",void 0),c([Y("service","types",["types"]),Y("types",["layerDefinition.types"])],oe.prototype,"readTypes",null),c([u({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],oe.prototype,"visible",void 0),c([Y("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],oe.prototype,"readVisible",null),oe=c([S("esri.layers.FeatureLayer")],oe);const My=oe,RXe=Object.freeze(Object.defineProperty({__proto__:null,default:My},Symbol.toStringTag,{value:"Module"}));let Dl=class extends N{constructor(t){super(t),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};c([u({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],Dl.prototype,"moment",void 0),c([u({type:Boolean,json:{write:!0}})],Dl.prototype,"fullUpdate",void 0),c([u({type:Boolean,json:{write:!0}})],Dl.prototype,"validateErrorsCreated",void 0),c([u({type:Boolean,json:{write:!0}})],Dl.prototype,"exceededTransferLimit",void 0),c([u({type:[Object],json:{write:!0}})],Dl.prototype,"serviceEdits",void 0),c([u({type:[Object],json:{write:!0}})],Dl.prototype,"discoveredSubnetworks",void 0),Dl=c([S("esri.rest.networks.support.ValidateNetworkTopologyResult")],Dl);const XCe=Dl,eMe=ar()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Td=class extends XCe{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:i}=await ze(this.statusUrl,r);return this.read(i),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:i}=t;return new Promise((s,n)=>{this._clearTimer();const a=setInterval(()=>{this._timer||n(mt()),this.checkJobStatus().then(o=>{const{status:l}=o;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":i&&i(this)}},o=>{this._clearTimer(),n(o)})},r);this._timer=a})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};c([u()],Td.prototype,"editsResolver",void 0),c([u({type:String,json:{write:!0}})],Td.prototype,"statusUrl",void 0),c([re(eMe)],Td.prototype,"status",void 0),c([u({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],Td.prototype,"submissionTime",void 0),c([u({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],Td.prototype,"lastUpdatedTime",void 0),Td=c([S("esri.networks.support.TopologyValidationJobInfo")],Td);const tMe=Td;async function Jz(e,t){if(e==="Utility Network Layer"){const{default:r}=await C(()=>Promise.resolve().then(()=>bMe),void 0);return new r({layerUrl:t})}return null}async function rMe(e){var a;let t="portalItem"in e?e:{portalItem:e};!t.portalItem||t.portalItem instanceof Ho||(t={...t,portalItem:new Ho(t.portalItem)});const r=t.portalItem;if(await r.load(),r.type!=="Feature Service")throw new I("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type});const i=r.url,s=await ze(i,{responseType:"json",query:{f:"json"}}),n="Network Layer";if((a=s.data.type)!=null&&a.includes(n))return Jz(s.data.type,i);if(s.data.layers){const o=s.data.layers.find(l=>l.type.includes(n));if(o){const l=`${i}/${o.id}`;return Jz(o.type,l)}}return null}let dr=class extends N4(Ai){static fromPortalItem(t){return rMe(t)}constructor(t){super(t),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=r=>{const{serviceUrl:i,gdbVersion:s,result:n}=r,a=i===this.featureServiceUrl,o=K1(i,s,this.gdbVersion);a&&o&&n.then(l=>{i5(i,s)&&(this.historicMoment=l.historicMoment)})},this._updateMomentHandler=r=>{const{serviceUrl:i,gdbVersion:s,moment:n}=r,a=i===this.featureServiceUrl,o=K1(i,s,this.gdbVersion);a&&o&&(this.historicMoment=n)},this.when().then(()=>{this.addHandles([dee(this._applyEditsHandler),uee(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(t=>{fr(t)||B.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}get datasetName(){var t;return((t=this.dataElement)==null?void 0:t.name)??null}get owner(){var t;return((t=this.dataElement)==null?void 0:t.userIdentity)??null}get schemaGeneration(){var t;return((t=this.dataElement)==null?void 0:t.schemaGeneration)??null}get parsedUrl(){return Zt(this.layerUrl)}get featureServiceUrl(){return Iu(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return Iu(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(t){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,t)),this}getLayerIdBySourceId(t){if(!this.dataElement)return null;const r=this._layerIdBySourceId.get(t);if(r!=null)return r;const i=this.dataElement.domainNetworks,s=this._traverseNetworkSources(i,this._layerIdBySourceId,"sourceId","layerId",t);return s>=0?s:null}getSourceIdByLayerId(t){if(!this.dataElement)return null;const r=this._sourceIdByLayerId.get(t);if(r!=null)return r;const i=this.dataElement.domainNetworks,s=this._traverseNetworkSources(i,this._sourceIdByLayerId,"layerId","sourceId",t);return s>=0?s:null}getObjectIdsFromElements(t){const r=[],i=new Map;for(const n of t){const a=this.getLayerIdBySourceId(n.networkSourceId);if(a==null)continue;let o=i.get(a);o===void 0&&(o=[]),o.push(n.objectId),i.set(a,o)}const s=this.featureServiceUrl;return i.forEach((n,a)=>r.push({layerUrl:`${s}/${a}`,objectIds:n})),r}async queryNamedTraceConfigurations(t,r){var o;const[{queryNamedTraceConfigurations:i},{default:s}]=await Promise.all([C(()=>import("./queryNamedTraceConfigurations-CQmwFItE.js"),[]),C(()=>import("./QueryNamedTraceConfigurationsParameters-Brh0J4eB.js"),[])]),n=this.networkServiceUrl,a=s.from(t);return(o=await i(n,a,{...r}))==null?void 0:o.namedTraceConfigurations}async validateTopology(t,r){var f,p,m;if(!t.validateArea)throw new I("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:i},{default:s}]=await Promise.all([C(()=>import("./validateNetworkTopology-BNBjPcms.js"),[]),C(()=>import("./ValidateNetworkTopologyParameters-HHQuZV4K.js"),[])]),n=s.from(t);i5(this.featureServiceUrl,this.gdbVersion||null)?(n.sessionID=XT,await ND(this.featureServiceUrl,this.gdbVersion,!0)):n.sessionID=null,n.gdbVersion=this.gdbVersion;const a=this.networkServiceUrl,o=this.featureServiceUrl,l=DD(o,null,this.gdbVersion,!0),d=await i(a,n,{...r});if(d!=null&&d.serviceEdits){const y=[];for(const b of d.serviceEdits){const{editedFeatures:g}=b,v=g!=null&&g.spatialReference?new me(g.spatialReference):null;y.push({layerId:b.layerId,editedFeatures:{adds:((f=g==null?void 0:g.adds)==null?void 0:f.map(w=>T3(w,v)))||[],updates:((p=g==null?void 0:g.updates)==null?void 0:p.map(w=>({original:T3(w[0],v),current:T3(w[1],v)})))||[],deletes:((m=g==null?void 0:g.deletes)==null?void 0:m.map(w=>T3(w,v)))||[],spatialReference:v}})}l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:y,exceededTransferLimit:!1,historicMoment:d.moment})}return d}async submitTopologyValidationJob(t,r){let i=null;if(!t.validateArea)throw new I("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const f=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await ze(f,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:s},{default:n}]=await Promise.all([C(()=>import("./validateNetworkTopology-BNBjPcms.js"),[]),C(()=>import("./ValidateNetworkTopologyParameters-HHQuZV4K.js"),[])]),a=n.from(t);i5(this.featureServiceUrl,this.gdbVersion||null)?(a.sessionID=XT,await ND(this.featureServiceUrl,this.gdbVersion,!0)):a.sessionID=null,a.gdbVersion=this.gdbVersion||i;const o=this.networkServiceUrl,l=this.featureServiceUrl?DD(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,d=await s(o,a,{...r});return new tMe({statusUrl:d,editsResolver:l})}getSourceTypeById(t){if(!this.dataElement)return null;for(const r of this.dataElement.domainNetworks)for(const i of[r.edgeSources??[],r.junctionSources??[]])for(const s of i)if(s.sourceId===t)return i===r.edgeSources?"edge":"junction";return null}_traverseNetworkSources(t,r,i,s,n){for(const a of t)for(const o of[a.edgeSources??[],a.junctionSources??[]])for(const l of o)if(l[i]===n)return r.set(n,l[s]),l[s];return-1}async _fetchLayerMetaData(t,r){const i=await ze(t,{responseType:"json",query:{f:"json"},...r});this.sourceJSON=i.data,this.read(i.data,{origin:"service"})}async _fetchDataElement(t,r,i){if(this.dataElement)return;const s=await ze(`${t}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([r]),f:"json"},...i}).then(n=>{var a;return(a=n.data.layerDataElements)==null?void 0:a[0]});s&&this.read(s,{origin:"service"})}};function T3(e,t){return new pr({attributes:e.attributes,geometry:Ja({...e.geometry,spatialReference:t})})}c([u({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],dr.prototype,"id",void 0),c([u({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],dr.prototype,"title",void 0),c([u({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],dr.prototype,"layerUrl",void 0),c([u({type:Object,json:{origins:{service:{read:!0}},read:!1}})],dr.prototype,"dataElement",void 0),c([u({type:ht,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],dr.prototype,"fullExtent",void 0),c([u({type:me,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],dr.prototype,"spatialReference",void 0),c([u({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],dr.prototype,"type",void 0),c([u({readOnly:!0})],dr.prototype,"datasetName",null),c([u({readOnly:!0})],dr.prototype,"owner",null),c([u({readOnly:!0})],dr.prototype,"schemaGeneration",null),c([u({readOnly:!0})],dr.prototype,"parsedUrl",null),c([u({readOnly:!0})],dr.prototype,"featureServiceUrl",null),c([u({readOnly:!0})],dr.prototype,"networkServiceUrl",null),c([u({readOnly:!0})],dr.prototype,"layerId",null),c([u()],dr.prototype,"sourceJSON",void 0),c([u({readOnly:!0})],dr.prototype,"networkSystemLayers",null),c([u()],dr.prototype,"gdbVersion",void 0),c([u({type:Date})],dr.prototype,"historicMoment",void 0),dr=c([S("esri.networks.Network")],dr);const iMe=dr;var gs;(function(e){e[e.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",e[e.RTContainment=2]="RTContainment",e[e.RTAttachment=3]="RTAttachment",e[e.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",e[e.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"})(gs||(gs={}));const I3=new ye({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),NXe=new ye({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),sMe={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},DXe=new ye({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});let Id=class extends N.JSONSupportMixin(Ai){constructor(t){super(t),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=ze}initialize(){}async load(t){const r=this.rulesLayer.load(t).then(()=>this._initializeRulesTable());return this.addResolvingPromise(r),this}getFeaturesCanAssociateWithClause(t,r,i){return this._getWhereClauseForCompatibleFeatures(t,r,i)}getFeaturesCanAssociateWith(t,r,i){return this._getFeatureSourceLayerId(t)==null?[]:r.filter(s=>this.canAssociateFeatures(t,s,i))}canAssociateFeatures(t,r,i){const[s,n]=this._getFeatureAssetCodes(t),a=this._getFeatureSourceLayerId(t),[o,l]=this._getFeatureAssetCodes(r),d=this._getFeatureSourceLayerId(r);return a!=null&&d!=null&&i.some(f=>{const{type:p,direction:m}=f;return this._getRulesForAssociationType(p).some(y=>{const b=this._getRuleFieldValuesForAssociation(y,p,m);return b==null?void 0:b.some(g=>a===(g==null?void 0:g.ruleLayerIdForSource)&&s===(g==null?void 0:g.ruleAssetGroupCodeForSource)&&n===(g==null?void 0:g.ruleAssetTypeCodeForSource)&&d===(g==null?void 0:g.ruleLayerIdForTarget)&&o===(g==null?void 0:g.ruleAssetGroupCodeForTarget)&&l===(g==null?void 0:g.ruleAssetTypeCodeForTarget))})})}getLayersCanAssociateWith(t,r,i){return this._getFeatureSourceLayerId(t)==null?[]:r.filter(s=>this.canAssociateFeatureToLayer(t,s,i))}canAssociateFeatureToLayer(t,r,i){const s=Ss(r)?r.parent:r;if(!s)return!1;const n=s.layerId,a=Ss(r)?r.subtypeCode:null,[o,l]=this._getFeatureAssetCodes(t),d=this._getFeatureSourceLayerId(t);return d!=null&&i.some(f=>{const{type:p,direction:m}=f;return this._getRulesForAssociationType(p).some(y=>{const b=this._getRuleFieldValuesForAssociation(y,p,m);return b==null?void 0:b.some(g=>d===(g==null?void 0:g.ruleLayerIdForSource)&&o===(g==null?void 0:g.ruleAssetGroupCodeForSource)&&l===(g==null?void 0:g.ruleAssetTypeCodeForSource)&&n===(g==null?void 0:g.ruleLayerIdForTarget)&&(a==null||a===(g==null?void 0:g.ruleAssetGroupCodeForTarget)))})})}getFeatureSQL(t,r){var d,f;const i=t.layerId.toString(),s=(d=t.fieldsIndex)==null?void 0:d.normalizeFieldName("assetGroup"),n=(f=t.fieldsIndex)==null?void 0:f.normalizeFieldName("assetType"),a=s?r.attributes[s]:null,o=n?r.attributes[n]:null,l=this.rulesHash[i];if(l){const p=l.assetGroupHash[a];if(p)return p.assetTypeHash[o]||null}return null}async _initializeRulesTable(){var s,n,a,o,l,d,f,p,m,y,b;const t={};let r;(function(g){g[g.from=0]="from",g[g.to=1]="to",g[g.via=2]="via"})(r||(r={}));const i=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const g of this.rules){if(g.ruleType===gs.RTAttachment){this.rulesCategorized.attachment.push(g);continue}if(g.ruleType===gs.RTContainment){this.rulesCategorized.containment.push(g);continue}if(g.ruleType===gs.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(g);continue}this.rulesCategorized.connectivity.push(g);let v=[[r.from,r.to],[r.to,r.from]];g.ruleType===gs.RTEdgeJunctionEdgeConnectivity&&(v=[[r.from,r.via],[r.via,r.from],[r.to,r.via],[r.via,r.to]]);for(const w of v){const _=w.shift(),x=w.shift();let T=!1;switch(g.ruleType){case gs.RTEdgeJunctionEdgeConnectivity:T=_===r.from||_===r.to;break;case gs.RTJunctionEdgeConnectivity:T=_===r.to}const k=i[_],A=((s=g[k.networkSourceId])==null?void 0:s.layerId.toString())??"",M=(a=(n=g[k.assetGroupId])==null?void 0:n.assetGroupCode)==null?void 0:a.toString(),R=g[k.assetTypeId],P=(o=R==null?void 0:R.assetTypeCode)==null?void 0:o.toString(),z=i[x],j=((l=g[z.networkSourceId])==null?void 0:l.layerId.toString())??"",H=(f=(d=g[z.assetGroupId])==null?void 0:d.assetGroupCode)==null?void 0:f.toString(),K=g[z.assetTypeId],J=(p=K==null?void 0:K.assetTypeCode)==null?void 0:p.toString(),pe=t[A]??{assetGroupHash:{}};if(!(M&&P&&H&&J))continue;const Ae=pe.assetGroupHash[M]??{assetTypeHash:{}},ue=Ae.assetTypeHash[P]??{};if(ue[j]=ue[j]??{},T){ue[A]=ue[A]??{};const Ge=`(assetgroup = ${M} AND assettype = ${P})`;(K==null?void 0:K.connectivityPolicy)==="esriNECPEndVertex"?ue[A].endVertex=(m=ue[A])!=null&&m.endVertex?`${ue[A].endVertex}`:`${Ge}`:ue[A].anyVertex=ue[A].anyVertex?`${ue[A].anyVertex}`:`${Ge}`}const le=`(assetgroup = ${H} AND assettype = ${J})`;(K==null?void 0:K.connectivityPolicy)==="esriNECPEndVertex"?ue[j].endVertex=(y=ue[j])!=null&&y.endVertex?`${ue[j].endVertex} OR ${le}`:`${le}`:ue[j].anyVertex=(b=ue[j])!=null&&b.anyVertex?`${ue[j].anyVertex} OR ${le}`:`${le}`,Ae.assetTypeHash[P]=ue,pe.assetGroupHash[M]=Ae,t[A]=pe}}this._set("rulesHash",t)}_getRuleFieldValuesForAssociation(t,r,i="from"){var s,n,a,o,l,d,f,p,m,y,b,g,v,w,_,x,T,k,A,M,R,P,z,j,H,K,J,pe,Ae,ue,le,Ge,Ut,ts,or,un,rl,il,Qa,Ka,Yn,Ju,Yu,Qu,Xa,sl,cw,dw,uw,fw,pw,hw,mw,bb,gb,Qn,yw,bw,gw,vw;switch(r){case"attachment":case"containment":return i==="from"?[{ruleLayerIdForSource:(s=t.fromNetworkSource)==null?void 0:s.layerId,ruleAssetGroupCodeForSource:(n=t.fromAssetGroup)==null?void 0:n.assetGroupCode,ruleAssetTypeCodeForSource:(a=t.fromAssetType)==null?void 0:a.assetTypeCode,ruleLayerIdForTarget:(o=t.toNetworkSource)==null?void 0:o.layerId,ruleAssetGroupCodeForTarget:(l=t.toAssetGroup)==null?void 0:l.assetGroupCode,ruleAssetTypeCodeForTarget:(d=t.toAssetType)==null?void 0:d.assetTypeCode}]:[{ruleLayerIdForSource:(f=t.toNetworkSource)==null?void 0:f.layerId,ruleAssetGroupCodeForSource:(p=t.toAssetGroup)==null?void 0:p.assetGroupCode,ruleAssetTypeCodeForSource:(m=t.toAssetType)==null?void 0:m.assetTypeCode,ruleLayerIdForTarget:(y=t.fromNetworkSource)==null?void 0:y.layerId,ruleAssetGroupCodeForTarget:(b=t.fromAssetGroup)==null?void 0:b.assetGroupCode,ruleAssetTypeCodeForTarget:(g=t.fromAssetType)==null?void 0:g.assetTypeCode}];case"connectivity":case"junction-junction-connectivity":return[{ruleLayerIdForSource:(v=t.fromNetworkSource)==null?void 0:v.layerId,ruleAssetGroupCodeForSource:(w=t.fromAssetGroup)==null?void 0:w.assetGroupCode,ruleAssetTypeCodeForSource:(_=t.fromAssetType)==null?void 0:_.assetTypeCode,ruleLayerIdForTarget:(x=t.toNetworkSource)==null?void 0:x.layerId,ruleAssetGroupCodeForTarget:(T=t.toAssetGroup)==null?void 0:T.assetGroupCode,ruleAssetTypeCodeForTarget:(k=t.toAssetType)==null?void 0:k.assetTypeCode},{ruleLayerIdForSource:(A=t.toNetworkSource)==null?void 0:A.layerId,ruleAssetGroupCodeForSource:(M=t.toAssetGroup)==null?void 0:M.assetGroupCode,ruleAssetTypeCodeForSource:(R=t.toAssetType)==null?void 0:R.assetTypeCode,ruleLayerIdForTarget:(P=t.fromNetworkSource)==null?void 0:P.layerId,ruleAssetGroupCodeForTarget:(z=t.fromAssetGroup)==null?void 0:z.assetGroupCode,ruleAssetTypeCodeForTarget:(j=t.fromAssetType)==null?void 0:j.assetTypeCode}];case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return t.ruleType===gs.RTEdgeJunctionEdgeConnectivity?[{ruleLayerIdForSource:(H=t.fromNetworkSource)==null?void 0:H.layerId,ruleAssetGroupCodeForSource:(K=t.fromAssetGroup)==null?void 0:K.assetGroupCode,ruleAssetTypeCodeForSource:(J=t.fromAssetType)==null?void 0:J.assetTypeCode,ruleLayerIdForTarget:(pe=t.viaNetworkSource)==null?void 0:pe.layerId,ruleAssetGroupCodeForTarget:(Ae=t.viaAssetGroup)==null?void 0:Ae.assetGroupCode,ruleAssetTypeCodeForTarget:(ue=t.viaAssetType)==null?void 0:ue.assetTypeCode},{ruleLayerIdForSource:(le=t.viaNetworkSource)==null?void 0:le.layerId,ruleAssetGroupCodeForSource:(Ge=t.viaAssetGroup)==null?void 0:Ge.assetGroupCode,ruleAssetTypeCodeForSource:(Ut=t.viaAssetType)==null?void 0:Ut.assetTypeCode,ruleLayerIdForTarget:(ts=t.fromNetworkSource)==null?void 0:ts.layerId,ruleAssetGroupCodeForTarget:(or=t.fromAssetGroup)==null?void 0:or.assetGroupCode,ruleAssetTypeCodeForTarget:(un=t.fromAssetType)==null?void 0:un.assetTypeCode},{ruleLayerIdForSource:(rl=t.toNetworkSource)==null?void 0:rl.layerId,ruleAssetGroupCodeForSource:(il=t.toAssetGroup)==null?void 0:il.assetGroupCode,ruleAssetTypeCodeForSource:(Qa=t.toAssetType)==null?void 0:Qa.assetTypeCode,ruleLayerIdForTarget:(Ka=t.viaNetworkSource)==null?void 0:Ka.layerId,ruleAssetGroupCodeForTarget:(Yn=t.viaAssetGroup)==null?void 0:Yn.assetGroupCode,ruleAssetTypeCodeForTarget:(Ju=t.viaAssetType)==null?void 0:Ju.assetTypeCode},{ruleLayerIdForSource:(Yu=t.viaNetworkSource)==null?void 0:Yu.layerId,ruleAssetGroupCodeForSource:(Qu=t.viaAssetGroup)==null?void 0:Qu.assetGroupCode,ruleAssetTypeCodeForSource:(Xa=t.viaAssetType)==null?void 0:Xa.assetTypeCode,ruleLayerIdForTarget:(sl=t.toNetworkSource)==null?void 0:sl.layerId,ruleAssetGroupCodeForTarget:(cw=t.toAssetGroup)==null?void 0:cw.assetGroupCode,ruleAssetTypeCodeForTarget:(dw=t.toAssetType)==null?void 0:dw.assetTypeCode}]:[{ruleLayerIdForSource:(uw=t.fromNetworkSource)==null?void 0:uw.layerId,ruleAssetGroupCodeForSource:(fw=t.fromAssetGroup)==null?void 0:fw.assetGroupCode,ruleAssetTypeCodeForSource:(pw=t.fromAssetType)==null?void 0:pw.assetTypeCode,ruleLayerIdForTarget:(hw=t.toNetworkSource)==null?void 0:hw.layerId,ruleAssetGroupCodeForTarget:(mw=t.toAssetGroup)==null?void 0:mw.assetGroupCode,ruleAssetTypeCodeForTarget:(bb=t.toAssetType)==null?void 0:bb.assetTypeCode},{ruleLayerIdForSource:(gb=t.toNetworkSource)==null?void 0:gb.layerId,ruleAssetGroupCodeForSource:(Qn=t.toAssetGroup)==null?void 0:Qn.assetGroupCode,ruleAssetTypeCodeForSource:(yw=t.toAssetType)==null?void 0:yw.assetTypeCode,ruleLayerIdForTarget:(bw=t.fromNetworkSource)==null?void 0:bw.layerId,ruleAssetGroupCodeForTarget:(gw=t.fromAssetGroup)==null?void 0:gw.assetGroupCode,ruleAssetTypeCodeForTarget:(vw=t.fromAssetType)==null?void 0:vw.assetTypeCode}];default:return[]}}_getWhereClauseForCompatibleFeatures(t,r,i){const s=new Map,[n,a]=this._getAssetFieldNames(t.sourceLayer),[o,l]=this._getFeatureAssetCodes(t),d=this._getFeatureSourceLayerId(t),f=Ss(r)?r.parent:r,p=Ss(r)?r.subtypeCode:null;i.forEach(y=>{const{type:b,direction:g}=y;this._getRulesForAssociationType(b).forEach(v=>{this._getRuleFieldValuesForAssociation(v,b,g).forEach(w=>{if(w.ruleAssetGroupCodeForTarget!=null&&w.ruleAssetTypeCodeForTarget!=null&&d===(w==null?void 0:w.ruleLayerIdForSource)&&o===(w==null?void 0:w.ruleAssetGroupCodeForSource)&&l===(w==null?void 0:w.ruleAssetTypeCodeForSource)&&f.layerId===(w==null?void 0:w.ruleLayerIdForTarget)&&(p==null||p===(w==null?void 0:w.ruleAssetGroupCodeForTarget))){const _=s.get(w.ruleAssetGroupCodeForTarget)??new Set;_.add(w.ruleAssetTypeCodeForTarget),s.set(w.ruleAssetGroupCodeForTarget,_)}})})});let m=[];return this._mergeAssetCodes(s).forEach((y,b)=>m.push(`${n} IN (${b}) AND ${a} IN (${Array.from(y).sort().join(", ")})`)),m.length>1&&(m=m.map(y=>`(${y})`)),m.join(" OR ")}_getRulesForAssociationType(t){const{rulesCategorized:r}=this;switch(t){case"attachment":return r.attachment;case"containment":return r.containment;case"connectivity":case"junction-junction-connectivity":return r.connectivity.filter(i=>i.ruleType===gs.RTJunctionJunctionConnectivity);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return r.connectivity.filter(i=>i.ruleType===gs.RTJunctionEdgeConnectivity||i.ruleType===gs.RTEdgeJunctionEdgeConnectivity);default:return[]}}_getFeatureSourceLayerId(t){var s;const{sourceLayer:r}=t;let i;return wJ(r)?i=r.layerId:Ss(r)&&(i=(s=r.parent)==null?void 0:s.layerId),i??null}_getAssetFieldNames(t){return!t||!("fieldsIndex"in t)?[null,null]:[t.fieldsIndex.normalizeFieldName("assetGroup")??null,t.fieldsIndex.normalizeFieldName("assetType")??null]}_getFeatureAssetCodes(t){const[r,i]=this._getAssetFieldNames(t.sourceLayer);return[r?t.attributes[r]:null,i?t.attributes[i]:null]}_areSetsEqual(t,r){if(t.size!==r.size)return!1;for(const i of t)if(!r.has(i))return!1;return!0}_mergeAssetCodes(t){const r=new Map,i=new Set;for(const[s,n]of t){const a=new Set([s]);for(const[l,d]of t)s!==l&&!i.has(l)&&this._areSetsEqual(n,d)&&(a.add(l),i.add(l));const o=Array.from(a).sort().join(", ");r.set(o,n)}return r}};c([u({constructOnly:!0})],Id.prototype,"rulesLayer",void 0),c([u({constructOnly:!0})],Id.prototype,"rules",void 0),c([u({readOnly:!0})],Id.prototype,"rulesHash",void 0),c([u()],Id.prototype,"rulesCategorized",void 0),c([u({constructOnly:!0})],Id.prototype,"request",void 0),Id=c([S("esri.networks.RulesTable")],Id);const nMe=Id;let Sn=class extends N{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};c([u({type:[Object],json:{write:!0}})],Sn.prototype,"conditionBarriers",void 0),c([u({type:[Object],json:{write:!0}})],Sn.prototype,"outputConditions",void 0),c([u({type:[Object],json:{write:!0}})],Sn.prototype,"functions",void 0),c([u({type:[Object],json:{write:!0}})],Sn.prototype,"functionBarriers",void 0),c([u({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Sn.prototype,"traversabilityScope",void 0),c([u({type:String,json:{write:!0}})],Sn.prototype,"shortestPathNetworkAttributeName",void 0),c([u({type:Boolean,json:{write:!0}})],Sn.prototype,"includeBarriers",void 0),c([u({type:Boolean,json:{write:!0}})],Sn.prototype,"validateConsistency",void 0),c([u({type:Boolean,json:{write:!0}})],Sn.prototype,"ignoreBarriersAtStartingPoints",void 0),Sn=c([S("esri.networks.support.TraceConfiguration")],Sn);const iL=Sn;let zt=class extends iL{constructor(t){super(t),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};c([u({type:[Object],json:{write:!0}})],zt.prototype,"filterBarriers",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"arcadeExpressionBarrier",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"domainNetworkName",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"filterBitsetNetworkAttributeName",void 0),c([u({type:[Object],json:{write:!0}})],zt.prototype,"filterFunctionBarriers",void 0),c([u({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],zt.prototype,"filterScope",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"includeContainers",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"includeContent",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"includeIsolated",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"includeStructures",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"allowIndeterminateFlow",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"includeUpToFirstSpatialContainer",void 0),c([u({type:Object,json:{write:!0}})],zt.prototype,"nearestNeighbor",void 0),c([u({type:[Object],json:{write:!0}})],zt.prototype,"outputFilterCategories",void 0),c([u({type:[Object],json:{write:!0}})],zt.prototype,"outputFilters",void 0),c([u({type:[Object],json:{write:!0}})],zt.prototype,"propagators",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"subnetworkName",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"targetTierName",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"diagramTemplateName",void 0),c([u({type:String,json:{write:!0}})],zt.prototype,"tierName",void 0),c([u({type:Boolean,json:{write:!0}})],zt.prototype,"validateLocatability",void 0),zt=c([S("esri.networks.support.UNTraceConfiguration")],zt);const aMe=zt;let ps=class extends bT{constructor(t){super(t),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(t,r){return t.tierName!==void 0?aMe.fromJSON(t):iL.fromJSON(t)}};c([u({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],ps.prototype,"globalId",void 0),c([u({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],ps.prototype,"title",void 0),c([u({type:iL,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"traceConfiguration",void 0),c([Y("service","traceConfiguration")],ps.prototype,"readTraceConfiguration",null),c([u({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"creationDate",void 0),c([u({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"creator",void 0),c([u({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"description",void 0),c([u({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],ps.prototype,"minStartingPoints",void 0),c([u({json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"resultTypes",void 0),c([u({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],ps.prototype,"tags",void 0),c([u({type:I3.apiValues,json:{type:I3.jsonValues,origins:{service:{read:I3.read,write:I3.write}},read:!1}})],ps.prototype,"traceType",void 0),ps=c([S("esri.networks.support.NamedTraceConfiguration")],ps);const oMe=ps;function lMe(e){var y,b,g,v,w,_,x,T,k,A,M;const t=e==null?void 0:e.fieldsIndex,r="fromnetworksourceid",i="fromglobalid",s="fromterminalid",n="tonetworksourceid",a="toglobalid",o="toterminalid",l="status",d="associationtype",f="iscontentvisible",p="percentalong",m="globalid";return{fromNetworkSourceId:((y=t==null?void 0:t.get(r))==null?void 0:y.name)??r,fromGlobalId:((b=t==null?void 0:t.get(i))==null?void 0:b.name)??i,fromTerminalId:((g=t==null?void 0:t.get(s))==null?void 0:g.name)??s,toNetworkSourceId:((v=t==null?void 0:t.get(n))==null?void 0:v.name)??n,toGlobalId:((w=t==null?void 0:t.get(a))==null?void 0:w.name)??a,toTerminalId:((_=t==null?void 0:t.get(o))==null?void 0:_.name)??o,status:((x=t==null?void 0:t.get(l))==null?void 0:x.name)??l,associationType:((T=t==null?void 0:t.get(d))==null?void 0:T.name)??d,isContentVisible:((k=t==null?void 0:t.get(f))==null?void 0:k.name)??f,percentAlong:((A=t==null?void 0:t.get(p))==null?void 0:A.name)??p,globalId:((M=t==null?void 0:t.get((e==null?void 0:e.globalIdField)??m))==null?void 0:M.name)??m}}function BXe(e,t){if(t.type!=="feature"&&t.type!=="subtype-group")return[];if(!t.url)return[];const r="utilityNetworks"in e.map?e.map.utilityNetworks??[]:[];for(const i of r)if(i.isUtilityLayer(t)){const s=t.fieldsIndex.get("assetgroup"),n=t.fieldsIndex.get("assettype");return[s==null?void 0:s.name,n==null?void 0:n.name].filter(a=>a!=null)}return[]}let $n=class extends ie{constructor(t){super(t),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){var t;(t=this.associationsTable)==null||t.destroy()}async loadAssociationsTable(){if(!this.associationsTable){const{associationsTableUrl:t}=this;if(!t)throw new I("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new My({url:t})}return await this.associationsTable.load(),this.associationsTable}};c([u({constructOnly:!0})],$n.prototype,"rulesTableId",void 0),c([u({constructOnly:!0})],$n.prototype,"rulesTableUrl",void 0),c([u({constructOnly:!0})],$n.prototype,"subnetworksTableId",void 0),c([u({constructOnly:!0})],$n.prototype,"subnetworksTableUrl",void 0),c([u({constructOnly:!0})],$n.prototype,"dirtyAreasLayerId",void 0),c([u({constructOnly:!0})],$n.prototype,"dirtyAreasLayerUrl",void 0),c([u()],$n.prototype,"associationsTable",void 0),c([u({constructOnly:!0})],$n.prototype,"associationsTableId",void 0),c([u({constructOnly:!0})],$n.prototype,"associationsTableUrl",void 0),$n=c([S("esri.networks.support.NetworkSystemLayers")],$n);const cMe=$n;let Wm=class extends N{constructor(t){super(t),this.id=null,this.name=null}};c([u({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],Wm.prototype,"id",void 0),c([u({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],Wm.prototype,"name",void 0),c([u({type:Boolean,json:{write:!0}})],Wm.prototype,"isUpstreamTerminal",void 0),Wm=c([S("esri.networks.support.Terminal")],Wm);const dMe=Wm,C3=new ye({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let Cd=class extends N{constructor(t){super(t),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};c([u({type:String,json:{write:!0}})],Cd.prototype,"defaultConfiguration",void 0),c([u({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],Cd.prototype,"id",void 0),c([u({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],Cd.prototype,"name",void 0),c([u({type:[dMe],json:{write:!0}})],Cd.prototype,"terminals",void 0),c([u({type:C3.apiValues,json:{type:C3.jsonValues,read:C3.read,write:C3.write}})],Cd.prototype,"traversabilityModel",void 0),Cd=c([S("esri.networks.support.TerminalConfiguration")],Cd);const Yz=Cd;let Zm=class extends N{constructor(t){super(t),this.line=null,this.multipoint=null,this.polygon=null}};c([u({type:Nn,json:{write:!0},readOnly:!0})],Zm.prototype,"line",void 0),c([u({type:E2,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],Zm.prototype,"multipoint",void 0),c([u({type:Gn,json:{write:!0},readOnly:!0})],Zm.prototype,"polygon",void 0),Zm=c([S("esri.rest.networks.support.AggregatedGeometry")],Zm);const uMe=Zm;let Jm=class extends N{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};c([u({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],Jm.prototype,"functionType",void 0),c([u({type:String,json:{write:!0},readOnly:!0})],Jm.prototype,"networkAttributeName",void 0),c([u({type:Number,json:{write:!0},readOnly:!0})],Jm.prototype,"result",void 0),Jm=c([S("esri.rest.networks.support.FunctionResult")],Jm);const fMe=Jm;let _a=class extends N{constructor(t){super(t),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};c([u({type:Number,json:{write:!0}})],_a.prototype,"assetGroupCode",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"assetTypeCode",void 0),c([u({type:String,json:{write:!0}})],_a.prototype,"globalId",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"networkSourceId",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"objectId",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"positionFrom",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"positionTo",void 0),c([u({type:Number,json:{write:!0}})],_a.prototype,"terminalId",void 0),_a=c([S("esri.rest.networks.support.NetworkElement")],_a);const qte=_a;let Vl=class extends N{constructor(t){super(t),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};c([u({type:uMe,json:{write:!0},readOnly:!0})],Vl.prototype,"aggregatedGeometry",void 0),c([u({type:[qte],json:{write:!0},readOnly:!0})],Vl.prototype,"elements",void 0),c([u({type:[fMe],json:{write:!0},readOnly:!0})],Vl.prototype,"globalFunctionResults",void 0),c([u({type:Boolean,json:{write:!0},readOnly:!0})],Vl.prototype,"kFeaturesForKNNFound",void 0),c([u({type:Boolean,json:{write:!0},readOnly:!0})],Vl.prototype,"startingPointsIgnored",void 0),c([u({type:[String],json:{write:!0},readOnly:!0})],Vl.prototype,"warnings",void 0),Vl=c([S("esri.rest.networks.support.TraceResult")],Vl);const pMe=Vl,hMe=ar()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Xf=class extends pMe{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){const r={...t,query:{f:"json"}},{data:i}=await ze(this.statusUrl,r),s=i.traceResults?{...i.traceResults,...i}:i;return this.read(s),this}async waitForJobCompletion(t={}){const{interval:r=1e3,statusCallback:i}=t;return new Promise((s,n)=>{this._clearTimer();const a=setInterval(()=>{this._timer||n(mt()),this.checkJobStatus().then(o=>{const{status:l}=o;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),s(this);break;case"job-waiting":case"job-executing":i&&i(this)}},o=>{this._clearTimer(),n(o)})},r);this._timer=a})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};c([u({type:String,json:{write:!0}})],Xf.prototype,"statusUrl",void 0),c([re(hMe)],Xf.prototype,"status",void 0),c([u({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.submissionTime=e?e.getTime():null}}}})],Xf.prototype,"submissionTime",void 0),c([u({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.lastUpdatedTime=e?e.getTime():null}}}})],Xf.prototype,"lastUpdatedTime",void 0),Xf=c([S("esri.networks.support.TraceJobInfo")],Xf);const mMe=Xf;let zl=class extends iMe{constructor(t){super(t),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map}get serviceTerritoryFeatureLayerId(){var t;return((t=this.dataElement)==null?void 0:t.serviceTerritoryFeatureLayerId)??null}get networkSystemLayers(){var t,r,i,s,n,a,o,l;return new cMe({rulesTableId:(t=this.sourceJSON)==null?void 0:t.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(r=this.sourceJSON)==null?void 0:r.systemLayers.rulesTableId}`:null,subnetworksTableId:(i=this.sourceJSON)==null?void 0:i.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(s=this.sourceJSON)==null?void 0:s.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:(n=this.sourceJSON)==null?void 0:n.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${(a=this.sourceJSON)==null?void 0:a.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:(o=this.sourceJSON)==null?void 0:o.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${(l=this.sourceJSON)==null?void 0:l.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){var t;return((t=this.dataElement)==null?void 0:t.terminalConfigurations.map(r=>Yz.fromJSON(r)))||[]}get domainNetworkNames(){var t;return((t=this.dataElement)==null?void 0:t.domainNetworks.map(r=>r.domainNetworkName))||[]}get _utilityLayerList(){var r,i;const t=new Set;return(i=(r=this.dataElement)==null?void 0:r.domainNetworks)==null||i.map(s=>{var n,a;(n=s==null?void 0:s.edgeSources)==null||n.map(({layerId:o,sourceId:l})=>{this._layerIdBySourceId.set(l,o),this._sourceIdByLayerId.set(o,l),t.add(o)}),(a=s==null?void 0:s.junctionSources)==null||a.map(({layerId:o,sourceId:l})=>{this._layerIdBySourceId.set(l,o),this._sourceIdByLayerId.set(o,l),t.add(o)})}),t}async load(t){return this.addResolvingPromise(super.load(t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this}getTerminalConfiguration(t){var d,f,p,m;let r=null,i=null;const s=t.layer;let n=null;if((s==null?void 0:s.type)==="feature"){if(n=s.layerId,n===null)return null}else if((s==null?void 0:s.type)!=="subtype-sublayer"||(n=((d=s==null?void 0:s.parent)==null?void 0:d.layerId)??null,n===null))return null;const a=t.attributes;if(a==null)return null;for(const y of Object.keys(a))y.toUpperCase()==="ASSETGROUP"&&(r=t.getAttribute(y)),y.toUpperCase()==="ASSETTYPE"&&(i=t.getAttribute(y));if(!this.dataElement)return null;let o=null;const l=this.dataElement.domainNetworks;for(const y of l){const b=(f=y.junctionSources)==null?void 0:f.find(g=>g.layerId===n);if(b){const g=(p=b.assetGroups)==null?void 0:p.find(v=>v.assetGroupCode===r);if(g){const v=(m=g.assetTypes)==null?void 0:m.find(w=>w.assetTypeCode===i);if(v!=null&&v.isTerminalConfigurationSupported){o=v.terminalConfigurationId;break}}}}if(o!=null){const y=this.dataElement.terminalConfigurations,b=y==null?void 0:y.find(g=>g.terminalConfigurationId===o);return b?Yz.fromJSON(b):null}return null}getTierNames(t){var i;const r=(i=this.dataElement)==null?void 0:i.domainNetworks.find(s=>s.domainNetworkName===t);return(r==null?void 0:r.tiers.map(s=>s.name))||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}getTerminalById(t){if(!this.dataElement||t==null)return null;const r=this._terminalById.get(t);return r??(this.terminalConfigurations.forEach(i=>{i.terminals.forEach(s=>{this._terminalById.set(s.id,s)})}),this._terminalById.get(t))}isUtilityLayer(t){var r,i;return"layerId"in t?this._utilityLayerList.has(t==null?void 0:t.layerId)&&(((r=t.url)==null?void 0:r.startsWith(this.featureServiceUrl))??!1):!(t.type!=="subtype-sublayer"||!t.parent)&&this._utilityLayerList.has(t.parent.layerId)&&(((i=t.parent.url)==null?void 0:i.startsWith(this.featureServiceUrl))??!1)}async queryAssociations(t,r){const[{queryAssociations:i},{default:s}]=await Promise.all([C(()=>import("./queryAssociations-CmDhIf0B.js"),__vite__mapDeps([358,359])),C(()=>import("./QueryAssociationsParameters-DFyMTyUH.js"),[])]),n=s.from(t);return n.gdbVersion=this.gdbVersion,n.moment=this.historicMoment,(await i(this.networkServiceUrl,n,r)).associations}async synthesizeAssociationGeometries(t){const[{synthesizeAssociationGeometries:r},{default:i}]=await Promise.all([C(()=>import("./synthesizeAssociationGeometries-BKZ_7HYW.js"),__vite__mapDeps([360,359])),C(()=>import("./SynthesizeAssociationGeometriesParameters-CGw9ue9k.js"),[])]),s=i.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,r(this.networkServiceUrl,s)}async trace(t){const[{trace:r},{default:i}]=await Promise.all([C(()=>import("./trace-C5dfXe-l.js"),[]),C(()=>import("./TraceParameters-6VWNk_tG.js"),[])]),s=i.from(t);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,r(this.networkServiceUrl,s)}async submitTraceJob(t){const[{submitTraceJob:r},{default:i}]=await Promise.all([C(()=>import("./trace-C5dfXe-l.js"),[]),C(()=>import("./TraceParameters-6VWNk_tG.js"),[])]),s=i.from(t);s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment;const n=await r(this.networkServiceUrl,s);return new mMe({statusUrl:n})}async canAddAssociation(t){const r=await this.getRulesTable();if(!r)return!1;await r.load();const i=(d,f)=>d?d.terminalId===1?!(f!=null&&f.terminalId)||(f==null?void 0:f.terminalId)===d.terminalId:d.terminalId===(f==null?void 0:f.terminalId):!(f!=null&&f.terminalId),s=d=>({fromRuleElement:{networkSource:d.fromNetworkSource,assetGroup:d.fromAssetGroup,assetType:d.fromAssetType,terminal:d.fromTerminal},viaRuleElement:d.viaNetworkSource?{networkSource:d.viaNetworkSource,assetGroup:d.viaAssetGroup,assetType:d.viaAssetType,terminal:d.viaTerminal}:void 0,toRuleElement:{networkSource:d.toNetworkSource,assetGroup:d.toAssetGroup,assetType:d.toAssetType,terminal:d.toTerminal}}),n=(d,f,p=!0)=>{var m,y,b;return((m=d.networkSource)==null?void 0:m.sourceId)===f.networkSourceId&&((y=d.assetGroup)==null?void 0:y.assetGroupCode)===f.assetGroupCode&&((b=d.assetType)==null?void 0:b.assetTypeCode)===f.assetTypeCode&&(!p||i(d.terminal,f))},a=(d,f)=>{const{fromRuleElement:p,toRuleElement:m}=s(d);return n(p,f.fromNetworkElement,!1)&&n(m,f.toNetworkElement,!1)},o=(d,f)=>{const{fromRuleElement:p,toRuleElement:m}=s(d);return n(p,f.fromNetworkElement)&&n(m,f.toNetworkElement)||n(p,f.toNetworkElement)&&n(m,f.fromNetworkElement)},l=(d,f)=>{const{fromRuleElement:p,toRuleElement:m,viaRuleElement:y}=s(d);return n(p,f.fromNetworkElement)&&n(y,f.toNetworkElement)||n(p,f.toNetworkElement)&&n(y,f.fromNetworkElement)||n(y,f.fromNetworkElement)&&n(m,f.toNetworkElement)||n(y,f.toNetworkElement)&&n(m,f.fromNetworkElement)};return t.associationType==="containment"?r.rulesCategorized.containment.some(d=>a(d,t)):t.associationType==="attachment"?r.rulesCategorized.attachment.some(d=>a(d,t)):r.rulesCategorized.connectivity.some(d=>d.ruleType===gs.RTEdgeJunctionEdgeConnectivity?l(d,t):o(d,t))}generateAddAssociations(t){const{associationsTable:r}=this.networkSystemLayers,{fromNetworkSourceId:i,fromGlobalId:s,fromTerminalId:n,toNetworkSourceId:a,toGlobalId:o,toTerminalId:l,associationType:d,isContentVisible:f,percentAlong:p,globalId:m}=lMe(r);return{addFeatures:t.map(y=>{var b,g,v,w,_,x;return new pr({attributes:{[i]:(b=y.fromNetworkElement)==null?void 0:b.networkSourceId,[s]:(g=y.fromNetworkElement)==null?void 0:g.globalId,[n]:(v=y.fromNetworkElement)==null?void 0:v.terminalId,[a]:(w=y.toNetworkElement)==null?void 0:w.networkSourceId,[o]:(_=y.toNetworkElement)==null?void 0:_.globalId,[l]:(x=y.toNetworkElement)==null?void 0:x.terminalId,[d]:sMe[y.associationType],[f]:y.isContentVisible==null?void 0:y.isContentVisible?1:0,[p]:y.percentAlong,[m]:y.globalId}})}),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:(r==null?void 0:r.globalIdField)??"globalid",objectIdField:(r==null?void 0:r.objectIdField)??"objectid"}}}generateDeleteAssociations(t){const{associationsTable:r,associationsTableId:i}=this.networkSystemLayers;return{deleteFeatures:t.map(s=>({globalId:s.globalId})),id:i,identifierFields:{globalIdField:(r==null?void 0:r.globalIdField)??"globalid",objectIdField:(r==null?void 0:r.objectIdField)??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(t){var s;if(((s=this.sharedNamedTraceConfigurations)==null?void 0:s.length)===0)return;const r=this.sharedNamedTraceConfigurations.map(n=>n.globalId),i=await this.queryNamedTraceConfigurations({globalIds:r},t);for(const n of this.sharedNamedTraceConfigurations){const a=i==null?void 0:i.find(o=>o.globalId===n.globalId);if(a){const o=a.write({},{origin:"service"});n.read(o,{origin:"service"})}}}async _createRulesTable(){var a;const t=this.networkSystemLayers.rulesTableUrl,r=new My({url:t});await r.load();const i=(a=this.dataElement)==null?void 0:a.domainNetworks;if(!i)return null;const s=i.flatMap(o=>[...o.edgeSources||[],...o.junctionSources||[]]),n=(await yMe(r)).map(o=>this._hydrateRuleInfo(r,s,o));return new nMe({rulesLayer:r,rules:n})}_hydrateRuleInfo(t,r,i){const s=t.fieldsIndex,n=s.get("RULETYPE"),a=s.get("CREATIONDATE"),o=s.get("FROMNETWORKSOURCEID"),l=s.get("FROMASSETGROUP"),d=s.get("FROMASSETTYPE"),f=s.get("FROMTERMINALID"),p=s.get("TONETWORKSOURCEID"),m=s.get("TOASSETGROUP"),y=s.get("TOASSETTYPE"),b=s.get("TOTERMINALID"),g=s.get("VIANETWORKSOURCEID"),v=s.get("VIAASSETGROUP"),w=s.get("VIAASSETTYPE"),_=s.get("VIATERMINALID"),x=i.attributes[n.name],T=new Date(i.attributes[a.name]),k=[{networkSourceId:i.attributes[o.name],assetGroupId:i.attributes[l.name],assetTypeId:i.attributes[d.name],terminalId:i.attributes[f.name]},{networkSourceId:i.attributes[p.name],assetGroupId:i.attributes[m.name],assetTypeId:i.attributes[y.name],terminalId:i.attributes[b.name]},{networkSourceId:i.attributes[g.name],assetGroupId:i.attributes[v.name],assetTypeId:i.attributes[w.name],terminalId:i.attributes[_.name]}];let A;(function(R){R[R.from=0]="from",R[R.to=1]="to",R[R.via=2]="via"})(A||(A={}));const M={ruleType:x,creationDate:T};for(const R of[A.from,A.to,A.via]){if(x!==gs.RTEdgeJunctionEdgeConnectivity&&R===A.via)continue;const P=k[R],z=r.find(pe=>pe.sourceId===P.networkSourceId),j=z==null?void 0:z.assetGroups.find(pe=>pe.assetGroupCode===P.assetGroupId),H=j==null?void 0:j.assetTypes.find(pe=>pe.assetTypeCode===P.assetTypeId),K=this._getTerminal(H,P);let J="";switch(R){case A.from:J="from";break;case A.to:J="to";break;case A.via:J="via"}M[`${J}NetworkSource`]=z,M[`${J}AssetGroup`]=j,M[`${J}AssetType`]=H,M[`${J}Terminal`]=K==null?void 0:K.toJSON()}return M}_getTerminal(t,r){var n,a;const i=t==null?void 0:t.terminalConfigurationId,s=(n=this.terminalConfigurations)==null?void 0:n.find(o=>o.id===i);return((a=s==null?void 0:s.terminals)==null?void 0:a.find(o=>o.id===r.terminalId))??null}};async function yMe(e){const t=new li({where:"1=1",outFields:["*"]});return(await wee(e,t)).features}c([u({type:[oMe],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],zl.prototype,"sharedNamedTraceConfigurations",void 0),c([u({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],zl.prototype,"type",void 0),c([u({readOnly:!0})],zl.prototype,"serviceTerritoryFeatureLayerId",null),c([u({readOnly:!0})],zl.prototype,"networkSystemLayers",null),c([u({readOnly:!0})],zl.prototype,"terminalConfigurations",null),c([u({readOnly:!0})],zl.prototype,"domainNetworkNames",null),zl=c([S("esri.networks.UtilityNetwork")],zl);const Bte=zl,bMe=Object.freeze(Object.defineProperty({__proto__:null,default:Bte},Symbol.toStringTag,{value:"Module"}));let Ym=class extends _e.ClonableMixin(N){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};c([u({type:String,json:{write:{isRequired:!0}}})],Ym.prototype,"expression",void 0),c([u({type:["number","string"],json:{write:!0}})],Ym.prototype,"returnType",void 0),c([u({type:String,json:{write:!0}})],Ym.prototype,"title",void 0),Ym=c([S("esri.webdoc.geotriggersInfo.ExpressionInfo")],Ym);const Ute=Ym,M3=new ye({deviceLocation:"device-location"});let f1=class extends _e.ClonableMixin(N){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};c([u({type:Ute,json:{write:!0}})],f1.prototype,"filterExpression",void 0),c([u({type:M3.apiValues,readOnly:!0,json:{type:M3.jsonValues,read:M3.read,write:M3.write}})],f1.prototype,"type",void 0),f1=c([S("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],f1);const gMe=f1;let p1=class extends _e.ClonableMixin(N){constructor(t){super(t),this.geometry=null,this.where=null}};c([u({types:fh,json:{read:Ja,write:!0}})],p1.prototype,"geometry",void 0),c([u({type:String,json:{write:!0}})],p1.prototype,"where",void 0),p1=c([S("esri.webdoc.geotriggersInfo.FeatureFilter")],p1);const vMe=p1;let Qm=class extends _e.ClonableMixin(N){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};c([u({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],Qm.prototype,"layerId",void 0),c([u({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],Qm.prototype,"layerUrl",void 0),c([re({featureLayer:"feature-layer"},{readOnly:!0})],Qm.prototype,"type",void 0),Qm=c([S("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Qm);const wMe=Qm;let ep=class extends _e.ClonableMixin(N){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};c([u({type:wMe,json:{write:{isRequired:!0}}})],ep.prototype,"fenceSource",void 0),c([u({type:vMe,json:{write:!0}})],ep.prototype,"filter",void 0),c([u({type:Number,json:{write:!0}})],ep.prototype,"bufferDistance",void 0),c([re({features:"features"},{readOnly:!0})],ep.prototype,"type",void 0),ep=c([S("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],ep);const _Me=ep;let m5=class extends _e.ClonableMixin(N){constructor(t){super(t),this.type="fence"}};c([re({fence:"fence"},{readOnly:!0})],m5.prototype,"type",void 0),m5=c([S("esri.webdoc.geotriggersInfo.Geotrigger")],m5);const Gte=m5;let h1=class extends _e.ClonableMixin(N){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};c([u({type:Ute,json:{write:!0}})],h1.prototype,"expressionInfo",void 0),c([u({type:[String],json:{write:!0}})],h1.prototype,"requestedActions",void 0),h1=c([S("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],h1);const SMe=h1,$Me=new ye({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),xMe=new ye({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),A3=new ye({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Sa=class extends Gte{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};c([re($Me)],Sa.prototype,"enterExitRule",void 0),c([u({type:gMe,json:{write:{isRequired:!0}}})],Sa.prototype,"feed",void 0),c([re(xMe)],Sa.prototype,"feedAccuracyMode",void 0),c([u({type:A3.apiValues,json:{type:A3.jsonValues,read:A3.read,write:{writer:A3.write,isRequired:!0}}})],Sa.prototype,"fenceNotificationRule",void 0),c([u({type:_Me,json:{write:{isRequired:!0}}})],Sa.prototype,"fenceParameters",void 0),c([u({type:String,json:{write:!0}})],Sa.prototype,"name",void 0),c([u({type:SMe,json:{write:!0}})],Sa.prototype,"notificationOptions",void 0),c([re({fence:"fence"},{readOnly:!0})],Sa.prototype,"type",void 0),Sa=c([S("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Sa);const EMe=Sa,TMe={base:Gte,key:"type",typeMap:{fence:EMe}};let y5=class extends _e.ClonableMixin(N){constructor(t){super(t),this.geotriggers=null}};c([u({types:[TMe],json:{write:{isRequired:!0}}})],y5.prototype,"geotriggers",void 0),y5=c([S("esri.webdoc.GeotriggersInfo")],y5);const IMe=y5;let Km=class extends _e.ClonableMixin(N){constructor(t){super(t),this.portalItem=null}readPortalItem(t,r,i){const{itemId:s}=r;if(s)return new Ho({id:s,portal:i==null?void 0:i.portal})}writePortalItem(t,r){t!=null&&t.id&&(r.itemId=t.id)}};c([u({type:Ho,json:{write:{isRequired:!0}}})],Km.prototype,"portalItem",void 0),c([Y("portalItem",["itemId"])],Km.prototype,"readPortalItem",null),c([Q("portalItem",{itemId:{type:String}})],Km.prototype,"writePortalItem",null),Km=c([S("esri.webdoc.ips.PositioningService")],Km);const CMe=Km;let b5=class extends _e.ClonableMixin(N){constructor(t){super(t),this.positioningService=null}};c([u({type:CMe,json:{write:{isRequired:!0}}})],b5.prototype,"positioningService",void 0),b5=c([S("esri.webdoc.IPSInfo")],b5);const MMe=b5,AMe={currentVersion:LX,createInitialViewProperties:()=>new H_,parseVersion:q0.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},kMe=W.ofType(Bte);let Md=class extends VSe{constructor(t){super(t),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const t=this.utilityNetworks.removeAll();for(const r of t)r.destroy();this.utilityNetworks.destroy()}}get context(){return AMe}loadAll(){return a4(this,t=>{var r,i;t(this.ground,this.basemap,this.layers,this.tables,(i=(r=this.ipsInfo)==null?void 0:r.positioningService)==null?void 0:i.portalItem)})}static fromJSON(t){if(t)return new this({resourceInfo:t});throw new I("webmap:empty-resource","Expected a JSON resource but got nothing")}};Md.VERSION=LX,c([u({type:IMe,json:{write:!0}})],Md.prototype,"geotriggersInfo",void 0),c([u({type:MMe,json:{write:!0,name:"mapIPSInfo"}})],Md.prototype,"ipsInfo",void 0),c([u({json:{write:!0}})],Md.prototype,"presentation",void 0),c([u({type:kMe,json:{read:!0,write:!0}})],Md.prototype,"utilityNetworks",void 0),Md=c([S("esri.WebMap")],Md);const Hte=Md;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */function su(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=LMe(e);if(!t){const r=DMe(e.referenceElement);if(!r){Zte(e);return}return Kz(r,e,!0),r}return RMe(t,e.el.parent)||(e.el.parent=t,t.tagName.toLowerCase()==="arcgis-expand"?OMe(t,e):t.tagName.toLowerCase()==="arcgis-placement"?FMe(t,e):Kz(t,e,!1)),t}function LMe({el:e}){for(let t=e.parentElement;t;t=(t==null?void 0:t.parentElement)??null){if(Qz.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&Qz.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}const Qz=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function RMe(e,t){if(e!==t)return!1;const r=e.tagName.toLowerCase();return r==="arcgis-expand"||r==="arcgis-placement"}function X4(e,t,r="arcgisReady"){var s;const i=e;if(typeof((s=i.view)==null?void 0:s.ready)=="boolean")t(i.view);else{let n=function(a){a.target===e&&(X4(e,t,r),e.removeEventListener(r,n))};e.addEventListener(r,n)}}const OMe=(e,t)=>X4(e,r=>{var i;t.el.childElem&&e.content!=null&&e.content.append(t.el.childElem),e.expandIcon=t.icon||((i=t.widget)==null?void 0:i.icon)||e.expandIcon,t.position=e.position,t.el.view=r}),FMe=(e,t)=>X4(e,r=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=r}),Kz=(e,t,r)=>X4(e,i=>{r?Zte(t):t.el.childElem&&PMe(e,t),t.el.view=i},"arcgisViewReadyChange");function PMe(e,t){var o;const r=t.el.childElem??t.el,i=[...e.children],s={};for(const l of i){const d=l.getAttribute("position")??"manual";s[d]??(s[d]=[]),s[d].push({child:l,position:d,index:i.indexOf(l)})}const n=(o=s[t.position??"manual"])==null?void 0:o.findIndex(({child:l})=>l===t.el),a=e.view.ui;a.remove(r),a.add(r,{position:t.position,index:n})}function NMe(e,t){return t===void 0||(e==null?void 0:e.targetGeometry)!==(t==null?void 0:t.targetGeometry)||(e==null?void 0:e.rotation)!==(t==null?void 0:t.rotation)||(e==null?void 0:e.scale)!==(t==null?void 0:t.scale)}function Xz(e,t){return Wte(t==null?void 0:t.center,e)}function Wte(e,t){if(typeof t=="string")return Wte(e,t.split(",").map(Number));if(!e)return t;if(Array.isArray(t)){const r=t[0],i=t[1],s=t.length>2?t[2]:void 0;if(r!==e.longitude||i!==e.latitude||s!==e.z)return t}else if(t&&!(e!=null&&e.equals(t)))return t}function Zte(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function DMe(e){return typeof e!="string"?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const VMe=Wn`@layer{arcgis-map{display:block;height:100%;.esri-view{height:100%;width:100%}}}`,zMe=SU(Hte),jMe=SU(yT);var bu;let qMe=(bu=class extends Ac{constructor(){super(...arguments),this._center=void 0,this._extent=void 0,this._itemId=void 0,this._scale=void 0,this._viewpoint=void 0,this._zoom=void 0,this._map=zMe(this,{editConstructorProperties:this._editMapProperties}),this.view=jMe(this,{editConstructorProperties:this._editViewProperties}),this.allLayerViews=this.view.allLayerViews,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlights=this.view.highlights,this.highlightOptions=this.view.highlightOptions,this.ipsInfo=this._map.ipsInfo,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.arcgisViewChange=xu(),this.arcgisViewClick=wr(()=>this.view,"click"),this.arcgisViewDoubleClick=wr(()=>this.view,"double-click"),this.arcgisViewDrag=wr(()=>this.view,"drag"),this.arcgisViewHold=wr(()=>this.view,"hold"),this.arcgisViewImmediateClick=wr(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=wr(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=wr(()=>this.view,"key-down"),this.arcgisViewKeyUp=wr(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=wr(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=wr(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=wr(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=wr(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=wr(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=wr(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=wr(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=wr(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=wr(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=xu()}get center(){return this.view.center??this._center}set center(t){const r=Xz(t,this.ready?this.view:void 0);r&&(this.ready&&(this.view.center=r),this._center=r)}get extent(){return this.view.extent??this._extent}set extent(t){var r;this.view.ready||(this._extent=t),t&&!((r=this.extent)!=null&&r.equals(t))&&(this.view.extent=t)}get gamepad(){return this.ready?this.view.input.gamepad:void 0}get interacting(){return this.view.interacting}get itemId(){var t;return((t=this._map.portalItem)==null?void 0:t.id)??this._itemId}set itemId(t){this._itemId=t,this.ready?Rp.reCreate(this._map,this).then(()=>{this.view.map=this._map}).catch(console.error):this.view.ready!=null&&(this._map.destroy(),this._map=new Hte(this._editMapProperties({portalItem:{id:this._itemId}})),this.view.map=this._map)}get navigating(){return this.view.navigating}get scale(){return this.view.scale??this._scale}set scale(t){this.ready&&(this.view.scale=t),this._scale=t}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint??this._viewpoint}set viewpoint(t){this.ready&&NMe(this.viewpoint,t)&&(this.view.viewpoint=t),this._viewpoint=t}get zoom(){return this.view.zoom??this._zoom}set zoom(t){this.ready&&(this.view.zoom=t),this._zoom=t}async addLayer(t,r){var i;(i=this.map)==null||i.add(t,r)}async addLayers(t,r){var i;(i=this.map)==null||i.addMany(t,r)}async addTable(t){var r;(r=this.map)==null||r.tables.add(t)}async addTables(t,r){var i;(i=this.map)==null||i.tables.addMany(t,r)}async closePopup(){var t;(t=this.view)==null||t.closePopup()}async destroy(){await this.manager.destroy()}async goTo(t,r){var i;return await((i=this.view)==null?void 0:i.goTo(t,r))}async hitTest(t,r){var i;return await((i=this.view)==null?void 0:i.hitTest(t,r))}async openPopup(t){var r;await((r=this.view)==null?void 0:r.openPopup(t))}async takeScreenshot(t){var r;return await((r=this.view)==null?void 0:r.takeScreenshot(t))}toMap(t){return this.view.toMap(t)}toScreen(t,r){return this.view.toScreen(t,r)}async tryFatalErrorRecovery(){var t;(t=this.view)==null||t.tryFatalErrorRecovery()}async whenLayerView(t){var r;return await((r=this.view)==null?void 0:r.whenLayerView(t))}load(){var t;this.el.childElem=document.createElement("div"),this.el.append(this.el.childElem),(t=this.view).container??(t.container=this.el.childElem)}loaded(){this.manager.onLifecycle(()=>[U(()=>this.view.stationary,()=>{this.arcgisViewChange.emit()},{initial:!0}),U(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})])}_editMapProperties(t){this.map&&(this._map=this.map),this.itemId&&(t.portalItem={id:this.itemId});const{basemap:r,...i}=t;r||(t=i);const{ground:s,...n}=t;return s||(t=n),t}async _editViewProperties(t){await this.manager.use(this._map),this.view.ui||(t.ui={components:["attribution"]}),t.map??(t.map=this._map);const r=Xz(this.center,void 0);return r&&(t.center=r),this.viewpoint&&(t.viewpoint=this.viewpoint),this.scale!==void 0&&(t.scale=this.scale),this.extent&&(t.extent=this.extent),this.zoom!==void 0&&(t.zoom=this.zoom),t}},bu.properties={_map:16,view:32,allLayerViews:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,floors:0,gamepad:32,graphics:0,ground:1,highlights:0,highlightOptions:0,interacting:32,ipsInfo:0,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:7,viewpoint:0,zoom:9},bu.shadowRootOptions=Wo,bu.styles=VMe,bu);Du("arcgis-map",qMe);const xn="esri-layer-list",fl=`${xn}__item`,Wb={base:xn,actionMenu:`${xn}__action-menu`,actionGroup:`${xn}__action-group`,filterNoResults:`${xn}__filter-no-results`,item:fl,itemActive:`${fl}--active`,itemContentBottom:`${fl}-content-bottom`,itemMessage:`${fl}-message`,itemActionIcon:`${fl}-action-icon`,itemActionImage:`${fl}-action-image`,itemTemporaryIcon:`${fl}-temporary-icon`,itemTableIcon:`${fl}-table-icon`,itemCatalogIcon:`${fl}-catalog-icon`,statusIndicator:`${xn}__status-indicator`,publishing:`${xn}__publishing`,updating:`${xn}__updating`,connectionStatus:`${xn}__connection-status`,connectionStatusConnected:`${xn}__connection-status--connected`,visibleToggle:`${xn}__visible-toggle`,visibleIcon:`${xn}__visible-icon`};function ej(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function BMe(e){return e?{backgroundImage:`url(${e})`}:{}}function fet({action:e,feature:t}){const r=t==null?void 0:t.attributes,i="image"in e?e.image:void 0;return i&&r?ku(i,r):i??""}const Jte={hide:"hide",hideChildren:"hide-children"},UMe=10,GMe=2;function HMe({exclusive:e,visible:t,visibilityAppearance:r}){const i=r==="checkbox";return t?e?"circle-f":i?"check-square-f":"view-visible":e?"circle":i?"square":"view-hide"}function WMe({connectionStatus:e,publishing:t}){return e?e==="connected"?"beacon":"offline":t?"square":"bullet-point"}function ZMe(e){return(e==null?void 0:e.listMode)===Jte.hideChildren}function t6(e){return(e==null?void 0:e.listMode)??void 0}function JMe(e){return e!=null&&"minScale"in e&&e.minScale!=null?e.minScale:void 0}function YMe(e){return e!=null&&"maxScale"in e&&e.maxScale!=null?e.maxScale:void 0}function QMe(e){if(!e)return"inherited";const t=sAe(sL(e)?e.layer:e);return t!=null?t?"independent":"inherited":"visibilityMode"in e&&e.visibilityMode!=null?e.visibilityMode:"independent"}function KMe(e){e==null||e.removeMany(e.filter(t=>t==null?void 0:t.destroyed))}function Yte(e){if(e&&(!("type"in e)||e.type!=="wmts"))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function XMe(e,t){e&&(e.filterPredicate=t?r=>t(ka(r)):void 0)}function eAe(e){const t=(e!=null&&e.layer&&sL(e.layer)?e.layer.layer:void 0)??(e==null?void 0:e.layer);return!!t&&t.type!=="catalog"&&(nAe(t)??!0)}function tAe(e){return t6(e)!==Jte.hide}function rAe(e,t){if(!e||t==null||isNaN(t))return!1;const r=JMe(e),i=YMe(e),s=r!=null&&!isNaN(r)&&r>0&&t>r,n=i!=null&&!isNaN(i)&&i>0&&t<i;return s||n}function Qte(e,t){e==null||e.sort((r,i)=>{const s="uid"in r?t.indexOf(r.uid):-1,n="uid"in i?t.indexOf(i.uid):-1;return s>n?-1:s<n?1:0})}function iAe(e,t){const r=e==null?void 0:e.layer;if(!r)return;const i=Yte(r);if(!i)return;let s;i==="layers"&&"layers"in r?s=r.layers:i==="sublayers"&&"sublayers"in r&&(s=r.sublayers),Qte(s,t)}function tj(e){const t=e==null?void 0:e.layer;return t&&"layers"in t?t.layers:null}function sL(e){return e!=null&&"layer"in e&&e.layer!=null}function sAe(e){const t=Kte(e);return t!=null&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}function nAe(e){const t=Kte(e);return t!=null&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}function Kte(e){return e&&"capabilities"in e&&e.capabilities!=null&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function ka(e){return e==null?void 0:e["data-item"]}function rj(e){return e==null?void 0:e.getAttribute("data-layer-type")}function aAe(e){const{children:t,error:r}=e,i="incompatible"in e&&e.incompatible;return!!(t!=null&&t.filter(s=>!s.hidden).length)&&!r&&!i}function oAe(e){for(const t of e)for(const r of t)if(r.type==="button"||r.type==="toggle")return r}var rC;let Le=rC=class extends lt{constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=t=>{this.item.actionsOpen=t.currentTarget.open},this._setTooltipReference=t=>{var r,i;(i=this.onTooltipReferenceChange)==null||i.call(this,(r=this.item.layer)==null?void 0:r.uid,t)},this._removeTooltipReference=()=>{var t,r;(r=this.onTooltipReferenceChange)==null||r.call(this,(t=this.item.layer)==null?void 0:t.uid,null)}}loadDependencies(){return dn({"action-group":()=>C(()=>import("./index-BnG7NiJo.js"),__vite__mapDeps([361,2,1,87,18,7,14,27,88,57,9,10,6,8,5])),"action-menu":()=>C(()=>import("./index-BJ0kc7VG.js"),__vite__mapDeps([362,2,1,87,18,7,14,27,88,57,9,10,6])),action:()=>C(()=>import("./index-DUQWA4aA.js").then(e=>e.i),__vite__mapDeps([2,1])),icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0),"list-item":()=>C(()=>import("./index-VUfVv5RO.js"),__vite__mapDeps([363,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),list:()=>C(()=>import("./index-BvqAo_0o.js"),__vite__mapDeps([364,101,1,75,365,366,65,40,13,19,66,63,42,20,7,73,74,30])),notice:()=>C(()=>import("./index-CylWDiU4.js").then(e=>e.i),__vite__mapDeps([84,15,14]))})}render(){var y,b;const e=this.parentTitles??[],{_title:t,item:r,activeItem:i,selectionMode:s,selectedItems:n,messages:a,parent:o,css:l}=this,d="visibleAtCurrentTimeExtent"in r&&"layerInvisibleAtTime"in a&&!r.visibleAtCurrentTimeExtent?`${t} (${a.layerInvisibleAtTime})`:"visibleAtCurrentScale"in r&&"layerInvisibleAtScale"in a&&!r.visibleAtCurrentScale?`${t} (${a.layerInvisibleAtScale})`:t,f="parent"in r&&((b=(y=r.parent)==null?void 0:y.layer)==null?void 0:b.type)==="catalog",{layer:p}=r,m="visibleAtCurrentScale"in r&&!r.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in r&&!r.visibleAtCurrentTimeExtent;return $("calcite-list-item",{afterCreate:g=>this._focusSelectedDragEl(g,r),afterUpdate:g=>this._focusSelectedDragEl(g,r),class:this.classes(l.item,"itemActive"in l&&{[l.itemActive]:i===r}),"data-item":r,"data-layer-id":p==null?void 0:p.id,dragDisabled:!r.sortable||f,id:p==null?void 0:p.uid,key:`list-item-${p==null?void 0:p.uid}`,label:t,metadata:{parentTitles:e,_title:t},open:"open"in r&&r.open,selected:s!=="none"&&n.includes(r),title:d,unavailable:m,value:p==null?void 0:p.uid,onCalciteListItemSelect:g=>"visible"in r&&this._handleCalciteListItemSelect(g,r,o),onCalciteListItemToggle:g=>"open"in r&&this._handleCalciteListItemToggle(g,r)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:t,visibleElements:r,css:i}=this;if(!r.statusIndicators)return null;const{publishing:s}=e,n="updating"in e&&e.updating&&!t,a="connectionStatus"in e?e.connectionStatus:void 0,o=!!a;return $("calcite-icon",{class:this.classes(i.statusIndicator,{[i.publishing]:s},"updating"in i&&{[i.updating]:n},"connectionStatus"in i&&{[i.connectionStatus]:o},"connectionStatusConnected"in i&&{[i.connectionStatusConnected]:o&&a==="connected"}),icon:WMe({connectionStatus:a,publishing:s}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:t,css:r}=this,{layer:i}=e,s="temporaryLayerIndicators"in t&&t.temporaryLayerIndicators,n="temporaryTableIndicators"in t&&t.temporaryTableIndicators,a=i&&"persistenceEnabled"in i&&(kA(i)||!i.persistenceEnabled);return(s||n)&&a?$("calcite-icon",{class:r.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{item:e,parent:t,messages:r,visibilityAppearance:i,css:s}=this;if(!("visible"in e&&"layerVisibility"in r&&"visibleToggle"in s&&i))return null;const{visible:n}=e,a=this._getParentVisibilityMode(t);if(a==="inherited")return null;const o=HMe({visible:n,exclusive:a==="exclusive",visibilityAppearance:i}),l=i==="checkbox",d=r.layerVisibility;return $("calcite-action",{appearance:"transparent",class:s.visibleToggle,icon:l?o:void 0,key:"visibility-toggle",onclick:()=>this._toggleVisibility(e,t),scale:"s",slot:l?"actions-start":"actions-end",text:d,title:d},l?null:$("calcite-icon",{class:this.classes({[s.visibleIcon]:a!=="exclusive"&&n}),icon:o,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!(e!=null&&e.open)||e.disabled||e.flowEnabled?null:$("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!(e!=null&&e.visible))return null;const{open:t,title:r,disabled:i}=e;return $("calcite-action",{active:t,appearance:"transparent",disabled:i,icon:ej(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:r??"",title:r??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:t}=this,r=t.options;return $("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:t.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},$("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:r,title:r}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map(e=>$("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map(t=>this._renderAction({action:t,textEnabled:!0}))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,t=this.item.layer,r=(t==null?void 0:t.type)==="catalog-footprint",i=(t==null?void 0:t.type)==="sublayer"&&lP(t,"footprints");return"itemCatalogIcon"in e&&(r||i)?$("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,t=this.item.layer,r=(t==null?void 0:t.type)==="catalog-dynamic-group",i=(t==null?void 0:t.type)==="sublayer"&&lP(t,"layers-in-view");return"itemCatalogIcon"in e&&(r||i)?$("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:t,visibleElements:r}=this;if(!("visible"in t))return;const{layer:i}=t,s=(i==null?void 0:i.type)==="catalog-dynamic-group";return"catalogLayerList"in r&&r.catalogLayerList&&s?$("calcite-action",{appearance:"transparent",disabled:!i.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(t),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:t,rootGroupUid:r,listModeDisabled:i,selectionMode:s,displayMode:n}=this;if(!("children"in t))return;const a=[...this.parentTitles??[],t.title],{children:o,layer:l}=t,d=(l==null?void 0:l.type)!=="catalog-dynamic-group"&&aAe(t),f=!i&&ZMe(l),p=(l==null?void 0:l.type)==="group",m=!f&&!d&&e&&p,y=!!e&&"childrenSortable"in t&&t.childrenSortable&&eAe(t);return d||m?$("calcite-list",{canPull:b=>!!this.canMove&&this.canMove(b,"pull"),canPut:b=>!!this.canMove&&this.canMove(b,"put"),"data-item":t,"data-layer-type":r,displayMode:n,dragEnabled:y,group:p?r:`${r}-${l==null?void 0:l.uid}`,key:`child-list-${l==null?void 0:l.uid}`,label:t.title,selectionAppearance:"border",selectionMode:s},o==null?void 0:o.filter(b=>!b.hidden&&(this.visibleElements.errors||!b.error)).toArray().map(b=>this._renderItem(b,t,a)),this._renderedTablesItem):null}get _hasTables(){var r,i;const{layerTablesEnabled:e}=this,t=this.item.layer;if(!e||!t)return!1;switch(t.type){case"knowledge-graph":return e.includes(t.type)&&"tables"in t&&!!((r=t.tables)!=null&&r.length);case"map-image":case"tile":return e.includes(t.type)&&"subtables"in t&&!!((i=t.subtables)!=null&&i.length);default:return!1}}get _renderedTablesItem(){const{item:e,messages:t,css:r}=this,{layer:i}=e;return"itemTableIcon"in r&&"visible"in e&&"tables"in t&&this._hasTables?$("calcite-list-item",{class:r.item,"data-layer-id":i==null?void 0:i.id,dragDisabled:!0,key:`list-item-table-list-tables-${i==null?void 0:i.uid}`,label:t.tables,title:t.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},$("calcite-icon",{class:r.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),$("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:t,css:r}=this;return e.error?$("div",{class:r.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},$("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},$("div",{slot:"message"},"tableError"in t?t.tableError:t.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in t?$("div",{class:r.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},$("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},$("div",{slot:"message"},t.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:oAe(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map(e=>e.filter(t=>t.visible))}get _actionsCount(){return this.item.actionsSections.reduce((e,t)=>e+t.length,0)}_renderAction(e){const{item:t}=this,{action:r,textEnabled:i}=e;if(!r)return null;const{active:s,disabled:n,title:a,type:o,indicator:l}=r;return $("calcite-action",{active:o==="toggle"&&r.value,appearance:"transparent","data-action-id":r.id,disabled:n,icon:ej(r),indicator:l,key:`action-${r.uid}`,loading:s,onclick:()=>this._triggerAction(t,r),scale:"s",slot:i?void 0:"actions-end",text:a??"",textEnabled:i,title:a??void 0},this._renderFallbackIcon(r))}_renderFallbackIcon(e){const{css:t}=this,{className:r,icon:i}=e;if(i)return null;const s="image"in e?e.image:void 0,n={[t.itemActionIcon]:!!r,[t.itemActionImage]:!!s};return r&&(n[r]=!0),s||r?$("span",{"aria-hidden":"true",class:this.classes(t.itemActionIcon,n),key:"icon",styles:BMe(s)}):null}_renderItem(e,t,r=[]){var i;return $(rC,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${(i=e.layer)==null?void 0:i.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:r,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,t){t&&e&&(t.type==="toggle"&&(t.value=!t.value),this.onAction(t,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){var t;e&&((t=this.onCatalogOpen)==null||t.call(this,e))}_focusSelectedDragEl(e,t){var r,i;this.selectedDragItemLayerUid===((r=t.layer)==null?void 0:r.uid)&&(ac(e),(i=this.onSelectedDragItemLayerUidChange)==null||i.call(this,null))}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.open}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,t,r){if(ka(e.target)!==t)return;const i=this._getParentVisibilityMode(r);this.selectionMode==="none"&&i!=="inherited"&&this._toggleVisibility(t,r)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,t){!e||!("visible"in e)||this._getParentVisibilityMode(t)==="exclusive"&&e.visible||(e.visible=!e.visible)}};Le.vnodeSelector="calcite-list-item",c([u()],Le.prototype,"activeItem",void 0),c([u()],Le.prototype,"canMove",void 0),c([u()],Le.prototype,"css",void 0),c([u()],Le.prototype,"displayMode",void 0),c([u()],Le.prototype,"dragEnabled",void 0),c([u()],Le.prototype,"item",void 0),c([u()],Le.prototype,"layerTablesEnabled",void 0),c([u()],Le.prototype,"listModeDisabled",void 0),c([u()],Le.prototype,"messages",void 0),c([u()],Le.prototype,"messagesCommon",void 0),c([u()],Le.prototype,"onAction",void 0),c([u()],Le.prototype,"onPanelOpen",void 0),c([u()],Le.prototype,"onCatalogOpen",void 0),c([u()],Le.prototype,"onTablesOpen",void 0),c([u()],Le.prototype,"onSelectedDragItemLayerUidChange",void 0),c([u()],Le.prototype,"onTooltipReferenceChange",void 0),c([u()],Le.prototype,"parent",void 0),c([u()],Le.prototype,"parentTitles",void 0),c([u()],Le.prototype,"rootGroupUid",void 0),c([u()],Le.prototype,"selectionMode",void 0),c([u()],Le.prototype,"selectedItems",void 0),c([u()],Le.prototype,"selectedDragItemLayerUid",void 0),c([u()],Le.prototype,"visibleElements",void 0),c([u()],Le.prototype,"visibilityAppearance",void 0),c([u()],Le.prototype,"_title",null),c([u()],Le.prototype,"_renderedItemStatus",null),c([u()],Le.prototype,"_renderedItemTemporaryIcon",null),c([u()],Le.prototype,"_renderedItemToggle",null),c([u()],Le.prototype,"_renderedPanel",null),c([u()],Le.prototype,"_renderedPanelAction",null),c([u()],Le.prototype,"_renderedActions",null),c([u()],Le.prototype,"_renderedActionMenu",null),c([u()],Le.prototype,"_renderedActionMenuContent",null),c([u()],Le.prototype,"_renderedCatalogFootprintIcon",null),c([u()],Le.prototype,"_renderedCatalogDynamicIcon",null),c([u()],Le.prototype,"_renderedCatalogSelectNode",null),c([u()],Le.prototype,"_renderedChildList",null),c([u()],Le.prototype,"_hasTables",null),c([u()],Le.prototype,"_renderedTablesItem",null),c([u()],Le.prototype,"_renderedItemMessage",null),c([u()],Le.prototype,"_singleAction",null),c([u()],Le.prototype,"_filteredSections",null),c([u()],Le.prototype,"_actionsCount",null),Le=rC=c([S("esri.widgets.LayerList.LayerListItem")],Le);const lAe=Le;function iC(e){return e!=null&&typeof e=="object"&&e.type==="2d"&&e.view2dType==="linkchart"}function Xte(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,i=Array.isArray(e)?e:cAe(e);r.push(...i)}}function cAe(e){return e.split(",").map(t=>t.trim())}function r6(e){return e&&typeof e.render=="function"}function dAe(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}let ri=class extends Os.IdentifiableMixin(lt){constructor(t,r){super(t,r),this._legend=null,this.className=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([U(()=>this._canCreateLegend,()=>this._createLegend(),we),U(()=>[this._legend,this._legendOptions],()=>this._updateLegend(),we)])}destroy(){this._legend=pt(this._legend)}get _canCreateLegend(){const{content:t,listItem:r}=this;if(!r)return!1;const i="legend";return t===i||t!=null&&!!Array.isArray(t)&&t.includes(i)}get _legendOptions(){const{listItem:t,_legendLayerInfo:r}=this,i=t==null?void 0:t.view;return r&&i?{view:i,layerInfos:[r]}:{}}get _legendLayerInfo(){var a;const t=(a=this.listItem)==null?void 0:a.layer;if(!t||t.type==="subtype-sublayer")return null;const r=sL(t)?t:null,i=t==null?void 0:t.parent,s=i!=null&&"type"in i&&i.type==="map-image"?r==null?void 0:r.source:null,n="";return s&&i?{layer:i,title:n,sublayerIds:[s.mapLayerId]}:{layer:t,title:n}}get disabled(){var s;const{listItem:t,_legend:r,content:i}=this;return!t||!(Array.isArray(i)&&i.length>1)&&!!r&&(!((s=r.activeLayerInfos)!=null&&s.length)||!t.visibleAtCurrentScale||!t.visible)}set disabled(t){this._overrideIfSome("disabled",t)}get icon(){const{image:t}=this,r=this._getFirstWidget();return this._get("icon")??(!t&&r?r.icon:null)}set icon(t){this._overrideIfSome("icon",t)}get title(){var t;return this._get("title")||(((t=this._getFirstWidget())==null?void 0:t.label)??"")}set title(t){this._override("title",t)}render(){return $("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(t){const{_legend:r,disabled:i,open:s}=this;return t&&!i&&s?t==="legend"&&r?$("div",{key:"legend-widget"},r.render()):typeof t=="string"?$("div",{innerHTML:t,key:t}):r6(t)?$("div",{key:"content-widget"},t.render()):t instanceof HTMLElement?$("div",{afterCreate:this._attachToNode,bind:t,key:"content-element"}):null:null}_renderContents(){const{content:t,open:r}=this;return r?Array.isArray(t)?t.map(i=>this._renderContent(i)):this._renderContent(t):null}async _createLegend(){if(pt(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:t}=await C(()=>Promise.resolve().then(()=>fOe),void 0),r=new t(this._legendOptions);this._legend=r}_attachToNode(t){t.appendChild(this)}_updateLegend(){const t=this._legend;t&&t.set(this._legendOptions)}_getWidget(t){return t==="legend"?this._legend:r6(t)?t:null}_getFirstWidget(){const{content:t}=this;return Array.isArray(t)?t.map(r=>this._getWidget(r)).find(r=>r):this._getWidget(t)}};c([u()],ri.prototype,"_legend",void 0),c([u()],ri.prototype,"_canCreateLegend",null),c([u()],ri.prototype,"_legendOptions",null),c([u()],ri.prototype,"_legendLayerInfo",null),c([u()],ri.prototype,"className",void 0),c([u()],ri.prototype,"content",void 0),c([u()],ri.prototype,"disabled",null),c([u()],ri.prototype,"flowEnabled",void 0),c([u()],ri.prototype,"icon",null),c([u()],ri.prototype,"image",void 0),c([u()],ri.prototype,"listItem",void 0),c([u()],ri.prototype,"open",void 0),c([u()],ri.prototype,"title",null),c([u()],ri.prototype,"visible",void 0),ri=c([S("esri.widgets.LayerList.ListItemPanel")],ri);const ere=ri;var m1;const uAe=W.ofType({key:"type",defaultKeyValue:"button",base:g4,typeMap:{button:FY,toggle:PY}}),tre=W.ofType(uAe),hS="layer",k3="child-list-mode",fAe="hide";let dt=m1=class extends Os.IdentifiableMixin(ie){constructor(e){super(e),this.actionsSections=new tre,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(W.ofType(m1)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.panel=null,this.parent=null,this.view=null}initialize(){if(this.addHandles([U(()=>{var e;return[this.layer,(e=this.layer)==null?void 0:e.listMode,this.listModeDisabled]},()=>this._watchLayerProperties(this.layer),we),U(()=>this.checkPublishStatusEnabled,e=>this._updateChildrenPublishing(e),we),U(()=>this.view,e=>this._updateChildrenView(e),we),U(()=>this.panel,e=>this._setListItemOnPanel(e),we)]),typeof this.listItemCreatedFunction=="function"){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){var e;(e=this.panel)==null||e.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){var e;return(e=this.layer)==null?void 0:e.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e))&&!e.spatialReferenceSupported}get layerView(){const{layer:e,view:t}=this;if(!e||!t||e.type==="sublayer")return null;const r=e.type==="subtype-sublayer"?e.parent:e;return t.allLayerViews.find(i=>i.layer===r)??null}castPanel(e){var t;return(t=this.panel)!=null&&t.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new ere(e):null}get sortable(){var e;return((e=this.layer)==null?void 0:e.type)!=="knowledge-graph-sublayer"&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=Ji(this,"layer.layer");return(!e||e&&Ji(this,"layer.layer.loaded"))&&Ji(this,"layer.title")||Ji(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){var r;const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&"publishingInfo"in e&&((r=e.publishingInfo)==null?void 0:r.status)==="publishing")}get updating(){const{layerView:e,connectionStatus:t,layer:r,publishing:i}=this;return!i&&!t&&(e?e.updating:(r==null?void 0:r.loadStatus)==="loading"||!1)}get visible(){var e;return!!((e=this.layer)!=null&&e.visible)}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){var e,t;return((e=this.layerView)==null?void 0:e.visibleAtCurrentScale)??!rAe(this.layer,(t=this.view)==null?void 0:t.scale)}get visibleAtCurrentTimeExtent(){var e;return((e=this.layerView)==null?void 0:e.visibleAtCurrentTimeExtent)??!0}get visibilityMode(){return QMe(this.layer)}clone(){return new m1({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){var t;(t=this.children)==null||t.forEach(r=>r.checkPublishStatusEnabled=e)}_updateChildrenView(e){const t=this.children;t&&t.forEach(r=>r.view=e)}_createChildren(e){const{listModeDisabled:t,children:r}=this,i=e.filter(s=>!r.some(n=>n.layer===s));r.addMany(this._createChildItems(i,t))}_destroyChildren(e){const{children:t}=this,r=t.filter(i=>!!i.layer&&!e.includes(i.layer));t.destroyMany(r)}_sortChildren(e){this.children.sort((t,r)=>e.indexOf(r.layer)-e.indexOf(t.layer))}_destroyAllChildren(){this.removeHandles(k3),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(k3),this.listModeDisabled||this.addHandles(e.toArray().map(t=>U(()=>t.listMode,()=>this._compileChildren(e))),k3)}_compileChildren(e){const t=this.listModeDisabled?e:e==null?void 0:e.filter(r=>t6(r)!==fAe);e!=null&&e.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",()=>this._compileChildren(e)),hS)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map(r=>t||tAe(r)?new m1({layer:r,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null).filter(It)}_watchLayerProperties(e){if(this.removeHandles(hS),this.removeHandles(k3),!e)return;if((!this.listModeDisabled&&t6(e))==="hide-children")return void this.children.destroyAll();const t=Yte(e);t&&this.addHandles(U(()=>e[t],r=>{e.hasOwnProperty(t)&&this._initializeChildLayers(r)},we),hS)}};c([u({type:tre})],dt.prototype,"actionsSections",void 0),c([u()],dt.prototype,"actionsOpen",void 0),c([u()],dt.prototype,"checkPublishStatusEnabled",void 0),c([u({type:W.ofType(dt)})],dt.prototype,"children",void 0),c([u()],dt.prototype,"childrenSortable",void 0),c([u({readOnly:!0})],dt.prototype,"connectionStatus",null),c([u({readOnly:!0})],dt.prototype,"error",null),c([u()],dt.prototype,"hidden",void 0),c([u({readOnly:!0})],dt.prototype,"incompatible",null),c([u()],dt.prototype,"layer",void 0),c([u({readOnly:!0})],dt.prototype,"layerView",null),c([u()],dt.prototype,"listItemCreatedFunction",void 0),c([u({nonNullable:!0})],dt.prototype,"listModeDisabled",void 0),c([u()],dt.prototype,"open",void 0),c([u({type:ere})],dt.prototype,"panel",void 0),c([Oe("panel")],dt.prototype,"castPanel",null),c([u()],dt.prototype,"parent",void 0),c([u({value:!0})],dt.prototype,"sortable",null),c([u()],dt.prototype,"title",null),c([u({readOnly:!0})],dt.prototype,"publishing",null),c([u({readOnly:!0})],dt.prototype,"updating",null),c([u()],dt.prototype,"view",void 0),c([u()],dt.prototype,"visible",null),c([u({readOnly:!0})],dt.prototype,"visibleAtCurrentScale",null),c([u({readOnly:!0})],dt.prototype,"visibleAtCurrentTimeExtent",null),c([u({readOnly:!0})],dt.prototype,"visibilityMode",null),dt=m1=c([S("esri.widgets.LayerList.ListItem")],dt);const nL=dt,aa={view:"view",viewLayers:"view-layers",mapLayers:"map-layers",layerViews:"layer-views",layerListMode:"layer-list-mode"},pAe="hide",rre=W.ofType(nL);let $o=class extends an.EventedAccessor{constructor(t){super(t),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new rre,this.view=null}initialize(){this.addHandles([U(()=>{var t;return((t=this.view)==null?void 0:t.ready)===!0},()=>this._viewHandles(),we),U(()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled],()=>this._recompileList()),U(()=>iC(this.view)?this.view.inGeographicLayout:null,()=>this._compileList())],aa.view)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:t}=this;return t!=null&&t.ready?"ready":t?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten(t=>t.children).length}triggerAction(t,r){t&&!t.disabled&&this.emit("trigger-action",{action:t,item:r})}moveListItem(t,r,i,s){var y,b;const n=t==null?void 0:t.layer;if(!n||n.type==="subtype-sublayer"||n.type==="sublayer")return;const a=(b=(y=this.view)==null?void 0:y.map)==null?void 0:b.layers,o=r?tj(r):a,l=i?tj(i):a;if(!o||!l)return;const{operationalItems:d}=this,f=(r==null?void 0:r.children)||d,p=(i==null?void 0:i.children)||d,m=l.length-s;t.parent=i||null,f.remove(t),o.remove(n),p.includes(t)||p.add(t,m),l.includes(n)||l.add(n,m),this._compileList()}_createLayerViewHandles(t){this.removeHandles(aa.layerViews),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),aa.layerViews)}_createMapLayerHandles(t){this.removeHandles(aa.mapLayers),this._compileList(),t&&this.addHandles(t.on("change",()=>this._compileList()),aa.mapLayers)}_createListItem(t){const{view:r,listItemCreatedFunction:i,checkPublishStatusEnabled:s,listModeDisabled:n}=this;return new nL({checkPublishStatusEnabled:s,listModeDisabled:n,layer:t,listItemCreatedFunction:i,view:r})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter(r=>t6(r)!==pAe):void 0}_watchLayersListMode(t){this.removeHandles(aa.layerListMode),t&&!this.listModeDisabled&&this.addHandles(U(()=>t.filter(r=>"listMode"in r).map(r=>r.listMode).toArray(),()=>this._compileList()),aa.layerListMode)}_compileList(){var s,n;const t=(n=(s=this.view)==null?void 0:s.map)==null?void 0:n.layers,r=iC(this.view)&&!this.view.inGeographicLayout?t==null?void 0:t.filter(({type:a})=>a==="link-chart"):t;this._watchLayersListMode(r);const i=this._getViewableLayers(r);i!=null&&i.length?(this._createNewItems(i),this._removeItems(i),this._sortItems(i)):this._removeAllItems()}_createNewItems(t){const{operationalItems:r}=this;t.forEach(i=>{r.some(s=>s.layer===i)||r.add(this._createListItem(i))})}_removeItems(t){const{operationalItems:r}=this,i=[];r.forEach(s=>{s&&t&&t.includes(s.layer)||i.push(s)}),r.destroyMany(i)}_sortItems(t){const{operationalItems:r}=this;r.sort((i,s)=>{const n=t.indexOf(i.layer),a=t.indexOf(s.layer);return n>a?-1:n<a?1:0})}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:t}=this;this.removeHandles([aa.mapLayers,aa.layerViews,aa.viewLayers]),t!=null&&t.ready?this.addHandles([U(()=>{var r,i;return(i=(r=this.view)==null?void 0:r.map)==null?void 0:i.allLayers},r=>this._createMapLayerHandles(r),we),U(()=>{var r;return(r=this.view)==null?void 0:r.allLayerViews},r=>this._createLayerViewHandles(r),we)],aa.viewLayers):this._removeAllItems()}};c([u()],$o.prototype,"checkPublishStatusEnabled",void 0),c([u()],$o.prototype,"listItemCreatedFunction",void 0),c([u({nonNullable:!0})],$o.prototype,"listModeDisabled",void 0),c([u({type:rre})],$o.prototype,"operationalItems",void 0),c([u({readOnly:!0})],$o.prototype,"state",null),c([u()],$o.prototype,"totalItems",null),c([u()],$o.prototype,"view",void 0),$o=c([S("esri.widgets.LayerList.LayerListViewModel")],$o);const ire=$o;let En=class extends ie{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};c([u({type:Boolean,nonNullable:!0})],En.prototype,"catalogLayerList",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"closeButton",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"collapseButton",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"errors",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"filter",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"flow",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"heading",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"statusIndicators",void 0),c([u({type:Boolean,nonNullable:!0})],En.prototype,"temporaryLayerIndicators",void 0),En=c([S("esri.widgets.LayerList.LayerListVisibleElements")],En);const sre=En,nre=["label","description","metadata"],hAe=W.ofType(nL),ij="nested";let Re=class extends Os.IdentifiableMixin(lt){constructor(t,r){super(t,r),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new zp,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new zp,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new W(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=GMe,this.minFilterItems=UMe,this.openedLayers=new W,this.openedLayerLists=new W,this.selectedItems=new hAe,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new ire,this.visibilityAppearance="default",this.visibleElements=new sre,this._canMove=({dragEl:i,fromEl:s,toEl:n},a)=>{var k,A,M;const o=a==="pull"?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,l=ka(i);if(!(l!=null&&l.sortable))return!1;const d=ka(s),f=rj(s),p=ka(n),m=rj(n),y=!!f&&!!m&&f===m,b={selected:l,from:d,to:p},g=s.group,v=n.group,w=((k=d==null?void 0:d.layer)==null?void 0:k.type)??"",_=((A=p==null?void 0:p.layer)==null?void 0:A.type)??"",x=new Set(["map-image","catalog","knowledge-graph"]);return g&&v&&typeof o=="function"?o.call(null,b):y&&!x.has(w)&&!x.has(_)&&((M=l==null?void 0:l.layer)==null?void 0:M.type)!=="sublayer"},this._onCatalogOpen=i=>{var s,n;this.openedLayers.push((s=i.layer)==null?void 0:s.parent),this._focusLayerFlowItem=(n=i.layer)==null?void 0:n.uid},this._onTablesOpen=i=>{var s;this.openedLayers.push(i.layer),this._focusLayerFlowItem=(s=i.layer)==null?void 0:s.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(i,s)=>{s?this._tooltipReferenceMap.set(i,s):this._tooltipReferenceMap.delete(i)},this._onSelectedDragItemLayerUidChange=i=>{this._selectedDragItemLayerUid=i},this._onTriggerAction=(i,s)=>{this.triggerAction(i,s)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=i=>{if(this.visibilityAppearance!=="default")return;const s=Array.from(i.composedPath()).find(n=>{var a;return(a=n.classList)==null?void 0:a.contains(Wb.item)});this._activeItem=ka(s)},this._onCalciteListOrderChange=i=>{const{_lastDragDetail:s}=this,{toEl:n,fromEl:a,dragEl:o,newIndex:l}=i;if(a&&n&&!((s==null?void 0:s.newIndex)===l&&(s==null?void 0:s.dragEl)===o&&(s==null?void 0:s.toEl)===n&&(s==null?void 0:s.fromEl)===a))if(this._lastDragDetail=i,this._selectedDragItemLayerUid=o.value,a!==n)this._moveLayerFromChildList({toEl:n,fromEl:a,dragEl:o,newIndex:l});else{const d=Array.from(a.children).filter(f=>f==null?void 0:f.matches("calcite-list-item")).map(f=>f.value);this._sortLayers(a,d)}}}initialize(){this.addHandles([Er(()=>this.openedLayers,"change",()=>this._handleOpenedLayersChange(),we),Er(()=>this.viewModel.operationalItems,"change",()=>KMe(this.selectedItems),we),U(()=>[this.filterPredicate,this._rootListEl],()=>XMe(this._rootListEl,this.filterPredicate))])}loadDependencies(){return dn({button:()=>C(()=>Promise.resolve().then(()=>ew),void 0),flow:()=>C(()=>import("./index-DB_P2JhB.js").then(t=>t.i),[]),"flow-item":()=>C(()=>import("./index-odH7xX0x.js"),__vite__mapDeps([367,2,1,87,18,7,14,27,88,57,9,10,6,86,56,64])),list:()=>C(()=>import("./index-BvqAo_0o.js"),__vite__mapDeps([364,101,1,75,365,366,65,40,13,19,66,63,42,20,7,73,74,30])),notice:()=>C(()=>import("./index-CylWDiU4.js").then(t=>t.i),__vite__mapDeps([84,15,14])),tooltip:()=>C(()=>import("./index-C5F_oLvm.js").then(t=>t.i),__vite__mapDeps([111,18,7,14,88,1]))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten(t=>t.children.filter(r=>{var i;return((i=r.layer)==null?void 0:i.type)!=="catalog-dynamic-group"})).length}get _visibleItems(){var t;return(t=this.operationalItems)==null?void 0:t.filter(r=>!r.hidden&&(this.visibleElements.errors||!r.error))}get _openedPanelItems(){return this._visibleItems.flatten(t=>t.children).filter(({hidden:t,panel:r})=>!t&&(r==null?void 0:r.open)&&!r.disabled&&r.flowEnabled)}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:t}=this;return t.toArray().map((r,i)=>this._renderLayerFlowItem(r,i===t.length-1))}get icon(){return"layers"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(t){this.viewModel.listItemCreatedFunction=t}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(t){this.viewModel.operationalItems=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}triggerAction(t,r){return this.viewModel.triggerAction(t,r)}render(){var s;const t=(s=this.viewModel)==null?void 0:s.state,{_visibleItems:r}=this,i={[ve.hidden]:t==="loading",[ve.disabled]:t==="disabled"};return $("div",{class:this.classes(Wb.base,ve.widget,ve.panel,i)},r!=null&&r.length?[this._renderItemTooltips(),this._renderItems()]:this._renderNoItems())}async _createFlowList(t,r){const{_layerListMap:i}=this,s=i.get(t);if(s)return s;const n=t.type==="catalog"?await this._createCatalogLayerList(t):await this._createTableList(t);return r.aborted||i.set(t,n),n}async _handleOpenedLayersChange(){var l;const{_layerListMap:t,openedLayers:r,openedLayerLists:i}=this;(l=this._openedLayersController)==null||l.abort();const s=new AbortController,{signal:n}=s;this._openedLayersController=s,t.forEach((d,f)=>{r.includes(f)||(d.destroy(),t.delete(f))});const a=await Promise.all(r.map(d=>this._createFlowList(d,n)));if(n.aborted)return;i.removeAll(),i.addMany(a);const o=i.at(-1);o?"catalogLayer"in o?(this._set("catalogLayerList",o),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",o)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(t){var s,n;const{_tooltipReferenceMap:r,messages:i}=this;return t?$("calcite-tooltip",{key:`tooltip-${(s=t.layer)==null?void 0:s.uid}`,overlayPositioning:"fixed",referenceElement:r.get((n=t.layer)==null?void 0:n.uid)},i.layerIncompatibleTooltip):null}_renderItemTooltipNodes(t){var r;return t.incompatible?this._renderItemTooltip(t):(r=t.children)==null?void 0:r.filter(i=>!i.hidden).toArray().map(i=>this._renderItemTooltipNodes(i))}_renderItemTooltips(){var t;return(t=this._visibleItems)==null?void 0:t.toArray().map(r=>this._renderItemTooltipNodes(r))}_renderNoItemsMessage(){return $("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return $("div",{class:Wb.itemMessage,key:"esri-layer-list__no-items"},$("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(t){const{default:r}=await C(()=>import("./CatalogLayerList-6VgCKTC3.js"),[]),{headingLevel:i,catalogOptions:s,view:n,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:l,selectionMode:d,visibilityAppearance:f,_onCatalogOpen:p,_onTablesOpen:m,layerTablesEnabled:y}=this;return new r({headingLevel:i,view:n,filterPlaceholder:a,listItemCreatedFunction:o,minFilterItems:l,selectionMode:d,visibilityAppearance:f,...s,catalogLayer:t,layerTablesEnabled:y,onCatalogOpen:p,onTablesOpen:m})}_getTableListParams(t){switch(t.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:t.tables};case"map-image":return{...this.mapImageOptions,tables:t.subtables};case"tile":return{...this.tileOptions,tables:t.subtables};default:return null}}async _createTableList(t){const{default:r}=await C(()=>import("./TableList-BlRn-w0Q.js"),[]),{headingLevel:i,selectionMode:s,dragEnabled:n}=this;return new r({headingLevel:i,selectionMode:s,dragEnabled:n,...this._getTableListParams(t)})}_renderLayerFlowItem(t,r){var a;const{messages:i,openedLayers:s}=this,n=t.title||this.messages.untitledLayer;return $("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":t.uid,description:n,heading:i[t.type==="catalog"?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${t.uid}`,selected:r,onCalciteFlowItemBack:o=>{o.preventDefault(),s.pop();const l=s.at(-1);l?this._focusLayerFlowItem=l.uid:this._focusRootFlowItem=!0}},(a=this._layerListMap.get(t))==null?void 0:a.render())}_renderPanelFlowItems(){const{_openedPanelItems:t,openedLayers:r}=this;return t.toArray().map(({title:i,panel:s},n)=>{const a=()=>this._handlePanelFlowItemBack(s);return $("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:i,heading:s.title,headingLevel:this.headingLevel,key:`flow-panel-${s.uid}`,selected:!r.length&&n===t.length-1,onCalciteFlowItemBack:o=>{o.preventDefault(),a()}},s.render(),$("calcite-button",{appearance:"transparent",onclick:a,slot:"footer-actions",width:"full"},this.messagesCommon.back))})}_handlePanelFlowItemBack(t){t.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,ac(t))}_focusLayerFlowItemNode(t){this._focusLayerFlowItem===t.dataset.layerUid&&(this._focusLayerFlowItem=null,ac(t))}_focusPanelFlowItemNode(t){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,ac(t))}_renderItems(){const{visible:t,collapsed:r,_visibleItems:i,_openedPanelItems:s,_filterEnabled:n,_rootGroupUid:a,visibleElements:{closeButton:o,collapseButton:l,heading:d,flow:f},_dragEnabled:p,selectionMode:m,filterText:y,openedLayers:b,filterPlaceholder:g,messages:v}=this,w=[$("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:o,closed:!t,collapsed:r,collapsible:l,heading:d?v.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!b.length&&!s.length,onCalciteFlowItemClose:()=>this.visible=!1},$("calcite-list",{afterCreate:_=>{this._rootListEl=_,_.addEventListener("focusin",this._setActiveItem),_.addEventListener("focusout",this._clearActiveItem)},afterRemoved:_=>{this._rootListEl=null,_.removeEventListener("focusin",this._setActiveItem),_.removeEventListener("focusout",this._clearActiveItem)},canPull:_=>this._canMove(_,"pull"),canPut:_=>this._canMove(_,"put"),"data-layer-type":a,displayMode:ij,dragEnabled:p,filterEnabled:n,filterPlaceholder:g,filterProps:nre,filterText:n?y:"",group:a,key:"root-list",label:v.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:m,onCalciteListChange:_=>this._handleCalciteListChange(_),onCalciteListDragEnd:_=>this._handleCalciteListDragEnd(_.detail),onCalciteListFilter:_=>{var x;return this.filterText=((x=_.currentTarget)==null?void 0:x.filterText)??""},onCalciteListOrderChange:_=>this._onCalciteListOrderChange(_.detail)},i==null?void 0:i.toArray().map(_=>this._renderItem(_)),i!=null&&i.length&&n?$("div",{class:Wb.filterNoResults,slot:"filter-no-results"},$("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return t?f?$("calcite-flow",{key:"root-flow"},w):w:null}_renderItem(t,r,i){var s;return $(lAe,{activeItem:this._activeItem,canMove:this._canMove,css:Wb,displayMode:ij,dragEnabled:this.dragEnabled,item:t,key:`layerListItem-${(s=t.layer)==null?void 0:s.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:r,parentTitles:i,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:t,fromEl:r,dragEl:i,newIndex:s}){const n=ka(i),a=ka(t),o=ka(r);this.viewModel.moveListItem(n,o,a,s)}_handleCalciteListDragEnd(t){const{fromEl:r,dragEl:i,oldIndex:s}=t;r.insertBefore(i,r.children[s])}_sortLayers(t,r){var i,s;if(t)if(t===this._rootListEl)Qte((s=(i=this.view)==null?void 0:i.map)==null?void 0:s.layers,r);else{const n=ka(t);if(!n)return;iAe(n,r)}}_handleCalciteListChange(t){const{selectionMode:r,selectedItems:i}=this;if(r==="none")return;const s=t.target.selectedItems.map(n=>ka(n)).filter(Boolean);i.removeAll(),i.addMany(s)}};c([u()],Re.prototype,"_rootListEl",void 0),c([u()],Re.prototype,"_activeItem",void 0),c([u()],Re.prototype,"_tooltipReferenceMap",void 0),c([u()],Re.prototype,"_focusRootFlowItem",void 0),c([u()],Re.prototype,"_focusPanelFlowItem",void 0),c([u()],Re.prototype,"_focusLayerFlowItem",void 0),c([u()],Re.prototype,"_layerListMap",void 0),c([u()],Re.prototype,"_totalItems",null),c([u()],Re.prototype,"_visibleItems",null),c([u()],Re.prototype,"_openedPanelItems",null),c([u()],Re.prototype,"_dragEnabled",null),c([u()],Re.prototype,"_filterEnabled",null),c([u()],Re.prototype,"_renderedOpenLayerFlowItems",null),c([u({readOnly:!0})],Re.prototype,"catalogLayerList",void 0),c([u()],Re.prototype,"catalogOptions",void 0),c([u()],Re.prototype,"collapsed",void 0),c([u()],Re.prototype,"dragEnabled",void 0),c([u()],Re.prototype,"filterPlaceholder",void 0),c([u()],Re.prototype,"filterPredicate",void 0),c([u()],Re.prototype,"filterText",void 0),c([u()],Re.prototype,"headingLevel",void 0),c([u()],Re.prototype,"icon",null),c([u()],Re.prototype,"knowledgeGraphOptions",void 0),c([u()],Re.prototype,"label",null),c([u()],Re.prototype,"layerTablesEnabled",void 0),c([u()],Re.prototype,"listItemCanGiveFunction",void 0),c([u()],Re.prototype,"listItemCanReceiveFunction",void 0),c([u()],Re.prototype,"listItemCreatedFunction",null),c([u()],Re.prototype,"mapImageOptions",void 0),c([u(),Jt("esri/widgets/LayerList/t9n/LayerList")],Re.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],Re.prototype,"messagesCommon",void 0),c([u()],Re.prototype,"minDragEnabledItems",void 0),c([u()],Re.prototype,"minFilterItems",void 0),c([u({readOnly:!0})],Re.prototype,"openedLayers",void 0),c([u({readOnly:!0})],Re.prototype,"openedLayerLists",void 0),c([u()],Re.prototype,"operationalItems",null),c([u()],Re.prototype,"selectedItems",void 0),c([u()],Re.prototype,"selectionMode",void 0),c([u({readOnly:!0})],Re.prototype,"tableList",void 0),c([u()],Re.prototype,"tileOptions",void 0),c([u()],Re.prototype,"view",null),c([Xte("trigger-action"),u({type:ire})],Re.prototype,"viewModel",void 0),c([u()],Re.prototype,"visibilityAppearance",void 0),c([u({type:sre,nonNullable:!0})],Re.prototype,"visibleElements",void 0),Re=c([S("esri.widgets.LayerList")],Re);const mAe=Re;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const e8=(e,t)=>(r,i)=>bAe(r,e,i);let yAe=class extends oM{constructor(t,r,i){super(t,r,i),this._watchedViewModelProperties=new Map,this._watchedVisibleElementsProperties={},this._isBindingViewModel={value:!0},Object.defineProperty(this.exports,"viewModel",{value:Rp.makeGetterProxy(t,this._watchedViewModelProperties,this._isBindingViewModel)}),Object.defineProperty(this.exports,"visibleElements",{value:this._makeVisibleElementsBinder()})}hostConnected(){super.hostConnected(),this._isBindingViewModel.value=!1,this.component.manager.loadedCalled&&su(this.component)}async hostLoad(){if(this._watchedProperties.delete("viewModel"),await super.hostLoad(),this.component.manager.destroyed)return;this._watchMetaProperties(),this.onLifecycle(()=>this.reactiveUtils.watch(()=>this._instance.viewModel,i=>{this.component.viewModel=i},{initial:!0}));const t=this._instance.viewModel;typeof t=="object"&&(Rp.watchComponentUpdates(this,t,this._watchedViewModelProperties),Rp.watchAccessorUpdates(this,t,this._watchedViewModelProperties));const r=Object.entries(this._watchedVisibleElementsProperties);r.length>0&&this.onLifecycle(()=>r.map(([i,s])=>{let n=this._instance.visibleElements??{},a;for(const d of s.slice(0,-1))if(typeof n[d]=="object"&&n[d]!==null)n=n[d];else{a=!!n[d];break}a===void 0&&(a=!!(n[s.slice(-1)[0]]??!0)),i.startsWith("hide");const o=i.startsWith("hide")||i.startsWith("show")?i.startsWith("hide"):a,l=this.component;return typeof l[i]=="boolean"?this._updateWidgetVisibleElement(s,l[i],o):l[i]=!1,dc(this.component,i,d=>this._updateWidgetVisibleElement(s,d,o))}))}_updateWidgetVisibleElement(t,r,i){let s=this._instance.visibleElements??{};for(const a of t.slice(0,-1))(typeof s[a]!="object"||s[a]===null)&&(s[a]={}),s=s[a];const n=!!(i?!r:r);s[t.at(-1)]=n}hostLoaded(){const{el:t}=this.component;t.childElem??(t.childElem=document.createElement("div")),this._instance.container=t.childElem;let r=!1;const i=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>{var s;return this._instance.view??((s=this._instance.viewModel)==null?void 0:s.view)},set:s=>{!("view"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.view=s:this._instance.view=s,!("map"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.map=s.map:this._instance.map=s.map,this._watchViewDestroy(),s&&!r&&(r=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),i&&(this._instance.view=i),this.component.el.isConnected&&(su(this.component),this._watchViewDestroy())}hostDisconnected(){var t,r;typeof this.component.el.childElem=="object"&&((r=(t=this.component.el.view)==null?void 0:t.ui)==null||r.remove(this.component.el.childElem))}hostDestroy(){var t;super.hostDestroy(),(t=this._watchViewDestroyHandle)==null||t.remove()}_watchMetaProperties(){dc(this.component,"position",t=>{this.component.el.childElem!=null&&typeof t=="string"&&su(this.component)}),dc(this.component,"referenceElement",()=>su(this.component))}_makeVisibleElementsBinder(){return new Proxy({},{has:(t,r)=>typeof r=="string"||Reflect.has(t,r),get:(t,r)=>{if(typeof r=="symbol"||r in Promise.prototype)return Reflect.get(t,r);const i=[r],s=this._makeRecursiveProxy(i);return nM(this.component,n=>{const a=n;this.component[a]=!1,this._watchedVisibleElementsProperties[a]=i},s)}})}_makeRecursiveProxy(t){const r=new Proxy({},{get:(i,s)=>{const n=Reflect.get(i,s);return typeof s=="symbol"||s in Promise.prototype?n:(t.push(s),r)}});return r}_watchViewDestroy(){var t;(t=this._watchViewDestroyHandle)==null||t.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>{var r;return((r=this.component.el.view)==null?void 0:r.destroyed)===!0},()=>void this.component.destroy().catch(console.error),{sync:!0})}};const bAe=M6(yAe);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const gAe=Wn`@layer{arcgis-layer-list{display:block}}`,vAe=e8(mAe);var gu;let wAe=(gu=class extends Ac{constructor(){super(...arguments),this.widget=vAe(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.catalogOptions=this.widget.catalogOptions,this.collapsed=this.widget.collapsed,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterPredicate=this.widget.filterPredicate,this.filterText=this.widget.filterText,this.headingLevel=this.widget.headingLevel,this.hideCatalogLayerList=this.widget.visibleElements.catalogLayerList,this.hideFlow=this.widget.visibleElements.flow,this.hideStatusIndicators=this.widget.visibleElements.statusIndicators,this.icon=this.widget.icon,this.knowledgeGraphOptions=this.widget.knowledgeGraphOptions,this.label=this.widget.label,this.listItemCreatedFunction=this.widget.listItemCreatedFunction,this.minDragEnabledItems=this.widget.minDragEnabledItems,this.minFilterItems=this.widget.minFilterItems,this.openedLayers=this.widget.openedLayers,this.position="bottom-left",this.selectedItems=this.widget.selectedItems,this.selectionMode=this.widget.selectionMode,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showErrors=this.widget.visibleElements.errors,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.showTemporaryLayerIndicators=this.widget.visibleElements.temporaryLayerIndicators,this.state=this.viewModel.state,this.visibilityAppearance=this.widget.visibilityAppearance,this.arcgisPropertyChange=zy()("state"),this.arcgisReady=xu(),this.arcgisTriggerAction=wr(()=>this.widget,"trigger-action")}get catalogLayerList(){return this.widget.catalogLayerList}get operationalItems(){return this.widget.operationalItems}get tableList(){return this.widget.tableList}async destroy(){await this.manager.destroy()}async triggerAction(t,r){var i;(i=this.widget)==null||i.triggerAction(t,r)}},gu.properties={autoDestroyDisabled:5,catalogLayerList:32,catalogOptions:0,collapsed:7,dragEnabled:5,filterPlaceholder:1,filterPredicate:0,filterText:1,headingLevel:9,hideCatalogLayerList:5,hideFlow:5,hideStatusIndicators:5,icon:1,knowledgeGraphOptions:0,label:1,listItemCreatedFunction:0,minDragEnabledItems:9,minFilterItems:9,openedLayers:0,operationalItems:32,position:1,referenceElement:1,selectedItems:0,selectionMode:1,showCloseButton:5,showCollapseButton:5,showErrors:5,showFilter:5,showHeading:5,showTemporaryLayerIndicators:5,state:3,tableList:32,visibilityAppearance:1},gu.shadowRootOptions=Wo,gu.styles=gAe,gu);Du("arcgis-layer-list",wAe);function sj(e,t){const r=e.featureReduction;return r&&r.type!=="selection"&&(!("maxScale"in r)||!r.maxScale||r.maxScale<t.scale)?r:null}const zv=-1;let $a=class extends ie{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=V("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(nj(t))}catch(r){this._transitionTo([]),B.getLogger(this).warn("Invalid Effect",{effect:t,error:r})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return this._to!==null}canTransitionTo(t){try{return this.scale>0&&aj(this._current,nj(t),this.scale)}catch{return!1}}transitionStep(t,r){this._applyTimeTransition(t),this._updateForScale(r)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&aj(this._current,t,this.scale)?(this._final=t,this._to=O(t),_Ae(this._current,this._to,this.scale),this._from=O(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?O(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const r=Math.min(1,this._time/this.duration);for(let i=0;i<this._current.length;i++){const s=this._current[i],n=this._from[i],a=this._to[i];s.scale=SAe(n.scale,a.scale,r);for(let o=0;o<s.effects.length;o++){const l=s.effects[o],d=n.effects[o],f=a.effects[o];l.interpolate(d,f,r)}}r===1&&(this._current=this._final,this._set("effects",this._current[0]?O(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),this._current.length===0)return;const r=this._current,i=this._current.length-1;let s,n,a=1;if(r.length===1||t>=r[0].scale)n=s=r[0].effects;else if(t<=r[i].scale)n=s=r[i].effects;else for(let o=0;o<i;o++){const l=r[o],d=r[o+1];if(l.scale>=t&&d.scale<=t){a=(t-l.scale)/(d.scale-l.scale),s=l.effects,n=d.effects;break}}for(let o=0;o<this.effects.length;o++)this.effects[o].interpolate(s[o],n[o],a)}};function nj(e){const t=Tk(e)||[];return $Ae(t)?[{scale:zv,effects:t}]:t}function aj(e,t,r){var i,s,n,a;return!((i=e[0])!=null&&i.effects)||!((s=t[0])!=null&&s.effects)?!0:!((((n=e[0])==null?void 0:n.scale)===zv||((a=t[0])==null?void 0:a.scale)===zv)&&(e.length>1||t.length>1)&&r<=0)&&GJ(e[0].effects,t[0].effects)}function _Ae(e,t,r){const i=e.length>t.length?e:t,s=e.length>t.length?t:e,n=s[s.length-1],a=(n==null?void 0:n.scale)??r,o=(n==null?void 0:n.effects)??[];for(let l=s.length;l<i.length;l++)s.push({scale:a,effects:[...o]});for(let l=0;l<i.length;l++)s[l].scale=s[l].scale===zv?r:s[l].scale,i[l].scale=i[l].scale===zv?r:i[l].scale,HJ(s[l].effects,i[l].effects)}function SAe(e,t,r){return e+(t-e)*r}function $Ae(e){const t=e[0];return!!t&&"type"in t}c([u()],$a.prototype,"_to",void 0),c([u()],$a.prototype,"duration",void 0),c([u({value:""})],$a.prototype,"effect",null),c([u({readOnly:!0})],$a.prototype,"effects",void 0),c([u({readOnly:!0})],$a.prototype,"final",null),c([u({readOnly:!0})],$a.prototype,"hasEffects",null),c([u({value:0})],$a.prototype,"scale",null),c([u({readOnly:!0})],$a.prototype,"transitioning",null),$a=c([S("esri.layers.effects.EffectView")],$a);function vet(e){var r;const t=e.layer;return"floorInfo"in t&&((r=t.floorInfo)!=null&&r.floorField)&&"floors"in e.view?are(e.view.floors,t.floorInfo.floorField):null}function oj(e,t){var r;return"floorInfo"in t&&((r=t.floorInfo)!=null&&r.floorField)?are(e,t.floorInfo.floorField):null}function are(e,t){if(!(e!=null&&e.length))return null;const r=e.filter(i=>i!=="").map(i=>`'${i}'`);return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}function wet(e,t,r){return t.flatten(({sublayers:s})=>s).length!==e.length?!0:!!e.some(s=>s.originIdOf("minScale")>r||s.originIdOf("maxScale")>r||s.originIdOf("renderer")>r||s.originIdOf("labelingInfo")>r||s.originIdOf("opacity")>r||s.originIdOf("labelsVisible")>r||s.originIdOf("source")>r)||!ore(e,t)}function xAe(e,t,r){return!!e.some(i=>{var o,l,d;const s=i.source,n=!s||s.type==="map-layer"&&s.mapLayerId===i.id&&(s.gdbVersion==null||s.gdbVersion===r);i.commitProperty("renderer"),i.commitProperty("labelingInfo"),i.commitProperty("opacity"),i.commitProperty("labelsVisible"),i.commitProperty("orderBy");const a=((d=(l=(o=i.layer)==null?void 0:o.capabilities)==null?void 0:l.exportMap)==null?void 0:d.supportsSublayerOrderBy)??!1;return!n||i.originIdOf("renderer")>Te.SERVICE||i.originIdOf("labelingInfo")>Te.SERVICE||i.originIdOf("opacity")>Te.SERVICE||i.originIdOf("labelsVisible")>Te.SERVICE||a&&i.originIdOf("orderBy")>Te.SERVICE})||!ore(e,t)}function ore(e,t){if(!(e!=null&&e.length)||t==null)return!0;const r=t.slice().reverse().flatten(({sublayers:n})=>n&&n.toArray().reverse()).map(n=>n.id).toArray();if(e.length>r.length)return!1;let i=0;const s=r.length;for(const{id:n}of e){for(;i<s&&r[i]!==n;)i++;if(i>=s)return!1}return!0}function _et(e){return!!e&&e.some(t=>{var r;return t.minScale!=null||((r=t.layerDefinition)==null?void 0:r.minScale)!=null})}const EAe={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let Tn=class extends ie{constructor(t){super(t),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const t=this.visibleSublayers.map(r=>{const i=oj(this.floors,r);return r.toExportImageJSON(i)});return t.length?JSON.stringify(t):null}get hasDynamicLayers(){return this.layer&&xAe(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(t){this._get("layer")!==t&&(this._set("layer",t),this.removeHandles("layer"),t&&this.addHandles([t.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),t.on("sublayer-update",r=>this.notifyChange(EAe[r.propertyName]))],"layer"))}get layers(){const t=this.visibleSublayers;return t?t.length?"show:"+t.map(r=>r.id).join(","):"show:-1":null}get layerDefs(){var i;const t=!!((i=this.floors)!=null&&i.length),r=this.visibleSublayers.filter(s=>s.definitionExpression!=null||t&&s.floorInfo!=null);return r.length?JSON.stringify(r.reduce((s,n)=>{const a=oj(this.floors,n),o=iY(a,n.definitionExpression);return o!=null&&(s[n.id]=o),s},{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const t=this.layer;return t&&(t.commitProperty("dpi"),t.commitProperty("imageFormat"),t.commitProperty("imageTransparency"),t.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const t=[];if(!this.layer)return t;const r=this.layer.sublayers,i=this.scale,s=a=>{a.visible&&(i===0||q$e(i,a.minScale,a.maxScale))&&(a.sublayers?a.sublayers.forEach(s):t.unshift(a))};r&&r.forEach(s);const n=this._get("visibleSublayers");return!n||n.length!==t.length||n.some((a,o)=>t[o]!==a)?t:n}toJSON(){const t=this.layer;let r={dpi:t.dpi,format:t.imageFormat,transparent:t.imageTransparency,gdbVersion:t.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};c([u({readOnly:!0})],Tn.prototype,"dynamicLayers",null),c([u()],Tn.prototype,"floors",void 0),c([u({readOnly:!0})],Tn.prototype,"hasDynamicLayers",null),c([u()],Tn.prototype,"layer",null),c([u({readOnly:!0})],Tn.prototype,"layers",null),c([u({readOnly:!0})],Tn.prototype,"layerDefs",null),c([u({type:Number})],Tn.prototype,"scale",void 0),c([u({readOnly:!0})],Tn.prototype,"version",null),c([u({readOnly:!0})],Tn.prototype,"visibleSublayers",null),Tn=c([S("esri.layers.support.ExportImageParameters")],Tn);const TAe=9999999e31,IAe=2e-7,CAe={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function i6(e){return CAe[e]??[-34028234663852886e22,34028234663852886e22]}function xet(e,t){return e==null||t==null?"s32":e<0?e>=-128&&t<128?"s8":e>=-32768&&t<32768?"s16":"s32":t<256?"u8":t<65536?"u16":"u32"}function MAe(e){return((e==null?void 0:e.startsWith("s"))||(e==null?void 0:e.startsWith("u")))??!1}function Eet(e,t,r,i){let[s,n]=i6(r);const a=MAe(r);return a&&(s-=1e-5,n+=1e-5),a?r.startsWith("u")?AAe(e,t,i,[s,n]):kAe(e,t,i,[s,n]):LAe(e,t,i,[s,n])}function Tet(e,t){for(let r=0;r<t.length;r++)t[r]&&isNaN(e[r])&&(t[r]=0,e[r]=0)}function AAe(e,t,r,i){const[s,n]=i;for(let a=0;a<t.length;a++)if(t[a]){const o=e[a];o<s||o>n?t[a]=0:r[a]=o+.5|0}}function kAe(e,t,r,i){const[s,n]=i;for(let a=0;a<t.length;a++)if(t[a]){const o=e[a];o<s||o>n?t[a]=0:r[a]=o+(o>0?.5:-.5)|0}}function LAe(e,t,r,i){const[s,n]=i;for(let a=0;a<t.length;a++)if(t[a]){const o=e[a];o<s||o>n?t[a]=0:r[a]=o}}function Iet(e,t,r){var y,b;if(e.depthCount&&e.depthCount>1)return;const{pixels:i,statistics:s,pixelType:n}=e,a=i[0].length,o=e.bandMasks??[],l=e.mask??new Uint8Array(a).fill(255),d=n==="f32"||n==="f64",f=i6(n);let p=!1;for(let g=0;g<i.length;g++){const v=typeof t=="number"?t:t[g];if(v==null)continue;const w=((y=s==null?void 0:s[g])==null?void 0:y.minValue)??f[0],_=((b=s==null?void 0:s[g])==null?void 0:b.maxValue)??f[1];if(w>v+Number.EPSILON||_<v-Number.EPSILON)continue;const x=o[g]||l.slice(),T=i[g],k=r==null?void 0:r.customFloatTolerance;if(d&&k!==0){let A=k;A||(A=Math.abs(v)>=TAe?IAe*Math.abs(v):n==="f32"?2**-23:Number.EPSILON);for(let M=0;M<T.length;M++)x[M]&&Math.abs(T[M]-v)<A&&(T[M]=0,x[M]=0,l[M]=0,p=!0)}else for(let A=0;A<T.length;A++)x[A]&&T[A]===v&&(T[A]=0,x[A]=0,l[A]=0,p=!0);o[g]=x}if(p){const g=e.bandMasks||e.pixels.length>1?o:null;r!=null&&r.matchAllNoData?e.mask=g&&g.length>1?m(g):l:(e.bandMasks=g,e.mask=l)}function m(g){if(g.length<2)return g[0];const v=g[0].length,w=new Uint8Array(v).fill(0);for(let _=0;_<g.length;_++){const x=g[_];for(let T=0;T<v;T++)x[T]&&(w[T]=255)}return w}p&&"updateStatistics"in e&&e.updateStatistics()}function lre(e){return e==null||e.type==="simple"||e.type==="unique-value"||e.type==="class-breaks"||e.type==="dictionary"||e.type==="heatmap"}function Cet(e,t){if(e==null)return null;if(!lre(e))return new I("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${e.type||e.declaredClass}'`,{renderer:e});switch(e.type){case"simple":return RAe(e,t);case"unique-value":return OAe(e,t);case"class-breaks":return FAe(e,t);case"dictionary":case"heatmap":return null}return null}function aL(e,t){if(!t)return null;if(Array.isArray(t)||(t=[t]),t.length>0){const r=t.map(s=>s.details.symbol.type||s.details.symbol.declaredClass).filter(s=>!!s);r.sort();const i=new Array;return r.forEach((s,n)=>{n!==0&&s===r[n-1]||i.push(s)}),new I("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${i.join(", ")}) which are not supported in 3D`,{renderer:e,symbolErrors:t})}return null}function RAe(e,t){const r={...Kl,...t,cimFallbackEnabled:!0};return aL(e,Iy(e.symbol,r).error)}function OAe(e,t){var n;const r={...Kl,...t,cimFallbackEnabled:!0},i=(n=e.uniqueValueInfos)==null?void 0:n.map(a=>Iy(a.symbol,r).error).filter(It),s=Iy(e.defaultSymbol,r);return s.error&&(i==null||i.unshift(s.error)),aL(e,i)}function FAe(e,t){const r={...Kl,...t,cimFallbackEnabled:!0},i=e.classBreakInfos.map(n=>Iy(n.symbol,r).error).filter(It),s=Iy(e.defaultSymbol,r);return s.error&&i.unshift(s.error),aL(e,i)}var sC;function PAe(e){switch(e){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}function oL(e){var t;return(e==null?void 0:e.type)==="CIMVectorMarker"?(t=e.markerGraphics)==null?void 0:t[0]:void 0}function cre(e){var t,r;return((t=e==null?void 0:e.symbol)==null?void 0:t.type)==="CIMPolygonSymbol"?(r=e.symbol.symbolLayers)==null?void 0:r[0]:void 0}function NAe(e,t){(e==null?void 0:e.type)==="CIMVectorMarker"&&t!=null&&(e.size=t)}function DAe(e,t){const r=oL(e);r&&t!=null&&(r.geometry=PAe(t))}function VAe(e,t){const r=cre(oL(e));r&&t!=null&&(r.color=t.toArray())}function zAe(e,t,r){const i=cre(oL(e));i&&t!=null&&r&&(i.colorLocked=t)}function dre(e,t){var d;const{outerRingSize:r,innerDotSize:i,type:s,color:n,colorLocked:a,primitiveOverrides:o}=t,l=((d=e.data.symbol)==null?void 0:d.type)==="CIMPolygonSymbol"?e.data.symbol.symbolLayers:null;if((l==null?void 0:l.length)===2)for(const f of l){const p=f.primitiveName===sC.OuterRing;NAe(f,p?r:i),DAe(f,s),VAe(f,n),zAe(f,a,p)}return r!=null&&i!=null&&(e.data.primitiveOverrides=null),o!==void 0&&(e.data.primitiveOverrides=O(o)),e}(function(e){e.OuterRing="reference-size-outer-ring",e.InnerDot="reference-size-inner-dot"})(sC||(sC={}));function ure(e,t,r,i){if(e)if(e.type!=="CIMTextSymbol"){if(e.effects)for(const s of e.effects)lj(s,t);if(e.symbolLayers)for(const s of e.symbolLayers){switch(s.type){case"CIMPictureMarker":case"CIMVectorMarker":jAe(s,t,i);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!(i!=null&&i.preserveOutlineWidth)&&s.width&&(s.width*=t);break;case"CIMPictureFill":s.height&&(s.height*=t),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t);break;case"CIMHatchFill":ure(s.lineSymbol,t,!0,{...i,preserveOutlineWidth:!1}),s.offsetX&&(s.offsetX*=t),s.offsetY&&(s.offsetY*=t),s.separation&&(s.separation*=t)}if(s.effects)for(const n of s.effects)lj(n,t)}}else e.height!=null&&(e.height*=t)}function jAe(e,t,r){if(e&&(e.markerPlacement&&qAe(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&e.anchorPointUnits==="Absolute"&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=e.size!=null?e.size*t:0,e.type==="CIMVectorMarker"&&e.markerGraphics))for(const i of e.markerGraphics)e.scaleSymbolsProportionally||ure(i.symbol,t,!0,r)}function qAe(e,t){switch(Y4(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(i=>i*t);e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map(i=>i*t);e.placementTemplate=r}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function lj(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const r=e.dashTemplate.map(i=>i*t);e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function fre(e){const t=[];return nC(ute(e),t),t.length?new Z(dte(t[0])):null}function nC(e,t){var s;if(!e)return;let r;r=e.type==="CIMTextSymbol"?e.symbol:e;const i=e.type==="CIMPolygonSymbol";if(r!=null&&r.symbolLayers){for(const n of r.symbolLayers)if(!(n.colorLocked||i&&(pte(n)||fte(n)&&n.markerPlacement&&Y4(n.markerPlacement))))switch(n.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":n.tintColor&&cj(t,n.tintColor);break;case"CIMVectorMarker":(s=n.markerGraphics)==null||s.forEach(a=>{nC(a.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":cj(t,n.color);break;case"CIMHatchFill":nC(n.lineSymbol,t)}}}function cj(e,t){for(const r of e)if(r.join(".")===t.join("."))return;e.push(t)}function pre(e,t,r){t instanceof Z||(t=new Z(t));const i=ute(e);i&&aC(i,t)}function aC(e,t,r){var n;if(!e)return;let i;i=e.type==="CIMTextSymbol"?e.symbol:e;const s=(i==null?void 0:i.type)==="CIMPolygonSymbol";if(i!=null&&i.symbolLayers)for(const a of i.symbolLayers){if(a.colorLocked||s&&(pte(a)||fte(a)&&a.markerPlacement&&Y4(a.markerPlacement)))continue;const o=t.toArray();switch(a.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":a.tintColor=o;break;case"CIMVectorMarker":(n=a.markerGraphics)==null||n.forEach(l=>{aC(l.symbol,t)});break;case"CIMSolidStroke":case"CIMSolidFill":a.color=o;break;case"CIMHatchFill":aC(a.lineSymbol,t)}}}var kr;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(kr||(kr={}));const iv={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],meshSymbol3DFill:[{type:"path",path:"M -10,-8 L 6,0 L 6,6 L -10,6 L -10,-8 Z"},{type:"path",path:"M -10,-8 L -7,-10 L 9,-2 L 6,0 L -10,-8 Z"},{type:"path",path:"M 6,0 L 9,-2 L 9,4 L 6,6 L 6,0 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}]};function BAe(e,t,r){const i=kr.size;let s=i,n=i;e<1?s*=.75:e>1&&(n*=1.25);const a=0,o=0;let l=i,d=i;return t&&r&&(s=n=l=d=0),[{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[r?l:.875*l,a]},{command:"L",values:[r?s-.5*l:o,n-.5*d]},{command:"L",values:[s-.5*l,n-.5*d]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[l,a]},{command:"L",values:[l,t?a:.125*d]},{command:"L",values:[s-.5*l,t?n-.5*d:d]},{command:"L",values:[s-.5*l,n-.5*d]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[s-.5*l,n-.5*d]},{command:"L",values:[r?s-.5*l:o,n-.5*d]},{command:"L",values:[r?s-.5*l:o,t?n-.5*d:d]},{command:"L",values:[s-.5*l,t?n-.5*d:d]},{command:"Z",values:[]}]}]}function UAe(e){const t=kr.size,r=.5*e,i=0,s=0;return[{type:"path",path:[{command:"M",values:[s,.7*t*.5]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[s,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,.7*t]},{command:"L",values:[.3*t,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*t,i]},{command:"L",values:[t,i]},{command:"L",values:[.3*t,.7*t]},{command:"L",values:[s,.7*t*.5]},{command:"Z",values:[]}]}]}function GAe(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function HAe(e,t){let r=t?kr.tallSymbolWidth:e;const i=e,s=t?4:6;r<=kr.size?r-=.5*s:r-=s;const n=0,a=0,o=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,n]},{command:"L",values:[r,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[a,.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*o]},{command:"L",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,o]},{command:"L",values:[.5*r,i]},{command:"L",values:[r,i-.5*o]},{command:"L",values:[r,.5*o]},{command:"Z",values:[]}]}]}function WAe(e,t){let r=t?kr.tallSymbolWidth:e;const i=e,s=t?4:6;r<=kr.size?r-=.5*s:r-=s;const n=.5*r,a=.15*r,o=0,l=i-a;return[{type:"ellipse",cx:.5*r,cy:l,rx:n,ry:a},{type:"path",path:[{command:"M",values:[o,a]},{command:"L",values:[o,l]},{command:"L",values:[r,l]},{command:"L",values:[r,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:a,rx:n,ry:a}]}function ZAe(e,t){let r=t?kr.tallSymbolWidth:e;const i=e,s=t?4:6;r<=kr.size?r-=.5*s:r-=s;const n=.15*r,a=i-n;return[{type:"ellipse",cx:.5*r,cy:a,rx:.5*r,ry:n},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function JAe(e){let t=e;const r=e,i=6;t<kr.size?t-=.5*i:t-=i;const s=.15*t,n=0;return[{type:"path",path:[{command:"M",values:[0,n]},{command:"L",values:[t,n]},{command:"L",values:[.5*t,r-s]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:n,rx:.5*t,ry:s}]}function YAe(e){let t=e;const r=e,i=4;t<kr.size?t-=.5*i:t-=i;const s=0,n=0,a=t,o=r,l=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*a,s]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,s]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[n,.5*o-l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"L",values:[.45*a,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*a,r]},{command:"L",values:[a,.5*o-l]},{command:"L",values:[.45*a-l,.5*o+l]},{command:"Z",values:[]}]}]}function QAe(e){const t=e,r=2;let i=e;i<kr.size?i-=.5*r:i-=r;const s=0,n=0;return[{type:"path",path:[{command:"M",values:[.45*t,s]},{command:"L",values:[t,i]},{command:"L",values:[.45*t,.6*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*t,s]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[n,i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,i]},{command:"L",values:[.45*t,.6*i]},{command:"L",values:[t,i]},{command:"Z",values:[]}]}]}function mu(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function Met(e,t){if(e==null)return new Z;if("type"in e&&(e.type==="linear"||e.type==="pattern"))return e;const r=new Z(e);return new Z([mu(r.r,t),mu(r.g,t),mu(r.b,t),r.a])}function KAe(e){return"r"in e&&"g"in e&&"b"in e}function hre(e){return"h"in e&&"s"in e&&"v"in e}function mre(e){return"l"in e&&"a"in e&&"b"in e}function yre(e){return"l"in e&&"c"in e&&"h"in e}function XAe(e){return"x"in e&&"y"in e&&"z"in e}const eke=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],tke=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function bre(e,t){const r=[];let i,s;if(e[0].length!==t.length)throw new Error("dimensions do not match");const n=e.length,a=e[0].length;let o=0;for(i=0;i<n;i++){for(o=0,s=0;s<a;s++)o+=e[i][s]*t[s];r.push(o)}return r}function gre(e){const t=[e.r/255,e.g/255,e.b/255].map(i=>i<=.04045?i/12.92:((i+.055)/1.055)**2.4),r=bre(eke,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function lL(e){const t=bre(tke,[e.x/100,e.y/100,e.z/100]).map(r=>{const i=r<=.0031308?12.92*r:1.055*r**.4166666666666667-.055;return Math.min(1,Math.max(i,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function vre(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(r=>r>.008856451679035631?r**.3333333333333333:7.787037037037035*r+.13793103448275862);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function wre(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(i=>i>6/29?i**3:3*(6/29)**2*(i-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function rke(e){const t=e.l,r=e.a,i=e.b,s=Math.sqrt(r*r+i*i);let n=Math.atan2(i,r);return n=n>0?n:n+2*Math.PI,{l:t,c:s,h:n}}function ike(e){const t=e.l,r=e.c,i=e.h;return{l:t,a:r*Math.cos(i),b:r*Math.sin(i)}}function ske(e){return vre(gre(e))}function nke(e){return lL(wre(e))}function ake(e){return rke(vre(gre(e)))}function oke(e){return lL(wre(ike(e)))}function lke(e){const t=e.r,r=e.g,i=e.b,s=Math.max(t,r,i),n=s-Math.min(t,r,i);let a=s,o=n===0?0:s===t?(r-i)/n%6:s===r?(i-t)/n+2:(t-r)/n+4,l=n===0?0:n/a;return o<0&&(o+=6),o*=60,l*=100,a*=100/255,{h:o,s:l,v:a}}function cke(e){const t=(e.h+360)%360/60,r=e.s/100,i=e.v/100*255,s=i*r,n=s*(1-Math.abs(t%2-1));let a;switch(Math.floor(t)){case 0:a={r:s,g:n,b:0};break;case 1:a={r:n,g:s,b:0};break;case 2:a={r:0,g:s,b:n};break;case 3:a={r:0,g:n,b:s};break;case 4:a={r:n,g:0,b:s};break;case 5:case 6:a={r:s,g:0,b:n};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+i-s),a.g=Math.round(a.g+i-s),a.b=Math.round(a.b+i-s),a}function wh(e){return KAe(e)?e:yre(e)?oke(e):mre(e)?nke(e):XAe(e)?lL(e):hre(e)?cke(e):e}function t8(e){return hre(e)?e:lke(wh(e))}function dke(e){return mre(e)?e:ske(wh(e))}function Aet(e){return yre(e)?e:ake(wh(e))}function uke(e){return _re(e).isBright?"light":"dark"}function _re(e){let{r:t,g:r,b:i,a:s}=e;return s<1&&(t=Math.round(s*t+255*(1-s)),r=Math.round(s*r+255*(1-s)),i=Math.round(s*i+255*(1-s))),new Z({r:t,g:r,b:i})}function fke(e,t){const{r,g:i,b:s}=t!=null&&t.ignoreAlpha?e:_re(e);return .2126*r+.7152*i+.0722*s}var oC;function ket(e,t=oC.High){return fke(e,{ignoreAlpha:!0})>t?new Z([0,0,0,e.a]):new Z([255,255,255,e.a])}function Let(e,t){const r=dke(e);r.l*=1-t;const i=wh(r),s=e.clone();return s.setColor(i),s.a=e.a,s}function Ret(e,t){const r=e.clone();return r.a*=t,r}function Oet(e,t){const r=t8(e);r.s*=t;const i=wh(r),s=e.clone();return s.setColor(i),s.a=e.a,s}function Fet(e){return Z.toUnitRGBA(e)}function Pet(e){return vh(e[0],e[1],e[2],e.length>3?e[3]:1)}function Net(e,t){const r=Z.toUnitRGBA(e);return r[3]*=t,r}function dj(e,t,r={}){if(e.length===0||t<=0)return[];if((e=e.map(i=>typeof i=="string"?new Z(i):i)).length===1||t===1){const i=[],s=e[0];for(let n=0;n<t;n++)i.push(s.clone());return i}if(r.shuffle&&(e=EU(O(e),r.seed)),e.length>=t){const i=[],s=(e.length-1)/(t-1);for(let n=0;n<t;n++){const a=Math.round(n*s);i.push(e[a].clone())}return i}return pke(e,t,r)}function pke(e,t,r={}){const i=[],s=e.length-1,n=Math.ceil((t-e.length)/s);e:for(let a=0;a<s;a++){const o=e[a],l=e[a+1];for(let d=1;d<=n;d++){const f=d/(n+1);if(i.push(hke(o,l,f,r)),i.length+e.length===t)break e}}return[...e.map(a=>a.clone()),...EU(i,r.seed??1)]}(function(e){e[e.Low=160]="Low",e[e.High=225]="High"})(oC||(oC={}));const mS=(e,t)=>{const r=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+r))};function hke(e,t,r,i={}){const s=e.r,n=e.g,a=e.b,o=t.r,l=t.g,d=t.b,f=Math.round(s+(o-s)*r),p=Math.round(n+(l-n)*r),m=Math.round(a+(d-a)*r);if(!i.offset)return new Z([f,p,m]);const y=cM(i.seed);return new Z([mS(f,y),mS(p,y),mS(m,y)])}const Sre="picture-fill",$re="simple-fill",mke="simple-line",xre="simple-marker",yke="text",bke="cim",uj=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),yS=new ote(1e3);function gke(e){const t=e.style;let r=null;if(e)switch(e.type){case xre:t!=="cross"&&t!=="x"&&(r=e.color);break;case $re:t&&t!=="solid"?t!=="none"&&(r={type:"pattern",x:0,y:0,src:Et(`esri/symbols/patterns/${t}.png`),width:5,height:5}):r=e.color;break;case Sre:r={type:"pattern",src:e.url,width:Ct(e.width)*e.xscale,height:Ct(e.height)*e.yscale,x:Ct(e.xoffset),y:Ct(e.yoffset)};break;case yke:r=e.color;break;case bke:r=fre(e)}return r}function vke(e,t){const r=e+"-"+t;return yS.get(r)!==void 0?Promise.resolve(yS.get(r)):ze(e,{responseType:"image"}).then(i=>{const s=i.data,n=s.naturalWidth,a=s.naturalHeight,o=document.createElement("canvas");o.width=n,o.height=a;const l=o.getContext("2d");l.fillStyle=t,l.fillRect(0,0,n,a),l.globalCompositeOperation="destination-in",l.drawImage(s,0,0);const d=o.toDataURL();return yS.put(r,d),d})}function jv(e){if(!e)return null;let t=null;switch(e.type){case $re:case Sre:case xre:t=jv(e.outline);break;case mke:{const r=Ct(e.width);e.style!=null&&e.style!=="none"&&r!==0&&(t={color:e.color,style:cL(e.style),width:r,cap:e.cap,join:e.join==="miter"?Ct(e.miterLimit):e.join},t.dashArray=Ere(t).join(",")||"none");break}default:t=null}return t}function Ere(e){if(!(e!=null&&e.style))return[];const{dashArray:t,style:r,width:i}=e;if(typeof t=="string"&&t!=="none")return t.split(",").map(a=>Number(a));const s=i??0,n=uj.has(r)?uj.get(r).map(a=>a*s):[];if(e.cap!=="butt")for(const[a,o]of n.entries())n[a]=a%2==1?o+s:Math.max(o-s,1);return n}const cL=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replaceAll("-","");return e[t]=r,r}})(),wke=new Z([128,128,128]);let _ke=0;function Ske(){return _ke++}let $ke=0;function xke(){return $ke++}let Eke=0;function Tke(){return Eke++}const Ike="http://www.w3.org/2000/svg",fj=V("android"),Cke=V("chrome")||fj&&fj>=4?"auto":"optimizeLegibility",Mke={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},Ake=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let jt={},et={};const kke=Math.PI;function nu(e,t){const r=e*(kke/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function Tre(e){return e.map(t=>`${t.command} ${t.values.join(" ")}`).join(" ").trim()}function dL(e,t,r,i,s){if(e){if(e.type==="circle")return $("circle",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",r:e.r,stroke:r.color,"stroke-dasharray":r.dashArray,"stroke-dashoffset":r.dashOffset,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-miterlimit":"4","stroke-width":r.width});if(e.type==="ellipse")return $("ellipse",{cx:e.cx,cy:e.cy,fill:t,"fill-rule":"evenodd",rx:e.rx,ry:e.ry,stroke:r.color,"stroke-dasharray":r.dashArray,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-miterlimit":"4","stroke-width":r.width});if(e.type==="rect")return $("rect",{fill:t,"fill-rule":"evenodd",height:e.height,stroke:r.color,"stroke-dasharray":r.dashArray,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-miterlimit":"4","stroke-width":r.width,width:e.width,x:e.x,y:e.y});if(e.type==="image")return $("image",{alt:s||"image",height:e.height,href:e.src,preserveAspectRatio:"none",width:e.width,x:e.x,y:e.y});if(e.type==="path"){const n=typeof e.path!="string"?Tre(e.path):e.path;return $("path",{d:n,fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-dasharray":r.dashArray,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-miterlimit":"4","stroke-width":r.width})}if(e.type==="text")return qy(i),$("text",{"dominant-baseline":i.dominantBaseline,fill:t,"fill-rule":"evenodd","font-family":i.font.family,"font-size":i.font.size,"font-style":i.font.style,"font-variant":i.font.variant,"font-weight":i.font.weight,kerning:i.kerning,rotate:i.rotate,stroke:r.color,"stroke-dasharray":r.dashArray,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-miterlimit":"4","stroke-width":r.width,"text-anchor":i.align,"text-decoration":i.decoration,"text-rendering":Cke,x:e.x,y:e.y},e.text)}return null}function uL(e){if(!e)return{fill:"none",pattern:null,linearGradient:null};if(!("type"in e))return{fill:new Z(e).toString(),pattern:null,linearGradient:null};if(e.type==="pattern"){const r=`patternId-${Ske()}`;return{fill:`url(#${r})`,pattern:{id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}},linearGradient:null}}const t=`linearGradientId-${xke()}`;return{fill:`url(#${t})`,pattern:null,linearGradient:{id:t,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(r=>({offset:r.offset,color:r.color&&new Z(r.color).toString()}))}}}function fL(e){const t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};return e&&(e.width!=null&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new Z(e.color).toString()),e.dashArray&&(t.dashArray=e.dashArray),e.dashoffset&&(t.dashOffset=e.dashoffset),e.style&&!e.dashArray&&(t.dashArray=Ere(e).join(",")||"none")),t}function Ire(e,t){const r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(e){const i=e.alignBaseline,s=i==="baseline"?"auto":i==="top"?"text-top":i==="bottom"?"hanging":i;r.align=e.align,r.dominantBaseline=s,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",qy(t),r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"}return r}function Cre(e){const{pattern:t,linearGradient:r}=e;if(t)return $("pattern",{height:t.height,id:t.id,patternUnits:"userSpaceOnUse",width:t.width,x:t.x,y:t.y},$("image",{height:t.image.height,href:t.image.href,width:t.image.width,x:t.image.x,y:t.image.y}));if(r){const i=r.stops.map((s,n)=>$("stop",{key:`${n}-stop`,offset:s.offset,"stop-color":s.color}));return $("linearGradient",{gradientUnits:"userSpaceOnUse",id:r.id,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2},i)}return null}function Lke(e,t){if(!e||e.length===0)return null;const r=[];for(const i of e){const{shape:s,fill:n,stroke:a,font:o}=i,l=uL(n),d=fL(a),f=s.type==="text"?Ire(s,o):null,p=dL(s,l.fill,d,f);p&&r.push(p)}return $("mask",{id:t,maskUnits:"userSpaceOnUse"},$("g",null,r))}function pj(e,t,r){return xy(e,C4(e),[t,r])}function hj(e,t,r,i,s){return M4(e,C4(e),[t,r]),e[4]=e[4]*t-i*t+i,e[5]=e[5]*r-s*r+s,e}function Rke(e,t,r,i){const s=t%360*Math.PI/180;H2(e,C4(e),s);const n=Math.cos(s),a=Math.sin(s),o=e[4],l=e[5];return e[4]=o*n-l*a+i*a-r*n+r,e[5]=l*n+o*a-r*a-i*n+i,e}function Ri(e,t){jt&&"left"in jt?(jt.left!=null&&jt.left>e&&(jt.left=e),(jt.right==null||jt.right<e)&&(jt.right=e),(jt.top==null||jt.top>t)&&(jt.top=t),(jt.bottom==null||jt.bottom<t)&&(jt.bottom=t)):jt={left:e,bottom:t,right:e,top:t}}function mj(e){const t=e.args,r=t.length;let i;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(i=0;i<r;i+=2)Ri(t[i],t[i+1]);et.x=t[r-2],et.y=t[r-1];break;case"H":for(i=0;i<r;++i)Ri(t[i],et.y);et.x=t[r-1];break;case"V":for(i=0;i<r;++i)Ri(et.x,t[i]);et.y=t[r-1];break;case"m":{let s=0;for(("x"in et)||(Ri(et.x=t[0],et.y=t[1]),s=2),i=s;i<r;i+=2)Ri(et.x+=t[i],et.y+=t[i+1]);break}case"l":case"t":for(i=0;i<r;i+=2)Ri(et.x+=t[i],et.y+=t[i+1]);break;case"h":for(i=0;i<r;++i)Ri(et.x+=t[i],et.y);break;case"v":for(i=0;i<r;++i)Ri(et.x,et.y+=t[i]);break;case"c":for(i=0;i<r;i+=6)Ri(et.x+t[i],et.y+t[i+1]),Ri(et.x+t[i+2],et.y+t[i+3]),Ri(et.x+=t[i+4],et.y+=t[i+5]);break;case"s":case"q":for(i=0;i<r;i+=4)Ri(et.x+t[i],et.y+t[i+1]),Ri(et.x+=t[i+2],et.y+=t[i+3]);break;case"A":for(i=0;i<r;i+=7)Ri(t[i+5],t[i+6]);et.x=t[r-2],et.y=t[r-1];break;case"a":for(i=0;i<r;i+=7)Ri(et.x+=t[i+5],et.y+=t[i+6])}}function yj(e,t,r){const i=Mke[e.toLowerCase()];let s;typeof i=="number"&&(i?t.length>=i&&(s={action:e,args:t.slice(0,t.length-t.length%i)},r.push(s),mj(s)):(s={action:e,args:[]},r.push(s),mj(s)))}function Oke(e){const t=(typeof e.path!="string"?Tre(e.path):e.path).match(Ake),r=[];if(jt={},et={},!t)return null;let i="",s=[];const n=t.length;for(let o=0;o<n;++o){const l=t[o],d=parseFloat(l);isNaN(d)?(i&&yj(i,s,r),s=[],i=l):s.push(d)}yj(i,s,r);const a={x:0,y:0,width:0,height:0};return jt&&"left"in jt&&(a.x=jt.left,a.y=jt.top,a.width=jt.right-jt.left,a.height=jt.bottom-jt.top),a}function Mre(e){const t={x:0,y:0,width:0,height:0};if(e.type==="circle")t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if(e.type==="ellipse")t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if(e.type==="image"||e.type==="rect")t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if(e.type==="path"){const r=Oke(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function Are(e){const t={x:0,y:0,width:0,height:0};let r=null,i=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(const n of e)r?(r.x=Math.min(r.x,n.x),r.y=Math.min(r.y,n.y),i=Math.max(i,n.x+n.width),s=Math.max(s,n.y+n.height)):(r=t,r.x=n.x,r.y=n.y,i=n.x+n.width,s=n.y+n.height);return r&&(r.width=i-r.x,r.height=s-r.y),r}function lC(e,t,r,i,s,n,a,o,l){let d=(a&&n?nu(n,t):t)/2,f=(a&&n?nu(n,r):r)/2;if(l){const _=l[0],x=l[1];d=(a&&n?nu(n,_):_)/2,f=(a&&n?nu(n,x):x)/2}const p=e.width+i,m=e.height+i,y=F_(),b=F_();let g=!1;if(s&&p!==0&&m!==0){const _=t!==r?t/r:p/m,x=t>r?t:r;let T=1,k=1;isNaN(x)||(_>1?(T=x/p,k=x/_/m):(k=x/m,T=x*_/p)),hp(b,b,hj(y,T,k,d,f)),g=!0}const v=e.x+(p-i)/2,w=e.y+(m-i)/2;if(hp(b,b,pj(y,d-v,f-w)),!g&&(p>t||m>r)){const _=p/t>m/r,x=(_?t:r)/(_?p:m);hp(b,b,hj(y,x,x,v,w))}return o&&hp(b,b,pj(y,o[0],o[1])),n&&hp(b,b,Rke(y,n,v,w)),`matrix(${b[0]},${b[1]},${b[2]},${b[3]},${b[4]},${b[5]})`}function Fke(e,t,r){const i=e==null?void 0:e.effects.find(d=>d.type==="bloom");if(!i)return null;const{strength:s,radius:n}=i,a=s>0?n:0,o=(s+a)*t,l=4*s+1;return $("filter",{filterUnits:"userSpaceOnUse",height:"300%",id:`bloom${r}`,width:"300%",x:"-100%",y:"-100%"},$("feMorphology",{in:"SourceGraphic",operator:"dilate",radius:(s+.5*a)*(5**(t/100)*(.4+t/100)),result:"dilate"}),$("feGaussianBlur",{in:"dilate",result:"blur",stdDeviation:o/25}),$("feGaussianBlur",{in:"blur",result:"intensityBlur",stdDeviation:o/50}),$("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},$("feFuncR",{slope:l,type:"linear"}),$("feFuncG",{slope:l,type:"linear"}),$("feFuncB",{slope:l,type:"linear"})),$("feMerge",null,$("feMergeNode",{in:"intensityBlur"}),$("feMergeNode",{in:"intensityBrightness"}),$("feGaussianBlur",{stdDeviation:s/10})))}function kre(e,t,r,i={}){var m,y,b;const s=[],n=[],a=Tke(),o=Fke(i.effectView,t,a);let l=null;if(o){const g=(m=i.effectView)==null?void 0:m.effects.find(x=>x.type==="bloom"),v=(g.strength?g.strength+g.radius/2:0)/3,w=t+t*v,_=r+r*v;l=[Math.max(w,10),Math.max(_,10)]}let d=t,f=r;if(i.useRotationSize)for(let g=0;g<e.length;g++){const v=((y=i.rotations)==null?void 0:y[g])??0;d=Math.max(nu(v,t),d),f=Math.max(nu(v,r),f)}for(let g=0;g<e.length;g++){const v=e[g],w=[],_=[];let x=0,T=0,k=0;for(const P of v){const{shape:z,fill:j,stroke:H,font:K,offset:J}=P;i.ignoreStrokeWidth||z.type==="text"||(x+=(H==null?void 0:H.width)||0);const pe=uL(j),Ae=fL(H),ue=z.type==="text"?Ire(z,K):null;s.push(Cre(pe)),w.push(dL(z,pe.fill,Ae,ue,i.ariaLabel)),_.push(Mre(z)),J&&(T+=J[0],k+=J[1])}const A=((b=i.rotations)==null?void 0:b[g])??0;i.useRotationSize&&(T+=(d-nu(A,t))/2,k+=(f-nu(A,r))/2);const M=lC(Are(_),t,r,x,i.scale??!1,A,i.useRotationSize??!1,[T,k],l);let R=null;if(i.masking){const P=`mask-${g}`,z=i.masking[g];s.push(Lke(z,P)),R=`url(#${P})`}n.push(R?$("g",{mask:R},$("g",{transform:M},w)):$("g",{transform:M},w))}return o&&(qy(l),d=l[0],f=l[1]),$("svg",{"aria-label":i.ariaLabel,focusable:!1,height:f,role:"img",style:"display: block;",width:d,xmlns:Ike},o,$("defs",null,s),o?$("g",{filter:`url(#bloom${a})`},n):n)}const Pke=new Z("white");function Nke(e){var r,i;const t=(r=e.symbolLayers)==null?void 0:r.at(-1);if(t&&"outline"in t)return(i=t==null?void 0:t.outline)==null?void 0:i.size}function Dke(e){var t;if(!e)return 0;if(tl(e)){const r=Nke(e);return r??0}return Ar((t=jv(e))==null?void 0:t.width)}function r8(e){if(e==null||!("symbolLayers"in e)||e.symbolLayers==null)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some(t=>t.type==="object");case"line-3d":return e.symbolLayers.some(t=>t.type==="path");case"polygon-3d":return e.symbolLayers.some(t=>t.type==="object"||t.type==="extrude");default:return!1}}function Vke(e){var t;return((t=e.resource)==null?void 0:t.href)??""}function qh(e,t){if(!e)return null;let r=null;return tl(e)?r=zke(e):$4(e)&&(r=e.type==="cim"?fre(e):e.color?new Z(e.color):null),r?qv(r,t):null}function zke(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach(i=>{var s;i.type==="object"&&((s=i.resource)!=null&&s.href)||(r=i.type==="water"?i.color:i.material?i.material.color:null)}),r?new Z(r):null}function qv(e,t){if(t==null||e==null)return e;const r=e.toRgba();return r[3]=r[3]*t,new Z(r)}function jke(e,t,r){const i=e.symbolLayers;if(!i)return;const s=n=>qv(t=t??n??(r!=null?Pke:null),r);i.forEach(n=>{var a,o;if(n.type!=="object"||!((a=n.resource)!=null&&a.href)||t)if(n.type==="water")n.color=s(n.color);else{const l=n.material!=null?n.material.color:null,d=s(l);n.material==null?n.material=new Es({color:d}):n.material.color=d,r!=null&&"outline"in n&&((o=n.outline)==null?void 0:o.color)!=null&&(n.outline.color=qv(n.outline.color,r))}})}function qke(e,t,r){var i;(t=t??e.color)&&(e.color=qv(t,r)),r!=null&&"outline"in e&&((i=e.outline)!=null&&i.color)&&(e.outline.color=qv(e.outline.color,r))}function bS(e,t,r){e&&(t||r!=null)&&(t&&(t=new Z(t)),tl(e)?jke(e,t,r):$4(e)&&qke(e,t,r))}async function Bke(e,t){const r=e.symbolLayers;r&&await tue(r,async i=>Uke(i,t))}async function Uke(e,t){switch(e.type){case"extrude":Hke(e,t);break;case"icon":case"line":case"text":Gke(e,t);break;case"path":Zke(e,t);break;case"object":await Wke(e,t)}}function Gke(e,t){const r=Lre(t);r!=null&&(e.size=r)}function Lre(e){for(const t of e)if(typeof t=="number")return t;return null}function Hke(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function Wke(e,t){const{resourceSize:r,symbolSize:i}=await Jke(e),s=Rre(t,r,i);e.width=sv(t[0],i[0],r[0],s),e.depth=sv(t[1],i[1],r[1],s),e.height=sv(t[2],i[2],r[2],s)}function Zke(e,t){const r=Rre(t,OZ,[e.width,void 0,e.height]);e.width=sv(t[0],e.width,1,r),e.height=sv(t[2],e.height,1,r)}function Rre(e,t,r){for(let i=0;i<3;i++){const s=e[i];switch(s){case"symbol-value":{const n=r[i];return n!=null?n/t[i]:1}case"proportional":break;default:if(s&&t[i])return s/t[i]}}return 1}async function Jke(e){const{computeObjectLayerResourceSize:t}=await C(()=>import("./symbolLayerUtils-Ca2zM46F.js"),[]),r=await t(e,10),{width:i,height:s,depth:n}=e,a=[i,n,s];let o=1;for(let l=0;l<3;l++){const d=a[l];if(d!=null){o=d/r[l];break}}for(let l=0;l<3;l++)a[l]==null&&(a[l]=r[l]*o);return{resourceSize:r,symbolSize:a}}function sv(e,t,r,i){switch(e){case"proportional":return r*i;case"symbol-value":return t??r;default:return e}}function Yke(e,t){const r=Lre(t);if(r!=null)switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const i=e.width/e.height;i>1?(e.width=r,e.height=r*i):(e.width=r*i,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function Qke(e,t){if(e&&t)return tl(e)?Bke(e,t):void($4(e)&&Yke(e,t))}function Kke(e,t,r){if(e&&t!=null)if(tl(e)){const i=e.symbolLayers;i&&i.forEach(s=>{if(s.type==="object")switch(r){case"tilt":s.tilt=(s.tilt??0)+t;break;case"roll":s.roll=(s.roll??0)+t;break;default:s.heading=(s.heading??0)+t}s.type==="icon"&&(s.angle+=t)})}else $4(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle+=t))}function Q2(e){if(!e)return null;const t=e.effects.filter(r=>r.type!=="bloom").map(r=>r.toJSON());return W_(t)}function Det(e){return e!=null&&e.type==="polygon-3d"&&e.symbolLayers.some(t=>t.type==="extrude")}const bj=x_();function Xke(e,t){bj.append(e,t),bj.detach(t)}function K2(e,t,r){const i=Math.ceil(t[0]),s=Math.ceil(t[1]);if(!e.some(a=>!!a.length))return null;const n=(r==null?void 0:r.node)||document.createElement("div");return r.opacity!=null&&(n.style.opacity=r.opacity.toString()),r.effectView!=null&&(n.style.filter=Q2(r.effectView)),Xke(n,()=>kre(e,i,s,r)),n}function eLe(e,t){e=Math.ceil(e),t=Math.ceil(t);const r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";const i=r.getContext("2d");return i.clearRect(0,0,e,t),i}function tLe(e,t,r){return e?ze(e,{responseType:"image"}).then(i=>{const s=i.data,n=s.width,a=s.height,o=n/a;let l=t;if(r){const d=Math.max(n,a);l=Math.min(l,d)}return{image:s,width:o<=1?Math.ceil(l*o):l,height:o<=1?l:Math.ceil(l/o)}}):Promise.reject(new I("renderUtils: imageDataSize","href not provided."))}function rLe(e,t){return!(!e||t==="ignore")&&(t!=="multiply"||e.r!==255||e.g!==255||e.b!==255||e.a!==1)}function iLe(e,t,r,i,s){switch(s){case"multiply":e[t]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:{const n=t8({r:e[t],g:e[t+1],b:e[t+2]});n.h=i.h,n.s=i.s,n.v=n.v/100*i.v;const a=wh(n);e[t]=a.r,e[t+1]=a.g,e[t+2]=a.b,e[t+3]*=r[3];break}}}function sLe(e,t,r,i,s){return tLe(e,t,s).then(n=>{const a=n.width??t,o=n.height??t;if(n.image&&rLe(r,i)){let l=n.image.width,d=n.image.height;V("edge")&&/\.svg$/i.test(e)&&(l-=1,d-=1);const f=eLe(a,o);f.drawImage(n.image,0,0,l,d,0,0,a,o);const p=f.getImageData(0,0,a,o),m=[r.r/255,r.g/255,r.b/255,r.a],y=t8(r);for(let b=0;b<p.data.length;b+=4)iLe(p.data,b,m,y,i);f.putImageData(p,0,0),e=f.canvas.toDataURL("image/png")}else{const l=Ee==null?void 0:Ee.findCredential(e);if(l!=null&&l.token){const d=e.includes("?")?"&":"?";e=`${e}${d}token=${l.token}`}}return{url:e,width:a,height:o}}).catch(()=>({url:e,width:t,height:t}))}const nLe=["web-gltf","web","cim"],Ore="esri-relationship-ramp",Bh=`${Ore}--diamond`,Jc=`${Ore}--square`,aLe="http://www.w3.org/2000/svg",gt={diamondContainer:`${Bh}__container`,diamondLeftCol:`${Bh}__left-column`,diamondRightCol:`${Bh}__right-column`,diamondMidCol:`${Bh}__middle-column`,diamondMidColLabel:`${Bh}__middle-column--label`,diamondMidColRamp:`${Bh}__middle-column--ramp`,squareTable:`${Jc}__table`,squareTableRow:`${Jc}__table-row`,squareTableCell:`${Jc}__table-cell`,squareTableLabel:`${Jc}__table-label`,squareTableLabelLeftBottom:`${Jc}__table-label--left-bottom`,squareTableLabelRightBottom:`${Jc}__table-label--right-bottom`,squareTableLabelLeftTop:`${Jc}__table-label--left-top`,squareTableLabelRightTop:`${Jc}__table-label--right-top`};function Fre(e,t,r={}){const{focus:i,labels:s}=e,n=!!i,a=oLe(e,t,r),o={justifyContent:"center"},l=za(),d=r.key??t;return n?$("div",{class:gt.diamondContainer,key:`${d}-container`,styles:o},$("div",{class:gt.diamondLeftCol},l?s.right:s.left),$("div",{class:gt.diamondMidCol},$("div",{class:gt.diamondMidColLabel},s.top),a,$("div",{class:gt.diamondMidColLabel},s.bottom)),$("div",{class:gt.diamondRightCol},l?s.left:s.right)):$("div",{class:gt.squareTable,key:`${d}-container`},$("div",{class:gt.squareTableRow},$("div",{class:h0(gt.squareTableCell,gt.squareTableLabel,gt.squareTableLabelRightBottom)},l?s.top:s.left),$("div",{class:gt.squareTableCell}),$("div",{class:h0(gt.squareTableCell,gt.squareTableLabel,gt.squareTableLabelLeftBottom)},l?s.left:s.top)),$("div",{class:gt.squareTableRow},$("div",{class:gt.squareTableCell}),a,$("div",{class:gt.squareTableCell})),$("div",{class:gt.squareTableRow},$("div",{class:h0(gt.squareTableCell,gt.squareTableLabel,gt.squareTableLabelRightTop)},l?s.right:s.bottom),$("div",{class:gt.squareTableCell}),$("div",{class:h0(gt.squareTableCell,gt.squareTableLabel,gt.squareTableLabelLeftTop)},l?s.bottom:s.right)))}function gj(e,t,r){const i=`${r}_arrowStart`,s=`${r}_arrowEnd`,n=e==="left",a={markerStart:null,markerEnd:null};switch(t){case"HL":n?a.markerStart=`url(#${s})`:a.markerEnd=`url(#${i})`;break;case"LL":a.markerStart=`url(#${s})`;break;case"LH":n?a.markerEnd=`url(#${i})`:a.markerStart=`url(#${s})`;break;default:a.markerEnd=`url(#${i})`}return a}function oLe(e,t,r={}){const{focus:i,numClasses:s,colors:n,rotation:a}=e,{opacity:o,effectList:l,ariaLabel:d}=r,f=r.size??60,p=!!i,m=Math.sqrt(f**2+f**2)+(p?0:5),y=[],b=[],g=[],v=(f||75)/s;for(let j=0;j<s;j++){const H=j*v;for(let K=0;K<s;K++){const J=K*v,pe=uL(n[j][K]),Ae=fL(null),ue={type:"rect",x:J,y:H,width:v,height:v},le=Cre(pe);le&&y.push(le);const Ge=dL(ue,pe.fill,Ae,null);Ge&&b.push(Ge),g.push(Mre(ue))}}const w=15,_=15,x=10;let T=null;p||(T="margin: -15px -15px -18px -15px");const k=gj("left",i,t),A=gj("right",i,t),M=Are(g),R=lC(M,m,m,0,!1,a,!1),P=lC(M,m,m,0,!1,p?-45:null,!1),z={filter:Q2(l)??void 0,opacity:o==null?"":`${o}`};return $("div",{class:p?gt.diamondMidColRamp:gt.squareTableCell,styles:z},$("svg",{"aria-label":d,focusable:!1,height:m,role:"image",style:T,width:m,xmlns:aLe},$("defs",null,$("marker",{id:`${t}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},$("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),$("marker",{id:`${t}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},$("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),y),$("g",{transform:R},b),$("g",{transform:P},$("line",{fill:"none","marker-end":k.markerEnd,"marker-start":k.markerStart,stroke:"#555555","stroke-width":"1",x1:-10,x2:-10,y1:f-w,y2:w}),$("line",{fill:"none","marker-end":A.markerEnd,"marker-start":A.markerStart,stroke:"#555555","stroke-width":"1",x1:_,x2:f-_,y1:f+x,y2:f+x}))))}function lLe(e){return e=e||globalThis.location.hostname,cLe.some(t=>(e==null?void 0:e.match(t))!=null)}function vj(e,t){return e?(t=t||globalThis.location.hostname)?t.match(Pre)!=null||t.match(Dre)!=null?e.replace("static.arcgis.com","staticdev.arcgis.com"):t.match(Nre)!=null||t.match(Vre)!=null?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}const Pre=/^devext\.arcgis\.com$/,Nre=/^qaext\.arcgis\.com$/,Dre=/^[\w-]*\.mapsdevext\.arcgis\.com$/,Vre=/^[\w-]*\.mapsqa\.arcgis\.com$/,cLe=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,Pre,Nre,/^jsapps\.esri\.com$/,Dre,Vre];function zre(e,t,r){const i=e.name;return i==null?Promise.reject(new I("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName==="Esri2DPointSymbolsStyle"?dLe(i,t,r):Vee(e,t,r).then(s=>qre(s,i,t,vEe,r))}function jre(e,t){return t.items.find(r=>r.name===e)}async function qre(e,t,r,i,s){var v,w;const n=(r==null?void 0:r.portal)!=null?r.portal:Mr.getDefault(),a={portal:n,url:Zt(e.baseUrl)},o=jre(t,e.data);if(!o)throw new I("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});const l=(s==null?void 0:s.acceptedFormats)??nLe,d=i(o,l);if(!d)throw new I("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${t}' does not have an accepted format (one of ${l})`,{symbolName:t});const{url:f,format:p}=d;let m=Tu(f,a),y=((v=o.thumbnail)==null?void 0:v.href)??null;const b=(w=o.thumbnail)==null?void 0:w.imageData;lLe()&&(m=vj(m)??"",y=vj(y));const g={portal:n,url:Zt(zM(m)),origin:"portal-item"};return Bk(m,s).then(_=>{const x=p==="cim"?zee(_.data):_.data,T=Pee(x,g);if(T&&tl(T)){if(y){const k=Tu(y,a);T.thumbnail=new Dp({url:k})}else b&&(T.thumbnail=new Dp({url:`data:image/png;base64,${b}`}));e.styleUrl?T.styleOrigin=new Av({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(T.styleOrigin=new Av({portal:r.portal,styleName:e.styleName,name:t}))}return T})}function dLe(e,t,r){const i=wEe.replaceAll(/\{SymbolName\}/gi,e),s=t.portal!=null?t.portal:Mr.getDefault();return Bk(i,r).then(n=>{const a=zee(n.data);return Pee(a,{portal:s,url:Zt(zM(i)),origin:"portal-item"})})}const uLe=Object.freeze(Object.defineProperty({__proto__:null,fetchSymbolFromStyle:qre,getStyleItemFromStyle:jre,resolveWebStyleSymbol:zre},Symbol.toStringTag,{value:"Module"})),gp=kr.size,g5=kr.maxSize,pL=kr.maxOutlineSize,wj=kr.lineWidth,cC=kr.tallSymbolWidth;function v0(e){const t=e.outline,r=e.material!=null?e.material.color:null,i=r!=null?r.toHex():null;if(t==null||"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"&&t.pattern.style==="none")return e.type==="fill"&&i==="#ffffff"?{color:"#bdc3c7",width:.75}:null;const s=Ct(t.size)||0;return{color:"rgba("+(t.color!=null?t.color.toRgba():"255,255,255,1")+")",width:Math.min(s,pL),style:"pattern"in t&&t.pattern!=null&&t.pattern.type==="style"?cL(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}async function fLe(e,t){var i,s,n;if((i=e.thumbnail)!=null&&i.url)return e.thumbnail.url;if(t.type==="icon"&&((s=t==null?void 0:t.resource)==null?void 0:s.href))return Vke(t);const r=Et("esri/images/Legend/legend3dsymboldefault.png");if(e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)){const a=await zre(e.styleOrigin,{portal:e.styleOrigin.portal}).catch(()=>null);if(a&&"thumbnail"in a&&((n=a.thumbnail)!=null&&n.url))return a.thumbnail.url}return r}function gS(e,t=1){const r=e.a,i=t8(e),s=i.h,n=i.s/t,a=100-(100-i.v)/t,{r:o,g:l,b:d}=wh({h:s,s:n,v:a});return[o,l,d,r]}function s6(e){var t;return e.type==="water"?e.color==null?null:e.color:((t=e.material)==null?void 0:t.color)==null?null:e.material.color}function Ye(e,t=0){const r=s6(e);if(!r){if(e.type==="fill")return null;const s=wke.r,n=mu(s,t);return[n,n,n,100]}const i=r.toRgba();for(let s=0;s<3;s++)i[s]=mu(i[s],t);return i}async function Bre(e,t){const r=e.style;return r==="none"?null:{type:"pattern",x:0,y:0,src:await vke(Et(`esri/symbols/patterns/${r}.png`),t.toCss(!0)),width:5,height:5}}function _j(e){return e.outline?v0(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function hL(e,t){const r=s6(e);if(!r)return null;let i="rgba(";return i+=mu(r.r,t)+",",i+=mu(r.g,t)+",",i+=mu(r.b,t)+",",i+r.a+");"}function dC(e,t){const r=hL(e,t);return r?"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"&&e.pattern.style==="none"?null:{color:r,width:Math.min(e.size?Ct(e.size):.75,pL),style:"pattern"in e&&e.pattern!=null&&e.pattern.type==="style"?cL(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?e.join==="miter"?Ct(2):e.join:null}:{}}function L3(e,t,r){const i=r!=null?.75*r:0;return{type:"linear",x1:i?.25*i:0,y1:i?.5*i:0,x2:i||4,y2:i?.5*i:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function pLe(e){const t=e.depth,r=e.height,i=e.width;return i!==0&&t!==0&&r!==0&&i===t&&i!=null&&r!=null&&i<r}function hLe(e,t,r){var s,n;const i=[];if(!e)return i;switch(e.type){case"icon":{const l=t,d=t;switch(((s=e.resource)==null?void 0:s.primitive)??Awe){case"circle":i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:Ye(e,0),stroke:v0(e)});break;case"square":i.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,d]},{command:"Z",values:[]}]},fill:Ye(e,0),stroke:v0(e)});break;case"triangle":i.push({shape:{type:"path",path:[{command:"M",values:[0,d]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,d]},{command:"Z",values:[]}]},fill:Ye(e,0),stroke:v0(e)});break;case"cross":i.push({shape:{type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,d]},{command:"M",values:[0,.5*d]},{command:"L",values:[l,.5*d]}]},stroke:_j(e)});break;case"x":i.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,d]},{command:"M",values:[l,0]},{command:"L",values:[0,d]}]},stroke:_j(e)});break;case"kite":i.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*d]},{command:"L",values:[.5*l,d]},{command:"Z",values:[]}]},fill:Ye(e,0),stroke:v0(e)})}break}case"object":switch(((n=e.resource)==null?void 0:n.primitive)??Fwe){case"cone":{const a=L3(Ye(e,0),Ye(e,-.6),r?cC:t),o=ZAe(t,r);i.push({shape:o[0],fill:a},{shape:o[1],fill:a});break}case"inverted-cone":{const a=Ye(e,0),o=L3(a,Ye(e,-.6),t),l=JAe(t);i.push({shape:l[0],fill:o},{shape:l[1],fill:a});break}case"cube":{const a=HAe(t,r);i.push({shape:a[0],fill:Ye(e,0)},{shape:a[1],fill:Ye(e,-.3)},{shape:a[2],fill:Ye(e,-.5)});break}case"cylinder":{const a=L3(Ye(e,0),Ye(e,-.6),r?cC:t),o=WAe(t,r);i.push({shape:o[0],fill:a},{shape:o[1],fill:a},{shape:o[2],fill:Ye(e,0)});break}case"diamond":{const a=YAe(t);i.push({shape:a[0],fill:Ye(e,-.3)},{shape:a[1],fill:Ye(e,0)},{shape:a[2],fill:Ye(e,-.3)},{shape:a[3],fill:Ye(e,-.7)});break}case"sphere":{const a=L3(Ye(e,0),Ye(e,-.6));a.x1=0,a.y1=0,a.x2=.25*t,a.y2=.25*t,i.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:a});break}case"tetrahedron":{const a=QAe(t);i.push({shape:a[0],fill:Ye(e,-.3)},{shape:a[1],fill:Ye(e,0)},{shape:a[2],fill:Ye(e,-.6)});break}}break}return i}function i8(e){const t=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null;return t?Ct(t):null}function mLe(e){return e.type==="icon"?"multiply":"tint"}async function yLe(e,t){const r=i8(t),i=t!=null&&t.maxSize?Ct(t.maxSize):null,s=(t==null?void 0:t.disableUpsampling)??!1,n=e.symbolLayers,a=[],o=[];let l=!1,d=0,f=0,p=0;n.forEach(b=>{var _,x,T,k;if(b.type!=="icon"&&b.type!=="object")return;b&&b.type==="icon"&&(p=Math.max(b.size&&Ct(b.size),p));const g=b.type==="icon"?b.size&&Ct(b.size):0,v=r||g?Math.ceil(Math.min(r||g,i||g5)):gp;let w=b.type==="icon"?b.angle:null;if((t==null?void 0:t.rotation)!=null&&(w=(w??0)+t.rotation),o.push(w),(_=b==null?void 0:b.resource)==null?void 0:_.href){const A=fLe(e,b).then(M=>{var z;const R=(z=b==null?void 0:b.material)==null?void 0:z.color,P=mLe(b);return sLe(M,v,R,P,s)}).then(M=>{const R=M.width,P=M.height;return d=Math.max(d,R),f=Math.max(f,P),w&&(l=!0),[{shape:{type:"image",x:0,y:0,width:R,height:P,src:M.url},fill:null,stroke:null}]});a.push(A)}else{let A=v;b.type==="icon"&&r&&(A=v*(g/p));const M=(t==null?void 0:t.symbolConfig)==="tall"||((x=t==null?void 0:t.symbolConfig)==null?void 0:x.isTall)||b.type==="object"&&pLe(b);d=Math.max(d,M?cC:A),f=Math.max(f,A),w&&((T=b.resource)!=null&&T.primitive)&&["square","triangle","x"].includes((k=b.resource)==null?void 0:k.primitive)&&(l=!0),a.push(Promise.resolve(hLe(b,A,M)))}});const m=await Promise.allSettled(a),y=[];return m.forEach(b=>{b.status==="fulfilled"?y.push(b.value):b.reason&&B.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",b.reason)}),K2(y,[d,f],{node:t==null?void 0:t.node,scale:!1,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel,rotations:o,useRotationSize:l})}function bLe(e,t){const r=e.symbolLayers,i=[],s=r8(e),n=i8(t),a=(t!=null&&t.maxSize?Ct(t.maxSize):null)||pL;let o,l=0,d=0;return r.forEach((f,p)=>{if(!f||f.type!=="line"&&f.type!=="path")return;const m=[];switch(f.type){case"line":{const y=dC(f,0);if(y==null)break;const b=(y==null?void 0:y.width)||0;p===0&&(o=b);const g=Math.min(n||b,a),v=p===0?g:n?g*(b/o):g,w=v>wj/2?2*v:wj;d=Math.max(d,v),l=Math.max(l,w),y.width=v,m.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[l,.5*d]}]},stroke:y});break}case"path":{const y=Math.min(n||gp,a),b=Ye(f,0),g=Ye(f,-.2),v=hL(f,-.4),w=v?{color:v,width:1}:{};if(f.profile==="quad"){const _=f.width,x=f.height,T=BAe(_&&x?_/x:1,x===0,_===0),k={...w,join:"bevel"};m.push({shape:T[0],fill:g,stroke:k},{shape:T[1],fill:g,stroke:k},{shape:T[2],fill:b,stroke:k})}else m.push({shape:iv.pathSymbol3DLayer[0],fill:g,stroke:w},{shape:iv.pathSymbol3DLayer[1],fill:b,stroke:w});d=Math.max(d,y),l=d}}i.push(m)}),Promise.resolve(K2(i,[l,d],{node:t==null?void 0:t.node,scale:s,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel}))}async function gLe(e,t){const r=e.type==="mesh-3d",i=e.symbolLayers,s=i8(t),n=t!=null&&t.maxSize?Ct(t.maxSize):null,a=s||gp,o=[];let l=0,d=0,f=!1;for(let p=0;p<i.length;p++){const m=i.at(p),y=[];if(!r||m.type==="fill"){switch(m.type){case"fill":{const b=Math.min(a,n||g5);if(l=Math.max(l,b),d=Math.max(d,b),f=!0,r){const g=iv.meshSymbol3DFill,v=hL(m,-.4),w=v?{color:v,width:1,join:"round"}:{};y.push({shape:g[0],fill:Ye(m,0),stroke:w},{shape:g[1],fill:Ye(m,-.2),stroke:w},{shape:g[2],fill:Ye(m,-.6),stroke:w})}else{let g=Ye(m,0);const v="pattern"in m?m.pattern:null,w=v0(m),_=s6(m);v!=null&&v.type==="style"&&v.style!=="solid"&&_&&(g=await Bre(v,_)),y.push({shape:iv.fill[0],fill:g,stroke:w})}break}case"line":{const b=dC(m,0);if(b==null)break;const g={stroke:b,shape:iv.fill[0]};l=Math.max(l,gp),d=Math.max(d,gp),y.push(g);break}case"extrude":{const b={join:"round",width:1,...dC(m,-.4)},g=Ye(m,0),v=Ye(m,-.2),w=Math.min(a,n||g5),_=UAe(w);b.width=1,y.push({shape:_[0],fill:v,stroke:b},{shape:_[1],fill:v,stroke:b},{shape:_[2],fill:g,stroke:b});const x=gp,T=.7*gp+.5*w;l=Math.max(l,x),d=Math.max(d,T);break}case"water":{const b=s6(m),g=gS(b),v=gS(b,2),w=gS(b,3),_=GAe();f=!0,y.push({shape:_[0],fill:g},{shape:_[1],fill:v},{shape:_[2],fill:w});const x=Math.min(a,n||g5);l=Math.max(l,x),d=Math.max(d,x);break}}o.push(y)}}return K2(o,[l,d],{node:t==null?void 0:t.node,scale:f,opacity:t==null?void 0:t.opacity,ariaLabel:t==null?void 0:t.ariaLabel})}function vLe(e,t){if(e.symbolLayers.length===0)return Promise.reject(new I("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return yLe(e,t);case"line-3d":return bLe(e,t);case"polygon-3d":case"mesh-3d":return gLe(e,t)}return Promise.reject(new I("symbolPreview: swatchInfo3D","symbol not supported."))}const wLe=Object.freeze(Object.defineProperty({__proto__:null,getPatternDescriptor:Bre,getSizeFromOptions:i8,getSymbolLayerFill:Ye,previewSymbol3D:vLe},Symbol.toStringTag,{value:"Module"})),Sj={HH:315,HL:45,LL:135,LH:225},_Le={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function SLe(e){if(!e)return;const{type:t}=e;if(t.includes("3d"))return Ye(e.symbolLayers.at(0));if(t==="simple-line"){const r=jv(e);return r&&r.color}if(e.type==="simple-marker"&&(e.style==="x"||e.style==="cross")){const r=jv(e);return r&&r.color}return gke(e)}function $Le(e,t){const r=t.HH.label,i=t.LL.label,s=t.HL.label,n=t.LH.label;switch(e){case"HH":default:return{top:r,bottom:i,left:s,right:n};case"HL":return{top:s,bottom:n,left:i,right:r};case"LL":return{top:i,bottom:r,left:n,right:s};case"LH":return{top:n,bottom:s,left:r,right:i}}}function xLe(e){const{focus:t,infos:r,numClasses:i}=e,s=_Le[i],n={};r.forEach(o=>{n[o.value]={label:o.label,fill:SLe(o.symbol)}});const a=[];for(let o=0;o<i;o++){const l=[];for(let d=0;d<i;d++){const f=n[s[o][d]];l.push(f.fill)}a.push(l)}return{type:"relationship-ramp",numClasses:i,focus:t,colors:a,labels:$Le(t,n),rotation:Ure(t)}}function Ure(e){let t=Sj[e];return e&&t==null&&(t=Sj.HH),t||0}let Uh=null;const $j=[255,255,255];function xj(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ELe(e,t,r){const{backgroundColor:i,outline:s,dotSize:n}=e,a=(r==null?void 0:r.swatchSize)||kr.size,o=.8,l=Math.round(a*a/Math.max(n,.5)**2*o),d=window.devicePixelRatio,f=document.createElement("canvas"),p=a*d;f.width=p,f.height=p,f.style.width=f.width/d+"px",f.style.height=f.height/d+"px";const m=f.getContext("2d");if(i&&(m.fillStyle=i.toCss(!0),m.fillRect(0,0,p,p),m.fill()),m.fillStyle=(t==null?void 0:t.toCss(!0))??"",Uh&&Uh.length/2===l)for(let b=0;b<2*l;b+=2){const g=Uh[b],v=Uh[b+1];m.fillRect(g,v,n*d,n*d),m.fill()}else{Uh=[];for(let b=0;b<2*l;b+=2){const g=xj(0,p),v=xj(0,p);Uh.push(g,v),m.fillRect(g,v,n*d,n*d),m.fill()}}s&&(s.color&&(m.strokeStyle=s.color.toCss(!0)),m.lineWidth=s.width,m.strokeRect(0,0,p,p));const y=new Image(a,a);return y.src=f.toDataURL(),y.ariaLabel=(r==null?void 0:r.ariaLabel)??null,y.alt=(r==null?void 0:r.ariaLabel)??"",y}function TLe(e,t={}){const r=t.radius||40,i=2*Math.PI*r,s=e.length,n=i/s,a=[],o=jv(t.outline);(o==null?void 0:o.width)!=null&&(o.width*=2),(o||t.backgroundColor)&&a.push({shape:{type:"circle",cx:r,cy:r,r},fill:t.backgroundColor,stroke:o,offset:[0,0]});const l=t.values,d=l&&l.length===s&&l.reduce((b,g)=>b+g,0)===100,f=[0];for(let b=0;b<s;b++){let g=null;d&&(g=l[b]*i/100,f.push(g+f[b])),a.push({shape:{type:"circle",cx:r,cy:r,r:r/2},fill:[0,0,0,0],stroke:{width:r,dashArray:`${(g??n)/2} ${i}`,dashoffset:"-"+(d?f[b]/2:b*(n/2)),color:e[b]},offset:[0,0]})}let p=null;const m=2*r+((o==null?void 0:o.width)||0),y=t.holePercentage;if(y){o&&a.push({shape:{type:"circle",cx:r,cy:r,r:r*y},fill:null,stroke:o,offset:[0,0]});const b=m/2;p=[[{shape:{type:"circle",cx:b,cy:b,r:b},fill:$j,stroke:o?{...o,color:$j}:null,offset:[0,0]},{shape:{type:"circle",cx:b,cy:b,r:r*y},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return K2([a],[m,m],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:p,rotations:[-90],ariaLabel:t.ariaLabel})}function tp(e,t={}){const s=t.align==="horizontal",n=s?75:24,a=s?24:75,o=t.width??n,l=t.height??a,d=t.gradient??!0,f=window.devicePixelRatio,p=o*f,m=l*f,y=document.createElement("canvas");y.width=p,y.height=m,y.ariaLabel=t.ariaLabel??null,y.style.width=`${o}px`,y.style.height=`${l}px`;const b=y.getContext("2d"),g=s?p:0,v=s?0:m;if(d){const _=b.createLinearGradient(0,0,g,v),x=e.length,T=x===1?0:1/(x-1);e.forEach((k,A)=>_.addColorStop(A*T,k.toString())),b.fillStyle=_,b.fillRect(0,0,p,m)}else{const _=s?p/e.length:p,x=s?m:m/e.length;let T=0,k=0;for(const A of e)b.fillStyle=A.toString(),b.fillRect(T,k,_,x),T=s?T+_:0,k=s?0:k+x}const w=document.createElement("div");return w.style.width=`${o}px`,w.style.height=`${l}px`,ILe(w,t==null?void 0:t.effectList),w.appendChild(y),w}function ILe(e,t){if(!t)return;e.style.filter=Q2(t);const r=t.effects;if(r){for(const i of r)if((i==null?void 0:i.type)==="drop-shadow"){i.offsetX<0?e.style.marginLeft=`${Math.abs(i.offsetX)}px`:e.style.marginRight=`${i.offsetX}px`;break}}}async function Gre(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:r}=await C(()=>import("./previewWebStyleSymbol-CLR3kAnh.js"),[]);return r(e,Gre,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:r}=await C(()=>Promise.resolve().then(()=>wLe),void 0);return r(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:r}=await C(()=>import("./previewSymbol2D-Cp8bQUeJ.js"),__vite__mapDeps([368,173]));return r(e,t)}case"cim":{const{previewCIMSymbol:r}=await C(()=>import("./previewCIMSymbol-z0K9NTtL.js"),__vite__mapDeps([369,171,172,173,174,175,176,177,169,370,282,278]));return r(e,t)}default:return}}function Hre(e){return e&&"opacity"in e?e.opacity*Hre(e.parent):1}async function Vet(e,t){var x;if(!e)return;const r=e.sourceLayer,i=(t!=null&&t.useSourceLayer?r:e.layer)??r,s=t!=null&&t.ignoreOpacity?1:Hre(i);if(e.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){const T=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...t,acceptedFormats:["web","cim"],cache:t!=null?t.webStyleCache:null}):e.symbol.clone();return bS(T,null,s),T}const n=(t==null?void 0:t.renderer)??CLe(i);let a=n&&"getSymbolAsync"in n?await n.getSymbolAsync(e,t):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...t,cache:t!=null?t.webStyleCache:null}):a.clone(),!n||!("visualVariables"in n)||!((x=n.visualVariables)!=null&&x.length))return bS(a,null,s),a;if("arcadeRequiredForVisualVariables"in n&&n.arcadeRequiredForVisualVariables&&(t==null?void 0:t.arcade)==null){const T={...t};T.arcade=await ln(),t=T}const{getColor:o,getOpacity:l,getAllSizes:d,getRotationAngle:f}=await C(()=>Promise.resolve().then(()=>gh),void 0),p=[],m=[],y=[],b=[];for(const T of n.visualVariables)switch(T.type){case"color":p.push(T);break;case"opacity":m.push(T);break;case"rotation":b.push(T);break;case"size":T.target||y.push(T)}const g=!!p.length&&p[p.length-1],v=g?o(g,e,t):null,w=!!m.length&&m[m.length-1];let _=w?l(w,e,t):null;if(s!=null&&(_=_!=null?_*s:s),t!=null&&t.ignoreOpacity&&(_=1),bS(a,v,_),y.length&&(t==null?void 0:t.ignoreSizeVariables)!==!0){const T=d(y,e,t);await Qke(a,T)}if((t==null?void 0:t.ignoreRotationVariables)!==!0)for(const T of b)Kke(a,f(T,e,t),T.axis);return a}function CLe(e){if(e)return"renderer"in e?e.renderer:void 0}function MLe(e,t,r){const i=e.effectiveClusterRenderer;if(!i||!("visualVariables"in i)||!i.visualVariables)return null;const s=i.visualVariables.find(f=>f.type==="size");if(!("stops"in s)||!s.stops)return null;const n=s.stops.find(f=>f.useMinValue),a=s.stops.find(f=>f.useMaxValue);if(n==null||a==null)return null;const o=r.featuresTilingScheme.getClosestInfoForScale(r.scale).level,l=s.field,d=t.getDisplayStatistics(o,l);return d?new cn({field:s.field,minSize:e.clusterMinSize,minDataValue:d.minValue,maxSize:e.clusterMaxSize,maxDataValue:d.maxValue}):null}const ALe=/^-?(\d+)(\.(\d+))?$/i;function kLe(e,t){return e-t}function LLe(e,t){let r,i;return r=Number(e.toFixed(t)),r<e?i=r+1/10**t:(i=r,r-=1/10**t),r=Number(r.toFixed(t)),i=Number(i.toFixed(t)),[r,i]}function RLe(e,t,r,i,s){const n=v5(e,t,r,i),a=n.previous==null||n.previous<=s,o=n.next==null||n.next<=s;return a&&o||n.previous+n.next<=2*s}function n6(e){const t=String(e),r=t.match(ALe);if(r!=null&&r[1])return{integer:r[1].split("").length,fractional:r[3]?r[3].split("").length:0};if(t.toLowerCase().includes("e")){const i=t.split("e"),s=i[0],n=i[1];if(s&&n){const a=Number(s);let o=Number(n);const l=o>0;l||(o=Math.abs(o));const d=n6(a);return l?(d.integer+=o,o>d.fractional?d.fractional=0:d.fractional-=o):(d.fractional+=o,o>d.integer?d.integer=1:d.integer-=o),d}}return{integer:0,fractional:0}}function v5(e,t,r,i){const s={previous:null,next:null};if(r!=null){const n=e-r,a=t-r-n;s.previous=Math.floor(Math.abs(100*a/n))}if(i!=null){const n=i-e,a=i-t-n;s.next=Math.floor(Math.abs(100*a/n))}return s}function dh(e,t={}){const r=e.slice(),{tolerance:i=2,strictBounds:s=!1,indexes:n=r.map((a,o)=>o)}=t;n.sort(kLe);for(let a=0;a<n.length;a++){const o=n[a],l=r[o],d=o===0?null:r[o-1],f=o===r.length-1?null:r[o+1],p=n6(l).fractional;if(p){let m,y=0,b=!1;for(;y<=p&&!b;){const g=LLe(l,y);m=s&&a===0?g[1]:g[0],b=RLe(l,m,d,f,i),y++}b&&(r[o]=m)}}return r}const OLe={maximumFractionDigits:20};function FLe(e){return Mi(e,OLe)}const qp=",",Ay={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},PLe="percent-of-total",NLe="field",DLe={exclude:["median"]},VLe={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},zLe=new Set(["integer","small-integer"]);let vS=null;const jLe=["date","date-only","timestamp-offset"];function es(e){return h4(e)||_Y(e)||SY(e)}async function yc(e){const{field:t,field2:r,field3:i,normalizationField:s,valueExpression:n}=e;let a=[];if(n){if(!vS){const{arcadeUtils:o}=await ln();vS=o}a=vS.extractFieldNames(n)}return t&&a.push(t),r&&a.push(r),i&&a.push(i),s&&a.push(s),a}function qLe(e){let t=e.normalizationType;return t||(e.normalizationField?t=NLe:e.normalizationTotal!=null&&(t=PLe)),t??void 0}function Zb(e){return String(e).padStart(2,"0")}function Ej(e,t,r){let i;return t==="date"||t==="number"?(t==="number"&&(e=new Date(e)),i=`TIMESTAMP'${r?e.getFullYear():e.getUTCFullYear()}-${Zb((r?e.getMonth():e.getUTCMonth())+1)}-${Zb(r?e.getDate():e.getUTCDate())} ${Zb(r?e.getHours():e.getUTCHours())}:${Zb(r?e.getMinutes():e.getUTCMinutes())}:${Zb(r?e.getSeconds():e.getUTCSeconds())}'`):i=e,i}function BLe(e,t,r,i){const{hasQueryEngine:s}=e,n=`(${Ej(r,Tj(e,r),s)} - ${Ej(t,Tj(e,t),s)})`;let a=VLe[i],o="/";return a<1&&(a=1/a,o="*"),{sqlExpression:a===1?n:`(${n} ${o} ${a})`,sqlWhere:null}}function Tj(e,t){if(t instanceof Date)return"date";if(typeof t=="number")return"number";if(typeof t=="string"){const r=e.getField(t);if(t.toLowerCase()==="<now>")return;if(h4(r))return"field"}}function mL(e,t=Ay){for(const r in t)if(t[r].includes(e))return r}function yL(e,t,r=!0){let i=null;return e&&(typeof e=="string"?t.includes(e)&&(i=e):i=kve(e)),r?i||"gray":i}function Wre(e,t){const r=t&&e.getField(t);return!!r&&zLe.has(r.type)}function w0(e){return`cast(${e} as float)`}function bL(e,t){const{format:r,timeZoneOptions:i,fieldType:s}=t??{};let n,a;if(i&&({timeZone:n,timeZoneName:a}=mZ(i.layerTimeZone,i.datesInUnknownTimezone,i.viewTimeZone,Ud(r||"short-date-short-time"),s)),typeof e=="string"&&isNaN(Date.parse(s==="time-only"?`1970-01-01T${e}Z`:e)))return e;switch(s){case"date-only":{const o=Ud(r||"short-date");return typeof e=="string"?W0e(e,{...o}):Qi(e,{...o,timeZone:Jo})}case"time-only":{const o=Ud(r||"short-time");return typeof e=="string"?Z0e(e,o):Qi(e,{...o,timeZone:Jo})}case"timestamp-offset":{if(!n&&typeof e=="string"&&new Date(e).toISOString()!==e)return e;const o=r||i?Ud(r||"short-date-short-time"):void 0,l=o?{...o,timeZone:n,timeZoneName:a}:void 0;return typeof e=="string"?J0e(e,l):Qi(e,l)}default:{const o=r||i?Ud(r||"short-date-short-time"):void 0;return Qi(typeof e=="string"?new Date(e):e,o?{...o,timeZone:n,timeZoneName:a}:void 0)}}}const Zre="<",Jre=">";function Yre(e,t,r,i){let s="";return t===0?s=`${Zre} `:t===r&&(s=`${Jre} `),s+(i?bL(e,i):FLe(e))}const ULe=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function uC(e){if(!("visualVariables"in e)||!e.visualVariables)return null;const t=e.visualVariables.find(a=>a.type==="color");if(!t)return null;let r=null,i=null;if(t.stops){if(t.stops.length===1)return t.stops[0].color;r=t.stops[0].value,i=t.stops[t.stops.length-1].value}const s=r!=null&&i!=null?r+(i-r)/2:0,{getColor:n}=await C(async()=>{const{getColor:a}=await Promise.resolve().then(()=>gh);return{getColor:a}},void 0);return n(t,s)??null}async function Qre(e,t){const r=e.trailCap,i=e.trailWidth||1,s=t||await uC(e)||e.color;return new Li({cap:r,color:s,width:i})}function GLe(e,t){var r,i;if(!t.field)return null;if("featureReduction"in e)switch((r=e.featureReduction)==null?void 0:r.type){case"cluster":case"binning":{const s=e.featureReduction.fields.find(({name:n})=>n.toLowerCase()===t.field.toLowerCase());return s&&"getField"in e?e.getField(s.onStatisticField):null}}return"getField"in e?(i=e.getField)==null?void 0:i.call(e,t.field):null}function HLe(e,t){var i,s,n;const r="popupTemplate"in e?(i=e.popupTemplate)==null?void 0:i.fieldInfos:null;if(r!=null&&r.length&&t)return(n=(s=r.find(a=>{var o;return((o=a.fieldName)==null?void 0:o.toLowerCase())===t.toLowerCase()}))==null?void 0:s.format)==null?void 0:n.dateFormat}function WLe(e,t,r){var n,a,o,l;const i=GLe(e,t);if(!i||!es(i)&&!Ci(i))return null;let s=HLe(e,i.name);if(!s&&i.type==="date"){let d=0,f=0;t.stops?(d=((a=(n=t.stops)==null?void 0:n.at(0))==null?void 0:a.value)??d,f=((l=(o=t.stops)==null?void 0:o.at(-1))==null?void 0:l.value)??f):"minDataValue"in t&&"maxDataValue"in t&&(d=t.minDataValue??d,f=t.maxDataValue??f),s=f-d>2*z0.days?"short-date":"short-date-short-time"}return{fieldType:i.type,format:s,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in e?e.preferredTimeZone:null,viewTimeZone:r,datesInUnknownTimezone:"datesInUnknownTimezone"in e&&e.datesInUnknownTimezone}}}function fC(e){var t,r;if("authoringInfo"in e)return(r=(t=e.authoringInfo)==null?void 0:t.visualVariables)==null?void 0:r.find(({theme:i})=>i==="reference-size")}const ZLe=new Z([64,64,64]);function Kre(e,t){const r=[],i=e.length-1;return e.length===5?r.push(0,2,4):r.push(0,i),e.map((s,n)=>r.includes(n)?Yre(s,n,i,t):null)}async function pC(e,t,r){let i=!1,s=[],n=[];if(e.stops){const d=e.stops;s=d.map(f=>f.value),i=d.some(f=>!!f.label),i&&(n=d.map(f=>f.label))}const a=s[0],o=s[s.length-1];if(a==null&&o==null)return null;const l=i?null:Kre(s,r);return(await Promise.all(s.map(async(d,f)=>({value:d,color:e.type==="opacity"?await JLe(d,e,t):(await C(async()=>{const{getColor:p}=await Promise.resolve().then(()=>gh);return{getColor:p}},void 0)).getColor(e,d),label:i?n[f]:(l==null?void 0:l[f])??""})))).reverse()}async function JLe(e,t,r){const i=new Z(r??ZLe),s=(await C(async()=>{const{getOpacity:n}=await Promise.resolve().then(()=>gh);return{getOpacity:n}},void 0)).getOpacity(t,e);return s!=null&&(i.a=s),i}function YLe(e){let t=!1,r=[],i=[];r=e.map(o=>o.value),t=e.some(o=>!!o.label),t&&(i=e.map(o=>o.label??""));const s=r[0],n=r[r.length-1];if(s==null&&n==null)return null;const a=t?null:Kre(r);return r.map((o,l)=>({value:o,color:Xre(o,e),label:t?i[l]:(a==null?void 0:a[l])??""})).reverse()}function Xre(e,t){const{startIndex:r,endIndex:i,weight:s}=QLe(e,t);if(r===i)return t[r].color;const n=Z.blendColors(t[r].color,t[i].color,s);return new Z(n)}function QLe(e,t){let r=0,i=t.length-1;return t.some((s,n)=>e<s.value?(i=n,!0):(r=n,!1)),{startIndex:r,endIndex:i,weight:(e-t[r].value)/(t[i].value-t[r].value)}}function KLe(e,t){let r=[];if(e&&e.type==="multipart")e.colorRamps.reverse().forEach((i,s)=>{s===0?r.push({value:t.max,color:new Z(i.toColor),label:"high"}):r.push({value:null,color:new Z(i.toColor),label:""}),s===e.colorRamps.length-1?r.push({value:t.min,color:new Z(i.fromColor),label:"low"}):r.push({value:null,color:new Z(i.fromColor),label:""})});else{let i,s;e&&e.type==="algorithmic"?(i=e.fromColor,s=e.toColor):(i=[0,0,0,1],s=[255,255,255,1]),r=[{value:t.max,color:new Z(s),label:"high"},{value:t.min,color:new Z(i),label:"low"}]}return r}function eie(e){if(!e.colorStops)return[];const t=[...e.colorStops].filter(i=>{var s;return((s=i.color)==null?void 0:s.a)>0});let r=t.length-1;if(t[0]){const i=t[r];i&&i.ratio!==1&&(t.push(new tv({ratio:1,color:i.color})),r++)}return t.map((i,s)=>{var a,o;let n="";return s===0?n=((a=e.legendOptions)==null?void 0:a.minLabel)||"low":s===r&&(n=((o=e.legendOptions)==null?void 0:o.maxLabel)||"high"),{color:i.color,label:n,ratio:i.ratio}}).reverse()}const hC=30,mC=12,yC=24,tie=[255,255,255],gL=[200,200,200],_0=[128,128,128],XLe=20,eRe=5;function tRe(e){return e.declaredClass==="esri.symbols.SimpleMarkerSymbol"}function rRe(e){return e.declaredClass==="esri.symbols.PictureMarkerSymbol"}function iRe(e){return e.declaredClass==="esri.symbols.SimpleLineSymbol"}function sRe(e){return e.declaredClass==="esri.symbols.TextSymbol"}function nRe(e,t){const r=e.length-1;return e.map((i,s)=>Yre(i,s,r,t))}async function aRe(e,t,r,i,s,n,a){const o=t.legendOptions,l=o==null?void 0:o.customValues,d=a||await dRe(e,r),f=t.stops,p=!!d,m=!!l,y=t.minSize!=null&&t.maxSize!=null,b=f&&f.length>1,g=!!t.target;if(!p||!m&&!(y||b&&!g))return;const v=r8(d);let w=!1,_=null,x=null;_=v&&!b?dh([t.minDataValue,t.maxDataValue]):l??await fRe(t,d,i,s==null?void 0:s.type);const T=e==null?void 0:e.authoringInfo,k=(T==null?void 0:T.type)==="univariate-color-size",A=k&&(T==null?void 0:T.univariateTheme)==="above-and-below",M=!!fC(e);if(!_&&b&&(_=f.map(j=>j.value),w=f.some(j=>!!j.label),e.type==="flow"&&(_=dh(_)),w&&(x=f.map(j=>j.label))),v&&_!=null&&(_==null?void 0:_.length)>2&&!A&&(_=[_[0],_[_.length-1]]),!_)return null;k&&(_==null?void 0:_.length)!==5&&(_=sie({minSize:_[0],maxSize:_[_.length-1]}));const R=v?oRe(e,_):null,P=Dke(d),z=w?null:nRe(_,n);return(await Promise.all(_.map(async(j,H)=>{const K=v?R[H]:await Xm(t,d,j,i,s==null?void 0:s.type);return{value:j,symbol:!M||e.type!=="class-breaks"&&e.type!=="unique-value"?mRe(A&&e.type==="class-breaks"?cRe(e,H):d,K):lRe(e,K,t.maxSize,r)??d,label:w?x[H]:z[H],size:M?yC:K,outlineSize:P}}))).reverse()}function oRe(e,t){const r=e==null?void 0:e.authoringInfo,i=(r==null?void 0:r.type)==="univariate-color-size";let s=[mC,hC];if(i){const n=t[0],a=t[t.length-1],o=mC,l=hC;s=t.map(d=>o+(d-n)/(a-n)*(l-o))}return i&&(r==null?void 0:r.univariateTheme)==="below"&&s.reverse(),s}function lRe(e,t,r,i){var a,o,l,d,f,p;const s=e.type==="class-breaks",n=s?(l=(o=(a=e.classBreakInfos)==null?void 0:a[0])==null?void 0:o.symbol)==null?void 0:l.clone():(p=(f=(d=e.uniqueValueInfos)==null?void 0:d[0])==null?void 0:f.symbol)==null?void 0:p.clone();return n&&"type"in n&&n.type==="cim"?(dre(n,{color:i??(s?null:new Z(gL)),innerDotSize:t*(yC/r)||1,outerRingSize:yC}),n):null}function cRe(e,t){var a;const r=e.classBreakInfos,i=r.length,s=i<2||!(t>=2)?r[0].symbol.clone():r[i-1].symbol.clone();return((a=e.visualVariables)==null?void 0:a.some(o=>o.type==="color"))&&(s.type.includes("3d")?rie(s):iie(s)),s}async function dRe(e,t){var s,n;if(e.type==="flow")return Qre(e,t);if(e.type==="pie-chart")return new oi({color:null,outline:(s=e.outline)!=null&&s.width?e.outline:new Li});let r=null,i=null;if(e.type==="simple")r=e.symbol;else if(e.type==="class-breaks"){const a=e.classBreakInfos;r=a&&a[0]&&a[0].symbol,i=a.length>1}else if(e.type==="unique-value"){const a=e.uniqueValueInfos;r=(n=a==null?void 0:a[0])==null?void 0:n.symbol,i=a!=null&&a.length>1}return!r||uRe(r)?null:(r=r.clone(),(t||i)&&(r.type.includes("3d")?rie(r):iie(r)),r)}function uRe(e){var t;return tl(e)?((t=e.symbolLayers)==null?void 0:t.some(r=>(r==null?void 0:r.type)==="fill"))??!1:(e==null?void 0:e.type.includes("fill"))??!1}function rie(e){e.type==="line-3d"?e.symbolLayers.forEach(t=>{t.material={color:_0}}):e.symbolLayers.forEach(t=>{var r;t.type!=="icon"||(r=t.resource)!=null&&r.href?t.material={color:gL}:(t.material={color:tie},t.outline={color:_0,size:1.5})})}function iie(e){var r,i;const t=wk();e.type==="cim"?pre(e,new Z(gL)):e.type.includes("line")?e.color=_0:(e.color=t?_0:tie,e.type==="simple-marker"&&(e.outline?((i=(r=e.outline)==null?void 0:r.color)==null?void 0:i.toHex())==="#ffffff"&&(e.outline.color=_0):e.outline={color:_0,width:1.5}))}async function fRe(e,t,r,i){const s=(await C(async()=>{const{getSizeRangeAtScale:o}=await Promise.resolve().then(()=>gh);return{getSizeRangeAtScale:o}},void 0)).getSizeRangeAtScale(e,r,i),n=s&&sie(s);if(!s||!n)return;let a=n.map(o=>pRe(o,e,s));a=dh(a);for(let o=1;o<a.length-1;o++){const l=await hRe(e,t,a[o],a[o-1],r,i);l&&(a[o]=l[0],n[o]=l[1])}return a}function sie(e){const t=e.minSize,r=e.maxSize,i=eRe,s=(r-t)/(i-1),n=[];for(let a=0;a<i;a++)n.push(t+s*a);return n}function pRe(e,t,r){const i=r.minSize,s=r.maxSize,n=t.minDataValue,a=t.maxDataValue;let o;return e<=i?o=n:e>=s?o=a:o=(e-i)/(s-i)*(a-n)+n,o}async function hRe(e,t,r,i,s,n){const a=await Xm(e,t,r,s,n),o=await Xm(e,t,i,s,n),l=n6(r),d=l.fractional,f=XLe;let p=l.integer,m=null,y=null;r>0&&r<1&&(m=10**d,p=n6(r*=m).integer);for(let b=p-1;b>=0;b--){const g=10**b;let v=Math.floor(r/g)*g,w=Math.ceil(r/g)*g;m!=null&&(v/=m,w/=m);let _=(v+w)/2;[,_]=dh([v,_,w],{indexes:[1]});const x=await Xm(e,t,v,s,n),T=await Xm(e,t,w,s,n),k=await Xm(e,t,_,s,n),A=v5(a,x,o,null),M=v5(a,T,o,null),R=v5(a,k,o,null);let P=A.previous<=f,z=M.previous<=f;if(P&&z&&(A.previous<=M.previous?(P=!0,z=!1):(z=!0,P=!1)),P?y=[v,x]:z?y=[w,T]:R.previous<=f&&(y=[_,k]),y)break}return y}async function Xm(e,t,r,i,s){const{getSize:n}=await C(()=>Promise.resolve().then(()=>gh),void 0);return n(e,r,{scale:i,view:s,shape:t.type==="simple-marker"?t.style:null})}function mRe(e,t){const r=e.clone();if(tl(r))r8(r)||r.symbolLayers.forEach(i=>{i.type!=="fill"&&(i.size=t)});else if(tRe(r))r.size=t;else if(rRe(r)){const i=r.width,s=r.height;r.height=t,r.width=t*(i/s)}else iRe(r)?r.width=t:sRe(r)&&r.font&&(r.font.size=t);return r}async function Ps(e,t,r){Uy(e,t,()=>[]).push(...r)}async function yRe(e){var r,i;const t=new Map;if(!e)return t;if("visualVariables"in e&&e.visualVariables){for(const s of e.visualVariables)if(bRe(s)){const n=(await pC(s)??[]).map(a=>a.color);await Ps(t,s.field||s.valueExpression,n)}}if(e.type==="heatmap"){const s=eie(e).map(n=>n.color);await Ps(t,e.field||e.valueExpression,s)}else if(e.type==="pie-chart"){for(const s of e.attributes)await Ps(t,s.field||s.valueExpression,[s.color]);await Ps(t,"default",[(r=e==null?void 0:e.othersCategory)==null?void 0:r.color,qh(e.backgroundFillSymbol,null)])}else if(e.type==="dot-density"){for(const s of e.attributes)await Ps(t,s.field||s.valueExpression,[s.color]);await Ps(t,"default",[e.backgroundColor])}else if(e.type==="unique-value")if(((i=e.authoringInfo)==null?void 0:i.type)==="predominance")for(const s of e.uniqueValueInfos??[])await Ps(t,s.value.toString(),[qh(s.symbol,null)]);else{const s=(e.uniqueValueInfos??[]).map(d=>qh(d.symbol,null)),{field:n,field2:a,field3:o,valueExpression:l}=e;(n||l)&&await Ps(t,n||l,s),a&&await Ps(t,a,s),o&&await Ps(t,o,s)}else if(e.type==="class-breaks"){const s=e.classBreakInfos.map(o=>qh(o.symbol,null)),{field:n,valueExpression:a}=e;await Ps(t,n??a,s)}else e.type==="simple"&&await Ps(t,"default",[qh(e.symbol,null)]);return"defaultSymbol"in e&&e.defaultSymbol&&await Ps(t,"default",[qh(e.defaultSymbol,null)]),t.forEach((s,n)=>{const a=lM(s.filter(Boolean),(o,l)=>JSON.stringify(o)===JSON.stringify(l));t.set(n,a)}),t}function bRe(e){return e.type==="color"}function gRe(e){const r=Math.floor(Math.log10(Math.abs(e)))+1,i=r<4||r>6?4:r,s=1e6,n=Math.abs(e)>=s?"compact":"standard";return Mi(e,{notation:n,minimumSignificantDigits:2,maximumSignificantDigits:i})}const Ij=16,vRe="https://utility.arcgis.com/sharing/tools/legend",wRe="esri.layers.ImageryLayer",_Re="esri.layers.ImageryTileLayer",SRe="esri.layers.WCSLayer",R3=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,$Re=new ye({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),O3=new oi({size:6,outline:{color:[128,128,128,.5],width:.5}}),xRe=new el({style:"solid"});function bC(e){return e.type==="flow"}function nie(e){return e.type==="vector-field"}function aie(e){return e.type==="raster-colormap"}function oie(e){return e.type==="raster-stretch"}function lie(e){return e.type==="raster-shaded-relief"}function e0(e){return e.declaredClass==="esri.renderers.SimpleRenderer"}function rp(e){return e.declaredClass==="esri.renderers.ClassBreaksRenderer"}function ip(e){return e.declaredClass==="esri.renderers.UniqueValueRenderer"}function cie(e){return e.declaredClass==="esri.renderers.HeatmapRenderer"}function ERe(e){return vL(e)||wL(e)||_L(e)||TRe(e)}function TRe(e){return e.declaredClass==="esri.renderers.PointCloudRGBRenderer"}function vL(e){return e.declaredClass==="esri.renderers.PointCloudClassBreaksRenderer"}function wL(e){return e.declaredClass==="esri.renderers.PointCloudStretchRenderer"}function _L(e){return e.declaredClass==="esri.renderers.PointCloudUniqueValueRenderer"}function die(e){return e.declaredClass==="esri.renderers.DotDensityRenderer"}function uie(e){return e.declaredClass==="esri.renderers.PieChartRenderer"}function IRe(e,t){return e0(e)||rp(e)||ip(e)||cie(e)||die(e)||uie(e)?t.type==="2d"||lre(e):oie(e)||aie(e)||lie(e)||vL(e)||wL(e)||_L(e)||nie(e)||bC(e)}function CRe(e){return e.declaredClass==="esri.layers.BuildingSceneLayer"}function wS(e){return e.declaredClass==="esri.layers.SubtypeGroupLayer"}function MRe(e){return e.declaredClass==="esri.layers.VoxelLayer"}function ARe(e){return e.declaredClass==="esri.layers.WMSLayer"}function kRe(e){return e.declaredClass==="esri.layers.WMTSLayer"}function _S(e){return e.declaredClass==="esri.layers.MapImageLayer"}function Cj(e){return e.declaredClass==="esri.layers.TileLayer"}function Gh(e){return e.declaredClass===wRe}function F3(e){return e.declaredClass===_Re}function LRe(e){return e.declaredClass===SRe}function RRe(e){return e.type==="stretch-ramp"}function ORe(e){const t="authoringInfo"in e?e==null?void 0:e.authoringInfo:null;return(t==null?void 0:t.type)==="univariate-color-size"}function FRe(e){const t="authoringInfo"in e?e==null?void 0:e.authoringInfo:null;return(t==null?void 0:t.type)==="univariate-color-size"&&(t==null?void 0:t.univariateTheme)==="above-and-below"}function Mj(e){return"sublayers"in e}async function pl(e,t){const r=await e4("esri/widgets/Legend/t9n/Legend");return e!=="previewTemplateAriaLabel"||t||(e="previewAriaLabel"),ku(r[e],{label:t})}function PRe(e,t){const{field:r,field2:i,field3:s,fieldDelimiter:n,valueExpression:a}=e;if(!r)return null;const o=!r&&!a||!i&&!s?[t]:t==null?void 0:t.toString().split(n||""),l=r?{[r]:o==null?void 0:o[0]}:null;return l&&(i&&(l[i]=o==null?void 0:o[1]),s&&(l[s]=o==null?void 0:o[2])),l}const NRe=new oi({style:"path",path:"M10,5 L5,0 0,5 M5,0 L5,15",size:15,outline:{width:1,color:[85,85,85,1]}});let Hh={},ur=class extends ie{constructor(e){super(e),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this._layerDefinitionExpression=null,this._layerDefinitionExpressionClause=null,this._layerDisplayFilterId=null,this._layerDisplayFilterClause=null,this.children=new W,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange("ready");this.addHandles([Er(()=>this.children,"change",t=>{const{added:r,removed:i}=t;r.forEach(s=>{const n=`activeLayerInfo-ready-watcher-${s.layer.uid}`;this.addHandles(U(()=>s.ready,e,we),n)}),i.forEach(s=>this.removeHandles(s.layer.uid)),e()})]),this.keepCacheOnDestroy||(Hh={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Hh=null),this._layerDefinitionExpressionClause=null}get effectList(){const e=this.layer;let t=null;return"effect"in e&&e.effect&&(t=new $a,t.effect=e.effect,t.endTransition(),t.scale=this.scale),t}get opacity(){var s;const e=this.layer.opacity,t=(s=this.parent)==null?void 0:s.opacity,r=this.layer.parent,i=r&&"uid"in r?this._getParentLayerOpacity(r):null;return t!=null?t*e:i!=null?i*e:e}get ready(){return this.layer===null||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){var e;return((e=this.view)==null?void 0:e.scale)??0}get isScaleDriven(){const e=this.layer;if(e===null)return!1;if("effect"in e&&e.effect&&Array.isArray(e.effect))return!0;if("featureReduction"in e&&e.featureReduction){if(e.featureReduction.type==="cluster")return!0;if(e.featureReduction.type==="binning"&&"renderer"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return"renderer"in e&&e.renderer?!!("displayFilterInfo"in e&&e.displayFilterInfo&&ip(e.renderer))||this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get("version")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange("ready");const t=Array.from(e,r=>{var i;if(wJ(r))return this._getRendererLegendElements(r.renderer,{title:r.title});if((i=r.featureSet)!=null&&i.features.length){const s=r.layerDefinition,n=s==null?void 0:s.drawingInfo,a=n&&Lte(n.renderer),o=$Re.read(s.geometryType);return a?this._getRendererLegendElements(a,{title:r.name,geometryType:o}):(B.getLogger(this).warn("drawingInfo not available!"),null)}return null});try{const r=[],i=await Promise.allSettled(t);for(const s of i)if(s.status==="fulfilled")for(const n of s.value??[])r.push(n);this.legendElements=r,this.notifyChange("ready")}catch(r){B.getLogger(this).warn("error while building legend for layer!",r)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange("ready")}catch(t){B.getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange("ready")}catch(t){B.getLogger(this).warn("error while building legend for layer!",t)}}async buildLegendElementsForTools(){var t,r;const e=this.layer;if(MRe(e))this._constructLegendElementsForVoxelLayer();else if(kRe(e))this._constructLegendElementsForWMTSlayer();else if(ARe(e))await this._constructLegendElementsForWMSSublayers();else if(CRe(e))await this._constructLegendElementsForBuildingSceneLayer();else if(_S(e)||Cj(e)||wS(e))await this._constructLegendElementsForSublayers();else{this.removeHandles("imageryLayers-watcher");let i="default";if(Gh(e)){const s=e;i=(((t=s==null?void 0:s.rasterFunction)==null?void 0:t.functionName)||"default")+"_"+((r=e.bandIds)!=null&&r.length?e.bandIds.join(""):"###")}if(F3(e)||e.type==="link-chart")return;await this._getLegendLayers(`${e.uid}-${i}`).then(async s=>{this.legendElements=[],this.notifyChange("ready");const n=s.map(async a=>{if(Gh(e)){const l=U(()=>[e.rasterFunction,e.bandIds],()=>Uo(async()=>{Hh.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()})());this.addHandles(l,"imageryLayers-watcher")}const o=this._generateSymbolTableElementForLegendLayer(a);o!=null&&o.infos.length&&(Gh(e)&&(o.title=e.title),this.legendElements.push(o)),this.notifyChange("ready")});await Promise.allSettled(n)}).catch(s=>{B.getLogger(this).warn("Request to server for legend has failed!",s)})}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,r=t&&"createQuery"in t&&"queryFeatureCount"in t;if(!r&&!(t&&"createQuery"in e&&"queryFeatureCount"in e))return!0;await Wa(()=>!t.updating);const i=r?"createQuery"in t&&t.createQuery():"createQuery"in e&&e.createQuery();return i?(i.geometry=this.view.extent,(r?"queryFeatureCount"in t&&await t.queryFeatureCount(i):"queryFeatureCount"in e&&await e.queryFeatureCount(i))!==0):!0}_getParentLayerOpacity(e){let t=1;const r=e.parent;return r&&"uid"in r&&(t=this._getParentLayerOpacity(r)),e.opacity*t}_isGroupActive(){return this.children.some(e=>e.ready)}_isRendererScaleDriven(e){if(e.type==="dot-density")return!0;const t="valueExpression"in e?e.valueExpression:null;if(R3.test(t))return!0;const r="visualVariables"in e?e.visualVariables:null;return!!(r!=null&&r.some(i=>this._isScaleDrivenSizeVariable(i)))||this._hasScaleDrivenSymbols(e)}_hasScaleDrivenSymbols(e){var t;switch(e.type){case"simple":return this._isScaleDrivenSymbol(e.symbol);case"class-breaks":return this._isScaleDrivenSymbol(e.defaultSymbol)||e.classBreakInfos.some(r=>this._isScaleDrivenSymbol(r.symbol));case"unique-value":return this._isScaleDrivenSymbol(e.defaultSymbol)||!!((t=e.uniqueValueInfos)!=null&&t.some(r=>this._isScaleDrivenSymbol(r.symbol)))}return!1}_isScaleDrivenSymbol(e){if((e==null?void 0:e.type)==="cim"){const{primitiveOverrides:t,minScale:r,maxScale:i}=e.data,s=(t==null?void 0:t.some(n=>{var a;return/\$view\.scale/.test(((a=n.valueExpressionInfo)==null?void 0:a.expression)||"")}))??!1;return r!=null||i!=null||s}return!1}_isScaleDrivenSizeVariable(e){if(e&&e.type!=="size")return!1;const t=e,r=t.minSize,i=t.maxSize;return!(typeof r!="object"||!r||!this._isScaleDrivenSizeVariable(r))||!(typeof i!="object"||!i||!this._isScaleDrivenSizeVariable(i))||R3.test(t.valueExpression)}_isLayerScaleDriven(e){if("minScale"in e&&e.minScale>0||"maxScale"in e&&e.maxScale>0)return!0;if("sublayers"in e&&e.sublayers)return e.sublayers.some(r=>this._isLayerScaleDriven(r));const t=e.parent;if(e.loaded===!1&&t&&_S(t)&&"source"in e&&e.source&&e.source.type==="map-layer"){for(const r of t.sourceJSON.layers??[])if(r.id===e.source.mapLayerId&&(r.minScale>0||r.maxScale>0))return!0}return!1}async _constructLegendElementsForVoxelLayer(){var n;this.legendElements=[],this.removeHandles("voxel-style-watcher"),this.removeHandles("voxel-current-variable");const e=this.layer;this.addHandles(U(()=>e.currentVariableId,()=>this._constructLegendElementsForVoxelLayer()),"voxel-current-variable"),this.addHandles(U(()=>e.getVariableStyles(),()=>this._constructLegendElementsForVoxelLayer()),"voxel-style-watcher");const t=e.getVariableStyle(null),r=[];if(t){if((n=t.uniqueValues)!=null&&n.length){const a=[];t.uniqueValues.forEach(o=>{o.enabled&&a.push({label:o.label||`${o.value}`,value:o.value,symbol:new el({color:o.color,outline:null})})}),a.length&&r.push({type:"symbol-table",title:t.label,infos:a})}else if(t.transferFunction){const{colorStops:a,stretchRange:o}=t.transferFunction,l=a.toArray().reverse(),d=o.map((p,m)=>`${m===0?Zre:Jre} ${gRe(p)}`).reverse(),f=l.map(p=>({color:p.color,value:null,label:null}));f[0].label=d[0],f[f.length-1].label=d[1],r.push({type:"color-ramp",title:t.label,infos:f,preview:tp(l.map(p=>p.color),{ariaLabel:await pl("previewColorRampAriaLabel")})})}}const i=e.opacity,s=r.reduce((a,o)=>[...a,...this._getAllInfos(o)],[]).filter(a=>!!(a!=null&&a.symbol)).map(a=>this._getSymbolPreview(a,i));await Promise.allSettled(s),this.legendElements=r,this.notifyChange("ready")}_constructLegendElementsForWMTSlayer(){var r,i;this.legendElements=[],this.removeHandles("wmts-activeLayer-watcher");const e=this.layer.activeLayer;this.addHandles(U(()=>{const{layer:s}=this;return s&&"activeLayer"in s&&s.activeLayer},()=>this._constructLegendElementsForWMTSlayer()),"wmts-activeLayer-watcher");const t=e.styleId?(i=(r=e.styles)==null?void 0:r.find(({id:s})=>s===e.styleId))==null?void 0:i.legendUrl:void 0;t&&(this.legendElements=[{type:"symbol-table",title:e.title,infos:[{src:t,opacity:this.opacity}]}]),this.notifyChange("ready")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles("wms-sublayers-watcher");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this.addHandles(U(()=>{const{layer:r}=this;return r&&"sublayers"in r&&r.sublayers},()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange("ready")}async _generateLegendElementsForWMSSublayers(e,t){var a,o;const r=this.layer,i=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForWMSSublayers()),"wms-sublayers-watcher");const s=((o=(a=this.sublayerIds)==null?void 0:a.map(l=>r.findSublayerById(l)))==null?void 0:o.filter(It))??[],n=s.length?s:e.toArray();for(const l of n){const d=U(()=>[l.title,l.visible,l.legendEnabled],()=>this._constructLegendElementsForWMSSublayers());if(this.addHandles(d,"wms-sublayers-watcher"),!this.respectLayerVisibility||l.visible&&l.legendEnabled){const f=await this._generateSymbolTableElementForWMSSublayer(l,t);f!=null&&f.infos.length&&i.unshift(f)}}return i}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const r=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter(i=>i);return{type:"symbol-table",title:e.title,infos:r}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var a;let r=e.legendUrl;if(!r)return;const i={type:"symbol-table",title:e.title||e.name||String(e.id??""),infos:[]};t&&(r=s9(r,t));let s=null;const n=(a=e.layer)==null?void 0:a.opacity;try{s=(await ze(r,{responseType:"image"})).data,s&&(s.style.opacity=n)}catch{}return i.infos.push({src:r,preview:s,opacity:n}),i}_getLegendLayers(e,t){const r=Hh&&Hh[e];return r?Promise.resolve(r):this._legendRequest(t).then(i=>{const s=i.layers;return Hh[e]=s,s})}_legendRequest(e){var s;const t=this.layer;let r={f:"json",dynamicLayers:e};if(Gh(t)){const n=t.exportImageServiceParameters.rasterFunction;if(n&&(r.renderingRule=JSON.stringify(((s=n.functionDefinition)==null?void 0:s.toJSON())||n.toJSON())),t.bandIds&&(r.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:a,viewId:o,customParameters:l}=t;r={raster:a,viewId:o,...r,...l}}}let i=t.url.replace(/(\/)+$/,"");if("version"in t&&+t.version>=10.01){const n=i.indexOf("?");n>-1?i=i.slice(0,n)+"/legend"+i.slice(n):i+="/legend"}else{const n=i.toLowerCase().indexOf("/rest/"),a=n===-1?i:i.slice(0,n)+i.slice(n+5);i=vRe+"?soapUrl="+encodeURI(a)+"&returnbytes=true"}return ze(i,{query:r}).then(n=>n.data)}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;this.addHandles(U(()=>e.sublayers,()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){B.getLogger(this).warn("Request to server for legend has failed!",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let r=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForBuildingSceneLayer()),"sublayers-watcher");const i=e.toArray();for(const s of i){const n=U(()=>["renderer"in s&&s.renderer,s.opacity,s.title,s.visible],()=>this._constructLegendElementsForBuildingSceneLayer());if(this.addHandles(n,"sublayers-watcher"),!this.respectLayerVisibility||s.visible){const a=(s==null?void 0:s.opacity)!=null?s.opacity:null,o=a!=null?a*t:t;if(s.type==="building-group"){const l={type:"symbol-table",title:s.title,infos:[]},d=await this._generateLegendElementsForBuildingSublayers(s.sublayers,o);l.infos.push(...d),r=[l,...r]}else s.renderer&&(r=[...await this._getRendererLegendElements(s.renderer,{title:s.title,opacity:o,sublayer:s}),...r])}}return r.filter(s=>!!s&&(!("infos"in s)||!s.infos||s.infos.length>0))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles("sublayers-watcher");const e=this.layer;if(_S(e)||Cj(e)||wS(e)){this.addHandles(U(()=>e.sublayers,()=>this._constructLegendElementsForSublayers),"sublayers-watcher");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange("ready")}catch(t){B.getLogger(this).warn("Request to server for legend has failed!",t)}}}async _generateLegendElementsForSublayers(e,t,r){const i=this.layer;let s=[];this.addHandles(e.on("change",()=>this._constructLegendElementsForSublayers()),"sublayers-watcher");let n=e.toArray();!r&&this.sublayerIds&&this.sublayerIds.length&&(n=wS(i)?this.sublayerIds.map(a=>i.findSublayerForSubtypeCode(a)).filter(It):this.sublayerIds.map(a=>i.findSublayerById(a)).filter(It));for(const a of n){const o=U(()=>[a.renderer,a.opacity,a.title,a.visible,a.legendEnabled],()=>this._constructLegendElementsForSublayers());if(this.addHandles(o,"sublayers-watcher"),!this.respectLayerVisibility||a.visible&&a.legendEnabled&&this._isSublayerInScale(a)){const l=(a==null?void 0:a.opacity)!=null?a.opacity:null,d=l!=null?l*t:t,f=!Mj(a)||a.originIdOf("renderer")>Te.SERVICE&&!a.sublayers;if(a.renderer&&f)await a.load(),s=[...await this._getRendererLegendElements(a.renderer,{title:a.title,opacity:d,sublayer:a}),...s];else if(Mj(a)){const p=await this._generateSymbolTableElementForSublayer(a,d,r);p&&s.unshift(p)}}}return s.filter(a=>!!a&&(!("infos"in a)||!a.infos||a.infos.length>0))}async _generateSymbolTableElementForSublayer(e,t,r){if(!r){r=new Map;const s=this.layer,n=e.source;let a=null;if(!(!n||n.type==="map-layer"&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===("gdbVersion"in s&&s.gdbVersion)))||e.originIdOf("renderer")>Te.SERVICE||e.originIdOf("labelingInfo")>Te.SERVICE||e.originIdOf("labelsVisible")>Te.SERVICE){const l=new Tn({layer:this.layer});a=l.hasDynamicLayers?l.dynamicLayers:null,l.destroy()}const o=a||`${s.uid}-default`;(await this._getLegendLayers(o,a)).forEach(l=>r.set(l.layerId,l))}const i=r.get(e.id);if((!i||i!=null&&i.subLayerIds&&i.defaultVisibility)&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,r);return{type:"symbol-table",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(i,e,t)}_generateSymbolTableElementForLegendLayer(e,t,r){if(!(e!=null&&e.legend)||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const i=t==null?void 0:t.renderer;let s=(t==null?void 0:t.title)||e.layerName;if(i&&(!t||(t==null?void 0:t.originIdOf("renderer"))>Te.SERVICE)){const o=(t==null?void 0:t.title)||this._getRendererTitle(i,t);o&&(s&&typeof o!="string"&&"title"in o&&(o.title=s),s=o)}const n={type:"symbol-table",title:s,legendType:e.legendType||null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups&&e.legendGroups.length>0?e.legendGroups.forEach(o=>{var d;const l={type:"symbol-table",title:o.heading,legendType:e.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter(f=>f.groupId===o.id),e.layerId,r)};((d=l.infos)==null?void 0:d.length)>0&&n.infos.push(l)}):n.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,r),n.infos.length>0?n:null}_generateSymbolTableElementInfosForLegendLayer(e,t,r){return e.map(i=>{let s=i.url;if(i.imageData&&i.imageData.length>0)s=`data:image/png;base64,${i.imageData}`;else{if(s.indexOf("http")===0)return null;s=cfe(`${this.layer.url}/${t}/images/${s}`)}return{label:i.label,src:s,opacity:r??this.opacity,width:i.width,height:i.height}}).filter(It)}_isSublayerInScale(e){const t=e.minScale||0,r=e.maxScale||0;return!(t>0&&t<this.scale||r>this.scale)}_isLegendLayerInScale(e,t){const r=t||this.layer;let i=null,s=null,n=!0;return!r.minScale&&r.minScale!==0||!r.maxScale&&r.maxScale!==0?(e.minScale===0&&r.tileInfo&&(i=r.tileInfo.lods[0].scale),e.maxScale===0&&r.tileInfo&&(s=r.tileInfo.lods[r.tileInfo.lods.length-1].scale)):(i=Math.min(r.minScale,e.minScale)||r.minScale||e.minScale,s=Math.max(r.maxScale,e.maxScale)),(i>0&&i<this.scale||s>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(e,t){var a;if("version"in this.layer&&+this.layer.version<10.1||e.length===0)return e;const r=t.renderer,i=e.some(o=>o.values);let s=0,n=null;return i&&e.some((o,l)=>(o.values||(s=l,n=o,n.label||(n.label="others")),n!=null)),r?r.type==="unique-value"?n&&(e.splice(s,1),e.push(n)):r.type==="class-breaks"&&(n&&e.splice(s,1),(a=r.legendOptions)!=null&&a.order||e.reverse(),n&&e.push(n)):n&&(e.splice(s,1),e.push(n)),e}async _getRendererLegendElements(e,t={}){if(!IRe(e,this.view))return B.getLogger(this).warn(`Renderer of type '${e.type}' not supported!`),[];if(ERe(e))return this._constructPointCloudRendererLegendElements(e,t);if(die(e))return this._constructDotDensityRendererLegendElements(e);const r=await this._loadRenderer(e);return uie(r)?this._constructPieChartRendererLegendElements(r):this._constructRendererLegendElements(r,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return e.type==="binning"?t=e.renderer:e.type==="cluster"&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){var t;return(((t=e.legendOptions)==null?void 0:t.title)||e.field)??""}async _constructPointCloudRendererLegendElements(e,t={}){var o;const r=t.title,i=[];let s=null,n=null;if(vL(e))s={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach(l=>{s.infos.unshift({label:l.label||l.minValue+" - "+l.maxValue,value:[l.minValue,l.maxValue],symbol:this._getAppliedCloneSymbol(O3,l.color)})});else if(wL(e)){const l=e.stops;let d=null;if(l!=null&&l.length&&(l.length===1&&(d=l[0].color),!d)){const p=l[0].value,m=l[l.length-1].value;p!=null&&m!=null&&(d=Xre(p+(m-p)/2,l))}s={type:"symbol-table",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(O3,d||O3.color)}]};const f=YLe(e.stops??[])??[];n={type:"color-ramp",title:r||this._getPointCloudRendererTitle(e),infos:f,preview:tp(f.map(p=>p.color),{ariaLabel:await pl("previewColorRampAriaLabel")})}}else _L(e)&&(s={type:"symbol-table",title:r||this._getPointCloudRendererTitle(e),infos:[]},(o=e.colorUniqueValueInfos)==null||o.forEach(l=>{s.infos.push({label:l.label||l.values.join(", "),value:l.values.join(", "),symbol:this._getAppliedCloneSymbol(O3,l.color)})}));s!=null&&s.infos.length&&i.push(s),n!=null&&n.infos.length&&i.push(n);const a=i.reduce((l,d)=>[...l,...d.infos??[]],[]).filter(l=>!!l.symbol).map(l=>this._getSymbolPreview(l,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}}));return await Promise.allSettled(a),i}async _getElementInfoForDotDensity(e,t){const{color:r,label:i,valueExpressionTitle:s}=t,{backgroundColor:n,outline:a,dotSize:o}=e,l=this.effectList,d=l==null?void 0:l.effects.map(w=>w.toJSON()),f=W_(d),p=await pl("previewTemplateAriaLabel",i||s),m=o+"-"+r+"-"+n+"-"+(a&&JSON.stringify(a.toJSON()))+"-"+f,y=this._dotDensityUrlCache,b=y.has(m)?y.get(m):ELe(e,r,{ariaLabel:p});y.set(m,b);const g={shape:{type:"image",x:0,y:0,width:b.width,height:b.height,src:b.src},fill:null,stroke:null,offset:[0,0]},v=K2([[g]],[b.width,b.height],{effectView:this.effectList,ariaLabel:p});return{opacity:1,src:b.src,preview:v,width:b.width,height:b.height}}async _constructDotDensityRendererLegendElements(e){var s;const t=e.calculateDotValue(this.view.scale),r=(s=e.legendOptions)==null?void 0:s.unit,i={type:"symbol-table",title:{value:t&&Math.round(t),unit:r||""},infos:[]};for(const n of e.attributes){const a=await this._getElementInfoForDotDensity(e,n);a.label=n.label||n.valueExpressionTitle||n.field,i.infos.push(a)}return[i]}async _constructPieChartRendererLegendElements(e){var l,d,f,p;const t=this.layer.opacity,r=[];let i=null;const s=e.outline;e.attributes.forEach(m=>{const y=new oi({color:m.color,outline:s}),b=m.label||m.valueExpressionTitle||m.field;r.push({label:b,symbol:y})});const n=r.length?[...r]:[];if((l=e.othersCategory)!=null&&l.color&&((d=e.othersCategory)==null?void 0:d.threshold)!==0){const m=new oi({color:e.othersCategory.color,outline:s});i=e.othersCategory.label||"Other",r.push({label:i,symbol:m})}if((f=e.defaultColor)!=null&&f.a){const m=new oi({color:e.defaultColor,outline:s});r.push({label:e.defaultLabel,symbol:m})}const a=await this._getVisualVariableLegendElements(e,this.layer)||[];if(r.length){a.unshift({type:"symbol-table",title:null,infos:r});const m=n.filter(b=>b.label!==i).map(b=>b.symbol.color).filter(Boolean),y=TLe(m,{holePercentage:e.holePercentage,backgroundColor:(p=e.backgroundFillSymbol)==null?void 0:p.color,effectList:this.effectList,outline:s,ariaLabel:await pl("previewPieChartAriaLabel")});a.unshift({type:"pie-chart-ramp",title:this._getRendererTitle(e,this.layer),infos:r,preview:y})}const o=a.reduce((m,y)=>[...m,...this._getAllInfos(y)],[]).filter(m=>!!(m!=null&&m.symbol)&&!(m!=null&&m.preview)).map(m=>this._getSymbolPreview(m,t,{effectList:this.effectList}));return await Promise.allSettled(o),a}async _getWhereClause(e,t,r){const i=await OA(e,r),s=await twe(t,r),n=new Set(s.map(o=>o.toLowerCase())),a=i==null?void 0:i.fieldNames.map(o=>o.toLowerCase());return a!=null&&a.some(o=>!n.has(o))?null:i}async _processDefinitionExpression(e,t){if(!("definitionExpression"in e))return;const r=e.definitionExpression;r&&this.respectLayerDefinitionExpression?this._layerDefinitionExpression!==r&&(this._layerDefinitionExpressionClause=await this._getWhereClause(r,t,e.fieldsIndex)):this._layerDefinitionExpressionClause=null,this._layerDefinitionExpression=r}async _processDisplayFilter(e,t){if(!("displayFilterInfo"in e))return;const r=e.displayFilterInfo?W$e(e.displayFilterInfo,this.view):null;return r!=null&&r.where?this._layerDisplayFilterId!==(r==null?void 0:r.id)&&(this._layerDisplayFilterClause=await this._getWhereClause(r.where,t,e.fieldsIndex)):this._layerDisplayFilterClause=null,this._layerDisplayFilterId=r==null?void 0:r.id,r}async _constructRendererLegendElements(e,t={}){var w,_,x,T,k,A;const{title:r,sublayer:i}=t,s=i||this.layer,n=fC(e);let a=null;ip(e)&&(await this._processDefinitionExpression(s,e),a=await this._processDisplayFilter(s,e)),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const o=await this._getVisualVariableLegendElements(e,s)||[],l={type:"symbol-table",title:r||this._getRendererTitle(e,s),infos:[]};let d=null,f=!1;const p=new Set;if(bC(e)&&!this._hasSizeRamp){const M=await Qre(e);l.infos.push({label:null,symbol:M})}else if(ORe(e)){let M=r;const R=FRe(e)?"univariate-above-and-below-ramp":"univariate-color-size-ramp",P=o.findIndex(J=>J.type==="color-ramp"),z=P!==-1?o.splice(P,1)[0]:null,j=o.findIndex(J=>J.type==="size-ramp"),H=j!==-1?o.splice(j,1)[0]:null,K=[];z&&(M=z.title,K.push(z)),H&&(M=H.title,K.push(H)),K.length>0&&o.push({type:R,title:M,infos:K})}else if(cie(e)){const M=eie(e);o.push({type:"heatmap-ramp",title:r||this._getRendererTitle(e,s),infos:M,preview:tp(M.map(R=>R.color),{effectList:this.effectList,ariaLabel:await pl("previewColorRampAriaLabel")})})}else if(ip(e)){const M=e.authoringInfo;if(M&&M.type==="relationship"){const{numClasses:R,field1:P,field2:z}=M,j=M.focus;if(R&&P&&z){const H=[P,z];let K=Ure(j)||0;for(const pe of H){const{field:Ae,normalizationField:ue,label:le}=pe,Ge=le||{field:this._getFieldAlias(Ae,s),normField:ue&&this._getFieldAlias(ue,s)},Ut=NRe.clone();Ut.angle=K,l.infos.push({label:Ge,symbol:Ut}),p.add(Ut),K+=90}const J=xLe({focus:j,numClasses:R,infos:e.uniqueValueInfos??[]});o.unshift(J)}}else if(Gh(this.layer)||F3(this.layer))(w=e.uniqueValueInfos)==null||w.forEach(R=>{R.symbol&&this._checkClausesForUVR(e,R.value)&&l.infos.push({label:R.label||R.value,value:R.value,symbol:R.symbol})});else{const{field:R,field2:P,field3:z,fieldDelimiter:j,valueExpression:H,defaultSymbol:K}=e,J=!(!R&&!H||!P&&!z),pe=this._layerDisplayFilterClause?a==null?void 0:a.title:null,Ae=[];if((_=e.uniqueValueGroups)==null||_.forEach(ue=>{var Ge;const le={type:"symbol-table",title:pe||ue.heading,infos:[]};(Ge=ue.classes)==null||Ge.forEach(Ut=>{const{symbol:ts,values:or}=Ut;if(ts){const un=[],rl=[];for(const Yn of or??[]){const{value:Ju,value2:Yu,value3:Qu}=Yn,Xa=[],sl=[];(R||H)&&(Xa.push(Ju),sl.push(this._getDomainName(R,Ju,s))),P&&(Xa.push(Yu),sl.push(this._getDomainName(P,Yu,s))),z&&(Xa.push(Qu),sl.push(this._getDomainName(z,Qu,s))),un.push(J?Xa.join(j||""):Xa[0]),rl.push(sl.join(" - "))}const il=un.join(", ");let Qa=Ut.label;if(!Qa){const Yn=rl.filter(Boolean);Qa=Yn.length?Yn.join(", "):il}const Ka=ts.clone();Ka.type==="cim"&&n&&dre(Ka,{innerDotSize:.5*Ij,outerRingSize:Ij}),un.some(Yn=>this._checkClausesForUVR(e,Yn))&&le.infos.push({label:Qa,value:il,symbol:Ka})}}),le.infos.length&&Ae.push(le)}),Ae.length){const ue=Ae[0];Ae.length===1&&"title"in ue&&!ue.title?l.infos.push(...ue.infos??[]):(K&&(Ae.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:K}]}),f=!0),l.infos.push(...Ae)),r||(x=e.legendOptions)!=null&&x.title||e.valueExpressionTitle||(l.title=null)}}e.defaultSymbol&&!f&&(l.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),f=!0)}else if(rp(e)){if(!n){if(d=this._isUnclassedRenderer(e),!d||!this._hasSizeRamp){const M=e.classBreakInfos.filter(({symbol:P})=>P),R=((T=e.legendOptions)==null?void 0:T.order)==="ascending-values";for(const{label:P,minValue:z,maxValue:j,symbol:H}of M){const K={label:P||(d?null:`${z} - ${j}`),value:[z,j],symbol:H};R?l.infos.push(K):l.infos.unshift(K)}d&&(l.title=null),this._updateInfosForClassedSizeRenderer(e,l.infos)}e.defaultSymbol&&!d&&(l.infos.push({label:e.defaultLabel||"others",symbol:e.defaultSymbol}),f=!0)}}else if(oie(e))if(F3(this.layer)||LRe(this.layer)){const M=await this._constructTileImageryStretchRendererElements(e);RRe(M)?o.push(M):l.infos=M}else{const M=this.layer;let R,P;(k=e.customStatistics)!=null&&k.length&&({min:R,max:P}=e.customStatistics[0]);let z=[],j=M.serviceRasterInfo;if(M.rasterFunction)try{j=await M.generateRasterInfo(M.rasterFunction)}catch{}const H=i6(j.pixelType);if(j.bandCount===1){const K=((A=M.bandIds)==null?void 0:A[0])||0;R=R??(j.statistics?j.statistics[K].min:H[0]),P=P??(j.statistics?j.statistics[K].max:H[1]),R||P?o.push(await this._getStretchLegendElements(e,{min:R,max:P})):this._getServerSideLegend()}else if(M.bandIds&&M.bandIds.length===1)R=R??(j.statistics?j.statistics[M.bandIds[0]].min:H[0]),P=P??(j.statistics?j.statistics[M.bandIds[0]].max:H[1]),R||P?o.push(await this._getStretchLegendElements(e,{min:R,max:P})):this._getServerSideLegend();else if(j.bandCount>=3){const{bandInfos:K}=j,{bandIds:J}=M;K.length>=j.bandCount?(J==null?void 0:J.length)===3?(z=J.map(pe=>K[pe].name),l.infos=this._createSymbolTableElementMultiBand(z)):M.format==="lerc"?(z=[0,1,2].map(pe=>K[pe].name),l.infos=this._createSymbolTableElementMultiBand(z)):this._getServerSideLegend():M.format==="lerc"?(z=["band1","band2","band3"],l.infos=this._createSymbolTableElementMultiBand(z)):this._getServerSideLegend()}else this._getServerSideLegend()}else if(aie(e))e.colormapInfos.forEach(M=>{l.infos.push({label:M.label,value:M.value,symbol:this._getAppliedCloneSymbol(xRe,M.color)})});else if(e0(e)){let M=e.symbol;switch(t.geometryType){case"point":M="pointSymbol"in s?s.pointSymbol:null;break;case"polyline":M="lineSymbol"in s?s.lineSymbol:null;break;case"polygon":M="polygonSymbol"in s?s.polygonSymbol:null}const R=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&R&&l.infos.push({label:e.label,symbol:M})}else if(nie(e)){e.outputUnit&&(this.title="("+e.toJSON().outputUnit+")"),l.title=e.attributeField;const M=e.getClassBreakInfos();M!=null&&M.length?M.forEach(R=>{l.infos.push({label:R.minValue+" - "+R.maxValue,symbol:R.symbol})}):l.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else lie(e)&&o.push(await this._getStretchLegendElements(e,{min:0,max:255}));const m=e.defaultSymbol;!m||f||e0(e)||d&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||o.push({type:"symbol-table",infos:[{label:e.defaultLabel||"others",symbol:m}]}),l.infos.length&&o.unshift(l);const y=t.opacity==null?this.opacity:t.opacity,b=this._isTallSymbol("visualVariables"in e?e.visualVariables:null),g=Gh(this.layer)||F3(this.layer),v=o.reduce((M,R)=>[...M,...this._getAllInfos(R)],[]).filter(M=>!!(M!=null&&M.symbol)).filter(M=>{if(M.symbol.type==="cim"){const{minScale:R,maxScale:P}=M.symbol.data;if(R&&R<this.scale||P&&P>this.scale)return!1}return!0}).map(M=>this._getSymbolPreview(M,y,{isDefault:M.symbol===m,applyScaleDrivenSize:!p.has(M.symbol),symbolConfig:{isTall:b,isSquareFill:g},effectList:p.has(M.symbol)?null:this.effectList}));return e=null,await Promise.allSettled(v),o}_checkClausesForUVR(e,t){const r=PRe(e,t);return!r||(!this._layerDefinitionExpressionClause||this._layerDefinitionExpressionClause.testFeature(r))&&(!this._layerDisplayFilterClause||this._layerDisplayFilterClause.testFeature(r))}_getServerSideLegend(){setTimeout(()=>this.buildLegendElementsForTools(),0)}_getAllInfos(e){const t=e==null?void 0:e.infos;return t?t.reduce((r,i)=>r.concat(this._getAllInfos(i)),[]):[e]}async _constructTileImageryStretchRendererElements(e){var o,l,d;const t=this.layer,r=t.symbolizer.rasterInfo??t.raster.rasterInfo;let i,s;const n=(o=e==null?void 0:e.customStatistics)!=null&&o.length?e.customStatistics:r==null?void 0:r.statistics;if(n)({min:i,max:s}=n[0]);else{const f=i6(r.pixelType);i=f[0],s=f[1]}if(t.hasStandardTime()&&(i=t.getStandardTimeValue(i),s=t.getStandardTimeValue(s)),r.bandCount===1||((l=t.bandIds)==null?void 0:l.length)===1)return this._getStretchLegendElements(e,{min:i,max:s});const a=((d=t==null?void 0:t.bandIds)!=null&&d.length?t.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map(f=>r.bandInfos[f].name);return a.length<3?a.push(a[1]):a.length>3&&a.splice(3),this._createSymbolTableElementMultiBand(a)}async _getStretchLegendElements(e,t){const r=e.colorRamp,i=KLe(r,t);return{type:"stretch-ramp",title:"",infos:i,preview:tp(i.map(s=>s.color),{ariaLabel:await pl("previewColorRampAriaLabel")})}}_getClusterSymbol(){var i;const e=this.layer,t="featureReduction"in e&&e.featureReduction,r=t&&"symbol"in t&&t.renderer;return r&&((i=r==null?void 0:r.authoringInfo)==null?void 0:i.isAutoGenerated)!==!0?null:t&&"symbol"in t?t.symbol:null}async _getSizeLegendElement(e,t,r,i){return{type:"size-ramp",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await aRe(r,t,await uC(r),this.scale,this.view,i,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],r=["red","green","blue"];return e.forEach((i,s)=>{t.push({label:{colorName:r[s],bandName:i},src:ULe[s],opacity:this.opacity??1})}),t}_updateInfosForClassedSizeRenderer(e,t){const r=e.authoringInfo&&e.authoringInfo.type==="class-breaks-size",i=e.classBreakInfos.some(s=>r8(s.symbol));if(r&&i){const s=hC,n=mC,a=e.classBreakInfos.length,o=(s-n)/(a>1?a-1:a);t.forEach((l,d)=>{l.size=s-o*d})}}_isTallSymbol(e){let t=!1,r=!1;if(e)for(let i=0;i<e.length&&(!t||!r);i++){const s=e[i];s.type==="size"&&(s.axis==="height"&&(t=!0),s.axis==="width-and-depth"&&(r=!0))}return t&&r}async _getSymbolPreview(e,t,r){var n,a,o;let i=!(r!=null&&r.isDefault)&&e.size==null&&this._hasSizeRamp?Ar(kr.size):e.size;if(this._scaleDrivenSizeVariable&&(r!=null&&r.applyScaleDrivenSize)){const{getSize:l}=await C(()=>Promise.resolve().then(()=>gh),void 0);i=l(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:e.symbol.type==="simple-marker"?e.symbol.style:null})}const s=!(r!=null&&r.isDefault)&&this._hasSizeRamp||!(!this._scaleDrivenSizeVariable||!(r!=null&&r.applyScaleDrivenSize));return Gre(e.symbol,{size:i,opacity:t,scale:!1,symbolConfig:r==null?void 0:r.symbolConfig,effectView:r==null?void 0:r.effectList,style:"legend",cimOptions:{allowScalingUp:s,viewParams:this.isScaleDriven?{viewingMode:((n=this.view)==null?void 0:n.type)==="2d"?"map":(a=this.view)==null?void 0:a.viewingMode,scale:(o=this.view)==null?void 0:o.scale}:null},ariaLabel:e.label&&typeof e.label!="string"?null:await pl("previewTemplateAriaLabel",e.label)}).then(l=>(e.preview=l,e)).catch(()=>(e.preview=null,e))}_getClusterRenderer(e){var s,n;this._hasClusterSizeVariable=!1;const t="renderer"in this.layer?this.layer.renderer:null,r=((s=e.renderer)==null?void 0:s.clone())||(t==null?void 0:t.clone()),i=MLe(e,this.layerView,this.view);if(i&&r!=null&&"visualVariables"in r&&!((n=r.visualVariables)==null?void 0:n.some(o=>o.type==="size"&&o.target!=="outline"&&!R3.test(o.valueExpression)))){if("clusterMinSize"in e&&"clusterMaxSize"in e){const{clusterMinSize:l,clusterMaxSize:d}=e;i.legendOptions=new Eee({showLegend:l!==d})}const o=r.visualVariables||[];r.visualVariables=o.concat([i]),this._hasClusterSizeVariable=!0}return r}async _loadRenderer(e){const t=[],r=e.clone(),i=await uC(r);if(rp(r)||ip(r)){const s=(r.classBreakInfos||r.uniqueValueInfos).map(n=>this._fetchSymbol(n.symbol,i).then(a=>{n.symbol=a}).catch(()=>{n.symbol=null}));Array.prototype.push.apply(t,s)}return t.push(this._fetchSymbol(r.symbol||r.defaultSymbol,r.defaultSymbol?null:i).then(s=>{this._applySymbolToRenderer(r,s,e0(r))}).catch(()=>{this._applySymbolToRenderer(r,null,e0(r))})),await Promise.allSettled(t),r}_applySymbolToRenderer(e,t,r){r?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(e.type==="web-style"){const r=this._webStyleSymbolCache;try{const i=await(this.view.type==="2d"?e.fetchCIMSymbol({cache:r}):e.fetchSymbol({cache:r}));return this._getAppliedCloneSymbol(i,t)}catch{throw B.getLogger(this).warn("Fetching web-style failed!"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,t){if(!e||!t)return e;const r=e.clone(),i=t&&t.toRgba();return r.type.includes("3d")?this._applyColorTo3dSymbol(r,i):r.type==="cim"?pre(r,t):r.color&&(r.color=new Z(i||r.color)),r}_applyColorTo3dSymbol(e,t){t&&e.symbolLayers.forEach(r=>{r&&(r.material||(r.material={}),r.material.color=new Z(t))})}async _getVisualVariableLegendElements(e,t){var p,m;if(!("visualVariables"in e)||e.type==="vector-field")return null;const r=e.visualVariables??[],i=[],s=[],n=[],a=fC(e);if(((p=a==null?void 0:a.sizeStops)==null?void 0:p.length)===2&&(rp(e)||ip(e))){const[y,b]=a.sizeStops;s.push(new cn({field:a.field??void 0,normalizationField:a.normalizationField,minSize:y.size,maxSize:b.size,minDataValue:y.value,maxDataValue:b.value}))}for(const y of r)y.type==="color"?i.push(y):y.type==="size"?s.push(y):y.type==="opacity"&&n.push(y);const o=[...i,...s,...n];let l,d;if(i.length===0&&rp(e)&&e.classBreakInfos&&e.classBreakInfos.length===1){const y=e.classBreakInfos[0];l=y&&y.symbol}if(i.length===0&&e0(e)&&(l=e.symbol),l)if(l.type.includes("3d")){const y=l.symbolLayers.at(0);y.type==="water"?y.color!=null&&(d=y.color):((m=y.material)==null?void 0:m.color)!=null&&(d=y.material.color)}else l.url||(d=l.color);const f=this.effectList;return(await Promise.all(o.map(async y=>{if(!y.legendOptions||y.legendOptions.showLegend!==!1){const b=bC(e)?y.field:this._getRampTitle(y,t);let g=null;const v=WLe(t,y,this.view.timeZone);if(y.type==="color"){const w=await pC(y,null,v)??[];g={type:"color-ramp",title:b,infos:w,preview:tp(w.map(_=>_.color),{effectList:f,ariaLabel:await pl("previewColorRampAriaLabel")})},this._hasColorRamp||(this._hasColorRamp=w.length>0)}else if(y.type==="size"&&y.target!=="outline")R3.test(y.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=y):(g=await this._getSizeLegendElement(b,y,e,v),this._hasSizeRamp||(this._hasSizeRamp=!(g.infos==null||!g.infos.length)));else if(y.type==="opacity"){const w=await pC(y,d,v)??[];g={type:"opacity-ramp",title:b,infos:w,preview:tp(w.map(_=>_.color),{effectList:f,ariaLabel:await pl("previewColorRampAriaLabel")})},this._hasOpacityRamp||(this._hasOpacityRamp=w.length>0)}return g!=null&&g.infos?g:null}}))).filter(It)}_getDomainName(e,t,r){var i;if(e&&typeof e!="function"){const s="getField"in r&&((i=r.getField)==null?void 0:i.call(r,e)),n=s&&"getFieldDomain"in r&&r.getFieldDomain?r.getFieldDomain(s.name,{excludeImpliedDomains:V("esri-widget-legacy-field-domain-calculation")}):null;return(n==null?void 0:n.type)==="coded-value"?n.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,r=e.field;if("featureReduction"in t&&t.featureReduction&&t.featureReduction.type==="cluster"){const i=t.featureReduction,s="popupTemplate"in i&&i.popupTemplate,n=s&&s.fieldInfos;if(n){for(const a of n)if(a.fieldName===r)return r==="cluster_count"?a.label||{showCount:!0}:a.label}}return{showCount:!0}}_getRampTitle(e,t){var d,f;let r=e.field,i=e.normalizationField,s=!1,n=!1,a=!1,o=null;r=typeof r=="function"?null:r,i=typeof i=="function"?null:i;const l=(d=e.legendOptions)==null?void 0:d.title;if(l!=null)o=l;else if(e.valueExpressionTitle)o=e.valueExpressionTitle;else{if("renderer"in t&&t.renderer&&"authoringInfo"in t.renderer&&((f=t.renderer.authoringInfo)!=null&&f.visualVariables)){const p=t.renderer.authoringInfo.visualVariables;for(let m=0;m<p.length;m++){const y=p[m];if(y.type==="color"){if(y.style==="ratio"){s=!0;break}if(y.style==="percent"){n=!0;break}if(y.style==="percent-of-total"){a=!0;break}}}}o={field:r&&this._getFieldAlias(r,t),normField:i&&this._getFieldAlias(i,t),ratio:s,ratioPercent:n,ratioPercentTotal:a}}return o}_getRendererTitle(e,t){var o;const r=e;if((o=r.legendOptions)!=null&&o.title)return r.legendOptions.title;if(r.valueExpressionTitle)return r.valueExpressionTitle;let i=r.field,s=null,n=null;if(rp(r)&&(s=r.normalizationField,n=r.normalizationType==="percent-of-total"),i=typeof i=="function"?null:i,s=typeof s=="function"?null:s,ip(r)){const{field2:l,field3:d,fieldDelimiter:f}=r;let p=i&&this._getFieldAlias(i,t);return l&&(p=`<${p}>${f}<${this._getFieldAlias(l,t)}>`,d&&(p=`${p}${f}<${this._getFieldAlias(d,t)}>`)),p}let a=null;return(i||s)&&(a={field:i&&this._getFieldAlias(i,t),normField:s&&this._getFieldAlias(s,t),normByPct:n}),a}_getFieldAlias(e,t){var f,p;const r="popupTemplate"in t?t.popupTemplate:null,i=r==null?void 0:r.fieldInfos;let s=i==null?void 0:i.find(m=>e===m.fieldName),n=null;"getField"in t&&t.getField?n=t.getField(e):"fieldsIndex"in t&&t.fieldsIndex&&(n=t.fieldsIndex.get(e));let a=null;const o="featureReduction"in t&&t.featureReduction;o&&(s??(s="popupTemplate"in o?(p=(f=o.popupTemplate)==null?void 0:f.fieldInfos)==null?void 0:p.find(m=>{var y;return(e==null?void 0:e.toLowerCase())===((y=m.fieldName)==null?void 0:y.toLowerCase())}):void 0),"fields"in o&&o.fields&&(a=o.fields.find(m=>{var y;return((y=m.name)==null?void 0:y.toLowerCase())===(e==null?void 0:e.toLowerCase())})));const l=s||n||a;let d=null;return l&&(d=(s==null?void 0:s.label)||(n==null?void 0:n.alias)||(a==null?void 0:a.alias)||"name"in l&&l.name||"fieldName"in l&&l.fieldName||null),d}_isUnclassedRenderer(e){const t=e.visualVariables;let r=!1;return rp(e)&&e.classBreakInfos&&e.classBreakInfos.length===1&&t&&(r=e.field?t.some(i=>!(!i||e.field!==i.field||(e.normalizationField||i.normalizationField)&&e.normalizationField!==i.normalizationField)):!!t.length),r}};c([u()],ur.prototype,"children",void 0),c([u({readOnly:!0})],ur.prototype,"effectList",null),c([u()],ur.prototype,"layerView",void 0),c([u()],ur.prototype,"layer",void 0),c([u()],ur.prototype,"legendElements",void 0),c([u({readOnly:!0})],ur.prototype,"opacity",null),c([u()],ur.prototype,"parent",void 0),c([u({readOnly:!0,dependsOn:[]})],ur.prototype,"ready",null),c([u()],ur.prototype,"hideLayersNotInCurrentView",void 0),c([u()],ur.prototype,"keepCacheOnDestroy",void 0),c([u()],ur.prototype,"respectLayerDefinitionExpression",void 0),c([u()],ur.prototype,"respectLayerVisibility",void 0),c([u({readOnly:!0})],ur.prototype,"scale",null),c([u()],ur.prototype,"sublayerIds",void 0),c([u({readOnly:!0})],ur.prototype,"isScaleDriven",null),c([u()],ur.prototype,"title",void 0),c([u({readOnly:!0,dependsOn:["ready"],value:0})],ur.prototype,"version",null),c([u()],ur.prototype,"view",void 0),ur=c([S("esri.widgets.Legend.support.ActiveLayerInfo")],ur);const fie=ur,cf={state:"state",view:"view",allLayerViews:"all-layer-views",legendProperties:"legend-properties"},pie=W.ofType(fie),DRe=new Set(["esri.layers.BuildingSceneLayer","esri.layers.CatalogLayer","esri.layers.CSVLayer","esri.layers.FeatureLayer","esri.layers.GeoJSONLayer","esri.layers.GeoRSSLayer","esri.layers.GroupLayer","esri.layers.HeatmapLayer","esri.layers.ImageryLayer","esri.layers.ImageryTileLayer","esri.layers.MapImageLayer","esri.layers.OGCFeatureLayer","esri.layers.OrientedImageryLayer","esri.layers.ParquetLayer","esri.layers.PointCloudLayer","esri.layers.StreamLayer","esri.layers.SceneLayer","esri.layers.SubtypeGroupLayer","esri.layers.TileLayer","esri.layers.VoxelLayer","esri.layers.WFSLayer","esri.layers.WMSLayer","esri.layers.WMTSLayer","esri.layers.WCSLayer","esri.layers.LinkChartLayer","esri.layers.catalog.CatalogFootprintLayer","esri.layers.catalog.CatalogDynamicGroupLayer","esri.layers.knowledgeGraph.KnowledgeGraphSublayer","esri.layers.KnowledgeGraphLayer"]),hie="view.basemapView.baseLayerViews",mie="view.groundView.layerViews",yie="view.basemapView.referenceLayerViews",VRe=[hie,mie,"view.layerViews",yie];let Zs=class extends ie{constructor(t){super(t),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new W,this.activeLayerInfos=new pie,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerDefinitionExpression=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles(U(()=>this.view,()=>this._viewHandles(),we),cf.view),this.addHandles(lA(()=>this._refresh()))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?"ready":"disabled"}_viewHandles(){this.removeHandles(cf.state),this.view&&this.addHandles(U(()=>this.state,()=>this._stateHandles(),we),cf.state)}_stateHandles(){this._resetAll(),this.state==="ready"&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([cf.allLayerViews,cf.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(t){this.removeHandles(t);const r=this._activeLayerInfosByLayerViewId[t];delete this._activeLayerInfosByLayerViewId[t],r!=null&&r.parent&&r.parent.children.remove(r)}_watchPropertiesAndAllLayerViews(){const{view:t}=this;if(!t)return;const{allLayerViews:r}=t;r.length&&this._refresh(),this.addHandles(r.on("change",i=>this._allLayerViewsChangeHandle(i)),cf.allLayerViews),this.addHandles(U(()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible],()=>this._propertiesChangeHandle()),cf.legendProperties)}_allLayerViewsChangeHandle(t){t.moved.length?this._propertiesChangeHandle():(t.removed.forEach(r=>this._destroyViewActiveLayerInfo(r.uid)),this._refresh())}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(t){const r=this.view;if(t.length<2||!r)return;const i=[];t.forEach(n=>{if(!n.parent){const a=n.layer.parent,o=a&&"uid"in a&&this._layerViewByLayerId[a.uid],l=o&&this._activeLayerInfosByLayerViewId[o.uid];l&&t.includes(l)&&(i.push(n),n.parent=l,l.children.add(n),this._sortActiveLayerInfos(l.children))}}),t.removeMany(i);const s={};r.allLayerViews.forEach((n,a)=>s[n.layer.uid]=a),t.sort((n,a)=>{const o=s[n.layer.uid]||0;return(s[a.layer.uid]||0)-o})}_generateLayerViews(){const t=[];return VRe.filter(this._filterLayerViews,this).map(r=>Ji(this,r)).filter(r=>r!=null).forEach(this._collectLayerViews("layerViews",t)),t}_filterLayerViews(t){const r=!this.basemapLegendVisible&&(t===hie||t===yie),i=!this.groundLegendVisible&&t===mie;return!r&&!i}_collectLayerViews(t,r){const i=s=>(s&&s.forEach(n=>{r.push(n),i(n[t])}),r);return i}_filterLayerViewsByLayerInfos(t){const r=this.layerInfos;return!r||!r.length||r.some(i=>this._hasLayerInfo(i,t))}_hasLayerInfo(t,r){const i=this._isLayerUIDMatching(t.layer,r.layer.uid);return i&&(this._layerInfosByLayerViewId[r.uid]=t),i}_isLayerUIDMatching(t,r){return t&&(t.uid===r||this._hasLayerUID(t.layers,r))}_hasLayerUID(t,r){return t&&t.some(i=>this._isLayerUIDMatching(i,r))}_isLayerViewSupported(t){return!!DRe.has(t.layer.declaredClass)&&(this._layerViewByLayerId[t.layer.uid]=t,!0)}_generateActiveLayerInfo(t){this._isLayerActive(t)?this._buildActiveLayerInfo(t):(this.removeHandles(t.uid),this.addHandles(U(()=>{var r;return[t.legendEnabled,(r=t.layer)==null?void 0:r.legendEnabled]},()=>this._layerActiveHandle(t)),t.uid))}_layerActiveHandle(t){this._isLayerActive(t)&&(this.removeHandles(t.uid),this._buildActiveLayerInfo(t))}_isLayerActive(t){var r;return!this.respectLayerVisibility||t.legendEnabled&&((r=t.layer)==null?void 0:r.legendEnabled)}_buildActiveLayerInfo(t){var o;const r=t.layer,i=t.uid,s=this._layerInfosByLayerViewId[i];let n=this._activeLayerInfosByLayerViewId[i];if(!n){const l=(s==null?void 0:s.title)!==void 0&&s.layer.uid===r.uid;n=new fie({layer:r,layerView:t,title:l?s.title:r.title,view:this.view??void 0,respectLayerDefinitionExpression:this.respectLayerDefinitionExpression,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:(s==null?void 0:s.sublayerIds)||[]}),this._activeLayerInfosByLayerViewId[i]=n}const a=r.parent&&"uid"in r.parent?this._layerViewByLayerId[(o=r.parent)==null?void 0:o.uid]:null;if(n.parent=this._activeLayerInfosByLayerViewId[a==null?void 0:a.uid],!this.hasHandles(i)){const l=[U(()=>r.title,d=>this._titleHandle(d,n)),U(()=>[r.opacity,"renderer"in r&&r.renderer,"pointSymbol"in r&&r.pointSymbol,"lineSymbol"in r&&r.lineSymbol,"polygonSymbol"in r&&r.polygonSymbol],()=>this._constructLegendElements(n)),jr(()=>{var d;return((d=this.view)==null?void 0:d.stationary)===!0},()=>this._scaleHandle(n),we),U(()=>t.layer?sj(t.layer,t.view):null,()=>this._constructLegendElements(n)),U(()=>t.updating,()=>{t.layer!=null&&sj(t.layer,t.view)!=null&&this._constructLegendElements(n)}),U(()=>"effect"in r&&r.effect,()=>this._constructLegendElements(n)),jr(()=>{var d;return(d=this.view)==null?void 0:d.timeZone},()=>this._constructLegendElements(n),we)];if(this.respectLayerVisibility){const d=U(()=>t.legendEnabled,p=>this._legendEnabledHandle(p,n)),f=U(()=>r.legendEnabled,p=>this._legendEnabledHandle(p,n));l.push(d,f)}if(this.respectLayerDefinitionExpression&&"definitionExpression"in r){const d=U(()=>[r.definitionExpression,this.respectLayerDefinitionExpression],()=>{n.respectLayerDefinitionExpression=this.respectLayerDefinitionExpression,this._constructLegendElements(n)});l.push(d)}this.addHandles(l,i)}n.isScaleDriven||this._constructLegendElements(n),this._addActiveLayerInfo(n)}_titleHandle(t,r){r.title=t,this._constructLegendElements(r)}_legendEnabledHandle(t,r){t?this._addActiveLayerInfo(r):this._removeActiveLayerInfo(r)}_scaleHandle(t){(t.isScaleDriven||t.hideLayersNotInCurrentView)&&this._constructLegendElements(t)}_addActiveLayerInfo(t){var s;const{layerView:r,layer:i}=t;if(this._isLayerActive(r)&&!this.activeLayerInfos.includes(t)){const n=t.parent;if(n)n.children.includes(t)||n.children.push(t),this._sortActiveLayerInfos(n.children);else{const a=(s=this.layerInfos)==null?void 0:s.some(l=>l.layer.uid===i.uid),o=i.parent;o&&"uid"in o&&this._layerViewByLayerId[o.uid]&&!a?this._activeLayerInfosWithNoParent.add(t):(this.activeLayerInfos.add(t),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const a=[];this._activeLayerInfosWithNoParent.forEach(o=>{const l=o.layer.parent,d=l&&"uid"in l?this._layerViewByLayerId[l==null?void 0:l.uid]:null,f=this._activeLayerInfosByLayerViewId[d==null?void 0:d.uid];f&&(a.push(o),o.parent=f)}),a.length&&(this._activeLayerInfosWithNoParent.removeMany(a),a.forEach(o=>this._addActiveLayerInfo(o)))}}}_removeActiveLayerInfo(t){const r=t.parent;r?r.children.remove(t):this.activeLayerInfos.remove(t)}_constructLegendElements(t){const r=t.layer;"featureCollections"in r&&r.featureCollections?t.buildLegendElementsForFeatureCollections(r.featureCollections):"featureReduction"in r&&r.featureReduction&&"renderer"in r.featureReduction&&(r.featureReduction.type==="binning"||r.featureReduction.type==="cluster")&&(!this.view||r.featureReduction.maxScale<=this.view.scale)?t.buildLegendElementsForFeatureReduction(r.featureReduction):"renderer"in r&&r.renderer&&!("sublayers"in r)?t.buildLegendElementsForRenderer(r.renderer):"url"in r&&r.url&&r.type!=="catalog"&&r.type!=="knowledge-graph"?t.buildLegendElementsForTools():t.children.forEach(i=>this._constructLegendElements(i))}};c([u({type:pie})],Zs.prototype,"activeLayerInfos",void 0),c([u()],Zs.prototype,"basemapLegendVisible",void 0),c([u()],Zs.prototype,"groundLegendVisible",void 0),c([u()],Zs.prototype,"hideLayersNotInCurrentView",void 0),c([u()],Zs.prototype,"keepCacheOnDestroy",void 0),c([u()],Zs.prototype,"respectLayerDefinitionExpression",void 0),c([u()],Zs.prototype,"respectLayerVisibility",void 0),c([u()],Zs.prototype,"layerInfos",void 0),c([u({readOnly:!0})],Zs.prototype,"state",null),c([u()],Zs.prototype,"view",void 0),Zs=c([S("esri.widgets.Legend.LegendViewModel")],Zs);const zRe=Zs,Ke="esri-legend--card",Jb="esri-legend",he={base:Ke,stacked:`${Jb}--stacked`,carouselTitle:`${Ke}__carousel-title`,intervalSeparator:`${Ke}__interval-separator`,imageryLayerStretchedImage:`${Ke}__imagery-layer-image--stretched`,imageLabel:`${Ke}__image-label`,layerCaption:`${Ke}__layer-caption`,labelElement:`${Ke}__label-element`,layerRow:`${Ke}__layer-row`,labelCell:`${Ke}__label-cell`,message:`${Ke}__message`,rampLabel:`${Ke}__ramp-label`,section:`${Ke}__section`,serviceCaptionText:`${Ke}__service-caption-text`,serviceContent:`${Ke}__service-content`,service:`${Ke}__service`,groupLayer:`${Ke}__group-layer`,groupLayerChild:`${Ke}__group-layer-child`,symbol:`${Ke}__symbol`,sizeRampRow:`${Ke}__size-ramp-row`,symbolRow:`${Ke}__symbol-row`,symbolCell:`${Ke}__symbol-cell`,carousel:`${Ke}__carousel`,carouselItem:`${Ke}__carousel-item`,intervalSeparatorsContainer:`${Ke}__interval-separators-container`,relationshipLabelContainer:`${Ke}__relationship-label-container`,labelContainer:`${Ke}__label-container`,serviceCaptionContainer:`${Ke}__service-caption-container`,symbolContainer:`${Ke}__symbol-container`,colorRampContainer:`${Ke}__color-ramp-container`,sizeRampContainer:`${Ke}__size-ramp-container`,sizeRampPreview:`${Ke}__size-ramp-preview`,pieChartRampPreview:`${Ke}__pie-chart-ramp-preview`,sizeRampHorizontal:`${Jb}__size-ramp--horizontal`,rampLabelsContainer:`${Jb}__ramp-labels`,layerInfo:`${Jb}__layer-cell ${Jb}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"};function jRe(e,t){return t}function Cr(e){const t=this;e.appendChild(t)}function ky(e,t,r){if(!t)return;if(typeof t=="number")return t;if(typeof t=="string")return fv(t);if("value"in t||"unit"in t)return ku(e.dotValue,t);if("colorName"in t&&"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:void 0;let i=null;return jRe(t,r)?i=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:bie(t,r)&&(i=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),i?ku(i==="showField"?"{field}":e[i],{field:t.field,normField:t.normField}):void 0}function bie(e,t){return!t}function gie(e,t){return!!(t&&t==="Stretched"&&"version"in e&&typeof e.version=="number"&&e.version>=10.3&&e.declaredClass==="esri.layers.ImageryLayer")}function qRe(e,t){var r;return e.label?t[e.label]+": "+(typeof e.value=="string"?e.value:Mi(e.value??0,{style:"decimal",notation:(r=e.value)!=null&&r.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}function vie(e,t,r){switch(t){case"heatmap-ramp":return r[e.label]||e.label;case"stretch-ramp":return qRe(e,r);default:return e.label}}function wie(e,t){if(!e.title||typeof e.title=="string")return e.title;const r=e.type==="color-ramp"||e.type==="opacity-ramp",i=e.title,s=ky(t,i,r);return bie(i,r)&&i.title?`${i.title} (${s})`:s}const BRe=25,URe=25,GRe=100;let sp=class extends lt{constructor(t,r){super(t,r),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const t=this.legendElement.infos.slice().reverse();return $("div",{class:this.classes(he.layerRow,he.colorRampContainer)},this._renderRampLabel(t[0]),$("div",{class:he.symbolContainer},this._renderPreview(t),this._renderMiddleStopRampLabel(t)),this._renderRampLabel(t.at(-1)))}_renderPreview(t){const{opacity:r}=this,i=this.legendElement.type==="heatmap-ramp",s=t.length-1,n=URe,a=s>2&&!i?BRe*s:GRe,o=a+20,l=10,d=[[{shape:{type:"path",path:`M0 ${n/2} L${l} 0 L${l} ${n} Z`},fill:t[0].color,stroke:{width:0}},{shape:{type:"rect",x:l,y:0,width:a,height:n},fill:{type:"linear",x1:l,y1:0,x2:a+l,y2:0,colors:t.map((m,y)=>({color:m.color,offset:i&&"ratio"in m?m.ratio:y/s}))},stroke:{width:0}},{shape:{type:"path",path:`M${a+l} 0 L${o} ${n/2} L${a+l} ${n} Z`},fill:t[t.length-1].color,stroke:{width:0}}]],f=kre(d,o,n),p={filter:Q2(this.effectList)??void 0,opacity:r==null?void 0:`${r}`};return $("div",{styles:p},f)}_renderMiddleStopRampLabel(t){const r=t.length%2!=0?t[t.length/2|0]:null;return r?$("div",{class:he.intervalSeparatorsContainer},$("div",{class:he.intervalSeparator},"|"),this._renderRampLabel(r)):null}_renderRampLabel(t){return $("div",{class:he.rampLabel},vie(t,this.legendElement.type,this.messages))}};c([u()],sp.prototype,"effectList",void 0),c([u()],sp.prototype,"legendElement",void 0),c([u()],sp.prototype,"messages",void 0),c([u()],sp.prototype,"opacity",void 0),sp=c([S("esri.widgets.Legend.styles.card.ColorRamp")],sp);const HRe=sp,WRe="#ddd",Wh=window.devicePixelRatio;function ZRe(e){var r,i;if(!e)return;if(e.type.includes("3d")){if(!((r=e.symbolLayers)!=null&&r.length))return;const s=e.symbolLayers.at(-1),n=(i=s.resource)==null?void 0:i.primitive;return n==="circle"||n==="cross"||n==="kite"||n==="sphere"||n==="cube"||n==="diamond"}const t=e.style;return t==="circle"||t==="diamond"||t==="cross"}function JRe(e){var t,r;if(e){if(e.type.includes("3d")){if(!((t=e.symbolLayers)!=null&&t.length))return;const i=e.symbolLayers.at(-1),s=(r=i==null?void 0:i.resource)==null?void 0:r.primitive;return s==="triangle"||s==="cone"||s==="tetrahedron"}return e.style==="triangle"}}let np=class extends lt{constructor(t,r){super(t,r),this.hasIndicators=!1,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,hasIndicators:r,opacity:i}=this,s=t.infos,{label:n,...a}=s.at(0),{label:o,...l}=s.at(-1);let d=a.preview,f=l.preview;const p={"flex-direction":r?"column":"row-reverse"};d&&(d=d.cloneNode(!0),d.style.display="flex"),f&&(f=f.cloneNode(!0),f.style.display="flex");const m={opacity:i!=null?`${i}`:""};return $("div",{class:this.classes(he.layerRow,{[he.sizeRampRow]:r})},$("div",{class:he.rampLabel},r?n:o),$("div",{class:he.sizeRampContainer,styles:p},$("div",{afterCreate:Cr,bind:d,class:he.sizeRampPreview,styles:m}),this._renderSizeRampLines(t),$("div",{afterCreate:Cr,bind:f,class:he.sizeRampContainer,styles:m})),$("div",{class:he.rampLabel},r?o:n))}_renderSizeRampLines(t){const r=t.infos,i=r[0],s=r.at(-1),n=i.symbol,a=this.hasIndicators,o=Ct(i.size+i.outlineSize)*Wh,l=Ct(s.size+s.outlineSize)*Wh,d=a?o:o+50*Wh,f=a?o/2+50*Wh:o,p=JRe(n),m=ZRe(n),y=document.createElement("canvas");y.width=d,y.height=f,y.style.width=y.width/Wh+"px",y.style.height=y.height/Wh+"px";const b=y.getContext("2d");if(a){b.beginPath();const g=0,v=0,w=d/2-l/2,_=f;b.moveTo(g,v),b.lineTo(w,_);const x=d,T=0,k=d/2+l/2,A=f;b.moveTo(x,T),b.lineTo(k,A)}else{b.beginPath();const g=0,v=f/2-l/2,w=d;b.moveTo(g,v),b.lineTo(w,0);const x=0,T=f/2+l/2,k=d,A=f;b.moveTo(x,T),b.lineTo(k,A)}return b.strokeStyle=WRe,b.stroke(),$("div",{afterCreate:Cr,bind:y,styles:a?{display:"flex",marginTop:`-${p?0:m?o/2:0}px`,marginBottom:`-${p?l:m?l/2:0}px`}:{display:"flex",marginRight:`-${p?0:m?o/2:0}px`,marginLeft:`-${p?0:m?l/2:0}px`}})}};c([u()],np.prototype,"hasIndicators",void 0),c([u()],np.prototype,"legendElement",void 0),c([u()],np.prototype,"messages",void 0),c([u()],np.prototype,"opacity",void 0),np=c([S("esri.widgets.Legend.styles.card.SizeRamp")],np);const YRe=np,QRe=x_(),_ie=10,SL=20,s8=10,$L=20,xL={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function KRe(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return e==="vertical"?$("svg",{height:"4",width:"10"},$("line",{style:t,x1:"0",x2:"10",y1:"2",y2:"2"})):$("svg",{height:"10",width:"10"},$("line",{style:t,x1:"5",x2:"5",y1:"0",y2:"10"}))}function XRe(e,t="vertical"){const r=document.createElement("div");return r.style.height=`${SL}px`,r.className=xL.univariateAboveAndBelowSymbol,e!=null&&(r.style.opacity=e.toString()),QRe.append(r,KRe.bind(null,t)),r}function Sie(e,t,r="vertical",i){e.infos.forEach((s,n)=>{if(i&&n===2)s.preview=XRe(t,r);else{const a=Ct(s.size)+(r==="horizontal"?$L:s8),o=s.preview,l=(o==null?void 0:o.tagName.toLowerCase())==="div",d=l?o:document.createElement("div");d.className=xL.univariateAboveAndBelowSymbol,r==="horizontal"?d.style.width=`${a}px`:d.style.height=`${a}px`,!l&&o&&d.appendChild(o),s.preview=d}})}function n8(e,t="classic"){const r=e.infos;return t==="classic"?(Ct(r[0].size)+s8)/2:(Ct(r[0].size)-Ct(r[r.length-1].size))/2}function Ly(e,t){if(!e)return null;const r=e.infos.map(s=>s.color),i=tp(t.type==="full"?r:t.type==="above"?r.slice(0,3):r.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return i.className=xL.colorRamp,t.opacity!=null&&(i.style.opacity=t.opacity.toString()),i}function EL(e,t,r,i="vertical"){let s=0;const n=e.infos,a=Math.floor(n.length/2),o=t==="full"||t==="above"?0:a,l=t==="full"||t==="below"?n.length-1:a;for(let d=o;d<=l;d++)r&&d===a?s+=i==="horizontal"?_ie:SL:s+=Ct(n[d].size)+(i==="horizontal"?$L:s8);return Math.round(s)}function Ry(e,t,r,i="vertical"){const s=EL(e,t,r,i),n=e.infos,a=Math.floor(n.length/2),o=t==="full"||t==="above"?0:a,l=t==="full"||t==="below"?n.length-1:a,d=t==="full"?n[o].size+n[l].size:t==="above"?n[o].size:n[l].size,f=r?i==="vertical"?SL:_ie:0,p=i==="vertical"?s8*(t==="full"?2:1):$L*(t==="full"?2:1);return Math.round(s-(Ct(d)/2+f/2+p/2))}function $ie(e,t,r="vertical"){const i=e.infos;let s=i.find(({type:a})=>a==="size-ramp"),n=i.find(({type:a})=>a==="color-ramp");return s&&(s={...s},s.infos=[...s.infos],Sie(s,t,r,!0)),n&&(n={...n},n.infos=[...n.infos]),r==="horizontal"&&(s==null||s.infos.reverse(),n==null||n.infos.reverse()),{sizeRampElement:s,colorRampElement:n}}function xie(e,t="vertical"){const r=e.infos;let i=r.find(({type:n})=>n==="size-ramp"),s=r.find(({type:n})=>n==="color-ramp");return i&&(i={...i},i.infos=[...i.infos],Sie(i,null,t,!1)),s&&(s={...s},s.infos=[...s.infos]),t==="horizontal"&&(i==null||i.infos.reverse(),s==null||s.infos.reverse()),{sizeRampElement:i,colorRampElement:s}}const gC={marginLeft:"3px"},S0={display:"table-cell",verticalAlign:"middle"},Eie={display:"flex",alignItems:"flex-start"};let ap=class extends lt{constructor(t,r){super(t,r),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var A;const{legendElement:t,opacity:r,effectList:i,key:s}=this,{sizeRampElement:n,colorRampElement:a}=$ie(t,r,"horizontal");if(!n)return null;const o=EL(n,"full",!0,"horizontal"),l=Ry(n,"above",!0,"horizontal"),d=Ry(n,"below",!0,"horizontal"),f=12,p=(A=this.messages)==null?void 0:A.previewColorRampAriaLabel,m=Ly(a,{width:l,height:f,rampAlignment:"horizontal",opacity:r,type:"above",effectList:i,ariaLabel:p}),y=Ly(a,{width:d,height:f,rampAlignment:"horizontal",opacity:r,type:"below",effectList:i,ariaLabel:p}),b=n8(n,"card"),g=n.infos.map(M=>M.label),v=g.length-1,w=g.map((M,R)=>R===0||R===v?$("div",{key:R},M):null),_={display:"flex",flexDirection:"column"},x={display:"flex",flexDirection:"row"},T={marginTop:"3px",display:"flex"};za(this.container)?T.marginRight=`${b}px`:T.marginLeft=`${b}px`;const k={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return $("div",{class:he.layerRow,key:`${s}-container`,styles:_},$("div",{class:this.classes(he.symbolContainer,he.sizeRampHorizontal),styles:x},n.infos.map((M,R)=>$("div",{afterCreate:Cr,bind:M.preview,class:he.symbol,key:R}))),m?$("div",{class:he.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:T},$("div",{afterCreate:Cr,bind:m}),$("div",{afterCreate:Cr,bind:y})):null,$("div",{class:he.layerInfo},$("div",{class:he.rampLabelsContainer,styles:k},w)))}};c([u()],ap.prototype,"effectList",void 0),c([u()],ap.prototype,"legendElement",void 0),c([u()],ap.prototype,"messages",void 0),c([u()],ap.prototype,"opacity",void 0),ap=c([S("esri.widgets.Legend.styles.card.UnivariateAboveAndBelowRamp")],ap);const eOe=ap;let op=class extends lt{constructor(t,r){super(t,r),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var w;const{legendElement:t,opacity:r,effectList:i,key:s}=this,{sizeRampElement:n,colorRampElement:a}=xie(t,"horizontal");if(!n)return null;const o=EL(n,"full",!1,"horizontal"),l=Ry(n,"full",!1,"horizontal"),d=Ly(a,{width:l,height:12,rampAlignment:"horizontal",opacity:r,type:"full",effectList:i,ariaLabel:(w=this.messages)==null?void 0:w.previewColorRampAriaLabel}),f=n8(n,"card"),p=n.infos.length-1,m=n.infos.map((_,x)=>x===0||x===p?$("div",{key:x},_.label):null),y={display:"flex",flexDirection:"column"},b={display:"flex",flexDirection:"row"},g={marginTop:"3px",display:"flex"};za(this.container)?g.marginRight=`${f}px`:g.marginLeft=`${f}px`;const v={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return $("div",{class:he.layerRow,key:`${s}-container`,styles:y},$("div",{class:this.classes(he.symbolContainer,he.sizeRampHorizontal),styles:b},n.infos.map((_,x)=>$("div",{afterCreate:Cr,bind:_.preview,class:he.symbol,key:x}))),$("div",{class:he.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:g},$("div",{afterCreate:Cr,bind:d})),$("div",{class:he.layerInfo},$("div",{class:he.rampLabelsContainer,styles:v},m)))}};c([u()],op.prototype,"effectList",void 0),c([u()],op.prototype,"legendElement",void 0),c([u()],op.prototype,"messages",void 0),c([u()],op.prototype,"opacity",void 0),op=c([S("esri.widgets.Legend.styles.card.UnivariateColorSizeRamp")],op);const tOe=op;function Bp({level:e,class:t,...r},i){const s=Tie(e);return $(`h${s}`,{...r,"aria-level":String(s),class:h0(ve.heading,t),role:"heading"},i)}function Tie(e){return As(Math.ceil(e),1,6)}function rOe(e,t=1){return Tie(e+t)}var vC;let xa=vC=class extends lt{constructor(e,t){super(e,t),this.effectList=null,this.hasIndicators=!1,this.headingLevel=3,this.isChild=!1,this.legendElement=null}render(){const e=this._renderLegendElement(),t=wie(this.legendElement,this.messages),r=this.hasIndicators&&!this.isChild?$("div",null,$(Bp,{class:he.carouselTitle,level:this.headingLevel},this.activeLayerInfo.title),$(Bp,{class:he.layerCaption,level:rOe(this.headingLevel)},t)):t?$(Bp,{class:he.layerCaption,level:this.headingLevel},t):null;return $("section",{"aria-labelledby":this.key,class:he.section,id:`${this.key}-panel`,key:this.key,role:"tabpanel",tabIndex:0},r,e)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return $(YRe,{hasIndicators:this.hasIndicators,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return $(HRe,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return Fre(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return $("div",{afterCreate:Cr,bind:this.legendElement.preview,class:he.pieChartRampPreview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return $(eOe,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return $(tOe,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(e){var n,a,o;const t=e.infos.map(l=>this._renderElementInfo(l,e.legendType)).filter(Boolean);if(!t.length)return null;const r=this.activeLayerInfo.legendElements.some(({type:l})=>l==="relationship-ramp"),i=(o=(a=(n=t[0])==null?void 0:n.properties)==null?void 0:a.classes)==null?void 0:o[he.symbolRow],s={[he.labelContainer]:!i&&!r,[he.relationshipLabelContainer]:r};return $("div",{class:this.classes(s)},t)}_renderElementInfo(e,t){var o;const{layer:r}=this,i="label"in e?e.label:null,s=`${this.key}-${i}`;if("type"in e&&e.type)return $(vC,{activeLayerInfo:this.activeLayerInfo,effectList:this.effectList,hasIndicators:this.hasIndicators,headingLevel:this.headingLevel,isChild:!0,key:s,layer:r,legendElement:e,messages:this.messages});if(!("preview"in e&&e.preview||"src"in e&&e.src))return null;const n=gie(r,t),a=ky(this.messages,i,!1)||"";if("src"in e&&e.src)return $("div",{class:he.layerRow,key:`${s}-row`},this._renderImage(e,r,n),$("div",{class:he.imageLabel},a));if("symbol"in e&&e.preview){if(!((o=e.symbol)!=null&&o.type.includes("simple-fill"))){if(!e.label)return $("div",{afterCreate:Cr,bind:e.preview,key:`${s}-row`});const l={[he.symbolCell]:this.hasIndicators};return $("div",{class:this.classes(he.layerRow,{[he.symbolRow]:this.hasIndicators}),key:`${s}-row`},$("div",{afterCreate:Cr,bind:e.preview,class:this.classes(l)}),$("div",{class:this.classes(he.imageLabel,{[he.labelCell]:this.hasIndicators})},a))}return $("div",{class:he.layerRow,key:`${s}-row`},$("div",{class:he.labelElement,styles:this._getBackgroundStyles(e)},a))}return null}_getBackgroundStyles(e){var p,m;const t=e.symbol,r=t.color,i=!!(r!=null&&r.a),s="outline"in t?t.outline:null,n=!!((p=s==null?void 0:s.color)!=null&&p.a),a=new Z(i&&r?[r.r,r.g,r.b,r.a*this.layer.opacity]:[255,255,255,0]),o=n&&s.color?new Z([s.color.r,s.color.g,s.color.b,s.color.a*this.layer.opacity]):new Z([255,255,255,0]),l=((m=e.symbol.color)==null?void 0:m.isBright)??!0,d=l?"black":"white",f=l?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)";return{background:i?a.toCss(!0):"none",color:d,textShadow:`-1px -1px 0 ${f},
                  1px -1px 0 ${f},
                  -1px 1px 0 ${f},
                  1px 1px 0 ${f}`,border:n?`1px solid ${o.toCss(!0)}`:"none",filter:Q2(this.effectList)??void 0}}_renderImage(e,t,r){const{label:i,src:s,opacity:n}=e,a={[he.imageryLayerStretchedImage]:r,[he.symbol]:!r},o={opacity:`${n??t.opacity}`},l=ky(this.messages,i,!1);return $("img",{alt:l,"aria-label":l,border:0,class:this.classes(a),height:e.height,src:s,styles:o,width:e.width})}};c([u()],xa.prototype,"activeLayerInfo",void 0),c([u()],xa.prototype,"effectList",void 0),c([u()],xa.prototype,"hasIndicators",void 0),c([u()],xa.prototype,"headingLevel",void 0),c([u()],xa.prototype,"isChild",void 0),c([u()],xa.prototype,"layer",void 0),c([u()],xa.prototype,"legendElement",void 0),c([u()],xa.prototype,"messages",void 0),xa=vC=c([S("esri.widgets.Legend.styles.card.LegendElement")],xa);const Aj=xa,iOe=768;let xo=class extends lt{constructor(t,r){super(t,r),this._hasIndicators=!1,this.activeLayerInfos=null,this.headingLevel=3,this.layout="stack",this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}loadDependencies(){return dn({carousel:()=>C(()=>import("./index-BmNvCb3z.js"),__vite__mapDeps([371,366,32,17,33,25,10])),"carousel-item":()=>C(()=>import("./index-DhSvaCRK.js").then(t=>t.i),[])})}render(){this._hasIndicators=this.layout==="auto"&&this.view&&this.view.container.clientWidth<=iOe||this.layout==="stack";const t=this._hasIndicators?this._renderCarousel():this._renderLayers(),r={[he.stacked]:this._hasIndicators};return $("div",{class:this.classes(he.base,r)},t||$("div",{class:he.message},this.messages.noLegend))}_renderCarousel(){const t=[],r=this.activeLayerInfos;if(r)for(const i of r)this._renderSections(i,t);return t!=null&&t.length?$("calcite-carousel",{class:he.carousel,label:this.messages.carousel},t.map((i,s)=>$("calcite-carousel-item",{class:he.carouselItem,key:s,label:ku(this.messagesCommon.pagination.pageText,{index:s+1,total:t.length})},i))):null}_renderLayers(){var i;const t=this.activeLayerInfos,r=(i=t==null?void 0:t.toArray())==null?void 0:i.map(s=>this._renderLegendForLayer(s)).filter(Boolean);return r!=null&&r.length?r:null}_renderLegendForLayer(t){if(!t.ready)return null;if(t.children.length){const r=t.children.toArray().map(this._renderLegendForLayer,this);return $("section",{class:this.classes(he.service,he.groupLayer),key:t.layer.uid},$("div",{class:he.serviceCaptionContainer},t.title),r)}return this._renderLegendElementsForLayer(t)}_renderLegendElementsForLayer(t){var n;const r=(n=t.legendElements)==null?void 0:n.filter(Boolean);if(!(r!=null&&r.length))return null;const i=r.map(a=>$(Aj,{activeLayerInfo:t,effectList:t.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${t.layer.uid}-${a.type}`,layer:t.layer,legendElement:a,messages:this.messages})),s={[he.groupLayerChild]:!!t.parent};return $("section",{class:this.classes(he.service,s),key:t.layer.uid},$("div",{class:he.serviceCaptionContainer},$("div",{class:he.serviceCaptionText},t.title)),$("div",{class:he.serviceContent},i))}_renderSections(t,r){if(!t.ready)return;if(t.children.length)for(const s of t.children)this._renderSections(s,r);const i=t.legendElements;if(i!=null&&i.length)for(const s of i){const n=$(Aj,{activeLayerInfo:t,effectList:t.effectList,hasIndicators:this._hasIndicators,headingLevel:this.headingLevel,isChild:!1,key:`${t.layer.uid}-${s.type}`,layer:t.layer,legendElement:s,messages:this.messages});n&&r.push(n)}}};c([u()],xo.prototype,"activeLayerInfos",void 0),c([u()],xo.prototype,"headingLevel",void 0),c([u()],xo.prototype,"layout",void 0),c([u(),Jt("esri/widgets/Legend/t9n/Legend")],xo.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],xo.prototype,"messagesCommon",void 0),c([u({readOnly:!0})],xo.prototype,"type",void 0),c([u()],xo.prototype,"view",void 0),xo=c([S("esri.widgets.Legend.styles.card.CardView")],xo);const SS=xo,$t="esri-legend",Se={service:`${$t}__service`,label:`${$t}__service-label`,layer:`${$t}__layer`,groupLayer:`${$t}__group-layer`,groupLayerChild:`${$t}__group-layer-child`,layerTable:`${$t}__layer-table`,layerTableSizeRamp:`${$t}__layer-table--size-ramp`,layerChildTable:`${$t}__layer-child-table`,layerCaption:`${$t}__layer-caption`,layerBody:`${$t}__layer-body`,layerRow:`${$t}__layer-row`,layerInfo:`${$t}__layer-cell ${$t}__layer-cell--info`,imageryLayerStretchedImage:`${$t}__imagery-layer-image--stretched`,imageryLayerInfoStretched:`${$t}__imagery-layer-info--stretched`,symbolContainer:`${$t}__layer-cell ${$t}__layer-cell--symbols`,symbol:`${$t}__symbol`,rampContainer:`${$t}__ramps`,sizeRamp:`${$t}__size-ramp`,colorRamp:`${$t}__color-ramp`,opacityRamp:`${$t}__opacity-ramp`,rampLabelsContainer:`${$t}__ramp-labels`,rampLabel:`${$t}__ramp-label`,message:`${$t}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"},sOe=24;let lp=class extends lt{constructor(t,r){super(t,r),this.legendElement=null,this.opacity=1}get _preview(){const t=this.legendElement.preview;if(!t)return null;const r=this.legendElement.type==="opacity-ramp"?Se.opacityRamp:"";return t.className=`${Se.colorRamp} ${r}`,this.opacity!=null&&(t.style.opacity=this.opacity.toString()),t}render(){const{legendElement:t,_preview:r}=this;if(!r)return null;const i={width:`${sOe}px`},s={height:r.style.height};return $("div",{class:Se.layerRow,key:`${this.key}-row`},$("div",{class:Se.symbolContainer,styles:i},$("div",{afterCreate:Cr,bind:r,class:Se.rampContainer})),$("div",{class:Se.layerInfo},$("div",{class:Se.rampLabelsContainer,styles:s},t.infos.map((n,a)=>this._renderRampLabel(n,a,t.type)))))}_renderRampLabel(t,r,i){return $("div",{class:t.label?Se.rampLabel:void 0,key:`${this.key}-stop-${t.label??r}-label`},vie(t,i,this.messages))}};c([u()],lp.prototype,"_preview",null),c([u()],lp.prototype,"legendElement",void 0),c([u()],lp.prototype,"messages",void 0),c([u()],lp.prototype,"opacity",void 0),lp=c([S("esri.widgets.Legend.styles.classic.ColorRamp")],lp);const nOe=lp;let y1=class extends lt{constructor(t,r){super(t,r),this.legendElement=null}render(){const t=this.legendElement.infos.map(r=>this._renderRow(r)).filter(Boolean);return t.length?$("div",{class:Se.layerBody},t):null}_renderRow(t){return t.preview?$("div",{class:Se.layerRow,key:`${this.key}-${t.label}-row`},$("div",{class:this.classes(Se.symbolContainer,Se.sizeRamp)},$("div",{afterCreate:Cr,bind:t.preview,class:Se.symbol})),$("div",{class:Se.layerInfo},ky(this.messages,t.label,!1)||"")):null}};c([u()],y1.prototype,"legendElement",void 0),c([u()],y1.prototype,"messages",void 0),y1=c([S("esri.widgets.Legend.styles.classic.SizeRamp")],y1);const aOe=y1;let cp=class extends lt{constructor(t,r){super(t,r),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:t,opacity:r,effectList:i,key:s}=this,{sizeRampElement:n,colorRampElement:a}=$ie(t,r);if(!n)return null;const o=this.messages.previewColorRampAriaLabel,l=Ry(n,"above",!0),d=Ry(n,"below",!0),f=12,p=Ly(a,{width:f,height:l,rampAlignment:"vertical",opacity:r,type:"above",effectList:i,ariaLabel:o}),m=Ly(a,{width:f,height:d,rampAlignment:"vertical",opacity:r,type:"below",effectList:i,ariaLabel:o}),y=n8(n),b=n.infos.map(M=>M.label),g=b.map((M,R)=>R===0?$("div",{class:M?p?Se.univariateAboveAndBelowLabel:Se.rampLabel:void 0,key:`${s}-color-ramp-above-label-${M??R}`},M):R===2?$("div",null):null),v=b.length-1,w=Math.floor(b.length/2),_=b.map((M,R)=>R===w||R===v?$("div",{class:M?p?Se.univariateAboveAndBelowLabel:Se.rampLabel:void 0,key:`${s}-color-ramp-below-label-${M??R}`},M):null),x={display:"table-cell",verticalAlign:"middle"},T={marginTop:`${y}px`},k={height:`${l}px`},A={height:`${d}px`};return $("div",{key:`${s}-container`,styles:Eie},$("div",{class:Se.layerBody},n.infos.map((M,R)=>$("div",{class:this.classes(Se.layerRow,Se.sizeRamp),key:`${s}-row-${R}`},$("div",{afterCreate:Cr,bind:M.preview,class:Se.symbol,styles:x}),p||R%2!=0?null:$("div",{class:Se.layerInfo},b[R])))),p?$("div",{styles:T},$("div",{styles:gC},$("div",{styles:S0},$("div",{afterCreate:Cr,bind:p,class:Se.rampContainer})),$("div",{styles:S0},$("div",{class:Se.rampLabelsContainer,styles:k},g))),$("div",{styles:gC},$("div",{styles:S0},$("div",{afterCreate:Cr,bind:m,class:Se.rampContainer})),$("div",{styles:S0},$("div",{class:Se.rampLabelsContainer,styles:A},_)))):null)}};c([u()],cp.prototype,"effectList",void 0),c([u()],cp.prototype,"legendElement",void 0),c([u()],cp.prototype,"messages",void 0),c([u()],cp.prototype,"opacity",void 0),cp=c([S("esri.widgets.Legend.styles.classic.UnivariateAboveAndBelowRamp")],cp);const oOe=cp;let dp=class extends lt{constructor(t,r){super(t,r),this.effectList=null,this.legendElement=null,this.opacity=1}render(){var v;const{legendElement:t,opacity:r,effectList:i,key:s}=this,{sizeRampElement:n,colorRampElement:a}=xie(t);if(!n)return null;const o=n8(n),l=12,d=Ry(n,"full",!1),f=Ly(a,{width:l,height:d,rampAlignment:"vertical",opacity:r,type:"full",effectList:i,ariaLabel:(v=this.messages)==null?void 0:v.previewColorRampAriaLabel}),p=n.infos.length-1,m=n.infos.map((w,_)=>_===0||_===p?$("div",{class:w.label?a?Se.univariateAboveAndBelowLabel:Se.rampLabel:void 0,key:`${s}-color-ramp-label-${w.label??_}`},w.label):null),y={display:"table-cell",verticalAlign:"middle"},b={marginTop:`${o}px`},g={height:`${d}px`};return $("div",{key:`${s}-container`,styles:Eie},$("div",{class:Se.layerBody},n.infos.map((w,_)=>$("div",{class:this.classes(Se.layerRow,Se.sizeRamp),key:`${s}-row-${_}`},$("div",{afterCreate:Cr,bind:w.preview,class:Se.symbol,styles:y})))),$("div",{styles:b},$("div",{styles:gC},$("div",{styles:S0},$("div",{afterCreate:Cr,bind:f,class:Se.rampContainer})),$("div",{styles:S0},$("div",{class:Se.rampLabelsContainer,styles:g},m)))))}};c([u()],dp.prototype,"effectList",void 0),c([u()],dp.prototype,"legendElement",void 0),c([u()],dp.prototype,"messages",void 0),c([u()],dp.prototype,"opacity",void 0),dp=c([S("esri.widgets.Legend.styles.classic.UnivariateColorSizeRamp")],dp);const lOe=dp;var wC;let Ad=wC=class extends lt{constructor(e,t){super(e,t),this.effectList=null,this.isChild=!1,this.legendElement=null}render(){const e=this._renderLegendElement(),t=wie(this.legendElement,this.messages),r=this.isChild?Se.layerChildTable:Se.layerTable,i=t?$("div",{class:Se.layerCaption},t):null,s={[Se.layerTableSizeRamp]:this.legendElement.type==="size-ramp"||!this.isChild};return $("section",{class:this.classes(r,s),key:`${this.key}-table`},i,e)}_renderLegendElement(){switch(this.legendElement.type){case"symbol-table":return this._renderSymbolTable(this.legendElement);case"size-ramp":return $(aOe,{key:this.key,legendElement:this.legendElement,messages:this.messages});case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":return $(nOe,{key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"relationship-ramp":return Fre(this.legendElement,this.id,{opacity:this.layer.opacity,effectList:this.effectList,ariaLabel:this.messages.previewRelationshipRampAriaLabel,key:this.key});case"pie-chart-ramp":return $("div",{afterCreate:Cr,bind:this.legendElement.preview,key:`${this.key}-preview`});case"univariate-above-and-below-ramp":return $(oOe,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});case"univariate-color-size-ramp":return $(lOe,{effectList:this.effectList,key:this.key,legendElement:this.legendElement,messages:this.messages,opacity:this.layer.opacity});default:return null}}_renderSymbolTable(e){const t=e.infos.map(r=>this._renderElementInfo(r,e.legendType)).filter(Boolean);return t.length?$("div",{class:Se.layerBody},t):null}_renderElementInfo(e,t){const{layer:r}=this,i="label"in e?e.label:null,s=`${this.key}-${i}`;if("type"in e&&e.type)return $(wC,{effectList:this.effectList,isChild:!0,key:s,layer:r,legendElement:e,messages:this.messages});if(!("preview"in e&&e.preview||"src"in e&&e.src))return null;const n=gie(r,t),a={[Se.imageryLayerInfoStretched]:n},o={[Se.imageryLayerInfoStretched]:n};return $("div",{class:Se.layerRow,key:`${s}-row`},$("div",{class:this.classes(Se.symbolContainer,o)},this._renderPreview(e,n)),$("div",{class:this.classes(Se.layerInfo,a)},ky(this.messages,i,!1)||""))}_renderPreview(e,t){const{layer:r}=this;return"preview"in e&&e.preview?$("div",{afterCreate:Cr,bind:e.preview,class:Se.symbol}):"src"in e&&e.src?this._renderImage(e,r,t):null}_renderImage(e,t,r){const{label:i,src:s,opacity:n}=e,a={[Se.imageryLayerStretchedImage]:r,[Se.symbol]:!r},o={opacity:`${n??t.opacity}`},l=ky(this.messages,i,!1);return $("img",{alt:l,"aria-label":l,border:0,class:this.classes(a),height:e.height,src:s,styles:o,width:e.width})}};c([u()],Ad.prototype,"effectList",void 0),c([u()],Ad.prototype,"isChild",void 0),c([u()],Ad.prototype,"layer",void 0),c([u()],Ad.prototype,"legendElement",void 0),c([u()],Ad.prototype,"messages",void 0),Ad=wC=c([S("esri.widgets.Legend.styles.classic.LegendElement")],Ad);const cOe=Ad,dOe=`${$t}__`;let up=class extends lt{constructor(t,r){super(t,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const t=this.activeLayerInfos,r=t==null?void 0:t.toArray().map(i=>this._renderLegendForLayer(i)).filter(Boolean);return r!=null&&r.length?$("section",null,r):$("div",{class:Se.message,key:"no-legend"},this.messages.noLegend)}_renderLegendForLayer(t,r){if(!t.ready)return null;const i=`${t.layer.uid}-version-${t.version}`,s=`${dOe}${r?`${r}-`:""}${i}`,n=t.title?Bp({level:this.headingLevel,class:this.classes(ve.heading,Se.label)},t.title):null;if(t.children.length){const a=t.children.toArray().map(o=>this._renderLegendForLayer(o,i));return $("section",{class:this.classes(Se.service,Se.groupLayer),key:s},n,a)}return this._renderLegendElementsForLayer(t,n,s)}_renderLegendElementsForLayer(t,r,i){var o;const s=(o=t.legendElements)==null?void 0:o.filter(Boolean);if(!(s!=null&&s.length))return null;const n=s.map(l=>$(cOe,{effectList:t.effectList,isChild:!1,key:`${i}-${l.type}`,layer:t.layer,legendElement:l,messages:this.messages})),a={[Se.groupLayerChild]:!!t.parent};return $("section",{class:this.classes(Se.service,a),key:i},r,$("div",{class:Se.layer},n))}};c([u()],up.prototype,"activeLayerInfos",void 0),c([u()],up.prototype,"headingLevel",void 0),c([u(),Jt("esri/widgets/Legend/t9n/Legend")],up.prototype,"messages",void 0),c([u({readOnly:!0})],up.prototype,"type",void 0),up=c([S("esri.widgets.Legend.styles.classic.ClassicView")],up);const Zh=up,uOe={base:"esri-legend"};let Nr=class extends lt{constructor(t,r){super(t,r),this.headingLevel=3,this.messages=null,this.style=new Zh,this.viewModel=new zRe}initialize(){this.addHandles([Er(()=>this.view,"resize",()=>this.scheduleRender()),Er(()=>this.activeLayerInfos,"change",()=>this._refreshActiveLayerInfos(this.activeLayerInfos)),U(()=>this.headingLevel,t=>{const{style:r}=this;r&&(r.headingLevel=t)}),U(()=>this.style,(t,r)=>{r&&t!==r&&r.destroy(),t&&(t.activeLayerInfos=this.activeLayerInfos,t.type==="card"&&(t.view=this.view),t.headingLevel=this.headingLevel)},we)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(t){this.viewModel.activeLayerInfos=t}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(t){this.viewModel.basemapLegendVisible=t}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(t){this.viewModel.groundLegendVisible=t}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(t){this.viewModel.hideLayersNotInCurrentView=t}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(t){this.viewModel.keepCacheOnDestroy=t}get respectLayerDefinitionExpression(){return this.viewModel.respectLayerDefinitionExpression}set respectLayerDefinitionExpression(t){this.viewModel.respectLayerDefinitionExpression=t}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(t){this.viewModel.respectLayerVisibility=t}get icon(){return"legend"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(t){this.viewModel.layerInfos=t}castStyle(t){if(t instanceof SS||t instanceof Zh)return t;if(typeof t=="string")return t==="card"?new SS:new Zh;if(t&&typeof t.type=="string"){const r={...t};return delete r.type,t.type==="card"?new SS(r):new Zh(r)}return new Zh}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){return $("div",{class:this.classes(uOe.base,ve.widget,this.style instanceof Zh?ve.panel:null)},this.style.render())}_refreshActiveLayerInfos(t){t.forEach(r=>{this.removeHandles(`version_${r.layer.uid}`),this._renderOnActiveLayerInfoChange(r)}),this.scheduleRender()}_renderOnActiveLayerInfoChange(t){const r=U(()=>t.version,()=>this.scheduleRender());this.addHandles(r,`version_${t.layer.uid}`);const i=Er(()=>t.children,"change",()=>t.children.forEach(s=>this._renderOnActiveLayerInfoChange(s)),we);this.addHandles(i,`version_${t.layer.uid}`),t.children.forEach(s=>this._renderOnActiveLayerInfoChange(s))}};c([u()],Nr.prototype,"activeLayerInfos",null),c([u()],Nr.prototype,"basemapLegendVisible",null),c([u()],Nr.prototype,"groundLegendVisible",null),c([u()],Nr.prototype,"headingLevel",void 0),c([u()],Nr.prototype,"hideLayersNotInCurrentView",null),c([u()],Nr.prototype,"keepCacheOnDestroy",null),c([u()],Nr.prototype,"respectLayerDefinitionExpression",null),c([u()],Nr.prototype,"respectLayerVisibility",null),c([u()],Nr.prototype,"icon",null),c([u()],Nr.prototype,"label",null),c([u()],Nr.prototype,"layerInfos",null),c([u(),Jt("esri/widgets/Legend/t9n/Legend")],Nr.prototype,"messages",void 0),c([u()],Nr.prototype,"style",void 0),c([Oe("style")],Nr.prototype,"castStyle",null),c([u()],Nr.prototype,"view",null),c([u()],Nr.prototype,"viewModel",void 0),Nr=c([S("esri.widgets.Legend")],Nr);const Iie=Nr,fOe=Object.freeze(Object.defineProperty({__proto__:null,default:Iie},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const pOe=Wn`@layer{arcgis-legend{display:block}}`,hOe=e8(Iie);var vu;let mOe=(vu=class extends Ac{constructor(){super(...arguments),this.widget=hOe(this),this.viewModel=this.widget.viewModel,this.activeLayerInfos=this.widget.activeLayerInfos,this.autoDestroyDisabled=!1,this.basemapLegendVisible=this.widget.basemapLegendVisible,this.headingLevel=this.widget.headingLevel,this.hideLayersNotInCurrentView=this.widget.hideLayersNotInCurrentView,this.icon=this.widget.icon,this.label=this.widget.label,this.layerInfos=this.widget.layerInfos,this.legendStyle=this.widget.style,this.position="bottom-left",this.respectLayerDefinitionExpression=this.widget.respectLayerDefinitionExpression,this.respectLayerVisibilityDisabled=this.widget.respectLayerVisibility,this.state=this.viewModel.state,this.arcgisPropertyChange=zy()("state"),this.arcgisReady=xu()}async destroy(){await this.manager.destroy()}},vu.properties={activeLayerInfos:0,autoDestroyDisabled:5,basemapLegendVisible:5,headingLevel:9,hideLayersNotInCurrentView:5,icon:1,label:1,layerInfos:0,legendStyle:1,position:1,referenceElement:1,respectLayerDefinitionExpression:5,respectLayerVisibilityDisabled:5,state:3},vu.shadowRootOptions=Wo,vu.styles=pOe,vu);Du("arcgis-legend",mOe);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */function yOe(e){return e.map(t=>{let r="";for(let i=0;i<t;i++)r+=((1+Math.random())*65536|0).toString(16).substring(1);return r}).join("-")}const Cie=()=>yOe([2,1,1,1,3]),bOe=e=>(...t)=>{const r=ZB(),i=new e(...t),s=i.exports;WB(r.at(-1));const n=i.component.manager;n.W(i,s),i.watchExports(n.W.bind(n,i)),coe(i);const a=[i.component,...r].reverse();return JB(a,o=>o===void 0?void 0:gOe(i,o,s),s)},gOe=(e,{host:t,key:r,isReactive:i},s)=>{var p;const n=t,a=n[r]!==e.exports,o=n[r]!==s,l=s!==e.exports;if(a&&!o&&l&&(n[r]=e.exports),t===e.component){if(i){const m=e.component.manager;o&&m.W(e,n[r]),e.onUpdate(y=>{if(y.has(r)){const b=n[r];b!==e.exports&&m.W(e,b)}})}e.O=i?void 0:r}const f=(p=e.component.constructor.elementProperties.get(r))==null?void 0:p.readOnly;e.watchExports(()=>{n[r]!==e.exports&&(f?poe(()=>{n[r]=e.exports}):n[r]=e.exports)})},vOe=e=>Mie(void 0,e),Ket=e=>t=>Mie(t,e);class wOe extends eM{constructor(t,r){super(t);const i=this.exports;try{l0(this.component);const s=r(this.component,this),n=this.exports!==i;if(loe(s)){n||this.setProvisionalExports(s);const a=s.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this.P.reject(o),console.error(o)});this.onLoad(async()=>await a)}else(!n||s!==void 0)&&(this.exports=s),queueMicrotask(()=>super.catchUpLifecycle())}catch(s){this.P.reject(s),console.error(s)}}catchUpLifecycle(){}}const Mie=bOe(wOe),_Oe=(e,t)=>new SOe(e,t);var ny,ay,d2;class SOe extends eM{constructor(r,i){super();st(this,ny);st(this,ay);st(this,d2);We(this,ay,r),We(this,d2,i),We(this,ny,new MutationObserver(s=>{s.forEach(n=>{r.includes(n.attributeName)&&i.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})}))}hostConnected(){te(this,ay).forEach(r=>{this.component.el.hasAttribute(r)&&te(this,d2).call(this.component,null,this.component.el.getAttribute(r),r)}),te(this,ny).observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:te(this,ay)})}hostDisconnected(){te(this,ny).disconnect()}}ny=new WeakMap,ay=new WeakMap,d2=new WeakMap;const $Oe=e=>(t={})=>vOe((r,i)=>{const s=BB(r.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},a=r;i.onLifecycle(()=>Wae(r.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:d,lang:f})=>{const p={...d,_lang:f,_t9nLocale:l,_loading:!1};i.exports=p;const m=d.componentLabel;typeof m=="string"&&"label"in r&&r.label==null&&(r.label??(r.label=m)),o(a.messageOverrides)},t.name));const o=l=>{const d=i.exports,f=d._original??d,p=Aie(f,l);l&&(p._original=f),i.exports=p};return"messageOverrides"in a&&i.onUpdate(l=>{l.has("messageOverrides")&&o(a.messageOverrides)}),t.blocking?(i.setProvisionalExports(n,!1),i.ready):n}),Aie=(e,t)=>{if(!t)return e;const r={...e};return Object.entries(t).forEach(([i,s])=>{typeof s=="object"?r[i]=Aie(e[i],s):r[i]=s??e[i]}),r};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const a8=$Oe(oU);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const Jh={percentage:"percentage",progressRing:"ring--progress",ring:"ring",rings:"rings",text:"text",trackRing:"ring--track"},xOe=Wn`:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`,_6=class _6 extends u2{constructor(){super(...arguments),this.messages=a8({name:null}),this.complete=!1,this.inline=!1,this.scale="m",this.text="",this.type="indeterminate",this.value=0}connectedCallback(){super.connectedCallback(),this.updateFormatter()}load(){requestAnimationFrame(()=>this.valueChangeHandler())}willUpdate(t){t.has("value")&&(this.hasUpdated||this.value!==0)&&this.valueChangeHandler(),(t.has("type")&&(this.hasUpdated||this.type!=="indeterminate")||t.has("messages"))&&this.updateFormatter()}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}formatValue(){return this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100)}getSize(t){return{s:32,m:64,l:96}[t]}getInlineSize(t){return{s:12,m:16,l:24}[t]}updateFormatter(){var t;this.type!=="determinate-value"||((t=this.formatter)==null?void 0:t.resolvedOptions().locale)===this.messages._lang||(this.formatter=new Intl.NumberFormat(this.messages._lang,{style:"percent"}))}render(){const{el:t,inline:r,label:i,text:s,type:n,value:a}=this,o=t.id||Cie(),l=n!=="indeterminate",d=Math.floor(a);return this.el.ariaLabel=i,this.el.ariaValueMax=l?"100":void 0,this.el.ariaValueMin=l?"0":void 0,this.el.ariaValueNow=l?d.toString():void 0,Noe(this.el,"id",o),this.el.role="progressbar",ot`<div class=${Sr(Jh.rings)}>${this.renderRing("track")}${this.renderRing("progress")}${!r&&l&&ot`<div class=${Sr(Jh.percentage)}>${this.formatValue()}</div>`||""}</div>${!r&&s&&ot`<div class=${Sr(Jh.text)}>${s}</div>`||""}`}renderRing(t){const{inline:r,scale:i,value:s}=this,n=r?this.getInlineSize(i):this.getSize(i),o=n*.45;let l;if(t==="progress"){const d=2*o*Math.PI,f=(this.type.startsWith("determinate")?s:24)/100*d,p=d-f;l={"stroke-dasharray":`${f} ${p}`}}return ot`<svg aria-hidden=true class=${Sr({[Jh.ring]:!0,[Jh.trackRing]:t==="track",[Jh.progressRing]:t==="progress"})} style=${Poe(l)} viewBox=${`0 0 ${n} ${n}`}>${JS`<circle cx=${n/2} cy=${n/2} r=${o??He} />`}</svg>`}};_6.properties={complete:[7,{},{reflect:!0,type:Boolean}],inline:[7,{},{reflect:!0,type:Boolean}],label:1,scale:[3,{},{reflect:!0}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},_6.styles=xOe;let Bv=_6;f2("calcite-loader",Bv);const EOe=Object.freeze(Object.defineProperty({__proto__:null,Loader:Bv},Symbol.toStringTag,{value:"Module"})),X2=Object.freeze(Object.defineProperty({__proto__:null,Loader:Bv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nv=(e,t)=>{var i;const r=e._$AN;if(r===void 0)return!1;for(const s of r)(i=s._$AO)==null||i.call(s,t,!1),nv(s,t);return!0},a6=e=>{let t,r;do{if((t=e._$AM)===void 0)break;r=t._$AN,r.delete(e),e=t}while((r==null?void 0:r.size)===0)},kie=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(r===void 0)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),COe(t)}};function TOe(e){this._$AN!==void 0?(a6(this),this._$AM=e,kie(this)):this._$AM=e}function IOe(e,t=!1,r=0){const i=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(i))for(let n=r;n<i.length;n++)nv(i[n],!1),a6(i[n]);else i!=null&&(nv(i,!1),a6(i));else nv(this,e)}const COe=e=>{e.type==jd.CHILD&&(e._$AP??(e._$AP=IOe),e._$AQ??(e._$AQ=TOe))};let MOe=class extends WC{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,r,i){super._$AT(t,r,i),kie(this),this.isConnected=t._$AU}_$AO(t,r=!0){var i,s;t!==this.isConnected&&(this.isConnected=t,t?(i=this.reconnected)==null||i.call(this):(s=this.disconnected)==null||s.call(this)),r&&(nv(this,t),a6(this))}setValue(t){if(zB(this._$Ct))this._$Ct._$AI(t,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=t,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _C=()=>new AOe;let AOe=class{};const $S=new WeakMap,Uv=HC(class extends MOe{render(e){return He}update(e,[t]){var i;const r=t!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=t,this.ht=(i=e.options)==null?void 0:i.host,this.rt(this.ct=e.element)),He}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let r=$S.get(t);r===void 0&&(r=new WeakMap,$S.set(t,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){var e,t;return typeof this.G=="function"?(e=$S.get(this.ht??globalThis))==null?void 0:e.get(this.G):(t=this.G)==null?void 0:t.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */function o6(e,t,r){const i=kOe(e);return new i(t,r)}function kOe(e){class t extends window.MutationObserver{constructor(i){super(i),this.observedEntry=[],this.callback=i}observe(i,s){return this.observedEntry.push({target:i,options:s}),super.observe(i,s)}unobserve(i){const s=this.observedEntry.filter(n=>n.target!==i);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),s.forEach(n=>this.observe(n.target,n.options))}}return function(){return e==="intersection"?window.IntersectionObserver:e==="mutation"?t:window.ResizeObserver}()}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var LOe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],SC=LOe.join(","),Lie=typeof Element>"u",Gv=Lie?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,l6=!Lie&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},c6=function e(t,r){var i;r===void 0&&(r=!0);var s=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"inert"),n=s===""||s==="true",a=n||r&&t&&e(t.parentNode);return a},ROe=function(t){var r,i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"contenteditable");return i===""||i==="true"},OOe=function(t,r,i){if(c6(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(SC));return r&&Gv.call(t,SC)&&s.unshift(t),s=s.filter(i),s},FOe=function e(t,r,i){for(var s=[],n=Array.from(t);n.length;){var a=n.shift();if(!c6(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,d=e(l,!0,i);i.flatten?s.push.apply(s,d):s.push({scopeParent:a,candidates:d})}else{var f=Gv.call(a,SC);f&&i.filter(a)&&(r||!t.includes(a))&&s.push(a);var p=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),m=!c6(p,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(a));if(p&&m){var y=e(p===!0?a.children:p.children,!0,i);i.flatten?s.push.apply(s,y):s.push({scopeParent:a,candidates:y})}else n.unshift.apply(n,a.children)}}return s},Rie=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Oie=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ROe(t))&&!Rie(t)?0:t.tabIndex},POe=function(t,r){var i=Oie(t);return i<0&&r&&!Rie(t)?0:i},NOe=function(t,r){return t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex},Fie=function(t){return t.tagName==="INPUT"},DOe=function(t){return Fie(t)&&t.type==="hidden"},VOe=function(t){var r=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(i){return i.tagName==="SUMMARY"});return r},zOe=function(t,r){for(var i=0;i<t.length;i++)if(t[i].checked&&t[i].form===r)return t[i]},jOe=function(t){if(!t.name)return!0;var r=t.form||l6(t),i=function(o){return r.querySelectorAll('input[type="radio"][name="'+o+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=i(window.CSS.escape(t.name));else try{s=i(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var n=zOe(s,t.form);return!n||n===t},qOe=function(t){return Fie(t)&&t.type==="radio"},BOe=function(t){return qOe(t)&&!jOe(t)},UOe=function(t){var r,i=t&&l6(t),s=(r=i)===null||r===void 0?void 0:r.host,n=!1;if(i&&i!==t){var a,o,l;for(n=!!((a=s)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!n&&s;){var d,f,p;i=l6(s),s=(d=i)===null||d===void 0?void 0:d.host,n=!!((f=s)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(s))}}return n},kj=function(t){var r=t.getBoundingClientRect(),i=r.width,s=r.height;return i===0&&s===0},GOe=function(t,r){var i=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var n=Gv.call(t,"details>summary:first-of-type"),a=n?t.parentElement:t;if(Gv.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof s=="function"){for(var o=t;t;){var l=t.parentElement,d=l6(t);if(l&&!l.shadowRoot&&s(l)===!0)return kj(t);t.assignedSlot?t=t.assignedSlot:!l&&d!==t.ownerDocument?t=d.host:t=l}t=o}if(UOe(t))return!t.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return kj(t);return!1},HOe=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var r=t.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var s=r.children.item(i);if(s.tagName==="LEGEND")return Gv.call(r,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}r=r.parentElement}return!1},WOe=function(t,r){return!(r.disabled||c6(r)||DOe(r)||GOe(r,t)||VOe(r)||HOe(r))},Lj=function(t,r){return!(BOe(r)||Oie(r)<0||!WOe(t,r))},ZOe=function(t){var r=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},JOe=function e(t){var r=[],i=[];return t.forEach(function(s,n){var a=!!s.scopeParent,o=a?s.scopeParent:s,l=POe(o,a),d=a?e(s.candidates):o;l===0?a?r.push.apply(r,d):r.push(o):i.push({documentOrder:n,tabIndex:l,item:s,isScope:a,content:d})}),i.sort(NOe).reduce(function(s,n){return n.isScope?s.push.apply(s,n.content):s.push(n.content),s},[]).concat(r)},YOe=function(t,r){r=r||{};var i;return r.getShadowRoot?i=FOe([t],r.includeContainer,{filter:Lj.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:ZOe}):i=OOe(t,r.includeContainer,Lj.bind(null,r)),JOe(i)};const QOe={getShadowRoot:!0};function ttt(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${Cie()}`:""}function rtt(e){return Array.isArray(e)?e:Array.from(e)}function itt(e){const t=_h(e,`.${A8.darkMode}, .${A8.lightMode}, .${A8.autoMode}`);return t!=null&&t.classList.contains("calcite-mode-dark")||t!=null&&t.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function KOe(e){const t="dir",r=`[${t}]`,i=_h(e,r);return i?i.getAttribute(t):"ltr"}function stt(e){return e?parseFloat(getComputedStyle(e).inlineSize):0}function TL(e){return e.getRootNode()}function ntt(e){const t=TL(e);return"host"in t?t:null}function att(e,t){if(!e)return 0;const i=document.createElement("canvas").getContext("2d");return i.font=t,i.measureText(e).width}function Pie(e){return e.host||null}function IL(e,{selector:t,id:r}){if(!e)return null;e.assignedSlot&&(e=e.assignedSlot);const i=TL(e);return(r?"getElementById"in i?i.getElementById(r):null:t?i.querySelector(t):null)||IL(Pie(i),{selector:t,id:r})}function _h(e,t){return e?e.closest(t)||_h(Pie(TL(e)),t):null}function XOe(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function eFe(e){if(e)return XOe(e)?e.setFocus():e.focus()}function tFe(e){if(e)return YOe(e,QOe)[0]??e}function ott(e){var t;(t=tFe(e))==null||t.focus()}function ltt(e,t){return Array.from(e.children).filter(r=>r.matches(t))}function rFe(e,t){return e.filter(r=>r.matches(t))}function ctt(e,t,r){if(typeof t=="string"&&t!=="")return t;if(t===""||t===!0)return e[r]}function dtt(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function iFe(e){return(!!e).toString()}function sFe(e){return Nie(e)||oFe(e)}function nFe(e){return lFe(e).filter(t=>t.nodeType===Node.TEXT_NODE).map(t=>t.textContent).join("").trim()}function aFe(e){var t;for(const r of e.childNodes)if(r.nodeType===Node.TEXT_NODE&&((t=r.textContent)==null?void 0:t.trim())!==""||r.nodeType===Node.ELEMENT_NODE)return!0;return!1}function oFe(e){return!!nFe(e)}function lFe(e){return e.currentTarget.assignedNodes({flatten:!0})}function Nie(e){return!!cFe(e).length}function cFe(e,t){return dFe(e.target,t)}function dFe(e,t){const r=e.assignedElements({flatten:!0});return t?rFe(r,t):r}function utt(e){return!!(e.isPrimary&&e.button===0)}function ftt(e){return e.detail===0}const ptt=(e,t,r,i=!0)=>{const s=e.indexOf(t),n=s===0,a=s===e.length-1;i&&(r=r==="previous"&&n?"last":r==="next"&&a?"first":r);let o;return r==="previous"?o=e[s-1]||e[i?e.length-1:s]:r==="next"?o=e[s+1]||e[i?0:s]:r==="last"?o=e[e.length-1]:o=e[0],eFe(o),o};function uFe(e,t){if(e.parentNode!==t.parentNode)return!1;const r=Array.from(e.parentNode.children);return r.indexOf(e)<r.indexOf(t)}async function htt(e,t,r,i){return Die(e,t,"animation",r,i)}async function mtt(e,t,r,i){return Die(e,t,"transition",r,i)}async function fFe(e,t){await $C(),e==null||e(),await $C(),t==null||t()}function Rj(e,t,r){const i=t==="transition"?"transitionProperty":"animationName";return e.getAnimations().find(s=>s[i]===r)}async function Die(e,t,r,i,s){let n=Rj(e,r,t);if(n||(await $C(),n=Rj(e,r,t)),!n)return fFe(i,s);i==null||i();try{await n.finished}catch{}finally{s==null||s()}}function $C(){return new Promise(e=>requestAnimationFrame(()=>e()))}function ytt(e){switch(!0){case e.endsWith("px"):return parseFloat(e);case e.endsWith("vw"):return window.innerWidth/100*parseFloat(e);case e.endsWith("vh"):return window.innerHeight/100*parseFloat(e);default:return 0}}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const Oj={scrim:"scrim",content:"content"},Fj={s:72,l:480},pFe=Wn`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,S6=class S6 extends u2{constructor(){super(...arguments),this.resizeObserver=o6("resize",()=>this.handleResize()),this.messages=a8(),this.hasContent=!1,this.loading=!1}connectedCallback(){var t;super.connectedCallback(),(t=this.resizeObserver)==null||t.observe(this.el)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.resizeObserver)==null||t.disconnect()}handleDefaultSlotChange(t){this.hasContent=sFe(t)}storeLoaderEl(t){this.loaderEl=t,this.handleResize()}getScale(t){return t<Fj.s?"s":t>=Fj.l?"l":"m"}handleResize(){const{loaderEl:t,el:r}=this;t&&(this.loaderScale=this.getScale(Math.min(r.clientHeight,r.clientWidth)??0))}render(){const{hasContent:t,loading:r,messages:i}=this;return ot`<div class=${Sr(Oj.scrim)}>${r?ot`<calcite-loader .label=${i.loading} .scale=${this.loaderScale} ${Uv(this.storeLoaderEl)}></calcite-loader>`:null}<div class=${Sr(Oj.content)} .hidden=${!t}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};S6.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},S6.styles=pFe;let Hv=S6;f2("calcite-scrim",Hv);const hFe=Object.freeze(Object.defineProperty({__proto__:null,Scrim:Hv},Symbol.toStringTag,{value:"Module"})),mFe=Object.freeze(Object.defineProperty({__proto__:null,Scrim:Hv},Symbol.toStringTag,{value:"Module"}));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const Pj=new Set,Nj={trace:0,debug:1,info:2,warn:4,error:8,off:10};function yFe(e){return Nj[e]>=Nj[zoe]}function t0(e,...t){if(!yFe(e))return;console[e].call(this,"%ccalcite","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",...t)}let xS;const Vie={debug:e=>t0("debug",e),info:e=>t0("info",e),warn:e=>t0("warn",e),error:e=>t0("error",e),trace:e=>t0("trace",e),deprecated:bFe};function bFe(e,{component:t,name:r,suggested:i,removalVersion:s}){const n=`${e}:${e==="component"?"":t}${r}`;if(Pj.has(n))return;Pj.add(n);const a=Array.isArray(i);a&&!xS&&(xS=new Intl.ListFormat("en",{style:"long",type:"disjunction"}));const o=`[${r}] ${e} is deprecated and will be removed in ${s==="future"?"a future version":`v${s}`}.${i?` Use ${a?xS.format(i.map(l=>`"${l}"`)):`"${i}"`} instead.`:""}`;t0("warn",o)}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const gFe={flipRtl:"flip-rtl"},zie={},ES={},jie={s:16,m:24,l:32};function qie({icon:e,scale:t}){const r=jie[t],i=_Fe(e),s=i.charAt(i.length-1)==="F";return`${s?i.substring(0,i.length-1):i}${r}${s?"F":""}`}async function vFe(e){const t=qie(e),r=Bie(t);if(r)return r;ES[t]||(ES[t]=fetch(oU(`./assets/icon/${t}.json`)).then(s=>s.json()).catch(()=>(Vie.error(`${e.icon} (${e.scale}) icon failed to load`),"")));const i=await ES[t];return zie[t]=i,i}function wFe(e){return Bie(qie(e))}function Bie(e){return zie[e]}function _Fe(e){const t=!isNaN(Number(e.charAt(0))),r=e.split("-");if(r.length>0){const s=/[a-z]/i;e=r.map((n,a)=>n.replace(s,function(l,d){return a===0&&d===0?l:l.toUpperCase()})).join("")}return t?`i${e}`:e}const SFe=Wn`:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`,$6=class $6 extends u2{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale="m"}connectedCallback(){if(super.connectedCallback(),this.preload){this.visible=!0,this.loadIconPathData();return}this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}willUpdate(t){(t.has("icon")&&(this.hasUpdated||this.icon!==null)||t.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.loadIconPathData()}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.intersectionObserver)==null||t.disconnect(),this.intersectionObserver=null}async loadIconPathData(){const{icon:t,scale:r,visible:i}=this;if(!t||!i)return;const s={icon:t,scale:r},n=wFe(s)||await vFe(s);t===this.icon&&(this.pathData=n)}waitUntilVisible(t){if(this.intersectionObserver=o6("intersection",r=>{r.forEach(i=>{i.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,t())})},{rootMargin:"50px"}),!this.intersectionObserver){t();return}this.intersectionObserver.observe(this.el)}render(){const{el:t,flipRtl:r,pathData:i,scale:s,textLabel:n}=this,a=KOe(t),o=jie[s],l=!!n,d=[].concat(i||"");return this.el.ariaHidden=iFe(!l),this.el.ariaLabel=l?n:null,this.el.role=l?"img":null,ot`<svg aria-hidden=true class=${Sr({[gFe.flipRtl]:a==="rtl"&&r,svg:!0})} fill=currentColor height=100% viewBox=${`0 0 ${o} ${o}`} width=100% xmlns=http://www.w3.org/2000/svg>${d.map(f=>typeof f=="string"?JS`<path d=${f??He} />`:JS`<path d=${f.d??He} opacity=${("opacity"in f?f.opacity:1)??He} />`)}</svg>`}};$6.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1},$6.styles=SFe;let Wv=$6;f2("calcite-icon",Wv);const $Fe=Object.freeze(Object.defineProperty({__proto__:null,Icon:Wv},Symbol.toStringTag,{value:"Module"})),Sh=Object.freeze(Object.defineProperty({__proto__:null,Icon:Wv},Symbol.toStringTag,{value:"Module"}));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */function av(e){return e==="l"?"m":"s"}function btt(e,t,r){!e[t]&&!e[r]&&Vie.warn(`[${e.el.localName}] "${t.toString()}" or "${r.toString()}" is required.`)}function gtt(e){return e.hidden||e.itemHidden}async function Uie(e){await e.componentOnReady(),await e.updateComplete}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */function xFe(){const{disabled:e}=this;e||HTMLElement.prototype.click.call(this)}function Gie(e){e.target.disabled&&e.preventDefault()}const Hie=["mousedown","mouseup","click"];function Wie(e){e.target.disabled&&(e.stopImmediatePropagation(),e.preventDefault())}const d6={capture:!0};function Zie(e){if(e.disabled){e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),EFe(e);return}IFe(e),e.el.removeAttribute("aria-disabled")}function EFe(e){e.el.click=xFe,TFe(e.el)}function TFe(e){e.addEventListener("pointerdown",Gie,d6),Hie.forEach(t=>e.addEventListener(t,Wie,d6))}function IFe(e){delete e.el.click,CFe(e.el)}function CFe(e){e.removeEventListener("pointerdown",Gie,d6),Hie.forEach(t=>e.removeEventListener(t,Wie,d6))}const MFe={container:"interaction-container"},Jie=({children:e,disabled:t})=>ot`<div class=${Sr(MFe.container)} .inert=${t}>${e}</div>`;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */function AFe(e){return e==="Enter"||e===" "}const vtt=["0","1","2","3","4","5","6","7","8","9"];/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const hi={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",textSlotted:"text--slotted",container:"container",imageSlotted:"image--slotted",closable:"closable",multiple:"multiple",single:"single",selectable:"selectable",selectIcon:"select-icon",selectIconActive:"select-icon--active",nonInteractive:"non-interactive",isCircle:"is-circle",selected:"selected"},kFe={image:"image"},P3={close:"x",checkedSingle:"circle-f",uncheckedMultiple:"square",checkedMultiple:"check-square-f"},LFe=Wn`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-flex;cursor:default;border-radius:var(--calcite-chip-corner-radius, 9999px)}:host([closed]){display:none}:host([appearance=outline]) .container,:host([appearance=outline-fill]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([appearance=outline]) .close,:host([appearance=outline-fill]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([appearance=outline]):host([kind=brand]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand))}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=inverse]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-inverse))}:host([appearance=outline]):host([kind=neutral]),:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-1))}:host([appearance=outline]){--calcite-internal-chip-background-color: transparent}:host([appearance=outline-fill]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-1))}:host([appearance=solid]){--calcite-internal-chip-border-color: transparent}:host([appearance=solid]):host([kind=brand]) .container,:host([appearance=solid]):host([kind=inverse]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-inverse))}:host([appearance=solid]):host([kind=brand]) .close,:host([appearance=solid]):host([kind=inverse]) .close{outline-color:var(--calcite-color-text-inverse)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-brand))}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-inverse))}:host([appearance=solid]):host([kind=inverse]) .close:hover{background-color:var(--calcite-color-inverse-hover)}:host([appearance=solid]):host([kind=inverse]) .close:active{background-color:var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-2))}:host([kind=neutral]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([kind=neutral]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([selected]) .select-icon{opacity:1}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-border-3)}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-inverse-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-brand-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline-fill]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press)}:host([scale=s]) .container{--calcite-internal-chip-block-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--2);--calcite-internal-chip-icon-size: var(--calcite-size-xs, 1rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-image-size: var(--calcite-spacing-xl, 1.25rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-close-size: var(--calcite-size-xs, 1rem) }:host([scale=s]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px)}:host([scale=s]) .container.image--slotted:has(.chip-icon),:host([scale=s]) .container.image--slotted.text--slotted,:host([scale=s]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.image--slotted:not(.text--slotted,:has(.chip-icon)),:host([scale=s]) .container.image--slotted:not(.selectable){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=s]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.multiple:not(.is-circle).image--slotted:not(.text--slotted){--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container{--calcite-internal-chip-block-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--1);--calcite-internal-chip-icon-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-image-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-close-size: var(--calcite-size-sm, 1.5rem) }:host([scale=m]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=m]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.image--slotted:has(.chip-icon),:host([scale=m]) .container.image--slotted.text--slotted,:host([scale=m]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=m]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.multiple:not(.is-circle){--calcite-internal-chip-select-space-x-end: .125rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=m]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container{--calcite-internal-chip-block-size: 2.75rem ;--calcite-internal-chip-container-space-x-end: .5rem ;--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-font-size: var(--calcite-font-size-0);--calcite-internal-chip-icon-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-icon-space: .5rem ;--calcite-internal-chip-image-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-title-space: .5rem ;--calcite-internal-close-size: var(--calcite-size-md, 2rem) }:host([scale=l]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.image--slotted:has(.chip-icon),:host([scale=l]) .container.image--slotted.text--slotted,:host([scale=l]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: .5rem }:host([scale=l]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=l]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: .5rem }:host([scale=l]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .75rem }:host([scale=l]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) }.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-internal-chip-background-color);border-color:var(--calcite-internal-chip-border-color);border-radius:var(--calcite-chip-corner-radius, 9999px);border-width:var(--calcite-border-width-sm);border-style:solid;font-size:var(--calcite-internal-chip-font-size, var(--calcite-font-size));padding-inline-start:var(--calcite-internal-chip-container-space-x-start);padding-inline-end:var(--calcite-internal-chip-container-space-x-end);block-size:var(--calcite-internal-chip-block-size, auto);inline-size:var(--calcite-internal-chip-inline-size, auto);min-inline-size:var(--calcite-internal-chip-block-size, auto)}.container:hover .select-icon--active{opacity:var(--calcite-opacity-full, 1)}.container.selectable{cursor:pointer}.container.selectable:hover{background-color:var(--calcite-internal-chip-selectable-hover-background-color);border-color:var(--calcite-internal-chip-selectable-hover-border-color)}.container.selectable:active{background-color:var(--calcite-internal-chip-selectable-active-background-color);border-color:var(--calcite-internal-chip-selectable-active-border-color)}.container:not(.non-interactive):focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container:not(.text--slotted) .title,.container:not(.image--slotted) .image-container{display:none}.container.is-circle .chip-icon,.container.is-circle .image-container{padding:var(--calcite-spacing-none, 0)}.title{padding-inline:var(--calcite-internal-chip-title-space)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none;block-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));padding-inline-start:var(--calcite-spacing-none, 0);padding-inline-end:var(--calcite-internal-chip-image-space-x-end, 0)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);color:var(--calcite-chip-icon-color, var(--calcite-chip-text-color, var(--calcite-icon-color, currentColor)));padding-inline:var(--calcite-internal-chip-icon-space, var(--calcite-spacing-xs, .375rem))}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:absolute;visibility:hidden;inline-size:auto;opacity:0;transition:opacity .15s ease-in-out,inline-size .15s ease-in-out;color:var(--calcite-chip-select-icon-color, currentColor)}.select-icon.select-icon--active{position:relative;visibility:visible;opacity:var(--calcite-opacity-half, .5);color:var(--calcite-chip-select-icon-color-press, var(--calcite-chip-select-icon-color-pressed, var(--calcite-chip-select-icon-color, currentColor)))}.multiple .select-icon{display:flex;align-items:center;justify-content:center}.multiple .select-icon,.single .select-icon--active{padding-inline-start:var(--calcite-internal-chip-select-space-x-start);padding-inline-end:var(--calcite-internal-chip-select-space-x-end);block-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem))}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.close{margin:0;cursor:pointer;align-items:center;border-radius:50%;border-style:none;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-close-background-color, var(--calcite-color-transparent));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, currentColor));block-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));padding:0}.close:hover,.close:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-transparent-hover))}.close:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.close calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,x6=class x6 extends u2{constructor(){super(),this.closeButtonEl=_C(),this.containerEl=_C(),this.messages=a8(),this.hasImage=!1,this.hasText=!1,this.appearance="solid",this.closable=!1,this.closed=!1,this.closeOnDelete=!1,this.disabled=!1,this.iconFlipRtl=!1,this.interactive=!1,this.kind="neutral",this.scale="m",this.selected=!1,this.selectionMode="none",this.calciteChipClose=Sb({cancelable:!1}),this.calciteChipSelect=Sb({cancelable:!1}),this.calciteInternalChipKeyEvent=Sb({cancelable:!1}),this.calciteInternalChipSelect=Sb({cancelable:!1}),this.calciteInternalSyncSelectedChips=Sb({cancelable:!1}),this.listen("keydown",this.keyDownHandler),this.listen("click",this.clickHandler)}async setFocus(){var t,r;await Uie(this),!this.disabled&&this.interactive?(t=this.containerEl.value)==null||t.focus():!this.disabled&&this.closable&&((r=this.closeButtonEl.value)==null||r.focus())}async load(){this.updateHasText()}willUpdate(t){t.has("selected")&&this.hasUpdated&&this.watchSelected(this.selected)}updated(){Zie(this)}loaded(){this.selectionMode!=="none"&&this.interactive&&this.selected&&this.handleSelectionPropertyChange(this.selected)}watchSelected(t){this.selectionMode!=="none"&&this.handleSelectionPropertyChange(t)}keyDownHandler(t){if(t.target===this.el)switch(t.key){case" ":case"Enter":this.handleEmittingEvent(),t.preventDefault();break;case"Backspace":case"Delete":this.closable&&!this.closed&&this.closeOnDelete&&(t.preventDefault(),this.close());break;case"ArrowRight":case"ArrowLeft":case"Home":case"End":this.calciteInternalChipKeyEvent.emit(t),t.preventDefault();break}}clickHandler(){!this.interactive&&this.closable&&this.closeButtonEl.value.focus()}handleDefaultSlotChange(){this.updateHasText()}close(){this.calciteChipClose.emit(),this.selected=!1,this.closed=!0}closeButtonKeyDownHandler(t){AFe(t.key)&&(t.preventDefault(),this.close())}updateHasText(){this.hasText=this.el.textContent.trim().length>0}handleSlotImageChange(t){this.hasImage=Nie(t)}handleEmittingEvent(){this.interactive&&this.calciteChipSelect.emit()}handleSelectionPropertyChange(t){this.selectionMode==="single"&&this.calciteInternalSyncSelectedChips.emit(),!this.parentChipGroup.selectedItems.includes(this.el)&&t&&this.selectionMode!=="multiple"&&this.calciteInternalChipSelect.emit(),this.selectionMode!=="single"&&this.calciteInternalSyncSelectedChips.emit()}renderChipImage(){return ot`<div class=${Sr(hi.imageContainer)}><slot name=${kFe.image} @slotchange=${this.handleSlotImageChange}></slot></div>`}renderSelectionIcon(){const t=this.selectionMode==="multiple"?this.selected?P3.checkedMultiple:P3.uncheckedMultiple:this.selected?P3.checkedSingle:void 0;return ot`<div class=${Sr({[hi.selectIcon]:!0,[hi.selectIconActive]:this.selectionMode==="multiple"||this.selected})}>${t?ot`<calcite-icon .icon=${t} .scale=${av(this.scale)}></calcite-icon>`:null}</div>`}renderCloseButton(){return ot`<button .ariaLabel=${this.messages.dismissLabel} class=${Sr(hi.close)} @click=${this.close} @keydown=${this.closeButtonKeyDownHandler} .tabIndex=${this.disabled?-1:0} ${Uv(this.closeButtonEl)}><calcite-icon .icon=${P3.close} .scale=${av(this.scale)}></calcite-icon></button>`}renderIcon(){return ot`<calcite-icon class=${Sr(hi.chipIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.icon} .scale=${av(this.scale)}></calcite-icon>`}render(){const{disabled:t}=this,r=t||!t&&!this.interactive,i=this.selectionMode==="multiple"&&this.interactive?"checkbox":this.selectionMode!=="none"&&this.interactive?"radio":this.interactive?"button":"img";return Jie({disabled:t,children:ot`<div .ariaChecked=${this.selectionMode!=="none"&&this.interactive?this.selected:void 0} .ariaLabel=${this.label} class=${Sr({[hi.container]:!0,[hi.textSlotted]:this.hasText,[hi.imageSlotted]:this.hasImage,[hi.selectable]:this.selectionMode!=="none",[hi.multiple]:this.selectionMode==="multiple",[hi.single]:this.selectionMode==="single"||this.selectionMode==="single-persist",[hi.selected]:this.selected,[hi.closable]:this.closable,[hi.nonInteractive]:!this.interactive,[hi.isCircle]:!this.closable&&!this.hasText&&(!this.icon||!this.hasImage)&&(this.selectionMode==="none"||!!this.selectionMode&&this.selectionMode!=="multiple"&&!this.selected)})} @click=${this.handleEmittingEvent} .role=${i} .tabIndex=${r?-1:0} ${Uv(this.containerEl)}>${this.selectionMode!=="none"&&this.renderSelectionIcon()||""}${this.renderChipImage()}${this.icon&&this.renderIcon()||""}<span class=${Sr(hi.title)}><slot @slotchange=${this.handleDefaultSlotChange}></slot></span>${this.closable&&this.renderCloseButton()||""}</div>`})}};x6.properties={hasImage:[16,{},{state:!0}],hasText:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],closeOnDelete:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],interactive:[5,{},{type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],parentChipGroup:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionMode:1,value:1},x6.styles=LFe;let Zv=x6;f2("calcite-chip",Zv);const RFe=Object.freeze(Object.defineProperty({__proto__:null,Chip:Zv},Symbol.toStringTag,{value:"Module"})),Yie=Object.freeze(Object.defineProperty({__proto__:null,Chip:Zv},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const $0={disabled:"esri-disabled",empty:"esri-widget__content--empty",heading:"esri-widget__heading",loaderAnimation:"esri-widget__loader-animation",panel:"esri-widget--panel",widget:"esri-widget esri-component"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const Ns="esri-basemap-gallery",Xs={base:Ns,sourceLoading:`${Ns}--source-loading`,layoutGrid:`${Ns}--grid`,narrowItems:`${Ns}--narrow-items`,loader:`${Ns}__loader`,item:`${Ns}__item`,itemContainer:`${Ns}__item-container`,itemContent:`${Ns}__item-content`,itemTitle:`${Ns}__item-title`,itemTagsContainer:`${Ns}__item-tags-container`,itemThumbnail:`${Ns}__item-thumbnail`,selectedItem:`${Ns}__item--selected`,itemError:`${Ns}__item--error`};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */function OFe(e){var t;return((t=e.portalItem)==null?void 0:t.type)==="Web Scene"||e.referenceLayers.some(r=>r.type==="scene")}function FFe(e){var t,r;return!!((r=(t=e==null?void 0:e.portalItem)==null?void 0:t.tags)!=null&&r.some(i=>i.toLowerCase()==="beta"))}var Hp;let PFe=(Hp=class extends Ac{constructor(){super(...arguments),this._itemState="loading",this._isActive=!1}loaded(){this.manager.onLifecycle(()=>[U(()=>this.item.state,t=>{this._itemState=t},{sync:!0}),U(()=>this.viewModel.activeBasemap,t=>{var r;this._isActive=this.item.basemap.id===(t==null?void 0:t.id),this._isActive&&((r=this.el.childElem)==null||r.focus(),this.el.scrollIntoView({block:"nearest"}))},{initial:!0,sync:!0})])}render(){var g,v;const{disabled:t,item:r,itemIndex:i,viewModel:s,messages:n}=this,a=r.basemap.thumbnailUrl||wU("assets/basemap-gallery/images/basemap-toggle-64.svg"),o=r.basemap.title,l=(g=r.basemap.portalItem)==null?void 0:g.snippet,d=((v=r.error)==null?void 0:v.message)||l||o,{activeBasemapIndex:f}=s,p=f===i,m=p||f===-1&&i===0?0:-1,y={[Xs.selectedItem]:p,[Xs.itemError]:r.state==="error"},b=`basemapgallery-item-${r.uid}`;return ot`<div .ariaChecked=${p} .ariaDisabled=${t} aria-labelledby=${b??nc} class=${$s(I0(Xs.item,y))} role=radio tabindex=${m??nc} title=${d??nc} @click=${()=>{r.state==="ready"&&(s.activeBasemap=r.basemap)}}><img alt class=${$s(Xs.itemThumbnail)} src=${a??nc}><div class=${$s(Xs.itemContent)}><div class=${$s(Xs.itemTitle)}><span id=${b??nc}>${o}</span></div>${OFe(r.basemap)?NFe(r.basemap,n):null}</div>${r.state!=="loading"?null:ot`<calcite-scrim><span aria-hidden=true class=${$s($0.loaderAnimation)} role=presentation></span></calcite-scrim>`}</div>`}},Hp.properties={_itemState:16,_isActive:16,disabled:5,item:0,itemIndex:9,viewModel:0,messages:0},Hp.shadowRootOptions=Wo,Hp);function NFe(e,t){return ot`<div class=${$s(Xs.itemTagsContainer)}>${DFe(t)}${FFe(e)?VFe(t):null}</div>`}function DFe(e){return ot`<calcite-chip scale=s .label=${e.tag3D}>${e.tag3D}</calcite-chip>`}function VFe(e){return ot`<calcite-chip appearance=outline-fill scale=s .label=${e.tagBeta}>${e.tagBeta}</calcite-chip>`}Du("arcgis-basemap-gallery-item",PFe);var jo;(function(e){e[e.NORTH=0]="NORTH",e[e.NORTH_EAST=1]="NORTH_EAST",e[e.EAST=2]="EAST",e[e.SOUTH_EAST=3]="SOUTH_EAST",e[e.SOUTH=4]="SOUTH",e[e.SOUTH_WEST=5]="SOUTH_WEST",e[e.WEST=6]="WEST",e[e.NORTH_WEST=7]="NORTH_WEST"})(jo||(jo={}));function zFe(e){return Qie(e)||HM(e)||WM(e)}function Qie(e){return Cu(e)||U$(e)}const jFe=12;let bc=class hs{constructor(t){const r=hs.checkUnsupported(t);if(r!=null)throw r;const i=t;this.spatialReference=i.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=zu(this.spatialReference),this.origin=[i.origin.x,i.origin.y],this.pixelSize=i.size[0],this.dpi=i.dpi;const s=i.lods.reduce((d,f)=>(f.level<d.minLod.level&&(d.minLod=f),d.max=Math.max(d.max,f.level),d),{minLod:i.lods[0],max:-1/0}),n=s.minLod,a=2**n.level;let o=n.resolution*a,l=n.scale*a;this.levels=new Array(s.max+1);for(let d=0;d<this.levels.length;d++)this.levels[d]={resolution:o,scale:l,tileSize:[o*i.size[0],o*i.size[1]]},o/=2,l/=2}clone(){return new hs(this.toTileInfo())}toTileInfo(){return new j1({dpi:this.dpi,origin:new xe({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((t,r)=>new On({level:r,scale:t.scale,resolution:t.resolution}))})}getExtent(t,r,i,s){const n=this.levels[t],a=n.tileSize[0],o=n.tileSize[1];s[0]=this.origin[0]+i*a,s[2]=this.origin[0]+(i+1)*a,s[3]=this.origin[1]-r*o,s[1]=this.origin[1]-(r+1)*o}convertExtentToRadians(t,r){this._isWebMercator?(r[0]=kO(t[0]),r[1]=LO(t[1]),r[2]=kO(t[2]),r[3]=LO(t[3])):this._isGCS&&(r[0]=Jd(t[0]),r[1]=Jd(t[1]),r[2]=Jd(t[2]),r[3]=Jd(t[3]))}getExtentGeometry(t,r,i,s=new ht){return this.getExtent(t,r,i,to),s.spatialReference=this.spatialReference,s.xmin=to[0],s.ymin=to[1],s.xmax=to[2],s.ymax=to[3],s.zmin=void 0,s.zmax=void 0,s}ensureMaxLod(t){if(t==null)return!1;let r=!1;for(;this.levels.length<=t;){const{resolution:i,scale:s}=this.levels[this.levels.length-1],n=i/2*this.pixelSize;this.levels.push({resolution:i/2,scale:s/2,tileSize:[n,n]}),r=!0}return r}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const r=this.levels[0].scale;return t>=r?0:Math.log(r/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t,r=1/0){if(hs.checkUnsupported(t))return!1;const i=new hs(t);if(!i.spatialReference.equals(this.spatialReference)||i.pixelSize!==this.pixelSize)return!1;const s=Math.min(this.levels.length-1,i.levels.length-1,r),n=this.levels[s].resolution;let a=.5*n;return!Ts(i.origin[0],this.origin[0],a)||!Ts(i.origin[1],this.origin[1],a)?!1:(a=.5*n/2**s/this.pixelSize*jFe,Ts(n,i.levels[s].resolution,a))}rootTilesInExtent(t,r=null,i=1/0){const s=new Array,n=this.levels[0].tileSize;if(t==null||n[0]===0||n[1]===0)return s;hs.computeRowColExtent(t,n,this.origin,to);let a=to[1],o=to[3],l=to[0],d=to[2];const f=d-l,p=o-a;if(f*p>i){const m=Math.floor(Math.sqrt(i));p>m&&(a=a+Math.floor(.5*p)-Math.floor(.5*m),o=a+m),f>m&&(l=l+Math.floor(.5*f)-Math.floor(.5*m),d=l+m)}for(let m=a;m<o;m++)for(let y=l;y<d;y++)s.push([0,m,y]);return r!=null&&(r[0]=this.origin[0]+l*n[0],r[1]=this.origin[1]-o*n[1],r[2]=this.origin[0]+d*n[0],r[3]=this.origin[1]-a*n[1]),s}static computeRowColExtent(t,r,i,s){const n=.001*(t[2]-t[0]+(t[3]-t[1]));s[0]=Math.max(0,Math.floor((t[0]+n-i[0])/r[0])),s[2]=Math.max(0,Math.ceil((t[2]-n-i[0])/r[0])),s[1]=Math.max(0,Math.floor((i[1]-t[3]+n)/r[1])),s[3]=Math.max(0,Math.ceil((i[1]-t[1]-n)/r[1]))}static isPowerOfTwo(t){const r=t.lods,i=r[0].resolution*2**r[0].level;return!r.some(s=>!gue(s.resolution,i/2**s.level))}static hasGapInLevels(t){const r=t.lods.map(i=>i.level);r.sort((i,s)=>i-s);for(let i=1;i<r.length;i++)if(r[i]!==r[0]+i)return!0;return!1}static tileSizeSupported(t){const r=t.size[1];return r===t.size[0]&&!(r&r-1)&&r>=128&&r<=512}static hasOriginPerLODs(t){const r=t.origin;return t.lods.some(i=>i.origin!=null&&(i.origin[0]!==r.x||i.origin[1]!==r.y))}static getMissingTileInfoError(){return new I("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return t==null?CL():t.lods.length<1?new I("tilingscheme:generic","Tiling scheme must have at least one level"):hs.isPowerOfTwo(t)?hs.hasGapInLevels(t)?new I("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):hs.tileSizeSupported(t)?hs.hasOriginPerLODs(t)?new I("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new I("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new I("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,r){const i=t[2]-t[0],s=t[3]-t[1],n=Rs(r),a=1.2*Math.max(i,s),o=256,l=a/o,d=l*n*(96/.0254),f=new hs(new j1({size:[o,o],origin:new xe({x:t[0]-.5*(a-i),y:t[3]+.5*(a-s)}),lods:[new On({level:0,resolution:l,scale:d})],spatialReference:r}));return f.ensureMaxLod(20),f}static makeWebMercatorAuxiliarySphere(t){const r=new hs(hs.WebMercatorAuxiliarySphereTileInfo);return r.ensureMaxLod(t),r}static makeGCSWithTileSize(t,r=256,i=16){const s=256/r,n=new hs(new j1({size:[r,r],origin:new xe({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new On({level:0,resolution:.703125*s,scale:295497598570834e-6*s})]}));return n.ensureMaxLod(i),n}get test(){}};function CL(){return new I("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}bc.WebMercatorAuxiliarySphereTileInfo=new j1({size:[256,256],origin:new xe({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:me.WebMercator}),spatialReference:me.WebMercator,lods:[new On({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),bc.WebMercatorAuxiliarySphere=bc.makeWebMercatorAuxiliarySphere(19);const to=zr(),Dj=64;vue(E$/10);const qFe=zr();bc.WebMercatorAuxiliarySphere.getExtent(0,0,0,qFe);zr([-180,-90,180,90]);function BFe(e,t,r,i){if(e==null)return CL();const s=e.spatialReference;if(s.isGeographic&&!Qie(s))return new I("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");const n=bc.checkUnsupported(e);return n??(r==null?new I("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):UFe(e,r)||(t==null||s.equals(t)||t.isWGS84&&s.isWebMercator?null:new I("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function UFe(e,t){const r=e.lods,i=r[0].resolution*2**r[0].level,s=[i*e.size[0],i*e.size[1]],n=[e.origin.x,e.origin.y],a=Xpe(t),o=zr();bc.computeRowColExtent(a,s,n,o);const l=(o[2]-o[0])*(o[3]-o[1]);if(l>Dj){const d=r[0].scale*2**r[0].level;let f=Math.max((a[3]-a[1])/e.size[1],(a[2]-a[0])/e.size[0])*d/i;const p=Math.floor(Math.log(f)/Math.log(10));return f=Math.ceil(f/10**p)*10**p,new I("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(d).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+f.toLocaleString()+".",{level0Scale:d,suggestedLevel0Scale:f,requiredNumRootTiles:l,allowedNumRootTiles:Dj})}return null}const GFe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:BFe},Symbol.toStringTag,{value:"Module"}));function HFe(e,t,r,i){if(e==null)return CL();const s=(e==null?void 0:e.lods.length)-1,n=e.spatialReference;if(n.isWebMercator){if(!bc.makeWebMercatorAuxiliarySphere(s).compatibleWith(e,i))return new I("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!zFe(n))return new I("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!bc.makeGCSWithTileSize(e.spatialReference,e.size[0],s).compatibleWith(e,i))return e.spatialReference.isWGS84?new I("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new I("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return t==null||e.spatialReference.equals(t)?null:new I("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}const WFe=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:HFe},Symbol.toStringTag,{value:"Module"})),ZFe={[Ic.Global]:WFe,[Ic.Local]:GFe};function xC(e,t,r,i,s){return ZFe[i].checkIfTileInfoSupportedForViewSR(e,r,t,s)}function JFe(e,t,r){const i=n1e(e);if(i!=null){if(!W.isCollection(i))return{tileInfo:i.tileInfo,fullExtent:i.fullExtent};{const s=i.find(n=>xC(n.tileInfo,n.fullExtent,t,r)==null);if(s)return{tileInfo:s.tileInfo,fullExtent:s.fullExtent}}}return{tileInfo:null,fullExtent:null}}jo.NORTH,jo.EAST,jo.SOUTH,jo.WEST;jo.NORTH_EAST,jo.SOUTH_EAST,jo.SOUTH_WEST,jo.NORTH_WEST;function YFe(e,t){return e!=null&&(t==null||(t===Ic.Local?!e.isGeographic||e.isWGS84||e.wkid===Fn.CGCS2000:e.isWebMercator||e.isWGS84||e.wkid===Fn.CGCS2000||e.wkid===Fn.GCSMARS2000||e.wkid===Fn.GCSMARS2000_SPHERE||e.wkid===Fn.GCSMOON2000))}async function QFe(e,t={}){const{basemap:r,view:i}=e;await r.load(t),XFe(r),await tPe(r,i,t),Ce(t)}async function KFe(e,t={}){var o,l;const{basemap:r,view:i}=e;Ce(t);const s=(o=r.baseLayers.find(d=>d.type==="unknown"))==null?void 0:o.loadError;if(s!=null)throw s;if(!i||"spatialReferenceLocked"in i&&!i.spatialReferenceLocked||(await r.load(t),Ce(t),r.baseLayers.length===0))return;const n=r.baseLayers.at(0);if(!s1e(n))return;if(r.spatialReference){if(i.spatialReference.equals(r.spatialReference))return;Vj()}await n.load(t),Ce(t);const a=(("supportedSpatialReferences"in n?n.supportedSpatialReferences:null)||["tileInfo"in n?(l=n.tileInfo)==null?void 0:l.spatialReference:null]).filter(It);a.length!==0&&a.every(d=>!i.spatialReference.equals(d))&&Vj()}function Vj(){throw new I("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function XFe(e){if(e.baseLayers.length===0&&e.referenceLayers.length===0)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter(r=>!t1e(r)).map(r=>ePe(r));if(t.length)throw t[0]}function ePe(e){return new I("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:e,operationalLayerType:e.operationalLayerType||"unknown"})}async function tPe(e,t,r){if(e.baseLayers.length===0)return;const i=e.baseLayers.at(0);if(_J(i)){try{await i.load(r)}catch(s){const n="basemap-compatibility:unknown-error",a="Unknown basemap compatibility error",{name:o=n,message:l=a,details:d}=s;throw new I(o,l,d)}rPe(i,t)}}function rPe(e,t){var o;const r=t.state.viewingMode;if(!r)return;let i,s;if((e==null?void 0:e.type)==="wmts"){const l=JFe(e,t.spatialReference,r);if(l.tileInfo==null)throw new I("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");i=l.tileInfo,s=l.fullExtent}else i=e.tileInfo,s=e.fullExtent;if(i==null)return;if(!YFe(i.spatialReference,r))throw new I(`basemapgalleryitem:spatial-reference-unsupported-${WP(r)}`,`Basemap spatial reference is unsupported in ${WP(r)} mode`);const n=(e==null?void 0:e.type)==="vector-tile"?i.getCompatibleForVTL(256):null;if(r===Ic.Global){let l=xC(i,s,null,r);if(l&&(e==null?void 0:e.type)==="vector-tile"&&s!=null&&n&&!xC(n,s,null,r)&&(l=null),l){const d=i.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new I(`basemapgalleryitem:tiling-scheme-unsupported-${d}-global`,"Basemap tiling scheme is unsupported in global mode",{error:l})}}else if(bc.checkUnsupported(i))throw new I("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");const a=(o=t.basemapTerrain)==null?void 0:o.tilingScheme;if(a&&!a.compatibleWith(i)&&((e==null?void 0:e.type)!=="vector-tile"||!n||!a.compatibleWith(n)))throw new I("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}let Eo=class extends Os.IdentifiableMixin(ie){constructor(t){super(t),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){const t=()=>this.refresh();this.addHandles([U(()=>{var r;return(r=this.basemap)==null?void 0:r.loadStatus},t),U(()=>this.compatibilityFunction,t),U(()=>{var r;return this.view&&"basemapTerrain"in this.view&&((r=this.view.basemapTerrain)==null?void 0:r.tilingScheme)},t),U(()=>{var r;return(r=this.view)==null?void 0:r.ready},t),U(()=>{var r;return(r=this.view)==null?void 0:r.spatialReference},t)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return Ove(this.view,this.basemap)}set basemap(t){t&&t.load().catch(()=>{}),this._set("basemap",t)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){var s;this._cancelRefresh(),this._set("state","loading");const t=(s=this.basemap)==null?void 0:s.loadStatus;if(t!=="loaded"&&t!=="failed")return;if(!this.compatibilityFunction)return void(t==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));const r=new AbortController,{signal:i}=r;this.compatibilityFunction(this,{signal:i}).then(()=>Wa(()=>!this._spatialReferenceTask.updating,i)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(n=>{fr(n)||(this._set("state","error"),this._set("error",n))}),this._refreshController=r}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};c([u({readOnly:!0})],Eo.prototype,"_spatialReferenceTask",null),c([u()],Eo.prototype,"basemap",null),c([u()],Eo.prototype,"compatibilityFunction",void 0),c([u({readOnly:!0})],Eo.prototype,"error",void 0),c([u({readOnly:!0})],Eo.prototype,"spatialReference",null),c([u({readOnly:!0})],Eo.prototype,"state",void 0),c([u()],Eo.prototype,"view",void 0),Eo=c([S("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Eo);const Kie=Eo,Xie=W.ofType(fu);let b1=class extends ie{constructor(t){super(t),this.basemaps=new Xie}destroy(){this.basemaps.forEach(t=>t.destroy())}get state(){return"ready"}refresh(){}};c([u({type:Xie})],b1.prototype,"basemaps",void 0),c([u({readOnly:!0})],b1.prototype,"state",null),b1=c([S("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],b1);const ese=b1,tse=W.ofType(fu);let To=class extends Ai.LoadableMixin(yh.EsriPromiseMixin(ese)){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new tse,this.filterFunction=null,this.portal=Mr.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(U(()=>{var t,r,i;return[this.filterFunction,this.loadStatus,(t=this.portal)==null?void 0:t.basemapGalleryGroupQuery,(r=this.portal)==null?void 0:r.basemapGalleryGroupQuery3D,(i=this.portal)==null?void 0:i.user,this.query,this.updateBasemapsCallback]},()=>this.refresh(),we))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(t=>t.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}async refresh(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,r=new AbortController;this._lastPortalBasemapFetchController=r,this.notifyChange("state");try{const i=await t.fetchBasemaps(this._toQueryString(this.query),{signal:r.signal,include3d:this.viewType==="3d"||void 0});await this._updateBasemaps(i)}catch(i){if(fr(i))throw i;B.getLogger(this).warn(new I("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:i})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")}_toQueryString(t){return t&&typeof t!="string"?Object.keys(t).map(r=>`${r}:${t[r]}`).join(" AND "):t}async _updateBasemaps(t=[]){let r=await this._filterBasemaps(t);r=this.updateBasemapsCallback?await this.updateBasemapsCallback(r):r,this.basemaps.removeAll(),this.basemaps.addMany(r)}async _filterBasemaps(t){if(!this.filterFunction)return t;const r=t.map(this.filterFunction),i=await Promise.all(r);return t.filter((s,n)=>i[n])}};c([u({readOnly:!0,type:tse})],To.prototype,"basemaps",void 0),c([u()],To.prototype,"filterFunction",void 0),c([u({type:Mr})],To.prototype,"portal",void 0),c([u()],To.prototype,"query",void 0),c([u({readOnly:!0})],To.prototype,"state",null),c([u()],To.prototype,"updateBasemapsCallback",void 0),c([u()],To.prototype,"viewType",void 0),To=c([S("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],To);const g1=To,rse=W.ofType(Kie);function iPe(e){return e&&e.declaredClass==="esri.portal.Portal"}function sPe(e){return e&&!(e instanceof g1)&&(!!e.portal||!!e.query)}function nPe(e){return e&&"basemaps"in e&&"state"in e&&"refresh"in e}let Js=class extends Ai{constructor(t){super(t),this._loadingProjectionEngine=!1,this.items=new rse,this.source=new g1,this.view=null}initialize(){const t=()=>this._recreateItems();this.addHandles([U(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),Er(()=>{var r;return(r=this.source)==null?void 0:r.basemaps},"change",t,{onListenerAdd:t}),jr(()=>this.view,()=>{var r;this.source instanceof g1&&(this.source.viewType=(r=this.view)==null?void 0:r.type)},{once:!0})])}destroy(){var r;const t=this.source.basemaps.find(i=>i===this.activeBasemap);t&&this.source.basemaps.remove(t),(r=this.source)==null||r.destroy()}get activeBasemap(){var t,r;return((r=(t=this.view)==null?void 0:t.map)==null?void 0:r.basemap)??null}set activeBasemap(t){var s,n;const r=this.view;if(!(r!=null&&r.map))return;if(!t||!r.ready)return r.map.basemap=t,void this._clearOverride("activeBasemap");const i=t.spatialReference||((n=(s=this.items)==null?void 0:s.find(a=>this.basemapEquals(t,a.basemap)))==null?void 0:n.spatialReference);if(i&&"spatialReferenceLocked"in r&&!r.spatialReferenceLocked){const a=r.spatialReference;if(i!=null&&!Nt(a,i)&&!Hn(r.spatialReference,i)&&!Rc())return this._override("activeBasemap",t),this._loadingProjectionEngine=!0,void Sc().then(()=>{this._get("activeBasemap")===t&&(r.map.basemap=t,r.spatialReference=i,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});r.map.basemap=t,this._clearOverride("activeBasemap"),i==null||Nt(r.spatialReference,i)||(r.spatialReference=i)}else r.map.basemap=t,this._clearOverride("activeBasemap")}castActiveBasemap(t){return YJ(t)}get activeBasemapIndex(){const{state:t,activeBasemap:r}=this;return t!=="ready"?-1:this._findBasemapIndex(r)}get compatibilityFunction(){var t;return((t=this.view)==null?void 0:t.type)==="3d"?QFe:KFe}set compatibilityFunction(t){this._overrideIfSome("compatibilityFunction",t)}castSource(t){return Array.isArray(t)||W.isCollection(t)?new ese({basemaps:Array.isArray(t)?new W(t):t}):iPe(t)?new g1({portal:t}):sPe(t)?new g1(t):nPe(t)?t:null}get state(){var t;return(t=this.view)!=null&&t.ready&&this.source?iC(this.view)&&!this.view.inGeographicLayout?"unsupported":this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(t,r){return Lve(t,r)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(t){return this.addResolvingPromise(Ai.isLoadable(this.source)?this.source.load(t):null),Promise.resolve(this)}_findBasemapIndex(t){const{items:r}=this,i=r.findIndex(s=>s.basemap===t);return i===-1?r.findIndex(s=>this.basemapEquals(s.basemap,t)):i}_recreateItems(){var a;const t=((a=this.source)==null?void 0:a.basemaps)??[],{view:r,compatibilityFunction:i}=this,s=new Map(this.items.map(o=>[o.basemap,o])),n=t.map(o=>{const l=s.get(o);return l?(s.delete(o),l):new Kie({basemap:o,compatibilityFunction:i,view:r})});this.items.removeAll(),this.items.addMany(n),s.forEach(o=>o.destroy())}_updateItems(){for(const t of this.items)t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}};c([u()],Js.prototype,"_loadingProjectionEngine",void 0),c([u({type:fu})],Js.prototype,"activeBasemap",null),c([Oe("activeBasemap")],Js.prototype,"castActiveBasemap",null),c([u({readOnly:!0})],Js.prototype,"activeBasemapIndex",null),c([u()],Js.prototype,"compatibilityFunction",null),c([u({readOnly:!0,type:rse})],Js.prototype,"items",void 0),c([u()],Js.prototype,"source",void 0),c([Oe("source")],Js.prototype,"castSource",null),c([u({readOnly:!0})],Js.prototype,"state",null),c([u()],Js.prototype,"view",void 0),Js=c([S("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],Js);const aPe=Js;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const ise=zle(wU);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const sse=(e,t)=>(r,i)=>lPe(r,e,i);let oPe=class extends oM{hostConnected(){this.component.manager.loadedCalled&&su(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&this._watchMetaProperties()}hostLoaded(){var n;const{el:t}=this.component,r=((n=t.shadowRoot)==null?void 0:n.firstElementChild)??t.firstElementChild??void 0;t.childElem=r??t.childElem;let i=!1;const s=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:a=>{const o=this.component.el.view,l=a;this._instance.view=l,this._instance.map=l==null?void 0:l.map,this._watchViewDestroy(),this.component.requestUpdate("view",o),a&&!i&&(i=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),s&&(this._instance.view=s),this.component.el.isConnected&&(su(this.component),this._watchViewDestroy())}hostDisconnected(){var t,r;typeof this.component.el.childElem=="object"&&((r=(t=this.component.el.view)==null?void 0:t.ui)==null||r.remove(this.component.el.childElem))}hostDestroy(){var t;super.hostDestroy(),(t=this._watchViewDestroyHandle)==null||t.remove()}_watchMetaProperties(){dc(this.component,"position",t=>{this.component.el.childElem!=null&&typeof t=="string"&&su(this.component)}),dc(this.component,"referenceElement",()=>su(this.component))}_watchViewDestroy(){var t;(t=this._watchViewDestroyHandle)==null||t.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>{var r;return((r=this.component.el.view)==null?void 0:r.destroyed)===!0},()=>void this.component.destroy().catch(console.error),{sync:!0})}};const lPe=M6(oPe);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ML=Symbol.for(""),cPe=e=>{if((e==null?void 0:e.r)===ML)return e==null?void 0:e._$litStatic$},dPe=e=>({_$litStatic$:e,r:ML}),zj=(e,...t)=>({_$litStatic$:t.reduce((r,i,s)=>r+(n=>{if(n._$litStatic$!==void 0)return n._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${n}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(i)+e[s+1],e[0]),r:ML}),jj=new Map,uPe=e=>(t,...r)=>{const i=r.length;let s,n;const a=[],o=[];let l,d=0,f=!1;for(;d<i;){for(l=t[d];d<i&&(n=r[d],(s=cPe(n))!==void 0);)l+=s+t[++d],f=!0;d!==i&&o.push(n),a.push(l),d++}if(d===i&&a.push(t[i]),f){const p=a.join("$$lit$$");(t=jj.get(p))===void 0&&(a.raw=a,jj.set(p,t=a)),r=o}return e(t,...r)},nse=uPe(ot);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */function fPe({level:e,class:t,children:r}){const i=hPe(e),s=`h${i}`,n=dPe(s);return nse`<${n} .ariaLevel=${String(i)} class=${$s(I0($0.heading,t))} role=heading>${r}</${n}>`}function pPe(e,t,r){return Math.min(Math.max(e,t),r)}function hPe(e){return pPe(Math.ceil(e),1,6)}const mPe=Wn`@layer{arcgis-basemap-gallery{display:block}}`,yPe=sse(aPe),N3={small:200,default:280,wide:420};var wu;let bPe=(wu=class extends Ac{constructor(){super(...arguments),this.messages=ise({}),this.viewModel=yPe(this),this._width=0,this._state="",this.activeBasemap=this.viewModel.activeBasemap,this.autoDestroyDisabled=!1,this.disabled=!1,this.headingLevel=2,this.icon="basemap",this.label="",this.position="bottom-left",this.source=this.viewModel.source,this.state=this.viewModel.state,this.arcgisPropertyChange=zy()("activeBasemap","state"),this.arcgisReady=xu()}async destroy(){await this.manager.destroy()}loaded(){this.manager.onLifecycle(()=>[jr(()=>this.source,()=>{this.viewModel.loadSource()},{sync:!0,initial:!0}),U(()=>this.source.state,()=>{this._state=this.source.state},{sync:!0})]);const t=new ResizeObserver(i=>{for(const s of i)this._width=s.contentRect.width}),r=this.el.childElem;r&&t.observe(r)}_getRoundRobinIndex(t,r){return(t+r)%r}_handleKeyDown(t){const{key:r}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(r))return;t.preventDefault();const{items:i,activeBasemapIndex:s}=this.viewModel,n=r==="ArrowUp"||r==="ArrowLeft"?this._getRoundRobinIndex(Math.max(s-1,-1),i.length):this._getRoundRobinIndex(s+1,i.length),a=i.at(n);(a==null?void 0:a.state)==="ready"&&(this.viewModel.activeBasemap=a.basemap)}render(){const t=this.source.state==="loading",r=this.disabled||this.state==="disabled",i=this.viewModel.items,s={[Xs.sourceLoading]:t,[$0.disabled]:r,"esri-component":!0},n=this._width;n<=N3.small||n>=N3.wide?s[Xs.layoutGrid]=!0:n<N3.default&&(s[Xs.narrowItems]=!0);const a=t?ot`<div class=${$s(Xs.loader)}></div>`:null,o=t?null:i.length>0?ot`<div aria-disabled=${this.disabled??nc} aria-label=${this.label??nc} class=${$s(Xs.itemContainer)} @keydown=${this._handleKeyDown} role=radiogroup>${i.map((l,d)=>ot`<arcgis-basemap-gallery-item .disabled=${r} .item=${l} .itemIndex=${d} .viewModel=${this.viewModel} .messages=${this.messages}></arcgis-basemap-gallery-item>`)}</div>`:ot`<div class=${$s($0.empty)}>${fPe({level:this.headingLevel,children:this.messages.noBasemaps})}</div>`;return ot`<div class=${$s(I0(Xs.base,$0.widget,$0.panel,s))} style=${Ule({"--esri-basemap-gallery-small":`${N3.small}px`})}>${[a,o]}</div>`}},wu.properties={_width:16,_state:16,activeBasemap:0,autoDestroyDisabled:5,disabled:7,headingLevel:9,icon:1,label:1,position:1,referenceElement:1,source:0,state:3},wu.shadowRootOptions=Wo,wu.styles=mPe,wu);Du("arcgis-basemap-gallery",bPe);let Ea=class extends ie{constructor(t){super(t)}get editedBookmark(){const{bookmark:t}=this;return t?this._get("editedBookmark")||t.clone():null}get customUrl(){var t,r;return(r=(t=this.editedBookmark)==null?void 0:t.thumbnail)!=null&&r.isSecureUrl?this.editedBookmark.thumbnail.url:null}set customUrl(t){this._override("customUrl",t)}get screenshotUrl(){var t,r;return(r=(t=this.editedBookmark)==null?void 0:t.thumbnail)!=null&&r.isDataURI?this.editedBookmark.thumbnail.url:null}set screenshotUrl(t){this._override("screenshotUrl",t)}get state(){return this._get("state")}set state(t){this.validationState=void 0,this.loading=void 0,this._set("state",t)}get thumbnailState(){var t,r,i,s;return(r=(t=this.editedBookmark)==null?void 0:t.thumbnail)!=null&&r.url?(s=(i=this.editedBookmark)==null?void 0:i.thumbnail)!=null&&s.isSecureUrl?"url":"screenshot":"none"}set thumbnailState(t){this._overrideIfSome("thumbnailState",t)}};c([u()],Ea.prototype,"bookmark",void 0),c([u({readOnly:!0})],Ea.prototype,"editedBookmark",null),c([u()],Ea.prototype,"customUrl",null),c([u()],Ea.prototype,"screenshotUrl",null),c([u()],Ea.prototype,"state",null),c([u()],Ea.prototype,"thumbnailState",null),c([u()],Ea.prototype,"validationState",void 0),c([u()],Ea.prototype,"loading",void 0),Ea=c([S("esri.widgets.Bookmarks.BookmarksUserState")],Ea);const EC=Ea,ase=W.ofType(xk),gPe={width:128,height:128,format:"png"},D3={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},qj={time:!0};let Ta=class extends TX(an.EventedAccessor){constructor(t){super(t),this.capabilities={...qj},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set("activeBookmark",null)}castCapabilities(t){return{...qj,...t}}get bookmarks(){var t,r;return((r=(t=this.view)==null?void 0:t.map)==null?void 0:r.bookmarks)??new ase}set bookmarks(t){this._overrideIfSome("bookmarks",t)}set defaultCreateOptions(t){this._set("defaultCreateOptions",{...D3,...t})}get defaultCreateOptions(){return D3}set defaultEditOptions(t){this._set("defaultEditOptions",{...D3,...t})}get defaultEditOptions(){return D3}get state(){const{view:t}=this;return t&&!t.ready?"loading":"ready"}async createBookmark(t){const{view:r,defaultCreateOptions:i,capabilities:s}=this;if(!r)throw new I("create-bookmark:invalid-view","Cannot create a bookmark without a view.");const{takeScreenshot:n,screenshotSettings:a,captureViewpoint:o,captureRotation:l,captureScale:d,captureTimeExtent:f}={...i,...t},p=n?await this._createThumbnail(a):void 0,m=s.time&&f&&r.timeExtent!=null?r.timeExtent.clone():void 0;return new xk({...p&&{thumbnail:p},...f&&{timeExtent:m},...o&&{viewpoint:this._createViewpoint({view:r,captureScale:d,captureRotation:l})}})}async editBookmark(t,r){if(!t)return t;const{view:i,defaultEditOptions:s}=this;if(!i)throw new I("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");const{takeScreenshot:n,screenshotSettings:a,captureViewpoint:o,captureRotation:l,captureScale:d,captureTimeExtent:f}={...s,...r},p=n?await this._createThumbnail(a):void 0;return p&&(t.thumbnail=p),o&&(t.viewpoint=this._createViewpoint({view:i,captureScale:d,captureRotation:l})),f&&i.timeExtent!=null&&(t.timeExtent=i.timeExtent.clone()),this.emit("bookmark-edit",{bookmark:t}),t}goTo(t){const{capabilities:r,view:i}=this;if(!i)throw new I("go-to:invalid-view","Cannot go to a bookmark without a view");const s=t==null?void 0:t.viewpoint;if(!s)throw new I("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:t});this._set("activeBookmark",t);const n=this.callGoTo({target:s}),a=t==null?void 0:t.timeExtent;return r.time&&a&&(i.timeExtent=a),this.emit("bookmark-select",{bookmark:t}),n.catch(()=>{}).then(()=>this._set("activeBookmark",null)),n}async _createThumbnail(t){const{view:r}=this;if(!r)throw new I("bookmark:invalid-view","Cannot create slide thumbnail without a view");const i=await r.takeScreenshot({...gPe,...t});return new en({url:i.dataUrl})}_createViewpoint({view:t,captureRotation:r,captureScale:i}){var n,a;const s=(n=t.viewpoint)==null?void 0:n.clone();return new Tr({targetGeometry:(a=t.extent)==null?void 0:a.clone(),rotation:(r?s==null?void 0:s.rotation:null)??0,scale:(i?s==null?void 0:s.scale:null)??0})}};c([u()],Ta.prototype,"capabilities",void 0),c([Oe("capabilities")],Ta.prototype,"castCapabilities",null),c([u({readOnly:!0})],Ta.prototype,"activeBookmark",void 0),c([u({type:ase})],Ta.prototype,"bookmarks",null),c([u()],Ta.prototype,"defaultCreateOptions",null),c([u()],Ta.prototype,"defaultEditOptions",null),c([u({readOnly:!0})],Ta.prototype,"state",null),c([u()],Ta.prototype,"view",void 0),Ta=c([S("esri.widgets.Bookmarks.BookmarksViewModel")],Ta);const ose=Ta;let In=class extends ie{constructor(){super(...arguments),this.addBookmarkButton=!1,this.closeButton=!1,this.collapseButton=!1,this.editBookmarkButton=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.thumbnail=!0,this.time=!0}};c([u({type:Boolean,nonNullable:!0})],In.prototype,"addBookmarkButton",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"closeButton",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"collapseButton",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"editBookmarkButton",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"filter",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"flow",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"heading",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"thumbnail",void 0),c([u({type:Boolean,nonNullable:!0})],In.prototype,"time",void 0),In=c([S("esri.widgets.Bookmarks.BookmarksVisibleElements")],In);const lse=In,Ui="esri-bookmarks",TS=`${Ui}__authoring`,IS=`${Ui}__bookmark`,lr={base:Ui,noBookmarksHeader:`${Ui}__no-bookmarks-heading`,noBookmarksDescription:`${Ui}__no-bookmarks-description`,form:`${Ui}__form`,list:`${Ui}__list`,loader:`${Ui}__loader`,filterNoResults:`${Ui}__filter-no-results`,formContent:`${Ui}__form-content`,addBookmarkButton:`${Ui}__add-bookmark-button`,editBookmarkInput:`${Ui}__edit-bookmark-input`,addBookmarkInput:`${Ui}__add-bookmark-input`,dragEnabled:`${Ui}--drag-enabled`,bookmarkImage:`${Ui}__image`,bookmarkImageContainer:`${IS}-image-container`,bookmarkContent:`${IS}-content`,bookmarkContentLabel:`${IS}-content-label`,authoring:TS,authoringImageContainer:`${TS}-image-container`,authoringRefreshThumbnailButton:`${TS}-refresh-thumbnail-button`};let _t=class extends Os.IdentifiableMixin(lt){constructor(t,r){super(t,r),this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._lastDragDetail=null,this._selectedDragBookmarkUid=null,this._editIncludeTimeExtent=void 0,this._userState=null,this._focusRootFlowItem=!1,this._focusAddFlowItem=!1,this._focusEditFlowItem=!1,this.disabled=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.viewModel=new ose,this.visibleElements=new lse,this._onCalciteListOrderChange=i=>{const{_lastDragDetail:s,bookmarks:n}=this,{toEl:a,fromEl:o,dragEl:l,newIndex:d}=i;if(!n.length||!o||!a||(s==null?void 0:s.newIndex)===d&&(s==null?void 0:s.dragEl)===l&&(s==null?void 0:s.toEl)===a&&(s==null?void 0:s.fromEl)===o)return;this._lastDragDetail=i;const f=Array.from(o.children).filter(p=>p==null?void 0:p.matches("calcite-list-item")).map(p=>p.value);n.sort((p,m)=>{const y=f.indexOf(p.uid),b=f.indexOf(m.uid);return y>b?1:y<b?-1:0}),this._selectedDragBookmarkUid=l.value}}loadDependencies(){return dn({action:()=>C(()=>import("./index-DUQWA4aA.js").then(t=>t.i),__vite__mapDeps([2,1])),button:()=>C(()=>Promise.resolve().then(()=>ew),void 0),"chip-group":()=>C(()=>import("./index-Dl52LUXz.js").then(t=>t.i),[]),chip:()=>C(()=>Promise.resolve().then(()=>Yie),void 0),fab:()=>C(()=>import("./index-DWDCKkd5.js").then(t=>t.i),[]),flow:()=>C(()=>import("./index-DB_P2JhB.js").then(t=>t.i),[]),"flow-item":()=>C(()=>import("./index-odH7xX0x.js"),__vite__mapDeps([367,2,1,87,18,7,14,27,88,57,9,10,6,86,56,64])),icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0),input:()=>C(()=>import("./index-Vx_H6pcr.js"),__vite__mapDeps([372,365,366,65,40,1,13,19,66])),"input-message":()=>C(()=>import("./index-HupSxlqr.js").then(t=>t.i),[]),label:()=>C(()=>import("./index-BodaZSzH.js").then(t=>t.i),[]),list:()=>C(()=>import("./index-BvqAo_0o.js"),__vite__mapDeps([364,101,1,75,365,366,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>C(()=>import("./index-VUfVv5RO.js"),__vite__mapDeps([363,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>C(()=>Promise.resolve().then(()=>X2),void 0),notice:()=>C(()=>import("./index-CylWDiU4.js").then(t=>t.i),__vite__mapDeps([84,15,14])),scrim:()=>C(()=>Promise.resolve().then(()=>mFe),void 0),switch:()=>C(()=>import("./index-Cdsbz-En.js").then(t=>t.i),[]),table:()=>C(()=>import("./index-CZJVXEQw.js"),__vite__mapDeps([373,85,1,13,33,25,105])),"table-cell":()=>C(()=>import("./index-BnUw5EEJ.js").then(t=>t.i),[]),"table-header":()=>C(()=>import("./index-CKfAtrvh.js").then(t=>t.i),[]),"table-row":()=>C(()=>import("./index-DzhA_c1N.js"),__vite__mapDeps([374,375,376,106,1]))})}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(t){this.viewModel.defaultCreateOptions=t}get defaultEditOptions(){return this.viewModel.defaultEditOptions}set defaultEditOptions(t){this.viewModel.defaultEditOptions=t}get bookmarks(){return this.viewModel.bookmarks}set bookmarks(t){this.viewModel.bookmarks=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"bookmark"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}endAddBookmark(){this._userState=null}goTo(t){return this.viewModel.goTo(t)}render(){return $("div",{class:this.classes(lr.base,ve.widget,ve.panel)},this._renderBookmarksContainer())}startAddBookmark(){this._userState=new EC({state:"add"}),this._focusAddFlowItem=!0}_renderNoBookmarksContainer(t){const{messages:r,viewModel:{state:i}}=this;return t.length||i==="loading"?null:$("div",{class:ve.empty,key:"no-bookmarks"},$("calcite-icon",{icon:"bookmark",scale:"l"}),$(Bp,{class:this.classes(ve.heading,lr.noBookmarksHeader),level:this.headingLevel},r==null?void 0:r.noBookmarksHeading),$("p",{class:lr.noBookmarksDescription},r.noBookmarksDescription))}_renderEditBookmarkFlowItems(){const{_userState:t}=this,r=t==null?void 0:t.editedBookmark;return r&&(t==null?void 0:t.state)==="edit"?this._renderEditingBookmark(r):[]}_renderBookmarkItems(t){return t?t.toArray().map(r=>this._renderBookmark(r)):[]}_handleCalciteListDragEnd(t){const{fromEl:r,dragEl:i,oldIndex:s}=t;r.insertBefore(i,r.children[s])}_renderBookmarksContainer(){var x;const{viewModel:{state:t,bookmarks:r},dragEnabled:i,messages:s,disabled:n,filterPlaceholder:a,filterText:o,visible:l,headingLevel:d,visibleElements:{closeButton:f,collapseButton:p,filter:m,heading:y,flow:b},uid:g}=this,v=r.filter(It),w=v.length?$("calcite-list",{class:lr.list,displayMode:"flat",dragEnabled:i,filterEnabled:m,filterPlaceholder:a,filterProps:nre,filterText:o,group:`bookmarks-${g}`,key:"bookmark-list",label:s.widgetLabel,selectionAppearance:"border",selectionMode:"none",onCalciteListDragEnd:T=>this._handleCalciteListDragEnd(T.detail),onCalciteListFilter:T=>{var k;return this.filterText=((k=T.currentTarget)==null?void 0:k.filterText)??""},onCalciteListOrderChange:T=>this._onCalciteListOrderChange(T.detail)},this._renderBookmarkItems(v),m?$("div",{class:lr.filterNoResults,slot:"filter-no-results"},$("calcite-notice",{kind:"info",open:!0,width:"full"},$("div",{slot:"message"},s.noBookmarksHeading),";")):null):null,_=[$("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:f,closed:!l,collapsible:p,disabled:n,heading:y?s.widgetLabel:void 0,headingLevel:d,loading:t==="loading",selected:!((x=this._userState)!=null&&x.state),onCalciteFlowItemClose:()=>this.visible=!1},this._renderNoBookmarksContainer(v),w,this._renderAddBookmarkButton()),this._renderAddingBookmark(),this._renderEditBookmarkFlowItems()];return l?b?$("calcite-flow",{key:"root-flow"},_):_:null}_renderAddBookmarkButton(){const{messages:t,_userState:r,disabled:i,viewModel:{view:s,state:n},visibleElements:{addBookmarkButton:a}}=this,o=(r==null?void 0:r.loading)??!1;return s&&n!=="loading"&&a?$("calcite-fab",{appearance:"outline-fill",bind:this,class:lr.addBookmarkButton,disabled:i||o,icon:"plus",key:"add-bookmark-item",kind:"neutral",loading:o,onclick:this.startAddBookmark,slot:"fab",text:t.addBookmark,textEnabled:!0,title:t.addBookmark,type:"button"}):null}_renderEditContainer(t){const{messagesCommon:r,visibleElements:{editBookmarkButton:i}}=this,s=`${r.edit} ${this._getBookmarkTitle(t)}`;return i?$("calcite-action",{appearance:"transparent",icon:"pencil",key:"edit-action",onclick:()=>this._showEditBookmarkForm(t),slot:"actions-end",text:s,title:s}):null}_renderBookmarkImage(t,r){var i;return r?$("img",{alt:"",class:lr.bookmarkImage,key:"bookmark-image",src:(i=t.thumbnail)==null?void 0:i.url}):null}_renderBookmarkTimeSwitch(t){const{messages:r,viewModel:{view:i}}=this,{timeExtent:s}=t;return(i==null?void 0:i.timeExtent)??s?$("calcite-label",{layout:"inline-space-between"},r.includeTimeExtent,$("calcite-switch",{checked:!!s,onCalciteSwitchChange:n=>{this._editIncludeTimeExtent=!!n.currentTarget.checked}})):null}_renderEditBookmarkTimeExtent(t){return this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(t):null}_getTimeExtentStrings(t){const{visibleElements:r}=this,{timeExtent:i}=t;if(!i)return{};const{start:s,end:n}=i,a=n!=null&&(s==null||s.getTime()!==n.getTime()),o=s?this._formatDate(s):"",l=s&&r.time?this._formatTime(s):"";return a?{startDate:o,startTime:l,endDate:this._formatDate(n),endTime:r.time?this._formatTime(n):""}:{startDate:o,startTime:l}}_renderTimeExtentDescription(t){const{startDate:r,startTime:i,endDate:s,endTime:n}=this._getTimeExtentStrings(t);if(!r)return"";const a=`${r} ${i}`;return s?`${a} - ${`${s} ${n}`}`:a}_renderBookmarkTimeExtent(t,r=!1){const{messages:i}=this,{startDate:s,startTime:n,endDate:a,endTime:o}=this._getTimeExtentStrings(t),l=r?null:$("calcite-table-row",{slot:"table-header"},$("calcite-table-header",{heading:i.startDate}),a?$("calcite-table-header",{heading:i.endDate}):null);return s?$("calcite-table",{caption:i.timeExtent,scale:"s"},l,$("calcite-table-row",null,$("calcite-table-cell",null,s," ",n?[$("br",null),n]:null),a?$("calcite-table-cell",null,a,o?[$("br",null),o]:null):null)):null}_renderBookmarkActiveScrim(t,r){return this.viewModel.activeBookmark===t&&r?$("calcite-scrim",{key:"bookmark-active-scrim",loading:!0}):null}_renderBookmarkActiveLoader(t,r){return this.viewModel.activeBookmark!==t||r?null:$("calcite-loader",{class:lr.loader,inline:!0,key:"bookmark-active-loader",label:this.messagesCommon.loading})}_renderBookmarkImageIcon(t,r){return this.viewModel.activeBookmark===t||r?null:$("calcite-icon",{icon:"bookmark",key:"bookmark-icon",scale:"s"})}_renderBookmarkThumbnail(t){var i;const r=this.visibleElements.thumbnail&&!!((i=t.thumbnail)!=null&&i.url);return $("div",{class:lr.bookmarkImageContainer,slot:"content-start"},this._renderBookmarkActiveScrim(t,r),this._renderBookmarkImage(t,r),this._renderBookmarkActiveLoader(t,r),this._renderBookmarkImageIcon(t,r))}_focusSelectedDragEl(t,r){this._selectedDragBookmarkUid===r.uid&&(ac(t),this._selectedDragBookmarkUid=null)}_renderBookmark(t){return $("calcite-list-item",{afterCreate:r=>this._focusSelectedDragEl(r,t),afterUpdate:r=>this._focusSelectedDragEl(r,t),class:this.classes({[lr.dragEnabled]:this.dragEnabled}),description:this._renderTimeExtentDescription(t),key:t.uid,label:this._getBookmarkTitle(t),value:t.uid,onCalciteListItemSelect:()=>this._goToBookmark(t)},this._renderBookmarkThumbnail(t),this._renderBookmarkContent(t),this._renderEditContainer(t))}_renderBookmarkContent(t){return $("div",{class:lr.bookmarkContent,slot:"content"},$("span",{class:lr.bookmarkContentLabel},this._getBookmarkTitle(t)),this._renderBookmarkTimeExtent(t,!0))}_renderEditingBookmarkName(t){const{messages:r,_userState:i}=this,s=(i==null?void 0:i.validationState)==="name-required";return $("calcite-label",null,r.title,$("calcite-input",{afterCreate:this._storeEditInput,bind:this,class:lr.editBookmarkInput,name:"bookmark-name",placeholder:r.titlePlaceholder,required:!0,type:"text",value:t.name}),s?$("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},r.invalidTitle):null)}_renderEditingBookmarkActions(){const{messagesCommon:t,_userState:r}=this,i=r==null?void 0:r.bookmark;return[$("calcite-button",{appearance:"transparent",kind:"danger",onclick:()=>this._deleteBookmark(i),slot:"footer",type:"button",width:"full"},t.delete),$("calcite-button",{appearance:"outline",bind:this,onclick:this._closeEditBookmarkForm,slot:"footer",type:"button",width:"full"},t.cancel),$("calcite-button",{slot:"footer",type:"submit",width:"full"},t.save)]}_handleUrlEditInputChange(){var n,a;const{_userState:t,_urlEditInputNode:r}=this,i=r==null?void 0:r.value;if(!(t!=null&&t.editedBookmark)||!i)return;t.validationState=void 0,(n=t.editedBookmark.thumbnail)!=null&&n.isDataURI&&(t.screenshotUrl=(a=t.editedBookmark.thumbnail)==null?void 0:a.url);const s=new en({url:i});s.isSecureUrl&&(t.customUrl=i,t.editedBookmark.thumbnail=s)}_renderEditingTimeExtent(t){const{capabilities:r,view:i}=this.viewModel,{timeExtent:s}=t;return r.time&&((i==null?void 0:i.timeExtent)??s)?$("div",{key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(t),this._renderEditBookmarkTimeExtent(t)):null}_renderEditingBookmarkImage(t){var n,a;const{_userState:r}=this,i=r==null?void 0:r.thumbnailState,s=(n=t.thumbnail)!=null&&n.isSecureUrl?i==="url":(a=t.thumbnail)!=null&&a.isDataURI?i==="screenshot":null;if(s)return this._renderBookmarkImage(t,s)}_renderEditingThumbnail(t){const{_userState:r,visibleElements:i}=this,s=r==null?void 0:r.thumbnailState;return i.thumbnail&&s!=="none"?$("div",{class:lr.authoringImageContainer},this._renderEditingBookmarkImage(t)):null}_renderUpdateThumbnailButton(){const{visibleElements:t,messages:r,_userState:i}=this,s=i==null?void 0:i.thumbnailState;return t.thumbnail&&s==="screenshot"?$("calcite-button",{appearance:"outline",class:lr.authoringRefreshThumbnailButton,iconStart:"refresh",key:"update-thumbnail",kind:"neutral",onclick:()=>{this._updateThumbnail()},width:"full"},r.updateThumbnail):null}_renderEditingBookmarkUrlInput(t){var l,d;const{messages:r,_userState:i}=this,s=(l=t.thumbnail)==null?void 0:l.url,n=(d=t.thumbnail)!=null&&d.isSecureUrl?s:void 0,a=s&&(i==null?void 0:i.validationState)==="absolute-url-required";return(i==null?void 0:i.thumbnailState)==="url"?$("calcite-label",{key:"thumbnail-url-input"},$("calcite-input",{afterCreate:this._storeUrlEditInput,bind:this,name:"bookmark-thumbnail-url",pattern:"https://.*",placeholder:r?`https://<${r.imageUrlPlaceholder}>`:void 0,required:!0,title:r.imageUrlTooltip,type:"text",value:n,onCalciteInputChange:this._handleUrlEditInputChange,onCalciteInputInput:this._handleUrlEditInputChange}),a?$("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},r.invalidImageUrl):null):null}_renderThumbnailSelector(){const{visibleElements:t,messages:r,_userState:i}=this,s=i==null?void 0:i.thumbnailState;return t.thumbnail?$("calcite-label",{key:"thumbnail-chip-group"},r.thumbnail,$("calcite-chip-group",{label:r.thumbnail,selectionMode:"single-persist",onCalciteChipGroupSelect:n=>this._handleThumbnailTypeSelect(n.currentTarget.selectedItems[0].value)},$("calcite-chip",{label:r.screenshot,selected:s==="screenshot",value:"screenshot"},r.screenshot),$("calcite-chip",{label:r.url,selected:s==="url",value:"url"},r.url),$("calcite-chip",{label:r.none,selected:s==="none",value:"none"},r.none))):null}_renderEditingBookmark(t){var n;const{disabled:r,messagesCommon:i,headingLevel:s}=this;return t?$("form",{bind:this,class:lr.form,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},$("calcite-flow-item",{afterCreate:this._focusEditFlowItemNode,afterUpdate:this._focusEditFlowItemNode,bind:this,disabled:r,heading:i.edit,headingLevel:s,key:"edit-bookmark-form",selected:((n=this._userState)==null?void 0:n.state)==="edit",onCalciteFlowItemBack:a=>{a.preventDefault(),this._closeEditBookmarkForm()}},$("div",{class:lr.formContent},$("div",{class:lr.authoring},this._renderEditingBookmarkName(t),this._renderThumbnailSelector(),this._renderEditingThumbnail(t),this._renderEditingBookmarkUrlInput(t),this._renderUpdateThumbnailButton(),this._renderEditingTimeExtent(t))),this._renderEditingBookmarkActions())):null}_renderAddingBookmarkName(){const{_userState:t,messages:r}=this,i=(t==null?void 0:t.validationState)==="name-required";return $("calcite-label",null,r.title,$("calcite-input",{afterCreate:this._storeAddInput,bind:this,class:lr.addBookmarkInput,name:"bookmark-name",placeholder:r.titlePlaceholder,required:!0,type:"text",value:""}),i?$("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},r.invalidTitle):null)}_renderAddingBookmarkActions(){const{messagesCommon:t}=this;return[$("calcite-button",{appearance:"outline",bind:this,onclick:this._endAddBookmark,slot:"footer",type:"button",width:"full"},t.cancel),$("calcite-button",{slot:"footer",type:"submit",width:"full"},t.add)]}_renderAddingBookmark(){var n;const{disabled:t,messages:r,headingLevel:i,_userState:s}=this;return(s==null?void 0:s.state)==="add"?$("form",{bind:this,class:lr.form,disabled:t,onsubmit:this._addBookmarkSubmitClick},$("calcite-flow-item",{afterCreate:this._focusAddFlowItemNode,afterUpdate:this._focusAddFlowItemNode,bind:this,disabled:t,heading:r.addBookmark,headingLevel:i,key:"add-bookmark-form",selected:((n=this._userState)==null?void 0:n.state)==="add",onCalciteFlowItemBack:a=>{a.preventDefault(),this._endAddBookmark()}},$("div",{class:lr.formContent},this._renderAddingBookmarkName()),this._renderAddingBookmarkActions())):null}_getBookmarkTitle(t){return(t==null?void 0:t.name)||this.messagesCommon.untitled}_formatDate(t){var r;return t?Qi(t,{...Ud("short-date"),timeZone:((r=this.viewModel.view)==null?void 0:r.timeZone)??ks}):""}_formatTime(t){var r;return t?Qi(t,{...Ud("long-time"),timeZone:((r=this.viewModel.view)==null?void 0:r.timeZone)??ks}):""}_endAddBookmark(){this.endAddBookmark(),this._focusRootFlowItem=!0}_showEditBookmarkForm(t){t&&(this._editIncludeTimeExtent=!!t.timeExtent,this._userState=new EC({bookmark:t,state:"edit"}),this._focusEditFlowItem=!0,this.viewModel.goTo(t))}async _createNewScreenshotUrl(){var r;return((r=(await this.viewModel.createBookmark()).thumbnail)==null?void 0:r.url)??null}_storeCurrentUrl(){var i,s,n,a,o,l;const{_userState:t}=this,r=(s=(i=t==null?void 0:t.editedBookmark)==null?void 0:i.thumbnail)==null?void 0:s.url;r&&((a=(n=t==null?void 0:t.editedBookmark)==null?void 0:n.thumbnail)!=null&&a.isSecureUrl?t.customUrl=r:(l=(o=t==null?void 0:t.editedBookmark)==null?void 0:o.thumbnail)!=null&&l.isDataURI&&(t.screenshotUrl=r))}async _handleThumbnailTypeSelect(t){const{_userState:r}=this;if(!r)return;const{screenshotUrl:i,customUrl:s,editedBookmark:n}=r,a=t==="screenshot"?i??await this._createNewScreenshotUrl():t==="url"&&s?s:null;this._storeCurrentUrl(),n&&a&&(n.thumbnail=new en({url:a})),r.validationState=void 0,r.thumbnailState=t}_closeEditBookmarkForm(){this._userState=null,this._focusRootFlowItem=!0}_addBookmarkSubmitClick(t){t.preventDefault(),this._addBookmarkSubmit()}async _addBookmarkSubmit(){const{_addInputNode:t,_userState:r,viewModel:i,viewModel:{bookmarks:s}}=this;if(!r)return;const n=t?t.value.trim():null;if(!n)return void(r.validationState="name-required");r.loading=!0;const a=await i.createBookmark();a.name=n,s.add(a),this._endAddBookmark()}async _editBookmarkAndClose(t,r){const{viewModel:i,viewModel:{defaultEditOptions:s}}=this;await i.editBookmark(t,{...s,...r}),this._closeEditBookmarkForm()}_editBookmarkSubmit(t){t.preventDefault();const{_editInputNode:r,_userState:i,_editIncludeTimeExtent:s,_urlEditInputNode:n}=this;if(!(i!=null&&i.bookmark)||!i.editedBookmark)return;i.validationState=void 0,i.customUrl=void 0,i.screenshotUrl=void 0;const a=r==null?void 0:r.value.trim();if(!a)return void(i.validationState="name-required");i.bookmark.name=a,i.bookmark.thumbnail=i.editedBookmark.thumbnail,s||(i.bookmark.timeExtent=null);const o=i.thumbnailState;if(o==="url"&&n){const l=n.value,d=new en({url:l});if(!d.isSecureUrl)return void(i.validationState="absolute-url-required");i.bookmark.thumbnail=d}else o==="none"&&(i.bookmark.thumbnail=null);this._editBookmarkAndClose(i.bookmark,{takeScreenshot:!1,captureTimeExtent:s})}_storeEditInput(t){this._editInputNode=t}_storeAddInput(t){this._addInputNode=t}_storeUrlEditInput(t){this._urlEditInputNode=t}_deleteBookmark(t){this._closeEditBookmarkForm(),t&&(this.viewModel.bookmarks.remove(t),t.destroy())}_goToBookmark(t){this.endAddBookmark(),this.viewModel.goTo(t)}async _updateThumbnail(){const{_userState:t,viewModel:r}=this;t&&(t.validationState=void 0,await r.editBookmark(t.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}))}_focusRootFlowItemNode(t){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,ac(t))}_focusEditFlowItemNode(t){this._focusEditFlowItem&&(this._focusEditFlowItem=!1,ac(t))}_focusAddFlowItemNode(t){this._focusAddFlowItem&&(this._focusAddFlowItem=!1,ac(t))}};c([u()],_t.prototype,"_editIncludeTimeExtent",void 0),c([u({type:EC})],_t.prototype,"_userState",void 0),c([u()],_t.prototype,"_focusRootFlowItem",void 0),c([u()],_t.prototype,"_focusAddFlowItem",void 0),c([u()],_t.prototype,"_focusEditFlowItem",void 0),c([u()],_t.prototype,"defaultCreateOptions",null),c([u()],_t.prototype,"defaultEditOptions",null),c([u()],_t.prototype,"bookmarks",null),c([u()],_t.prototype,"disabled",void 0),c([u()],_t.prototype,"dragEnabled",void 0),c([u()],_t.prototype,"filterPlaceholder",void 0),c([u()],_t.prototype,"filterText",void 0),c([u()],_t.prototype,"headingLevel",void 0),c([u()],_t.prototype,"goToOverride",null),c([u()],_t.prototype,"icon",null),c([u()],_t.prototype,"label",null),c([u(),Jt("esri/widgets/Bookmarks/t9n/Bookmarks")],_t.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],_t.prototype,"messagesCommon",void 0),c([u()],_t.prototype,"uiStrings",void 0),c([u()],_t.prototype,"view",null),c([u({type:ose}),Xte(["select-bookmark","bookmark-edit","bookmark-select"])],_t.prototype,"viewModel",void 0),c([u({type:lse,nonNullable:!0})],_t.prototype,"visibleElements",void 0),c([u()],_t.prototype,"endAddBookmark",null),c([u()],_t.prototype,"startAddBookmark",null),_t=c([S("esri.widgets.Bookmarks")],_t);const vPe=_t;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const wPe=Wn`@layer{arcgis-bookmarks{display:block}}`,_Pe=e8(vPe);var _u;let SPe=(_u=class extends Ac{constructor(){super(...arguments),this.widget=_Pe(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.bookmarks=this.widget.bookmarks,this.defaultCreateOptions=this.widget.defaultCreateOptions,this.defaultEditOptions=this.widget.defaultEditOptions,this.disabled=this.widget.disabled,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterText=this.widget.filterText,this.hideFlow=this.widget.visibleElements.flow,this.hideThumbnail=this.widget.visibleElements.thumbnail,this.hideTime=this.widget.visibleElements.time,this.icon=this.widget.icon,this.label=this.widget.label,this.position="bottom-left",this.showAddBookmarkButton=this.widget.visibleElements.addBookmarkButton,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showEditBookmarkButton=this.widget.visibleElements.editBookmarkButton,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.state=this.viewModel.state,this.arcgisEdit=wr(()=>this.widget,"bookmark-edit"),this.arcgisPropertyChange=zy()("state"),this.arcgisReady=xu(),this.arcgisSelect=wr(()=>this.widget,"bookmark-select")}async destroy(){await this.manager.destroy()}},_u.properties={autoDestroyDisabled:5,bookmarks:0,defaultCreateOptions:0,defaultEditOptions:0,disabled:7,dragEnabled:5,filterPlaceholder:1,filterText:1,hideFlow:5,hideThumbnail:5,hideTime:5,icon:1,label:1,position:1,referenceElement:1,showAddBookmarkButton:5,showCloseButton:5,showCollapseButton:5,showEditBookmarkButton:5,showFilter:5,showHeading:5,state:3},_u.shadowRootOptions=Wo,_u.styles=wPe,_u);Du("arcgis-bookmarks",SPe);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const $Pe=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function xPe(e){return`${e.split("-").map((i,s)=>s===0?i:`${i[0].toUpperCase()}${i.slice(1)}`).join("")}${$Pe.includes(e)?"Input":"Change"}`}const TC="hidden-form-input";function AL(e){return"checked"in e}const IC=new WeakMap,kL=new WeakSet;function EPe(e,t){if(_h(t.parentElement,"[form]"))return!0;const i="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(i,n=>{s=n.composedPath().some(a=>kL.has(a)),n.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),s}function TPe(e,{status:t,message:r,icon:i}){"status"in e&&(e.status=t),"validationIcon"in e&&typeof e.validationIcon!="string"&&(e.validationIcon=i),"validationMessage"in e&&!e.validationMessage&&(e.validationMessage=r)}function cse(e){return e.nodeName==="CALCITE-RADIO-BUTTON"?_h(e,"calcite-radio-button-group"):e}const IPe=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function Bj(e){var o;const t=e==null?void 0:e.target,r=t==null?void 0:t.validationMessage,i=cse(t==null?void 0:t.parentElement);if(!i)return;const s=(o=i==null?void 0:i.nodeName)==null?void 0:o.toLowerCase(),n=s==null?void 0:s.split("-");if(n.length<2||n[0]!=="calcite")return;e==null||e.preventDefault(),"validity"in i&&(i.validity=t==null?void 0:t.validity),i.dispatchEvent(IPe),TPe(i,{message:r,icon:!0,status:"invalid"});const a=xPe(s);i.addEventListener(a,()=>{"status"in i&&(i.status="idle"),"validationIcon"in i&&(i.validationIcon===""||i.validationIcon===!0)&&(i.validationIcon=!1),"validationMessage"in i&&i.validationMessage===r&&(i.validationMessage=""),"validity"in i&&(i.validity=t==null?void 0:t.validity)},{once:!0})}function CPe(e){const{formEl:t}=e;return t?(t.addEventListener("invalid",Bj,!0),t.requestSubmit(),t.removeEventListener("invalid",Bj,!0),requestAnimationFrame(()=>{const r=t.querySelectorAll("[status=invalid]");for(const i of r)if(i!=null&&i.validationMessage){i==null||i.setFocus();break}}),!0):!1}function MPe(e){var t;(t=e.formEl)==null||t.reset()}function Mtt(e){const{el:t,value:r}=e,i=dse(e);if(!i||EPe(i,t))return;e.formEl=i,e.defaultValue=r,AL(e)&&(e.defaultChecked=e.checked);const s=APe.bind(e);i.addEventListener("reset",s),IC.set(e.el,s),kL.add(t)}function dse(e){const{el:t,form:r}=e;return r?IL(t,{id:r}):_h(t,"form")}function APe(){var e;if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),AL(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,(e=this.onFormReset)==null||e.call(this)}function Att(e){const{el:t,formEl:r}=e;if(!r)return;const i=IC.get(t);r.removeEventListener("reset",i),IC.delete(t),e.formEl=null,kL.delete(t)}function ktt(e,t){e.defaultValue=t}const kPe="calciteInternalHiddenInputInput",use=e=>{e.target.dispatchEvent(new CustomEvent(kPe,{bubbles:!0}))},Uj=e=>e.removeEventListener("input",use);function LPe(e){const{el:t,formEl:r,name:i,value:s}=e,{ownerDocument:n}=t,a=t.querySelectorAll(`input[slot="${TC}"]`);if(!r||!i){a.forEach(p=>{Uj(p),p.remove()});return}const o=Array.isArray(s)?s:[s],l=[],d=new Set;a.forEach(p=>{const m=o.find(y=>y==p.value);m!=null?(d.add(m),Gj(e,p,m)):l.push(p)});let f;o.forEach(p=>{if(d.has(p))return;let m=l.pop();m||(m=n.createElement("input"),m.ariaHidden="true",m.slot=TC),f||(f=n.createDocumentFragment()),f.append(m),m.addEventListener("input",use),Gj(e,m,p)}),f&&t.append(f),l.forEach(p=>{Uj(p),p.remove()})}function Gj(e,t,r){var d;const{defaultValue:i,disabled:s,form:n,name:a,required:o}=e;t.defaultValue=i,t.disabled=s,t.name=a,t.required=o,t.tabIndex=-1,n?t.setAttribute("form",n):t.removeAttribute("form"),AL(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?r||"on":""):t.value=r||"",(d=e.syncHiddenFormInput)==null||d.call(e,t);const l=cse(e.el);if(l&&"validity"in l)for(const f in{...t==null?void 0:t.validity})l.validity[f]=t.validity[f]}const Ltt=({component:e})=>(LPe(e),ot`<slot name=${TC}></slot>`);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const fse="calciteInternalLabelClick",LL="calciteInternalLabelConnected",CC="calciteInternalLabelDisconnected",Hj="calcite-label",Oy=new WeakMap,ov=new WeakMap,Jv=new WeakMap,u6=new WeakMap,Up=new Set,RPe=e=>{const{id:t}=e,r=t&&IL(e,{selector:`${Hj}[for="${t}"]`});if(r)return r;const i=_h(e,Hj);return!i||OPe(i,e)?null:i};function OPe(e,t){let r;const i="custom-element-ancestor-check",s=a=>{a.stopImmediatePropagation();const o=a.composedPath();r=o.slice(o.indexOf(t),o.indexOf(e))};return e.addEventListener(i,s,{once:!0}),t.dispatchEvent(new CustomEvent(i,{composed:!0,bubbles:!0})),e.removeEventListener(i,s),r.filter(a=>a!==t&&a!==e).filter(a=>{var o;return(o=a.tagName)==null?void 0:o.includes("-")}).length>0}function RL(e){if(!e)return;const t=RPe(e.el);if(ov.has(t)&&t===e.labelEl||!t&&Up.has(e))return;const r=DPe.bind(e);if(t){e.labelEl=t;const i=Oy.get(t)||[];i.push(e),Oy.set(t,i.sort(pse)),ov.has(e.labelEl)||(ov.set(e.labelEl,Wj),e.labelEl.addEventListener(fse,Wj)),Up.delete(e),document.removeEventListener(LL,Jv.get(e)),u6.set(e,r),document.addEventListener(CC,r)}else Up.has(e)||(r(),document.removeEventListener(CC,u6.get(e)))}function FPe(e){if(!e||(Up.delete(e),document.removeEventListener(LL,Jv.get(e)),document.removeEventListener(CC,u6.get(e)),Jv.delete(e),u6.delete(e),!e.labelEl))return;const t=Oy.get(e.labelEl);t.length===1&&(e.labelEl.removeEventListener(fse,ov.get(e.labelEl)),ov.delete(e.labelEl)),Oy.set(e.labelEl,t.filter(r=>r!==e).sort(pse)),e.labelEl=null}function pse(e,t){return uFe(e.el,t.el)?-1:1}function PPe(e){var t,r;return e.label||((r=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:r.trim())||""}function Wj(e){const t=e.detail.sourceEvent.target,r=Oy.get(this),i=r.find(a=>a.el===t);if(r.includes(i))return;const n=r[0];n.disabled||n.onLabelClick(e)}function NPe(){Up.has(this)&&RL(this)}function DPe(){Up.add(this);const e=Jv.get(this)||NPe.bind(this);Jv.set(this,e),document.addEventListener(LL,e)}async function Rtt(e){var i;if(await e.componentOnReady(),Oy.has(e))return;const r=(i=e.ownerDocument)==null?void 0:i.getElementById(e.for);r&&requestAnimationFrame(()=>{for(const s of Up)if(s.el===r){RL(s);break}})}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.0 */const Ds={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},VPe=Wn`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle;border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0))}:host a,:host button{--calcite-internal-button-content-margin: .5rem;--calcite-internal-button-padding-x: 7px;--calcite-internal-button-padding-y: 3px;position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;outline-color:transparent;background-color:var(--calcite-button-background-color, var(--calcite-internal-button-background-color, var(--calcite-color-transparent)));border-block-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-block-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-style:solid;border-width:var(--calcite-border-width-sm);box-shadow:inset 0 0 0 0 var(--calcite-button-shadow-color, var(--calcite-internal-button-shadow-color, var(--calcite-color-transparent)));border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0));color:var(--calcite-button-text-color, var(--calcite-internal-button-text-color, currentColor));padding-block:var(--calcite-internal-button-padding-y);padding-inline:var(--calcite-internal-button-padding-x);transition:color var(--calcite-animation-timing) ease-in-out,background-color var(--calcite-animation-timing) ease-in-out,box-shadow var(--calcite-animation-timing) ease-in-out,outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host a:hover,:host button:hover{text-decoration-line:none}:host a:focus,:host button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host a span,:host button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host a calcite-loader,:host button calcite-loader{color:var(--calcite-button-loader-color, var(--calcite-internal-button-loader-color, var(--calcite-button-text-color, var(--calcite-internal-button-text-color))))}:host([round]){--calcite-internal-button-corner-radius: 50px}.content{margin-inline:var(--calcite-internal-button-content-margin)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-content-margin: .75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-internal-button-content-margin: 1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-internal-button-content-margin)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(.5)}to{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}to{inline-size:0;opacity:0;transform:scale(.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-internal-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{--calcite-internal-button-border-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([kind=brand]) button,:host([kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{--calcite-internal-button-background-color: var(--calcite-color-brand-press)}:host([kind=danger]) button,:host([kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{--calcite-internal-button-background-color: var(--calcite-color-status-danger-press)}:host([kind=neutral]) button,:host([kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-background-color: var(--calcite-color-foreground-3);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{--calcite-internal-button-background-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{--calcite-internal-button-background-color: var(--calcite-color-foreground-1);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline-fill]) button:hover,:host([appearance=outline-fill]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([appearance=outline-fill]) button:active,:host([appearance=outline-fill]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=solid][kind=neutral]) button:hover,:host([appearance=solid][kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-border-3)}:host([appearance=solid][kind=neutral]) button:active,:host([appearance=solid][kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-border-2)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline]) button,:host([appearance=outline]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline]) button:hover,:host([appearance=outline]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=outline]) button:active,:host([appearance=outline]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover);--calcite-internal-button-shadow-color: var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-shadow-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press);--calcite-internal-button-shadow-color: var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press);--calcite-internal-button-shadow-color: var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{--calcite-internal-button-shadow-color: var(--calcite-color-foreground-3);--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-shadow-color: var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press);--calcite-internal-button-shadow-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button,:host([appearance=outline-fill][split-child=primary]) a,:host([appearance=outline][split-child=primary]) a{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button,:host([appearance=outline-fill][split-child=secondary]) a,:host([appearance=outline][split-child=secondary]) a{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]) button,:host([appearance=transparent]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent)}:host([appearance=transparent]) button:hover,:host([appearance=transparent]) button:focus,:host([appearance=transparent]) a:hover,:host([appearance=transparent]) a:focus{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=transparent]) button:active,:host([appearance=transparent]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:var(--calcite-color-transparent)}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{--calcite-internal-button-text-color: var(--calcite-color-text-3)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-padding-y: 0}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button:hover,:host([appearance=transparent][kind=inverse]) a:hover{background-color:var(--calcite-color-transparent-inverse-hover)}:host([appearance=transparent][kind=inverse]) button:active,:host([appearance=transparent][kind=inverse]) a:active{background-color:var(--calcite-color-transparent-inverse-press)}:host([appearance=transparent][kind=inverse]) button calcite-loader,:host([appearance=transparent][kind=inverse]) a calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-internal-button-padding-y: 3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-internal-button-padding-x: 11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-padding-y: 7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-internal-button-padding-x: 15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-internal-button-padding-x: 1rem;--calcite-internal-button-padding-y: 11px}:host([scale=l]) .button-padding--shrunk{--calcite-internal-button-padding-y: 9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-y: .625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,E6=class E6 extends u2{constructor(){super(...arguments),this.attributeWatch=_Oe(["aria-expanded"],this.handleGlobalAttributesChanged),this.contentEl=_C(),this.mutationObserver=o6("mutation",()=>this.updateHasContent()),this.resizeObserver=o6("resize",()=>this.setTooltipText()),this.messages=a8(),this.hasContent=!1,this.alignment="center",this.appearance="solid",this.disabled=!1,this.download=!1,this.kind="brand",this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.type="button",this.width="auto"}async setFocus(){var t;await Uie(this),(t=this.childEl)==null||t.focus()}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),RL(this),this.formEl=dse(this)}async load(){this.updateHasContent()}updated(){Zie(this)}loaded(){this.setTooltipText()}disconnectedCallback(){var t,r;super.disconnectedCallback(),(t=this.mutationObserver)==null||t.disconnect(),FPe(this),(r=this.resizeObserver)==null||r.disconnect(),this.formEl=null}handleGlobalAttributesChanged(){this.requestUpdate()}updateHasContent(){this.hasContent=aFe(this.el)}setupTextContentObserver(){var t;(t=this.mutationObserver)==null||t.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}handleClick(){const{type:t}=this;this.href||(t==="submit"?CPe(this):t==="reset"&&MPe(this))}setTooltipText(){const{contentEl:{value:t}}=this;t&&(this.tooltipText=t.offsetWidth<t.scrollWidth&&this.el.innerText||null)}setChildEl(t){var r;this.childEl=t,t&&((r=this.resizeObserver)==null||r.observe(t))}render(){const t=this.href?"a":"button",r=this.href?zj`a`:zj`button`,i=this.loading?ot`<div class=${Sr(Ds.buttonLoader)}><calcite-loader class=${Sr(this.loading?Ds.loadingIn:Ds.loadingOut)} inline .label=${this.messages.loading} .scale=${this.scale==="l"?"m":"s"}></calcite-loader></div>`:null,s=!this.iconStart&&!this.iconEnd,n=ot`<calcite-icon class=${Sr({[Ds.icon]:!0,[Ds.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${av(this.scale)}></calcite-icon>`,a=ot`<calcite-icon class=${Sr({[Ds.icon]:!0,[Ds.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${av(this.scale)}></calcite-icon>`,o=ot`<span class=${Sr(Ds.content)} ${Uv(this.contentEl)}><slot></slot></span>`;return Jie({disabled:this.disabled,children:nse`<${r} .ariaBusy=${this.loading} .ariaExpanded=${this.el.ariaExpanded?this.el.ariaExpanded:null} .ariaLabel=${this.loading?this.messages.loading:PPe(this)} aria-live=polite class=${Sr({[Ds.buttonPadding]:s,[Ds.buttonPaddingShrunk]:!s,[Ds.contentSlotted]:this.hasContent,[Ds.iconStartEmpty]:!this.iconStart,[Ds.iconEndEmpty]:!this.iconEnd})} .disabled=${t==="button"?this.disabled:null} download=${(t==="a"?this.download===!0||this.download===""?"":this.download||null:null)??He} href=${(t==="a"&&this.href)??He} name=${(t==="button"&&this.name)??He} @click=${this.handleClick} rel=${(t==="a"&&this.rel)??He} tabindex=${(this.disabled?-1:null)??He} target=${(t==="a"&&this.target)??He} title=${this.tooltipText??He} type=${(t==="button"?this.type:null)??He} ${Uv(this.setChildEl)}>${i}${this.iconStart?n:null}${this.hasContent?o:null}${this.iconEnd?a:null}</${r}>`})}};E6.properties={hasContent:[16,{},{state:!0}],tooltipText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:Doe},{reflect:!0}],form:[3,{},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],kind:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],name:[3,{},{reflect:!0}],rel:[3,{},{reflect:!0}],round:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],splitChild:[3,{},{reflect:!0}],target:[3,{},{reflect:!0}],type:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},E6.styles=VPe;let Yv=E6;f2("calcite-button",Yv);const zPe=Object.freeze(Object.defineProperty({__proto__:null,Button:Yv},Symbol.toStringTag,{value:"Module"})),ew=Object.freeze(Object.defineProperty({__proto__:null,Button:Yv},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const Yh={base:"arcgis-zoom",horizontalLayout:"arcgis-zoom--horizontal",button:"esri-widget--button",zoomIn:"arcgis-zoom__zoom-in",zoomOut:"arcgis-zoom__zoom-out"},jPe=Wn`@layer{arcgis-zoom,.arcgis-zoom{display:flex;flex-flow:column nowrap}.arcgis-zoom__zoom-out{border-block-start:solid 1px var(--calcite-color-border-1)}.arcgis-zoom--horizontal{flex-flow:row-reverse nowrap}.arcgis-zoom--horizontal .arcgis-zoom__zoom-out{border-block-start:none;border-inline-end:solid 1px var(--calcite-color-border-1)}}`,qPe=sse(_k);var Su;let BPe=(Su=class extends Ac{constructor(){super(...arguments),this.messages=ise({}),this.viewModel=qPe(this),this.canZoomIn=this.viewModel.canZoomIn,this.canZoomOut=this.viewModel.canZoomOut,this.autoDestroyDisabled=!1,this.icon="magnifying-glass-plus",this.layout="vertical",this.position="top-left",this.state=this.viewModel.state,this.arcgisPropertyChange=zy()("state"),this.arcgisReady=xu()}async destroy(){await this.manager.destroy()}async zoomIn(){this.viewModel.zoomIn()}async zoomOut(){this.viewModel.zoomOut()}render(){const t={[Yh.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:r,canZoomOut:i}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return ot`<div class=${$s(I0(Yh.base,t))}><calcite-button class=${$s(I0(Yh.button,Yh.zoomIn))} .disabled=${!r} icon-start=plus kind=neutral .label=${s} @click=${this.zoomIn} title=${s??nc}></calcite-button><calcite-button class=${$s(I0(Yh.button,Yh.zoomOut))} .disabled=${!i} icon-start=minus kind=neutral .label=${n} @click=${this.zoomOut} title=${n??nc}></calcite-button></div>`}},Su.properties={canZoomIn:16,canZoomOut:16,autoDestroyDisabled:5,icon:3,label:1,layout:3,messageOverrides:0,position:1,referenceElement:1,state:3},Su.shadowRootOptions=Wo,Su.styles=jPe,Su);Du("arcgis-zoom",BPe);var f6;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(f6||(f6={}));function UPe(e,t){return{type:eh(t),value:e,unit:t}}function Ott(e){return{value:e}}function GPe(e,t){return{type:eh(t),value:e,unit:t}}function HPe(e,t){return{type:eh(t),value:e,unit:t}}function o8(e,t,r="arithmetic"){return{type:eh(t),value:e,unit:t,rotationType:r}}function Ftt(e,t){const r=WPe(e,t);return e.type==="angle"?o8(r,t,e.rotationType):UPe(r,t)}function WPe(e,t){return Ze(e.value,e.unit,t)}function Ptt(e,t){return e==null?t:t==null||e.value>Ze(t.value,t.unit,e.unit)?e:t}function Ntt(e,t){return e==null?null:{...e,value:e.value*t}}function ZPe(e,t,r){if(t===r)return e;switch(r){case"arithmetic":case"geographic":return 90-e}}const Dtt=GPe(0,"meters"),Vtt=HPe(0,"square-meters");o8(0,"radians");const ztt=o8(0,"degrees"),jtt=o8(0,"degrees","geographic");function hse(e,t,r){return e.units[t][r]}function ub(e,t,r,i=2,s="abbr"){return`${Mi(t,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:t>0?"never":"exceptZero"})} ${hse(e,r,s)}`}function l8(e,t,r,i=2,s="abbr"){return`${Mi(t,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:"exceptZero"})} ${hse(e,r,s)}`}function qtt(e,t,r,i=2,s="abbr"){const n=kH(t,r);return ub(e,Ze(t,r,n),n,i,s)}function Btt(e,t,r,i=2,s="abbr"){const n=kH(t,r);return l8(e,Ze(t,r,n),n,i,s)}function Utt(e,t,r,i=2,s="abbr"){const n=LH(t,r);return ub(e,Ze(t,r,n),n,i,s)}function Gtt(e,t,r,i=2,s="abbr"){const n=LH(t,r);return l8(e,Ze(t,r,n),n,i,s)}function Htt(e,t,r,i=2,s="abbr"){const n=RH(t,r);return ub(e,Ze(t,r,n),n,i,s)}function Wtt(e,t,r,i=2,s="abbr"){const n=RH(t,r);return l8(e,Ze(t,r,n),n,i,s)}function Ztt(e,t,r,i=2,s="abbr"){const n=OH(t,r);return ub(e,Ze(t,r,n),n,i,s)}function Jtt(e,t,r,i=2,s="abbr"){const n=OH(t,r);return l8(e,Ze(t,r,n),n,i,s)}function Ytt(e,t,r,i=2,s="abbr"){const n=npe(t,r);return ub(e,Ze(t,r,n),n,i,s)}function Qtt(e,t,r,i=2,s="abbr"){const n=ape(t,r);return ub(e,Ze(t,r,n),n,i,s)}const JPe=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function Ktt(e,t,r,i,s,n=zG,a=!0){let o=n.normalize(ZPe(Ze(e,t,"degrees"),r,i),0,a);const l=JPe(o,s??2);return o=YPe(o,l),Mi(o,l)}const Zj=new Map;function YPe(e,t){const r=JSON.stringify(t);let i=Zj.get(r);return i||(i=new Intl.NumberFormat("en-US",t),Zj.set(r,i)),/^[-+]?360\.?0*°?$/.test(i.format(e))?0:e}const Jj=["B","kB","MB","GB","TB"];function QPe(e,t){let r=(t=Math.round(t))===0?0:Math.floor(Math.log(t)/Math.log(f6.KILOBYTES));r=As(r,0,Jj.length-1);const i=Mi(t/f6.KILOBYTES**r,{maximumFractionDigits:2});return Ga(e.units.bytes[Jj[r]],{fileSize:i})}function KPe(e){const{exifInfo:t,exifName:r,tagName:i}=e;if(!t)return null;const s=t.find(n=>n.name===r);return s?XPe({tagName:i,tags:s.tags}):null}function XPe(e){const{tagName:t,tags:r}=e;if(!r)return null;const i=r.find(s=>s.name===t);return(i==null?void 0:i.value)||null}var MC;const eNe={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let ms=MC=class extends N{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=KPe({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return eNe[t]||null}clone(){return new MC({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};c([u({type:String})],ms.prototype,"contentType",void 0),c([u()],ms.prototype,"exifInfo",void 0),c([u({readOnly:!0})],ms.prototype,"orientationInfo",null),c([u({type:Ve})],ms.prototype,"id",void 0),c([u({type:String})],ms.prototype,"globalId",void 0),c([u({type:String})],ms.prototype,"keywords",void 0),c([u({type:String})],ms.prototype,"name",void 0),c([u({json:{read:!1}})],ms.prototype,"parentGlobalId",void 0),c([u({json:{read:!1}})],ms.prototype,"parentObjectId",void 0),c([u({type:Ve})],ms.prototype,"size",void 0),c([u({json:{read:!1}})],ms.prototype,"url",void 0),ms=MC=c([S("esri.rest.query.support.AttachmentInfo")],ms);const tNe=ms,rNe="esri.widgets.Feature.support.featureUtils",AC=()=>B.getLogger(rNe),iNe=/href=(""|'')/gi,sNe=/(\{([^{\r\n]+)\})/g,nNe=/'/g,mse=/^\s*expression\//i,aNe=/(\n)/gi,oNe=/[\u00A0-\u9999<>&]/gim,lNe=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,cNe=/^(?:mailto:|tel:)/,yse="relationships/",Yj=Ud("short-date-short-time");function OL(e){if(e!=null)return(e.sourceLayer||e.layer)??void 0}async function Qv({type:e,value:t,event:r}){try{return typeof t=="function"?t(r):await t}catch(i){return void AC().error("error",`An error occurred when calling the "${e}" function`,{error:i,graphic:r.graphic,value:t})}}function FL(e=""){if(e)return!cNe.test(e.trim().toLowerCase())}function c8(e){return!!e&&mse.test(e)}function dNe(e,t){if(!t||!c8(t)||!e)return;const r=t.replace(mse,"").toLowerCase();return e.find(({name:i})=>i.toLowerCase()===r)}function PL(e,t){const r=dNe(t,e==null?void 0:e.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function uNe(e,t){const r=t.get(e.toLowerCase());return`{${(r==null?void 0:r.fieldName)||e}}`}function fNe(e){return e.replaceAll(iNe,"")}function Fy(e,t){const r=NL(t,e);return r?r.name:e}function bse(e,t){return e&&e.map(r=>Fy(r,t))}function NL(e,t){return e&&typeof e.getField=="function"&&t?e.getField(t)??null:null}function gse(e){return`${e}`.trim()}function au({attributes:e,globalAttributes:t,layer:r,text:i,expressionAttributes:s,fieldInfoMap:n}){return i?p6({formattedAttributes:t,template:yNe(i,{...t,...s,...e},r),fieldInfoMap:n}):""}function p6({formattedAttributes:e,template:t,fieldInfoMap:r}){return gse(fNe(Ga(Ga(t,i=>uNe(i,r)),e)))}function pNe(e,t,r=!1){const i=t[e];if(typeof i=="string"){const s="%27",n=(r?encodeURIComponent(i):i).replaceAll(nNe,s);t[e]=n}}function hNe(e,t=!1){const r={...e};return Object.keys(r).forEach(i=>pNe(i,r,t)),r}function mNe(e,t,r){const i=(t=gse(t))&&t[0]!=="{";return Ga(e,hNe(r,i||!1))}function h6(e,t){return e.replaceAll(sNe,(r,i,s)=>{const n=NL(t,s);return n?`{${n.name}}`:i})}function yNe(e,t,r){const i=h6(e,r);return i&&i.replaceAll(lNe,(s,n,a)=>mNe(s,n||a,t))}function bNe(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const r=Number(e);if(!isNaN(r))return r}return e}function vse(e){return e!=null&&typeof e=="object"&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&(e.type==="feature"||e.type==="scene"||e.type==="subtype-group"||e.type==="subtype-sublayer"||e.type==="sublayer")&&"when"in e}function wse(e){return e!=null&&typeof e=="object"&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}function tw(e){return vse(e)&&wse(e)}function _se(e){return!(!(e&&typeof e=="object"&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"type"in e)||e.type!=="feature"&&e.type!=="subtype-group"&&e.type!=="subtype-sublayer"&&e.type!=="sublayer"||!("when"in e))&&(e.type==="subtype-sublayer"&&"parent"in e&&e.parent&&typeof e.parent=="object"?"globalIdField"in e.parent:"globalIdField"in e)}function gNe(e){return!!e&&typeof e=="object"&&"sourceLayer"in e&&tw(e.sourceLayer)}function Sse(e,t){var f;const{fieldInfos:r,fieldName:i,preventPlacesFormatting:s,layer:n,timeZone:a}=t,o=DL(r,i),l=NL(n,i);if(o&&!Ix(i)){const p=l==null?void 0:l.type,m=(f=o.format)==null?void 0:f.dateFormat;if(p==="date"||p==="date-only"||p==="time-only"||p==="timestamp-offset"||m)return bL(e,{format:m,fieldType:p,timeZoneOptions:{layerTimeZone:n&&"preferredTimeZone"in n?n.preferredTimeZone:null,viewTimeZone:a,datesInUnknownTimezone:!(!n||!("datesInUnknownTimezone"in n))&&!!n.datesInUnknownTimezone}})}const d=o==null?void 0:o.format;return typeof e=="string"&&Ix(i)&&d?vNe(e,d):typeof(e=bNe(e,d))=="string"||e==null||d==null?fb(e):Mi(e,s?{...v_(d),minimumFractionDigits:0,maximumFractionDigits:20}:v_(d))}function vNe(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?CS(e,",",", ",t):e.includes(";")?CS(e,";","; ",t):e.includes(" ")?CS(e," "," ",t):Mi(Number(e),v_(t))}function CS(e,t,r,i){return e.trim().split(t).map(s=>Mi(Number(s),v_(i))).join(r)}function DL(e,t){if(e!=null&&e.length&&t)return e.find(r=>{var i;return((i=r.fieldName)==null?void 0:i.toLowerCase())===t.toLowerCase()})}function wNe({fieldName:e,graphic:t,layer:r}){if(qo(e)||!r||typeof r.getFeatureType!="function")return null;const{typeIdField:i}=r;if(!i||e!==i)return null;const s=r.getFeatureType(t);return s?s.name:null}function _Ne({fieldName:e,value:t,graphic:r,layer:i}){if(qo(e)||!i||typeof i.getFieldDomain!="function")return null;const s=r&&i.getFieldDomain(e,{feature:r,excludeImpliedDomains:V("esri-widget-legacy-field-domain-calculation")});return s&&s.type==="coded-value"?s.getName(t):null}function $se(e,t,r,i){const{creatorField:s,creationDateField:n,editorField:a,editDateField:o}=e;if(!t)return;const l=mZ(i&&"preferredTimeZone"in i?i.preferredTimeZone:null,!(!i||!("datesInUnknownTimezone"in i))&&!!i.datesInUnknownTimezone,r,Yj,"date"),d={...Yj,...l},f=t[o];if(typeof f=="number"){const m=t[a];return{type:"edit",date:Qi(f,d),user:m}}const p=t[n];if(typeof p=="number"){const m=t[s];return{type:"create",date:Qi(p,d),user:m}}return null}function xse(e,t){const r=new Map;if(!e)return r;for(const i of e){if(!i.fieldName)continue;const s=Fy(i.fieldName,t);i.fieldName=s,r.set(s.toLowerCase(),i)}return r}function kC(e){const t=[];if(!e)return t;const{fieldInfos:r,content:i}=e;return r&&t.push(...r),i&&Array.isArray(i)&&i.forEach(s=>{if(s.type==="fields"){const n=s==null?void 0:s.fieldInfos;n&&t.push(...n)}}),t}function d8(e){return e.replaceAll(oNe,t=>`&#${t.charCodeAt(0)};`)}function fb(e){return typeof e=="string"?e.replaceAll(aNe,'<br class="esri-text-new-line" />'):e}function Ese(e){var p;const{value:t,fieldName:r,fieldInfos:i,fieldInfoMap:s,layer:n,graphic:a,timeZone:o}=e;if(t==null)return"";const l=_Ne({fieldName:r,value:t,graphic:a,layer:n});if(l)return l;const d=wNe({fieldName:r,graphic:a,layer:n});if(d)return d;if(s.get(r.toLowerCase()))return Sse(t,{fieldInfos:i||Array.from(s.values()),fieldName:r,layer:n,timeZone:o});const f=(p=n==null?void 0:n.fieldsIndex)==null?void 0:p.get(r);return f&&(es(f)||Ci(f))?bL(t,{fieldType:f.type,timeZoneOptions:{layerTimeZone:n&&"preferredTimeZone"in n?n.preferredTimeZone:null,viewTimeZone:o,datesInUnknownTimezone:!(!n||!("datesInUnknownTimezone"in n))&&!!n.datesInUnknownTimezone}}):fb(t)}function w5({fieldInfos:e,attributes:t,layer:r,graphic:i,fieldInfoMap:s,relatedInfos:n,timeZone:a}){const o={};return n==null||n.forEach(l=>xNe({attributes:o,relatedInfo:l,fieldInfoMap:s,fieldInfos:e,layer:r,timeZone:a})),t&&Object.keys(t).forEach(l=>{const d=t[l];o[l]=Ese({fieldName:l,fieldInfos:e,fieldInfoMap:s,layer:r,value:d,graphic:i,timeZone:a})}),o}async function VL(e,t){var f,p;const{layer:r,graphic:i,outFields:s,objectIds:n,returnGeometry:a,spatialReference:o}=e,l=n[0];if(typeof l!="number"&&typeof l!="string"){const m="Could not query required fields for the specified feature. The feature's ID is invalid.",y={layer:r,graphic:i,objectId:l,requiredFields:s};return AC().warn(m,y),null}if(!((p=(f=$J(r))==null?void 0:f.operations)!=null&&p.supportsQuery)){const m="The specified layer cannot be queried. The following fields will not be available.",y={layer:r,graphic:i,requiredFields:s,returnGeometry:a};return AC().warn(m,y),null}const d=r.createQuery();return d.objectIds=n,d.outFields=s!=null&&s.length?s:[r.objectIdField],d.returnGeometry=!!a,d.returnZ=!!a,d.returnM=!!a,d.outSpatialReference=o,(await r.queryFeatures(d,t)).features[0]}async function SNe(e){var i;if(!((i=e.expressionInfos)!=null&&i.length))return!1;const t=await ln(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function Tse({graphic:e,popupTemplate:t,layer:r,spatialReference:i},s){if(!r||!t||(typeof r.load=="function"&&await r.load(s),!e.attributes))return;const n=r.objectIdField,a=e.attributes[n];if(a==null)return;const o=[a],l=await t.getRequiredFields(r.fieldsIndex),d=xY(l,e),f=d?[]:l.includes(n)?l:[...l,n],p=t.returnGeometry||await SNe(t);if(d&&!p)return;const m=await VL({layer:r,graphic:e,outFields:f,objectIds:o,returnGeometry:p,spatialReference:i},s);m&&(m.geometry&&(e.geometry=m.geometry),m.attributes&&(e.attributes={...e.attributes,...m.attributes}))}function qo(e=""){return!!e&&e.includes(yse)}function $Ne(e){return`${yse}${e.layerId}/${e.fieldName}`}function Qj({attributes:e,graphic:t,relatedInfo:r,fieldInfos:i,fieldInfoMap:s,layer:n,timeZone:a}){e&&t&&r&&Object.keys(t.attributes).forEach(o=>{const l=$Ne({layerId:r.relation.id.toString(),fieldName:o}),d=t.attributes[o];e[l]=Ese({fieldName:l,fieldInfos:i,fieldInfoMap:s,layer:n,value:d,graphic:t,timeZone:a})})}function xNe({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:n}){var a,o;e&&t&&((a=t.relatedFeatures)==null||a.forEach(l=>Qj({attributes:e,graphic:l,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:n})),(o=t.relatedStatsFeatures)==null||o.forEach(l=>Qj({attributes:e,graphic:l,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:n})))}const Kj=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},Ise=({layer:e,method:t,query:r,definitionExpression:i})=>{var a,o;if(!((o=(a=e.capabilities)==null?void 0:a.query)!=null&&o.supportsCacheHint)||t==="attachments")return;const s=r.where!=null?r.where:null,n=r.geometry!=null?r.geometry:null;Kj(i)||Kj(s)||(n==null?void 0:n.type)==="extent"||r.resultType==="tile"||(r.cacheHint=!0)},Cse=({query:e,layer:t,method:r})=>{Ise({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})},Mse=({queryPayload:e,layer:t,method:r})=>{Ise({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})};function Ase(e,t,r){var i,s;return e&&t&&r?t.type==="sublayer"?x0({layers:(i=t.layer)==null?void 0:i.sublayers,map:e,relatedLayer:t,relationship:r})||x0({layers:(s=t.layer)==null?void 0:s.subtables,map:e,relatedLayer:t,relationship:r}):x0({layers:e.allLayers,map:e,relatedLayer:t,relationship:r})||x0({layers:e.allTables,map:e,relatedLayer:t,relationship:r}):null}function kse(e,t){var r;return e&&"utilityNetworks"in e&&t?(r=e.utilityNetworks)==null?void 0:r.find(i=>i.isUtilityLayer(t)):null}function Xj(e,t){return e==null?void 0:e.allTables.find(r=>{var i;return r.type==="feature"&&r.layerId===t.id&&r.url===((i=t.layer)==null?void 0:i.url)})}function x0({map:e,relationship:t,relationship:{relatedTableId:r},relatedLayer:i,layers:s}){var n;if(!s)return null;for(const a of s){if(a.type==="map-image"){const l=x0({layers:a.sublayers,map:e,relatedLayer:i,relationship:t})||x0({layers:a.subtables,map:e,relatedLayer:i,relationship:t});if(l)return l;continue}if(!tw(a))continue;if(i.type==="sublayer"){if(a!==i&&a.id===r)return a.isTable?Xj(e,a):a;continue}const o=i.type==="scene"&&i.associatedLayer?i.associatedLayer.url:i.url;if(!o)return null;if(a.type!=="sublayer"){if(a!==i&&a.url===o&&a.layerId===r)return a}else if(a!==i&&((n=a.layer)==null?void 0:n.url)===o&&a.id===r)return a.isTable?Xj(e,a):a}return null}function ENe(e){const t=e.getObjectId();return t!=null?`oid:${t}`:`uid:${e.uid}`}const TNe=Object.freeze(Object.defineProperty({__proto__:null,applyTextFormattingHTML:fb,createFieldInfoMap:xse,findRelatedLayer:Ase,findUtilityNetwork:kse,fixTokens:h6,formatAttributes:w5,formatEditInfo:$se,formatValueToFieldInfo:Sse,getAllFieldInfos:kC,getFieldInfo:DL,getFieldInfoLabel:PL,getFixedFieldName:Fy,getFixedFieldNames:bse,getHighlightKeyForFeature:ENe,getSourceLayer:OL,graphicCallback:Qv,htmlEntities:d8,isAssociatedFeatureSupportedLayer:_se,isExpressionField:c8,isFeatureSupportedLayer:vse,isGraphicForRelatableFeatureSupportedLayer:gNe,isRelatableFeatureSupportedLayer:tw,isRelatableLayer:wse,isRelatedField:qo,preLayerQueryCallback:Cse,preRequestCallback:Mse,querySourceLayer:VL,queryUpdatedFeature:Tse,shouldOpenInNewTab:FL,substituteAttributes:p6,substituteFieldsInLinksAndAttributes:au},Symbol.toStringTag,{value:"Module"})),eq={editing:!1,operations:{add:!0,update:!0,delete:!0}},Lse=W.ofType(tNe);let zi=class extends ie{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...eq},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new Lse,this.fileInfos=new W,this.graphic=null,this.mode="view",this.orderByFields=null,this.filesEnabled=!1,this.addHandles(U(()=>this.graphic,()=>this._graphicChanged(),we))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(t){return{...eq,...t}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const r=t.layer||t.sourceLayer;return(r==null?void 0:r.loaded)&&"capabilities"in r&&r.capabilities&&"attachment"in r.capabilities&&r.capabilities.attachment&&"supportsResize"in r.capabilities.attachment&&r.capabilities.attachment.supportsResize||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:r,orderByFields:i}=this;if(!t||typeof t.queryAttachments!="function")throw new I("invalid-layer","getAttachments(): A valid layer is required.");const s=this._getObjectId();if(typeof s!="number")throw new I("invalid-object-id","getAttachments(): Numeric object id is required");const n=i==null?void 0:i.map(f=>`${f.field} ${f.order==="descending"?"DESC":"ASC"}`),a=new kI({objectIds:[s],returnMetadata:!0,orderByFields:n}),o=[],l=t.queryAttachments(a).then(f=>f[s]||o).catch(()=>o);this._getAttachmentsPromise=l,this.notifyChange("state");const d=await l;return r.destroyAll(),d.length&&r.addMany(d),this._getAttachmentsPromise=null,this.notifyChange("state"),d}async addAttachment(t,r=this.graphic){var l;const{_attachmentLayer:i,attachmentInfos:s,capabilities:n}=this;if(!r)throw new I("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:r});if(!t)throw new I("invalid-attachment","addAttachment(): An attachment is required.",{attachment:t});if(!((l=n.operations)!=null&&l.add))throw new I("invalid-capabilities","addAttachment(): add capabilities are required.");if(!i||typeof i.addAttachment!="function")throw new I("invalid-layer","addAttachment(): A valid layer is required.");const a=i.addAttachment(r,t).then(d=>this._queryAttachment(d.objectId,r)),o=await a;return s.add(o),o}async deleteAttachment(t){var l;const{_attachmentLayer:r,attachmentInfos:i,graphic:s,capabilities:n}=this;if(!t)throw new I("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!((l=n.operations)!=null&&l.delete))throw new I("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!r||typeof r.deleteAttachments!="function")throw new I("invalid-layer","deleteAttachment(): A valid layer is required.");if(!s)throw new I("invalid-graphic","deleteAttachment(): A graphic is required.");const a=r.deleteAttachments(s,[t.id]).then(()=>t),o=await a;return i.remove(o),o.destroy(),o}async updateAttachment(t,r=this.activeAttachmentInfo){var f;const{_attachmentLayer:i,attachmentInfos:s,graphic:n,capabilities:a}=this;if(!t)throw new I("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:t});if(!r)throw new I("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:r});if(!((f=a.operations)!=null&&f.update))throw new I("invalid-capabilities","updateAttachment(): Update capabilities are required.");const o=s.indexOf(r);if(!i||typeof i.updateAttachment!="function")throw new I("invalid-layer","updateAttachment(): A valid layer is required.");if(!n)throw new I("invalid-graphic","updateAttachment(): A graphic is required.");const l=i.updateAttachment(n,r.id,t).then(p=>this._queryAttachment(p.objectId)),d=await l;return s.splice(o,1,d),d}async commitFiles(){return await Promise.all(this.fileInfos.items.map(t=>this.addAttachment(t.form))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,r){if(!t||!r)return null;const i={file:t,form:r};return this.fileInfos.add(i),i}updateFile(t,r,i=this.activeFileInfo){if(!t||!r||!i)return null;const s=this.fileInfos.indexOf(i);return s>-1&&this.fileInfos.splice(s,1,{file:t,form:r}),this.fileInfos.items[s]}deleteFile(t){const r=this.fileInfos.find(i=>i.file===t);return r?(this.fileInfos.remove(r),r):null}async _queryAttachment(t,r){const{_attachmentLayer:i}=this;if(!t||!(i!=null&&i.queryAttachments))throw new I("invalid-attachment-id","Could not query attachment.");const s=this._getObjectId(r);if(typeof s!="number")throw new I("invalid-object-id","getAttachments(): Numeric object id is required");const n=new kI({objectIds:[s],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return i.queryAttachments(n).then(a=>a[s][0])}_getObjectId(t=this.graphic){return(t==null?void 0:t.getObjectId())??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>this.attachmentInfos.destroyAll()))}_setAttachmentLayer(){const{graphic:t}=this,r=OL(t);this._attachmentLayer=r?r.type==="scene"&&r.associatedLayer!=null?r.associatedLayer:r:null}};c([u()],zi.prototype,"capabilities",void 0),c([Oe("capabilities")],zi.prototype,"castCapabilities",null),c([u()],zi.prototype,"activeAttachmentInfo",void 0),c([u()],zi.prototype,"activeFileInfo",void 0),c([u({readOnly:!0,type:Lse})],zi.prototype,"attachmentInfos",void 0),c([u()],zi.prototype,"fileInfos",void 0),c([u({type:pr})],zi.prototype,"graphic",void 0),c([u()],zi.prototype,"mode",void 0),c([u({type:[EY]})],zi.prototype,"orderByFields",void 0),c([u({readOnly:!0})],zi.prototype,"state",null),c([u()],zi.prototype,"filesEnabled",void 0),c([u({readOnly:!0})],zi.prototype,"supportsResizeAttachments",null),zi=c([S("esri.widgets.Attachments.AttachmentsViewModel")],zi);const zL=zi;function tq(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function INe(e){const t=Et("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.includes("image/")?`${t}image-32.svg`:e.includes("audio/")?`${t}sound-32.svg`:e.includes("video/")?`${t}video-32.svg`:e.includes("msexcel")||e.includes("ms-excel")||e.includes("spreadsheetml")?`${t}excel-32.svg`:e.includes("msword")||e.includes("ms-word")||e.includes("wordprocessingml")?`${t}word-32.svg`:e.includes("powerpoint")||e.includes("presentationml")?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}const Yb={left:"esri-icon-left",plus:"esri-icon-plus",right:"esri-icon-right",table:"esri-icon-table",trash:"esri-icon-trash",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass"},rq={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},Xe="esri-attachments",Me={base:Xe,loaderContainer:`${Xe}__loader-container`,loader:`${Xe}__loader`,container:`${Xe}__container`,containerList:`${Xe}__container--list`,containerPreview:`${Xe}__container--preview`,actions:`${Xe}__actions`,deleteButton:`${Xe}__delete-button`,addAttachmentButton:`${Xe}__add-attachment-button`,errorMessage:`${Xe}__error-message`,items:`${Xe}__items`,item:`${Xe}__item`,itemButton:`${Xe}__item-button`,itemMask:`${Xe}__item-mask`,itemMaskIcon:`${Xe}__item-mask--icon`,itemImage:`${Xe}__image`,itemImageResizable:`${Xe}__image--resizable`,itemLabel:`${Xe}__label`,itemFilename:`${Xe}__filename`,itemChevronIcon:`${Xe}__item-chevron-icon`,itemLink:`${Xe}__item-link`,itemLinkOverlay:`${Xe}__item-link-overlay`,itemLinkOverlayIcon:`${Xe}__item-link-overlay-icon`,itemAddIcon:`${Xe}__item-add-icon`,formNode:`${Xe}__form-node`,fileFieldset:`${Xe}__file-fieldset`,fileLabel:`${Xe}__file-label`,fileName:`${Xe}__file-name`,fileInput:`${Xe}__file-input`,metadata:`${Xe}__metadata`,metadataFieldset:`${Xe}__metadata-fieldset`,progressBar:`${Xe}__progress-bar`},MS=window.CSS;let ii=class extends lt{constructor(t,r){super(t,r),this.displayType="auto",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...rq},this._supportsImageOrientation=MS&&MS.supports&&MS.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}normalizeCtorArgs(t){return t!=null&&t.viewModel||(t={viewModel:new zL,...t}),t}initialize(){this.addHandles([Er(()=>{var t;return(t=this.viewModel)==null?void 0:t.attachmentInfos},"change",()=>this.scheduleRender()),Er(()=>{var t;return(t=this.viewModel)==null?void 0:t.fileInfos},"change",()=>this.scheduleRender()),U(()=>{var t;return(t=this.viewModel)==null?void 0:t.mode},()=>this._modeChanged(),we)])}loadDependencies(){return dn({icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0)})}get capabilities(){return this.viewModel.capabilities}set capabilities(t){this.viewModel.capabilities=t}get effectiveDisplayType(){const{displayType:t}=this;return t&&t!=="auto"?t:this.viewModel.supportsResizeAttachments?"preview":"list"}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get icon(){return"attachment"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}castVisibleElements(t){return{...rq,...t}}addAttachment(){const{_addAttachmentForm:t,viewModel:r}=this;return this._set("submitting",!0),this._set("error",null),r.addAttachment(t).then(i=>(this._set("submitting",!1),this._set("error",null),r.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new I("attachments:add-attachment",this.messages.addErrorMessage,i)),i})}deleteAttachment(t){const{viewModel:r}=this;return this._set("submitting",!0),this._set("error",null),r.deleteAttachment(t).then(i=>(this._set("submitting",!1),this._set("error",null),r.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new I("attachments:delete-attachment",this.messages.deleteErrorMessage,i)),i})}updateAttachment(){const{viewModel:t}=this,{_updateAttachmentForm:r}=this;return this._set("submitting",!0),this._set("error",null),t.updateAttachment(r).then(i=>(this._set("submitting",!1),this._set("error",null),t.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new I("attachments:update-attachment",this.messages.updateErrorMessage,i)),i})}addFile(){const t=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode="view",t}updateFile(){const{viewModel:t}=this,r=t.updateFile(this.selectedFile,this._updateAttachmentForm,t.activeFileInfo);return t.mode="view",r}deleteFile(t){var i;const r=this.viewModel.deleteFile(t||((i=this.viewModel.activeFileInfo)==null?void 0:i.file));return this.viewModel.mode="view",r}render(){const{submitting:t,viewModel:r}=this,{state:i}=r;return $("div",{class:this.classes(Me.base,ve.widget)},t?this._renderProgressBar():null,i==="loading"?this._renderLoading():this._renderAttachments(),this._renderErrorMessage())}_renderErrorMessage(){const{error:t,visibleElements:r}=this;return t&&r.errorMessage?$("div",{class:Me.errorMessage,key:"error-message"},t.message):null}_renderAttachments(){const{activeFileInfo:t,mode:r,activeAttachmentInfo:i}=this.viewModel;return r==="add"?this._renderAddForm():r==="edit"?this._renderDetailsForm(i||t):this._renderAttachmentContainer()}_renderLoading(){return $("div",{class:Me.loaderContainer,key:"loader"},$("div",{class:Me.loader}))}_renderProgressBar(){return this.visibleElements.progressBar?$("div",{class:Me.progressBar,key:"progress-bar"}):null}_renderAddForm(){const{submitting:t,selectedFile:r}=this,i=t||!r,s=this.visibleElements.cancelAddButton?$("button",{bind:this,class:this.classes(ve.button,ve.buttonTertiary,ve.buttonSmall,ve.buttonHalf,t&&ve.buttonDisabled),disabled:t,onclick:this._cancelForm,type:"button"},this.messages.cancel):null,n=this.visibleElements.addSubmitButton?$("button",{class:this.classes(ve.button,ve.buttonSecondary,ve.buttonSmall,ve.buttonHalf,{[ve.buttonDisabled]:i}),disabled:i,type:"submit"},this.messages.add):null,a=r?$("span",{class:Me.fileName,key:"file-name"},r.name):null,o=$("form",{afterCreate:ZF,afterRemoved:WF,bind:this,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},$("fieldset",{class:Me.fileFieldset},a,$("label",{class:this.classes(Me.fileLabel,ve.button,ve.buttonSecondary)},r?this.messages.changeFile:this.messages.selectFile,$("input",{bind:this,class:Me.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))),n,s);return $("div",{class:Me.formNode,key:"add-form-container"},o)}_renderDetailsForm(t){var T,k,A;const{visibleElements:r,viewModel:i,selectedFile:s,submitting:n}=this,{capabilities:a}=i,o=n||!s;let l,d,f,p;s?(l=s.type,d=s.name,f=s.size):t&&"file"in t?(l=t.file.type,d=t.file.name,f=t.file.size):t&&"contentType"in t&&(l=t.contentType,d=t.name,f=t.size,p=t.url);const m=a.editing&&((T=a.operations)!=null&&T.delete)&&r.deleteButton?$("button",{bind:this,class:this.classes(ve.button,ve.buttonSmall,ve.buttonTertiary,Me.deleteButton,{[ve.buttonDisabled]:n}),disabled:n,key:"delete-button",onclick:M=>this._submitDeleteAttachment(M,t),type:"button"},this.messages.delete):void 0,y=a.editing&&((k=a.operations)!=null&&k.update)&&r.updateButton?$("button",{class:this.classes(ve.button,ve.buttonSmall,ve.buttonThird,{[ve.buttonDisabled]:o}),disabled:o,key:"update-button",type:"submit"},this.messages.update):void 0,b=this.visibleElements.cancelUpdateButton?$("button",{bind:this,class:this.classes(ve.button,ve.buttonSmall,ve.buttonTertiary,ve.buttonThird,{[ve.buttonDisabled]:n}),disabled:n,key:"cancel-button",onclick:this._cancelForm,type:"button"},this.messages.cancel):void 0,g=a.editing&&((A=a.operations)!=null&&A.update)?$("fieldset",{class:Me.fileFieldset,key:"file"},$("span",{class:Me.fileName,key:"file-name"},d),$("label",{class:this.classes(Me.fileLabel,ve.button,ve.buttonSecondary)},this.messages.changeFile,$("input",{bind:this,class:Me.fileInput,name:"attachment",onchange:this._handleFileInputChange,type:"file"}))):void 0,v=$("fieldset",{class:Me.metadataFieldset,key:"size"},$("label",null,QPe(this.messagesUnits,f??0))),w=$("fieldset",{class:Me.metadataFieldset,key:"content-type"},$("label",null,l)),_=p!=null?$("a",{class:Me.itemLink,href:p,rel:"noreferrer",target:"_blank"},this._renderImageMask(t,400),$("div",{class:Me.itemLinkOverlay},$("span",{class:Me.itemLinkOverlayIcon},$("calcite-icon",{icon:"launch"})))):this._renderImageMask(t,400),x=$("form",{afterCreate:ZF,afterRemoved:WF,bind:this,"data-node-ref":"_updateAttachmentForm",onsubmit:M=>this._submitUpdateAttachment(M,t)},$("div",{class:Me.metadata},v,w),g,$("div",{class:Me.actions},m,b,y));return $("div",{class:Me.formNode,key:"edit-form-container"},_,x)}_renderImageMask(t,r){return t?"file"in t?this._renderGenericImageMask(t.file.name,t.file.type):this._renderImageMaskForAttachment(t,r):null}_renderGenericImageMask(t,r){const{supportsResizeAttachments:i}=this.viewModel,s=INe(r),n={[Me.itemImageResizable]:i};return $("div",{class:this.classes(Me.itemMaskIcon,Me.itemMask),key:s},$("img",{alt:t,class:this.classes(n,Me.itemImage),src:s,title:t}))}_renderImageMaskForAttachment(t,r){const{supportsResizeAttachments:i}=this.viewModel;if(!t)return null;const{contentType:s,name:n,url:a}=t;if(!i||!tq(s))return this._renderGenericImageMask(n,s);const o=this._getCSSTransform(t),l=o?{transform:o,"image-orientation":"none"}:{},d=`${a}${a!=null&&a.includes("?")?"&":"?"}w=${r}`,f={[Me.itemImageResizable]:i};return $("div",{class:this.classes(Me.itemMask),key:d},$("img",{alt:n,class:this.classes(f,Me.itemImage),src:d,styles:l,title:n}))}_renderFile(t){const{file:r}=t;return $("li",{class:Me.item,key:r},$("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:Me.itemButton,key:"details-button",onclick:()=>this._startEditFile(t),title:this.messages.attachmentDetails,type:"button"},this._renderImageMask(t),$("label",{class:Me.itemLabel},$("span",{class:Me.itemFilename},r.name||this.messages.noTitle),$("span",{"aria-hidden":"true",class:this.classes(Me.itemChevronIcon,za(this.container)?Yb.left:Yb.right)}))))}_renderAttachmentInfo({attachmentInfo:t,displayType:r}){const{viewModel:i,effectiveDisplayType:s}=this,{capabilities:n,supportsResizeAttachments:a}=i,{contentType:o,name:l,url:d}=t,f=this._renderImageMask(t,r==="list"?48:400),p=n.editing?$("span",{"aria-hidden":"true",class:this.classes(Me.itemChevronIcon,za(this.container)?Yb.left:Yb.right)}):null,m=[f,s==="preview"&&a&&tq(o)?null:$("label",{class:Me.itemLabel},$("span",{class:Me.itemFilename},l||this.messages.noTitle),p)],y=n.editing?$("button",{"aria-label":this.messages.attachmentDetails,bind:this,class:Me.itemButton,"data-attachment-info-id":t.id,key:"details-button",onclick:()=>this._startEditAttachment(t),title:this.messages.attachmentDetails,type:"button"},m):$("a",{class:Me.itemButton,href:d??void 0,key:"details-link",rel:"noreferrer",target:"_blank"},m);return $("li",{class:Me.item,key:t},y)}_renderAttachmentContainer(){var b;const{effectiveDisplayType:t,viewModel:r,visibleElements:i}=this,{attachmentInfos:s,capabilities:n,fileInfos:a}=r,o=!!(s!=null&&s.length),l=!!(a!=null&&a.length),d={[Me.containerList]:t!=="preview",[Me.containerPreview]:t==="preview"},f=n.editing&&((b=n.operations)!=null&&b.add)&&i.addButton?$("button",{bind:this,class:this.classes(ve.button,ve.buttonTertiary,Me.addAttachmentButton),onclick:()=>this._startAddAttachment(),type:"button"},$("span",{"aria-hidden":"true",class:this.classes(Me.itemAddIcon,Yb.plus)}),this.messages.add):void 0,p=o?$("ul",{class:Me.items,key:"attachments-list"},s.toArray().map(g=>this._renderAttachmentInfo({attachmentInfo:g,displayType:t}))):void 0,m=l?$("ul",{class:Me.items,key:"file-list"},a.toArray().map(g=>this._renderFile(g))):void 0,y=l||o?void 0:$("div",{class:ve.empty},this.messages.noAttachments);return $("div",{class:this.classes(Me.container,d),key:"attachments-container"},p,m,y,f)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(t){var s;const r=t.target,i=(s=r.files)==null?void 0:s.item(0);this._set("selectedFile",i)}_submitDeleteAttachment(t,r){t.preventDefault(),r&&("file"in r?this.deleteFile(r.file):r&&this.deleteAttachment(r))}_submitAddAttachment(t){t.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(t,r){t.preventDefault(),r&&"file"in r?this.updateFile():this.updateAttachment()}_startEditAttachment(t){const{viewModel:r}=this;r.activeFileInfo=null,r.activeAttachmentInfo=t,r.mode="edit"}_startEditFile(t){const{viewModel:r}=this;r.activeAttachmentInfo=null,r.activeFileInfo=t,r.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(t){t.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(t){const{orientationInfo:r}=t;return!this._supportsImageOrientation&&r?[r.rotation?`rotate(${r.rotation}deg)`:"",r.mirrored?"scaleX(-1)":""].join(" "):""}};c([u()],ii.prototype,"capabilities",null),c([u()],ii.prototype,"displayType",void 0),c([u({readOnly:!0})],ii.prototype,"effectiveDisplayType",null),c([u()],ii.prototype,"graphic",null),c([u()],ii.prototype,"icon",null),c([u()],ii.prototype,"label",null),c([u(),Jt("esri/widgets/Attachments/t9n/Attachments")],ii.prototype,"messages",void 0),c([u(),Jt("esri/core/t9n/Units")],ii.prototype,"messagesUnits",void 0),c([u({readOnly:!0})],ii.prototype,"selectedFile",void 0),c([u({readOnly:!0})],ii.prototype,"submitting",void 0),c([u({readOnly:!0})],ii.prototype,"error",void 0),c([u({type:zL})],ii.prototype,"viewModel",void 0),c([u()],ii.prototype,"visibleElements",void 0),c([Oe("visibleElements")],ii.prototype,"castVisibleElements",null),ii=c([S("esri.widgets.Attachments")],ii);const CNe=ii;let v1=class extends zL{constructor(t){super(t),this.description=null,this.title=null}};c([u()],v1.prototype,"description",void 0),c([u()],v1.prototype,"title",void 0),v1=c([S("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],v1);const jL=v1,AS="esri-feature-element-info",kS={base:AS,title:`${AS}__title`,description:`${AS}__description`};let r0=class extends lt{constructor(t,r){super(t,r),this.description=null,this.headingLevel=2,this.title=null}render(){return $("div",{class:kS.base},this._renderTitle(),this._renderDescription())}_renderTitle(){const{title:t}=this;return t?$(Bp,{class:kS.title,innerHTML:t,level:this.headingLevel}):null}_renderDescription(){const{description:t}=this;return t?$("div",{class:kS.description,innerHTML:t,key:"description"}):null}};c([u()],r0.prototype,"description",void 0),c([u()],r0.prototype,"headingLevel",void 0),c([u()],r0.prototype,"title",void 0),r0=c([S("esri.widgets.Feature.support.FeatureElementInfo")],r0);const rw=r0,MNe={base:"esri-feature-attachments"};let Io=class extends lt{constructor(t,r){super(t,r),this._featureElementInfo=null,this.attachmentsWidget=new CNe,this.headingLevel=2,this.viewModel=new jL}initialize(){this._featureElementInfo=new rw,this.addHandles([U(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title,this.headingLevel]},()=>this._setupFeatureElementInfo(),we),U(()=>this.viewModel,t=>this.attachmentsWidget.viewModel=t,we)])}destroy(){var t;this.attachmentsWidget.viewModel=null,this.attachmentsWidget.destroy(),(t=this._featureElementInfo)==null||t.destroy()}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get displayType(){return this.attachmentsWidget.displayType}set displayType(t){this.attachmentsWidget.displayType=t}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var r;const{attachmentsWidget:t}=this;return $("div",{class:MNe.base},(r=this._featureElementInfo)==null?void 0:r.render(),t==null?void 0:t.render())}_setupFeatureElementInfo(){var s;const{description:t,title:r,headingLevel:i}=this;(s=this._featureElementInfo)==null||s.set({description:t,title:r,headingLevel:i})}};c([u({readOnly:!0})],Io.prototype,"attachmentsWidget",void 0),c([u()],Io.prototype,"description",null),c([u()],Io.prototype,"displayType",null),c([u()],Io.prototype,"graphic",null),c([u()],Io.prototype,"headingLevel",void 0),c([u()],Io.prototype,"title",null),c([u({type:jL})],Io.prototype,"viewModel",void 0),Io=c([S("esri.widgets.Feature.FeatureAttachments")],Io);const ANe=Io;let kd=class extends ie{constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.addHandles(U(()=>this.creator,r=>{this._destroyContent(),this._createContent(r)},we))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:t,graphic:r,destroyer:i}=this;t&&r&&(Qv({type:"content",value:i,event:{graphic:r}}),this._set("created",null))}async _createContent(t){const r=this.graphic;if(!r||!t)return;const i=Qv({type:"content",value:t,event:{graphic:r}});this._loadingPromise=i,this.notifyChange("state");const s=await i;i===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",s))}};c([u({readOnly:!0})],kd.prototype,"created",void 0),c([u()],kd.prototype,"creator",void 0),c([u()],kd.prototype,"destroyer",void 0),c([u({type:pr})],kd.prototype,"graphic",void 0),c([u({readOnly:!0})],kd.prototype,"state",null),kd=c([S("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],kd);const m6=kd,LS="esri-feature-content",RS={base:LS,loaderContainer:`${LS}__loader-container`,loader:`${LS}__loader`};let i0=class extends lt{constructor(t,r){super(t,r),this.viewModel=null,this._addTargetToAnchors=i=>{Array.from(i.querySelectorAll("a")).forEach(s=>{FL(s.href)&&!s.hasAttribute("target")&&s.setAttribute("target","_blank")})}}get creator(){var t;return(t=this.viewModel)==null?void 0:t.creator}set creator(t){this.viewModel&&(this.viewModel.creator=t)}get graphic(){var t;return(t=this.viewModel)==null?void 0:t.graphic}set graphic(t){this.viewModel&&(this.viewModel.graphic=t)}render(){var r;const t=(r=this.viewModel)==null?void 0:r.state;return $("div",{class:RS.base},t==="loading"?this._renderLoading():this._renderCreated())}_renderLoading(){return $("div",{class:RS.loaderContainer,key:"loader"},$("div",{class:RS.loader}))}_renderCreated(){var r;const t=(r=this.viewModel)==null?void 0:r.created;return t?t instanceof HTMLElement?$("div",{afterCreate:this._attachToNode,bind:t,key:t}):r6(t)?$("div",{key:t},!t.destroyed&&t.render()):$("div",{afterCreate:this._addTargetToAnchors,innerHTML:t,key:t}):null}_attachToNode(t){const r=this;t.appendChild(r)}};c([u()],i0.prototype,"creator",null),c([u()],i0.prototype,"graphic",null),c([u({type:m6})],i0.prototype,"viewModel",void 0),i0=c([S("esri.widgets.Feature.FeatureContent")],i0);const _5=i0;let jl=class extends ie{constructor(t){super(t),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:t,fieldInfos:r}=this,i=[];return r==null||r.forEach(s=>{if(!(!s.hasOwnProperty("visible")||s.visible))return;const n=s.clone();n.label=PL(n,t),i.push(n)}),i}};c([u()],jl.prototype,"attributes",void 0),c([u({type:[OY]})],jl.prototype,"expressionInfos",void 0),c([u()],jl.prototype,"description",void 0),c([u({type:[O2]})],jl.prototype,"fieldInfos",void 0),c([u({readOnly:!0})],jl.prototype,"formattedFieldInfos",null),c([u()],jl.prototype,"title",void 0),jl=c([S("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],jl);const u8=jl,kNe=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function LNe(e,t){if(typeof t!="string"||!t)return t;const r=kNe.find(l=>l.pattern.test(t));if(!r)return t;const i=t.match(r.pattern),s=i==null?void 0:i[2],n=Ga(Ga(r.label,{messages:e,hierPart:s}),{appName:r.appName}),a=r.target?` target="${r.target}"`:"",o=r.target==="_blank"?' rel="noreferrer"':"";return t.replace(r.pattern,`<a${a} href="$1"${o}>${n}</a>`)}const V3="esri-feature-fields",z3={base:V3,fieldHeader:`${V3}__field-header`,fieldData:`${V3}__field-data`,fieldDataDate:`${V3}__field-data--date`};let Ia=class extends lt{constructor(t,r){super(t,r),this._featureElementInfo=null,this.viewModel=new u8,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new rw,this.addHandles(U(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title]},()=>this._setupFeatureElementInfo(),we))}destroy(){var t;(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(t){this.viewModel.expressionInfos=t}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(t){this.viewModel.fieldInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var t;return $("div",{class:z3.base},(t=this._featureElementInfo)==null?void 0:t.render(),this._renderFields())}_renderFieldInfo(t,r){var f;const{attributes:i}=this.viewModel,s=t.fieldName||"",n=t.label||s,a=i?i[s]==null?"":i[s]:"",o=!!((f=t.format)!=null&&f.dateFormat),l=typeof a=="number"&&!o?this._forceLTR(a):LNe(this.messagesURIUtils,a),d={[z3.fieldDataDate]:o};return $("tr",{key:`fields-element-info-row-${s}-${r}`},$("th",{class:z3.fieldHeader,innerHTML:n,key:`fields-element-info-row-header-${s}-${r}`}),$("td",{class:this.classes(z3.fieldData,d),innerHTML:l,key:`fields-element-info-row-data-${s}-${r}`}))}_renderFields(){const{formattedFieldInfos:t}=this.viewModel;return t!=null&&t.length?$("table",{class:ve.table,summary:this.messages.fieldsSummary},$("tbody",null,t.map((r,i)=>this._renderFieldInfo(r,i)))):null}_setupFeatureElementInfo(){var i;const{description:t,title:r}=this;(i=this._featureElementInfo)==null||i.set({description:t,title:r})}_forceLTR(t){return`&lrm;${t}`}};c([u()],Ia.prototype,"attributes",null),c([u()],Ia.prototype,"description",null),c([u()],Ia.prototype,"expressionInfos",null),c([u()],Ia.prototype,"fieldInfos",null),c([u()],Ia.prototype,"title",null),c([u({type:u8,nonNullable:!0})],Ia.prototype,"viewModel",void 0),c([u(),Jt("esri/widgets/Feature/t9n/Feature")],Ia.prototype,"messages",void 0),c([u(),Jt("esri/widgets/support/t9n/uriUtils")],Ia.prototype,"messagesURIUtils",void 0),Ia=c([S("esri.widgets.Feature.FeatureFields")],Ia);const Rse=Ia;function Ose(e){const t={};for(const r in e){if(r==="declaredClass")continue;const i=e[r];if(i!=null&&typeof i!="function")if(Array.isArray(i)){t[r]=[];for(let s=0;s<i.length;s++)t[r][s]=Ose(i[s])}else typeof i=="object"?i.toJSON&&(t[r]=JSON.stringify(i)):t[r]=i}return t}function RNe(e){return 32+e.length}const Fse=16;function ONe(e){if(!e)return 0;let t=UL;for(const r in e)e.hasOwnProperty(r)&&(t+=qL(e[r],!1));return t}function FNe(e){if(!e)return 0;if(typeof e[0]=="number")return BL(e);if(Array.isArray(e))return PNe(e);let t=UL;for(const r in e)e.hasOwnProperty(r)&&(t+=qL(e[r]));return t}function PNe(e){const t=e.length;if(t===0||typeof e[0]=="number")return Pse(e,8);let r=Nse;for(let i=0;i<t;i++)r+=qL(e[i]);return r}function qL(e,t=!0){switch(typeof e){case"object":return t?FNe(e):UL;case"string":return RNe(e);case"number":return Fse;case"boolean":return 4;default:return 8}}function BL(...e){return e.reduce((t,r)=>t+(r?kU(r)?r.byteLength+NNe:Array.isArray(r)?Pse(r,Fse):0:0),0)}function Pse(e,t){return Nse+e.length*t}const UL=32,Nse=16,NNe=145;var Vd;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Vd||(Vd={}));const iq=4294967296,DNe=new TextDecoder("utf-8"),VNe=V("safari")||V("ios")?6:V("ff")?12:32;let LC=class S5{constructor(t,r,i=0,s=t?t.byteLength:0){this._tag=0,this._dataType=Vd.unknown,this._init(t,r,i,s)}_init(t,r,i,s){this._data=t,this._dataView=r,this._pos=i,this._end=s}get usedMemory(){return 64+BL(this._data)}asUnsafe(){return this}clone(){return new S5(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const r=this._decodeVarint();if(this._tag=r>>3,this._dataType=7&r,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;if(t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return t;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getUint32(r+4,!0)*iq;return this._skip(8),i}getSFixed64(){const t=this._dataView,r=this._pos,i=t.getUint32(r,!0)+t.getInt32(r+4,!0)*iq;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),r=this._pos,i=this._toString(this._data,r,r+t);return this._skip(t),i}getBytes(){const t=this._getLength(),r=this._pos,i=this._toBytes(this._data,r,r+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,r,i,s){const n=this.getMessage(),a=t(n,r,i,s);return n.release(),a}processMessage(t){const r=this.getMessage(),i=t(r);return r.release(),i}getMessage(){const t=this._getLength(),r=S5.pool.acquire();return r._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r}release(){S5.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Vd.varint:this._decodeVarint();break;case Vd.fixed64:this._skip(8);break;case Vd.delimited:this._skip(this._getLength());break;case Vd.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let r=this._pos,i=0,s=0;if(this._end-r>=10)do{if(s=t[r++],i|=127&s,!(128&s)||(s=t[r++],i|=(127&s)<<7,!(128&s))||(s=t[r++],i|=(127&s)<<14,!(128&s))||(s=t[r++],i|=(127&s)<<21,!(128&s))||(s=t[r++],i+=268435456*(127&s),!(128&s))||(s=t[r++],i+=34359738368*(127&s),!(128&s))||(s=t[r++],i+=4398046511104*(127&s),!(128&s))||(s=t[r++],i+=562949953421312*(127&s),!(128&s))||(s=t[r++],i+=72057594037927940*(127&s),!(128&s))||(s=t[r++],i+=9223372036854776e3*(127&s),!(128&s)))break;throw new Error("Varint too long!")}while(!1);else{let n=1;for(;r!==this._end&&(s=t[r],128&s);)++r,i+=(127&s)*n,n*=128;if(r===this._end)throw new Error("Varint overrun!");++r,i+=s*n}return this._pos=r,i}_decodeSVarint(){const t=this._data;let r,i=0,s=0;const n=1&t[this._pos];if(s=t[this._pos++],i|=127&s,!(128&s)||(s=t[this._pos++],i|=(127&s)<<7,!(128&s))||(s=t[this._pos++],i|=(127&s)<<14,!(128&s))||(s=t[this._pos++],i|=(127&s)<<21,!(128&s))||(s=t[this._pos++],i+=268435456*(127&s),!(128&s))||(s=t[this._pos++],i+=34359738368*(127&s),!(128&s))||(s=t[this._pos++],i+=4398046511104*(127&s),!(128&s)))return n?-(i+1)/2:i/2;if(r=BigInt(i),s=t[this._pos++],r+=0x2000000000000n*BigInt(127&s),!(128&s)||(s=t[this._pos++],r+=0x100000000000000n*BigInt(127&s),!(128&s))||(s=t[this._pos++],r+=0x8000000000000000n*BigInt(127&s),!(128&s)))return Number(n?-(r+1n)/2n:r/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==Vd.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,r,i){if((i=Math.min(this._end,i))-r>VNe){const a=t.subarray(r,i);return DNe.decode(a)}let s="",n="";for(let a=r;a<i;++a){const o=t[a];128&o?n+="%"+o.toString(16):(s+=decodeURIComponent(n)+String.fromCharCode(o),n="")}return n.length&&(s+=decodeURIComponent(n)),s}_toBytes(t,r,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,r,i-r)}};LC.pool=new Vu(LC,void 0,e=>{e._data=null,e._dataView=null});const df=2;let W0=class s0{constructor(t=[],r=[]){this.lengths=t??[],this.coords=r??[]}static fromJSON(t){return new s0(t.lengths,t.coords)}static fromRect(t){const[r,i,s,n]=t,a=s-r,o=n-i;return new s0([5],[r,i,a,0,0,o,-a,0,0,-o])}get isPoint(){return this.lengths.length===0&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,r)=>t+r)}get usedMemory(){return 64+BL(this.lengths,this.coords)}area(){let t=0,r=0;if(!this.lengths.length)return 0;for(let i=0;i<this.lengths.length;i++){const s=this.lengths[i];if(s<3)continue;let n=this.coords[df*r],a=this.coords[df*r+1];for(let o=1;o<s;o+=1){const l=this.coords[df*(o+r)],d=this.coords[df*(o+r)+1];t+=-.5*(l-n)*(d+a),n=l,a=d}r+=s}return t}forEachVertex(t){let r=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const s=this.lengths[i];for(let n=0;n<s;n++)t(this.coords[df*(n+r)],this.coords[df*(n+r)+1]);r+=s}}deltaDecode(){const t=this.clone(),{coords:r,lengths:i}=t;let s=0;for(const n of i){for(let a=1;a<n;a++)r[2*(s+a)]+=r[2*(s+a)-2],r[2*(s+a)+1]+=r[2*(s+a)-1];s+=n}return t}clone(t){if(this.lengths.length===0)return new s0([],[this.coords[0],this.coords[1]]);const r=(this.lengths.length===0?1:this.lengths.reduce((s,n)=>s+n))*df,i=this.coords.slice(0,r);return t?(t.set(i),new s0(this.lengths,t)):new s0(Array.from(this.lengths),Array.from(i))}};function GL(e,t){return e?t?4:3:t?3:2}function zNe(e,t,r,i){if(!(t!=null&&t.lengths.length))return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const s=e.coords,n=[],a=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:o,coords:l}=t,d=GL(r,i);let f=0;for(const p of o){const m=jNe(a,l,f,p,r,i);m&&n.push(m),f+=p*d}if(n.sort((p,m)=>{let y=p[2]-m[2];return y===0&&r&&(y=p[4]-m[4]),y}),n.length){let p=6*n[0][2];s[0]=n[0][0]/p,s[1]=n[0][1]/p,r&&(p=6*n[0][4],s[2]=p!==0?n[0][3]/p:0),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||r&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)}if(!s.length){const p=t.lengths[0]?qNe(l,0,o[0],r,i):null;if(!p)return null;s[0]=p[0],s[1]=p[1],r&&p.length>2&&(s[2]=p[2])}return e}function jNe(e,t,r,i,s,n){const a=GL(s,n);let o=r,l=r+a,d=0,f=0,p=0,m=0,y=0;for(let g=0,v=i-1;g<v;g++,o+=a,l+=a){const w=t[o],_=t[o+1],x=t[o+2],T=t[l],k=t[l+1],A=t[l+2];let M=w*k-T*_;m+=M,d+=(w+T)*M,f+=(_+k)*M,s&&(M=w*A-T*x,p+=(x+A)*M,y+=M),w<e[0]&&(e[0]=w),w>e[1]&&(e[1]=w),_<e[2]&&(e[2]=_),_>e[3]&&(e[3]=_),s&&(x<e[4]&&(e[4]=x),x>e[5]&&(e[5]=x))}if(m>0&&(m*=-1),y>0&&(y*=-1),!m)return null;const b=[d,f,.5*m];return s&&(b[3]=p,b[4]=.5*y),b}function qNe(e,t,r,i,s){const n=GL(i,s);let a=t,o=t+n,l=0,d=0,f=0,p=0;for(let m=0,y=r-1;m<y;m++,a+=n,o+=n){const b=e[a],g=e[a+1],v=e[a+2],w=e[o],_=e[o+1],x=e[o+2],T=i?UNe(b,g,v,w,_,x):BNe(b,g,w,_);if(T)if(l+=T,i){const k=HNe(b,g,v,w,_,x);d+=T*k[0],f+=T*k[1],p+=T*k[2]}else{const k=GNe(b,g,w,_);d+=T*k[0],f+=T*k[1]}}return l>0?i?[d/l,f/l,p/l]:[d/l,f/l]:r>0?i?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function BNe(e,t,r,i){const s=r-e,n=i-t;return Math.sqrt(s*s+n*n)}function UNe(e,t,r,i,s,n){const a=i-e,o=s-t,l=n-r;return Math.sqrt(a*a+o*o+l*l)}function GNe(e,t,r,i){return[e+.5*(r-e),t+.5*(i-t)]}function HNe(e,t,r,i,s,n){return[e+.5*(i-e),t+.5*(s-t),r+.5*(n-r)]}let WNe=class $5{constructor(t=null,r={},i,s,n=0){this.geometry=t,this.attributes=r,this.centroid=i,this.objectId=s,this.displayId=n}static fromJSON(t){const r=t.geometry?W0.fromJSON(t.geometry):null,i=t.centroid?W0.fromJSON(t.centroid):null,s=t.objectId;return new $5(r,t.attributes,i,s)}weakClone(){const t=new $5(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t}clone(){var i,s;const t=(i=this.geometry)==null?void 0:i.clone(),r=new $5(t,{...this.attributes},(s=this.centroid)==null?void 0:s.clone(),this.objectId);return r.displayId=this.displayId,r}ensureCentroid(t){return this.centroid??(this.centroid=zNe(new W0,this.geometry,t.hasZ,t.hasM)),this.centroid}get usedMemory(){var t;return 128+ONe(this.attributes)+(((t=this.geometry)==null?void 0:t.usedMemory)??0)}};function ZNe(e){var t,r;return!!((r=(t=e.geometry)==null?void 0:t.coords)!=null&&r.length)}let JNe=class Dse{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new Dse;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}};const Vse=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let lrt=class{constructor(t){this._options=t,this.geometryTypes=Vse,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new JNe}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!(t!=null&&t.features)||!t.hasZ||!this._options.sourceSpatialReference||!t.spatialReference||Nt(t.spatialReference,this._options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const r=py(this._options.sourceSpatialReference)/py(t.spatialReference);if(r!==1)for(const i of t.features){if(!ZNe(i))continue;const s=i.geometry.coords;for(let n=2;n<s.length;n+=3)s[n]*=r}}addFeature(t,r){t.features.push(r)}createFeature(){return new WNe(null,{},null,0)}createSpatialReference(){return{wkid:0}}createGeometry(){return new W0}addField(t,r){t.fields.push(r)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((r,i)=>r+i,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,r){t.coords[this._coordinatePtr++]=r}addCoordinatePoint(t,r){t.coords.push(r)}addLength(t,r){t.lengths.push(r)}addQueryGeometry(t,r){t.queryGeometry=r.queryGeometry,t.queryGeometryType=r.queryGeometryType}createPointGeometry(){return new W0}};const sq=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],nq=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],aq=["upperLeft","lowerLeft"];function oq(e){return e>=sq.length?null:sq[e]}function YNe(e){return e>=nq.length?null:nq[e]}function lq(e){return e>=aq.length?null:aq[e]}function cq(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function QNe(e,t,r){const s=e.asUnsafe(),n=t.createPointGeometry(r);for(;s.next();)switch(s.tag()){case 3:{const a=s.getUInt32(),o=s.pos()+a;let l=0;for(;s.pos()<o;)t.addCoordinatePoint(n,s.getSInt64(),l++);break}default:s.skip()}return n}function KNe(e,t,r){const n=e.asUnsafe(),a=t.createGeometry(r),o=2+(r.hasZ?1:0)+(r.hasM?1:0);for(;n.next();)switch(n.tag()){case 2:{const l=n.getUInt32(),d=n.pos()+l;let f=0;for(;n.pos()<d;)t.addLength(a,n.getUInt32(),f++);break}case 3:{const l=n.getUInt32(),d=n.pos()+l;let f=0;for(t.allocateCoordinates(a);n.pos()<d;)t.addCoordinate(a,n.getSInt64(),f),f++,f===o&&(f=0);break}default:n.skip()}return a}function XNe(e){const s=e.asUnsafe(),n=new W0;let a="esriGeometryPoint";for(;s.next();)switch(s.tag()){case 2:{const o=s.getUInt32(),l=s.pos()+o;for(;s.pos()<l;)n.lengths.push(s.getUInt32());break}case 3:{const o=s.getUInt32(),l=s.pos()+o;for(;s.pos()<l;)n.coords.push(s.getSInt64());break}case 1:a=Vse[s.getEnum()];break;default:s.skip()}return{queryGeometry:n,queryGeometryType:a}}function eDe(e){const f=e.asUnsafe();for(;f.next();)switch(f.tag()){case 1:return f.getString();case 2:return f.getFloat();case 3:return f.getDouble();case 4:return f.getSInt32();case 5:return f.getUInt32();case 6:return f.getInt64();case 7:return f.getUInt64();case 8:return f.getSInt64();case 9:return f.getBool();default:return f.skip(),null}return null}function tDe(e){const o=e.asUnsafe(),l={type:oq(0)};for(;o.next();)switch(o.tag()){case 1:l.name=o.getString();break;case 2:l.type=oq(o.getEnum());break;case 3:l.alias=o.getString();break;case 4:l.sqlType=YNe(o.getEnum());break;case 5:o.skip();break;case 6:l.defaultValue=o.getString();break;default:o.skip()}return l}function rDe(e){const i={},s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:i.name=s.getString();break;case 2:i.isSystemMaintained=s.getBool();break;default:s.skip()}return i}function iDe(e,t,r,i){const o=t.createFeature(r);let l=0;for(;e.next();)switch(e.tag()){case 1:{const d=i[l++].name;o.attributes[d]=e.processMessage(eDe);break}case 2:o.geometry=e.processMessageWithArgs(KNe,t,r);break;case 4:o.centroid=e.processMessageWithArgs(QNe,t,r);break;default:e.skip()}return o}function sDe(e){const n=[1,1,1,1],a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:n[0]=a.getDouble();break;case 2:n[1]=a.getDouble();break;case 4:n[2]=a.getDouble();break;case 3:n[3]=a.getDouble();break;default:a.skip()}return n}function nDe(e){const n=[0,0,0,0],a=e.asUnsafe();for(;a.next();)switch(a.tag()){case 1:n[0]=a.getDouble();break;case 2:n[1]=a.getDouble();break;case 4:n[2]=a.getDouble();break;case 3:n[3]=a.getDouble();break;default:a.skip()}return n}function aDe(e){const s={originPosition:lq(0)},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:s.originPosition=lq(n.getEnum());break;case 2:s.scale=n.processMessage(sDe);break;case 3:s.translate=n.processMessage(nDe);break;default:n.skip()}return s}function oDe(e){const s={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:s.shapeAreaFieldName=n.getString();break;case 2:s.shapeLengthFieldName=n.getString();break;case 3:s.units=n.getString();break;default:n.skip()}return s}function lDe(e,t){const o=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:o.wkid=e.getUInt32();break;case 5:o.wkt=e.getString();break;case 2:o.latestWkid=e.getUInt32();break;case 3:o.vcsWkid=e.getUInt32();break;case 4:o.latestVcsWkid=e.getUInt32();break;default:e.skip()}return o}function cDe(e,t){const g=t.createFeatureResult(),v=e.asUnsafe();g.geometryType=cq(t,0);let w=!1;for(;v.next();)switch(v.tag()){case 1:g.objectIdFieldName=v.getString();break;case 3:g.globalIdFieldName=v.getString();break;case 4:g.geohashFieldName=v.getString();break;case 5:g.geometryProperties=v.processMessage(oDe);break;case 7:g.geometryType=cq(t,v.getEnum());break;case 8:g.spatialReference=v.processMessageWithArgs(lDe,t);break;case 10:g.hasZ=v.getBool();break;case 11:g.hasM=v.getBool();break;case 12:g.transform=v.processMessage(aDe);break;case 9:g.exceededTransferLimit=v.getBool();break;case 13:t.addField(g,v.processMessage(tDe));break;case 15:w||(t.prepareFeatures(g),w=!0),t.addFeature(g,v.processMessageWithArgs(iDe,t,g,g.fields));break;case 2:g.uniqueIdField=v.processMessage(rDe);break;default:v.skip()}return t.finishFeatureResult(g),g}function dDe(e,t){const s={};let n=null;for(;e.next();)switch(e.tag()){case 4:n=e.processMessageWithArgs(XNe);break;case 1:s.featureResult=e.processMessageWithArgs(cDe,t);break;default:e.skip()}return n!=null&&s.featureResult&&t.addQueryGeometry(s,n),s}function uDe(e,t){try{const i=new LC(new Uint8Array(e),new DataView(e)),s={};for(;i.next();)i.tag()===2?s.queryResult=i.processMessageWithArgs(dDe,t):i.skip();return s}catch(r){throw new I("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:r})}}function fDe(e,t){const r=uDe(e,t),i=r.queryResult.featureResult,s=r.queryResult.queryGeometry,n=r.queryResult.queryGeometryType;if(i&&i.features&&i.features.length&&i.objectIdFieldName){const a=i.objectIdFieldName;for(const o of i.features)o.attributes&&(o.objectId=o.attributes[a])}return i&&(i.queryGeometry=s,i.queryGeometryType=n),i}const dq="Layer does not support extent calculation.";function pDe(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const r=e.toJSON();return delete r.spatialReference,JSON.stringify(r)}function hDe(e,t){var l;const r=e.geometry,i=e.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const s=i;let n,a,o;if(r!=null&&(a=r.spatialReference,o=uy(a),s.geometryType=Jy(r),s.geometry=pDe(r,e.compactGeometryEnabled),s.inSR=o),i.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(",")),i.objectIds&&(s.objectIds=i.objectIds.join(",")),i.orderByFields&&(s.orderByFields=i.orderByFields.join(",")),!i.outFields||!i.returnDistinctValues&&(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?delete s.outFields:i.outFields.includes("*")?s.outFields="*":s.outFields=i.outFields.join(","),i.outSR?(s.outSR=uy(i.outSR),n=e.outSpatialReference):r&&(i.returnGeometry||i.returnCentroid)&&(s.outSR=s.inSR,n=a),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(s.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(s.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(s.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&a!=null&&((l=e.quantizationParameters)==null?void 0:l.extent)!=null&&a.equals(e.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(s.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(s.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(s.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const d=i.timeExtent,{start:f,end:p}=d;f==null&&p==null||(s.time=f===p?f:`${f??"null"},${p??"null"}`),delete i.timeExtent}return e.defaultSpatialReferenceEnabled&&a!=null&&n!=null&&a.equals(n)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}async function mDe(e,t,r,i){const s=t.timeExtent!=null&&t.timeExtent.isEmpty?{data:{features:[]}}:await iw(e,t,"json",i);return JT(t,r,s.data),s}async function drt(e,t,r,i){if(t.timeExtent!=null&&t.timeExtent.isEmpty)return{data:r.createFeatureResult()};const s=await yDe(e,t,i),n=s;return n.data=fDe(s.data,r),n}function yDe(e,t,r){return iw(e,t,"pbf",r)}function urt(e,t,r){return t.timeExtent!=null&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):iw(e,t,"json",r,{returnIdsOnly:!0})}function frt(e,t,r){return t.timeExtent!=null&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):iw(e,t,"json",r,{returnIdsOnly:!0,returnCountOnly:!0})}async function prt(e,t,r){if(t.timeExtent!=null&&t.timeExtent.isEmpty)return{data:{count:0,extent:null}};const i=await iw(e,t,"json",r,{returnExtentOnly:!0,returnCountOnly:!0}),s=i.data;if(s.hasOwnProperty("extent"))return i;if(s.features)throw new Error(dq);if(s.hasOwnProperty("count"))throw new Error(dq);return i}async function iw(e,t,r,i={},s={}){const n=typeof e=="string"?Zt(e):e,a=t.geometry?[t.geometry]:[],o=await ik(a,null,{signal:i.signal}),l=o==null?void 0:o[0];l!=null&&((t=t.clone()).geometry=l);const d=Ose({...n.query,f:r,...s,...hDe(t,s)});return ze(Qp(n.path,bDe(t,s)?"query3d":"query"),{...i,responseType:r==="pbf"?"array-buffer":"json",query:{...d,...i.query}})}function bDe(e,t){return e.formatOf3DObjects!=null&&!(t.returnCountOnly||t.returnExtentOnly||t.returnIdsOnly)}async function OS(e,t,r){const i=await zse(e,t,r);return ob.fromJSON(i)}async function zse(e,t,r){const i=A4(e),s={...r},n=li.from(t),{data:a}=await mDe(i,n,n.sourceSpatialReference,s);return a}const gDe="esri.widgets.Feature.support.relatedFeatureUtils",uq=()=>B.getLogger(gDe),fq=new Map;function x5(e){if(!qo(e))return null;const[t,r]=e.split("/").slice(1);return{layerId:t,fieldName:r}}function vDe(e,t){if(!t.relationships)return null;let r=null;const{relationships:i}=t;return i.some(s=>s.id===parseInt(e,10)&&(r=s,!0)),r}function wDe({originRelationship:e,relationships:t,layerId:r}){return t.find(({relatedTableId:i,id:s})=>`${i}`===r&&s===(e==null?void 0:e.id))??null}function _De(e,t){const r=t.toLowerCase();for(const i in e)if(i.toLowerCase()===r)return e[i];return null}function SDe(e,t){const r=vDe(e,t);if(r)return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function $De(e,t){if(!t||!e)return;const{features:r,statsFeatures:i}=e,s=r==null?void 0:r.value;t.relatedFeatures=s?s.features:[];const n=i==null?void 0:i.value;t.relatedStatsFeatures=n?n.features:[]}function xDe(e,t,r,i){var n;const s=new Cy;return s.outFields=["*"],s.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),s.objectIds=[e.attributes[r.objectIdField]],s.gdbVersion=r.gdbVersion??null,s.historicMoment=r.historicMoment??null,((n=r.queryRelatedFeatures)==null?void 0:n.call(r,s,i))??Promise.resolve({})}function EDe(e,t,r){let i=0;const s=[];for(;i<t.length;)s.push(`${e} IN (${t.slice(i,r+i)})`),i+=r;return s.join(" OR ")}function TDe(e){return e?lM(e):void 0}function IDe(e){return e?lM(e,(t,r)=>JSON.stringify(t.toJSON())===JSON.stringify(r.toJSON())):void 0}async function CDe(e,t,r,i){const s=r.layerId.toString(),{layerInfo:n,relation:a,relatedFields:o,outStatistics:l,url:d,sourceSpatialReference:f}=t,p=TDe(o),m=IDe(l);if(!n||!a)return null;const y=wDe({originRelationship:a,relationships:n.relationships,layerId:s});if(y!=null&&y.relationshipTableId&&y.keyFieldInRelationshipTable){const g=(await xDe(e,y,r,i))[e.attributes[r.objectIdField]];if(!g)return null;const v=g.features.map(w=>w.attributes[n.objectIdField]);if(m!=null&&m.length&&n.supportsStatistics){const w=new li;w.where=EDe(n.objectIdField,v,1e3),w.outFields=p,w.outStatistics=m,w.sourceSpatialReference=f;const _={features:Promise.resolve(g),statsFeatures:OS(d,w)};return wc(_)}}const b=y==null?void 0:y.keyField;if(b){const g=R2(RDe(n.fields,b)),v=_De(e.attributes,a.keyField),w=g?`${b}=${v}`:`${b}='${v}'`,_=r.historicMoment,x=r.gdbVersion,T=OS(d,new li({where:w,outFields:p,sourceSpatialReference:f,historicMoment:_,gdbVersion:x}),i),k=m!=null&&m.length&&n.supportsStatistics?OS(d,new li({where:w,outFields:p,outStatistics:m,sourceSpatialReference:f}),i):null,A={features:T};return k&&(A.statsFeatures=k),wc(A)}return null}function MDe(e,t){return ze(e,{query:{f:"json"},signal:t==null?void 0:t.signal})}function ADe({relatedInfos:e,layer:t},r){const i={};return e.forEach((s,n)=>{const{relation:a}=s;if(!a){const p=new I("relation-required","A relation is required on a layer to retrieve related records.");throw uq().error(p),p}const{relatedTableId:o}=a;if(typeof o!="number"){const p=new I("A related table ID is required on a layer to retrieve related records.");throw uq().error(p),p}const l=`${t.url}/${o}`,d=fq.get(l),f=d??MDe(l);d||fq.set(l,f),i[n]=f}),bM(wc(i),r)}function kDe({graphic:e,relatedInfos:t,layer:r},i){const s={};return t.forEach((n,a)=>{n.layerInfo&&(s[a]=CDe(e,n,r,i))}),wc(s)}function LDe({relatedInfo:e,fieldName:t,fieldInfo:r}){var i,s;if((i=e.relatedFields)==null||i.push(t),r.statisticType){const n=new Tc({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});(s=e.outStatistics)==null||s.push(n)}}function RDe(e,t){if(e!=null){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}const pq={chartAnimation:!0};let vr=class extends ie{constructor(t){super(t),this.abilities={...pq},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(t){return{...pq,...t}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(t){this._setContentElementMedia(t)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(t){const{formattedMediaInfoCount:r}=this,i=(t+r)%r;this.activeMediaInfoIndex=i}_pageContentElementMedia(t){const{activeMediaInfoIndex:r}=this,i=r+t;this._setContentElementMedia(i)}_formatMediaInfos(){const{mediaInfos:t,layer:r}=this,i=this.attributes??{},s=this.formattedAttributes??{},n=this.expressionAttributes??{},a=this.fieldInfoMap??new Map;return(t==null?void 0:t.map(o=>{const l=o==null?void 0:o.clone();return l?(l.title=au({attributes:i,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:r,text:l.title}),l.caption=au({attributes:i,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:r,text:l.caption}),l.altText=au({attributes:i,fieldInfoMap:a,globalAttributes:s,expressionAttributes:n,layer:r,text:l.altText}),l.type==="image"?l.value?(this._setImageValue({value:l.value,formattedAttributes:s,layer:r}),l.value.sourceURL?l:void 0):void 0:l.type==="pie-chart"||l.type==="line-chart"||l.type==="column-chart"||l.type==="bar-chart"?l.value?(this._setChartValue({value:l.value,chartType:l.type,attributes:i,formattedAttributes:s,layer:r,expressionAttributes:n}),l):void 0:null):null}).filter(It))??[]}_setImageValue(t){const r=this.fieldInfoMap??new Map,{value:i,formattedAttributes:s,layer:n}=t,{linkURL:a,sourceURL:o}=i;if(o){const l=h6(o,n);i.sourceURL=p6({formattedAttributes:s,template:l,fieldInfoMap:r})}if(a){const l=h6(a,n);i.linkURL=p6({formattedAttributes:s,template:l,fieldInfoMap:r})}}_setChartValue(t){const{value:r,attributes:i,formattedAttributes:s,chartType:n,layer:a,expressionAttributes:o}=t,{popupTemplate:l,relatedInfos:d}=this,{fields:f,normalizeField:p}=r,m=a;if(r.fields=bse(f,m),p&&(r.normalizeField=Fy(p,m)),!f.some(b=>!!(s[b]!=null||qo(b)&&(d!=null&&d.size))))return;const y=(l==null?void 0:l.fieldInfos)??[];f.forEach((b,g)=>{var _;const v=(_=r.colors)==null?void 0:_[g];if(qo(b))return void(r.series=[...r.series,...this._getRelatedChartInfos({fieldInfos:y,fieldName:b,formattedAttributes:s,chartType:n,value:r,color:v})]);const w=this._getChartOption({value:r,attributes:i,chartType:n,formattedAttributes:s,expressionAttributes:o,fieldName:b,fieldInfos:y,color:v});r.series.push(w)})}_getRelatedChartInfos(t){var b;const{fieldInfos:r,fieldName:i,formattedAttributes:s,chartType:n,value:a,color:o}=t,l=[],d=x5(i),f=d&&((b=this.relatedInfos)==null?void 0:b.get(d.layerId.toString()));if(!f)return l;const{relatedFeatures:p,relation:m}=f;if(!m||!p)return l;const{cardinality:y}=m;return p.forEach(g=>{const{attributes:v}=g;v&&Object.keys(v).forEach(w=>{w===d.fieldName&&l.push(this._getChartOption({value:a,attributes:v,formattedAttributes:s,fieldName:i,chartType:n,relatedFieldName:w,hasMultipleRelatedFeatures:(p==null?void 0:p.length)>1,fieldInfos:r,color:o}))})}),y==="one-to-many"||y==="many-to-many"?l:[l[0]]}_getTooltip({label:t,value:r,chartType:i}){return i==="pie-chart"?`${t}`:`${t}: ${r}`}_getChartOption(t){var M;const{value:r,attributes:i,formattedAttributes:s,expressionAttributes:n,fieldName:a,relatedFieldName:o,fieldInfos:l,chartType:d,hasMultipleRelatedFeatures:f,color:p}=t,m=this.layer,y=this.fieldInfoMap??new Map,{normalizeField:b,tooltipField:g}=r,v=b?qo(b)?i[x5(b).fieldName]:i[b]:null,w=c8(a)&&n&&n[a]!==void 0?n[a]:o&&i[o]!==void 0?i[o]:i[a]!==void 0?i[a]:s[a],_=new IY({fieldName:a,color:p,value:w===void 0?null:w&&v?w/v:w});if(qo(a)){const R=y.get(a.toLowerCase()),P=g&&y.get(g.toLowerCase()),z=(R==null?void 0:R.fieldName)??a,j=f&&g?x5(g).fieldName:(P==null?void 0:P.fieldName)??g,H=f&&j?i[j]:s[j]??(R==null?void 0:R.label)??(R==null?void 0:R.fieldName)??o,K=f&&o?i[o]:s[z];return _.tooltip=this._getTooltip({label:H,value:K,chartType:d}),_}const x=DL(l,a),T=Fy(a,m),k=g&&s[g]!==void 0?s[g]:PL(x||new O2({fieldName:T}),(M=this.popupTemplate)==null?void 0:M.expressionInfos),A=s[T];return _.tooltip=this._getTooltip({label:k,value:A,chartType:d}),_}};c([u()],vr.prototype,"abilities",void 0),c([Oe("abilities")],vr.prototype,"castAbilities",null),c([u()],vr.prototype,"activeMediaInfoIndex",void 0),c([u({readOnly:!0})],vr.prototype,"activeMediaInfo",null),c([u()],vr.prototype,"attributes",void 0),c([u()],vr.prototype,"description",void 0),c([u()],vr.prototype,"fieldInfoMap",void 0),c([u()],vr.prototype,"formattedAttributes",void 0),c([u()],vr.prototype,"expressionAttributes",void 0),c([u({readOnly:!0})],vr.prototype,"formattedMediaInfos",null),c([u()],vr.prototype,"isAggregate",void 0),c([u()],vr.prototype,"layer",void 0),c([u({readOnly:!0})],vr.prototype,"formattedMediaInfoCount",null),c([u()],vr.prototype,"mediaInfos",void 0),c([u()],vr.prototype,"popupTemplate",void 0),c([u()],vr.prototype,"relatedInfos",void 0),c([u()],vr.prototype,"title",void 0),vr=c([S("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],vr);const Ep=vr,ss="esri-feature-media",Oi={base:ss,mediaContainer:`${ss}__container`,mediaItemContainer:`${ss}__item-container`,mediaItem:`${ss}__item`,mediaItemText:`${ss}__item-text`,mediaItemTitle:`${ss}__item-title`,mediaItemCaption:`${ss}__item-caption`,mediaNavigation:`${ss}__item-navigation`,mediaPagination:`${ss}__pagination`,mediaPaginationText:`${ss}__pagination-text`,mediaChart:`${ss}__chart`,mediaPaginationButton:`${ss}__pagination-button`,mediaPaginationIcon:`${ss}__pagination-icon`,mediaChartRendered:`${ss}__chart--rendered`},FS=15,Yc="category",Qb="value",ODe="rgba(50, 50, 50, 1)",FDe=250,PDe=500,NDe=200;let ji=class extends lt{constructor(t,r){super(t,r),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this._chartRootMap=new WeakMap,this.viewModel=new Ep,this.messages=null,this._disposeChart=i=>{var s;(s=this._chartRootMap.get(i))==null||s.dispose(),this._chartRootMap.delete(i)},this._createChart=async i=>{const{destroyed:s,viewModel:n}=this;if(s||!n||!i)return;const{createRoot:a}=await C(()=>import("./chartUtilsAm5-GBVtjkXk.js"),__vite__mapDeps([377,378,379,380])),o=await a(i);this._chartRootMap.set(i,o),this._renderChart({mediaInfo:n.activeMediaInfo,root:o})}}initialize(){this._featureElementInfo=new rw,this.addHandles([U(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.activeMediaInfo,(r=this.viewModel)==null?void 0:r.activeMediaInfoIndex]},()=>this._setupMediaRefreshTimer(),we),U(()=>{var t,r;return[(t=this.viewModel)==null?void 0:t.description,(r=this.viewModel)==null?void 0:r.title]},()=>this._setupFeatureElementInfo(),we)])}loadDependencies(){return dn({icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0)})}destroy(){var t;this._clearMediaRefreshTimer(),(t=this._featureElementInfo)==null||t.destroy()}get attributes(){return this.viewModel.attributes}set attributes(t){this.viewModel.attributes=t}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(t){this.viewModel.activeMediaInfoIndex=t}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(t){this.viewModel.fieldInfoMap=t}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(t){this.viewModel.mediaInfos=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(t){this.viewModel.relatedInfos=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var t;return $("div",{bind:this,class:Oi.base,onkeyup:this._handleMediaKeyup},(t=this._featureElementInfo)==null?void 0:t.render(),this._renderMedia())}_renderMedia(){const{formattedMediaInfoCount:t,activeMediaInfoIndex:r}=this.viewModel,i=this._renderMediaText();return t?$("div",{class:Oi.mediaContainer,key:"media-element-container"},this._renderMediaInfo(),$("div",{class:Oi.mediaNavigation},i,t>1?$("div",{class:Oi.mediaPagination},this._renderMediaPageButton("previous"),$("span",{class:Oi.mediaPaginationText},ku(this.messages.pageText,{index:r+1,total:t})),this._renderMediaPageButton("next")):null)):null}_renderMediaText(){const{activeMediaInfo:t}=this.viewModel;if(!t)return null;const r=t&&t.title?$("div",{class:Oi.mediaItemTitle,innerHTML:t.title,key:"media-title"}):null,i=t&&t.caption?$("div",{class:Oi.mediaItemCaption,innerHTML:t.caption,key:"media-caption"}):null;return r||i?$("div",{class:Oi.mediaItemText,key:"media-text"},r,i):null}_renderImageMediaInfo(t){if(!t.value)return null;const{_refreshIntervalInfo:r}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:s}=this.viewModel,{value:n,refreshInterval:a,altText:o,title:l,type:d}=t,{sourceURL:f,linkURL:p}=n,m=FL(p??void 0)?"_blank":"_self",y=m==="_blank"?"noreferrer":"",b=a?r:null,g=b?b.timestamp:0,v=b?b.sourceURL:f,w=$("img",{alt:o||l,key:`media-${d}-${i}-${s}-${g}`,src:v??void 0});return(p?$("a",{href:p,rel:y,target:m,title:l},w):null)??w}_renderChartMediaInfo(t){const{activeMediaInfoIndex:r,formattedMediaInfoCount:i}=this.viewModel;return $("div",{afterCreate:this._createChart,afterRemoved:this._disposeChart,bind:this,class:Oi.mediaChart,key:`media-${t.type}-${r}-${i}`})}_renderMediaInfoType(){const{activeMediaInfo:t}=this.viewModel;return t?t.type==="image"?this._renderImageMediaInfo(t):t.type.includes("chart")?this._renderChartMediaInfo(t):null:null}_renderMediaInfo(){const{activeMediaInfo:t}=this.viewModel;return t?$("div",{class:Oi.mediaItemContainer,key:"media-container"},$("div",{class:Oi.mediaItem,key:"media-item-container"},this._renderMediaInfoType())):null}_renderMediaPageButton(t){if(this.viewModel.formattedMediaInfoCount<2)return null;const r=t==="previous",i=r?this.messages.previous:this.messages.next,s=r?"chevron-left":"chevron-right",n=r?"media-previous":"media-next",a=r?this._previous:this._next;return $("button",{"aria-label":i,bind:this,class:Oi.mediaPaginationButton,key:n,onclick:a,tabIndex:0,title:i,type:"button"},$("calcite-icon",{class:Oi.mediaPaginationIcon,icon:s,scale:"s"}))}_setupFeatureElementInfo(){var i;const{description:t,title:r}=this;(i=this._featureElementInfo)==null||i.set({description:t,title:r})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){if(!this.viewModel)return;const{isAggregate:t,layer:r}=this.viewModel;return t&&(r!=null&&r.featureReduction)&&"renderer"in r.featureReduction?r.featureReduction.renderer:r==null?void 0:r.renderer}async _getSeriesColors(t){const{colorAm5:r}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),i=new Map;return t.forEach(s=>{s.color&&i.set(s,r(s.color.toCss(!0)))}),i}async _getRendererColors(){const{colorAm5:t}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),r=new Map,i=this._getRenderer(),s="default";if(!i)return r;const n=await yRe(i);return n.delete(s),Array.from(n.values()).every(a=>(a==null?void 0:a.length)===1)&&Array.from(n.keys()).forEach(a=>{var l,d;const o=(d=(l=n.get(a))==null?void 0:l[0])==null?void 0:d.toCss(!0);o&&r.set(a,t(o))}),r}_handleMediaKeyup(t){const{key:r}=t;r==="ArrowLeft"&&(t.stopPropagation(),this.viewModel.previous()),r==="ArrowRight"&&(t.stopPropagation(),this.viewModel.next())}_canAnimateChart(){return!!this.viewModel&&!!this.viewModel.abilities.chartAnimation&&!KA()}_getChartAnimationMS(){return this._canAnimateChart()?FDe:0}_getChartSeriesAnimationMS(){return this._canAnimateChart()?PDe:0}async _renderChart(t){const{root:r,mediaInfo:i}=t,{value:s,type:n}=i,{ResponsiveThemeAm5:a,DarkThemeAm5:o,AnimatedThemeAm5:l,ColorSetAm5:d,ThemeAm5:f,esriChartColorSet:p}=await C(async()=>{const{ResponsiveThemeAm5:T,DarkThemeAm5:k,AnimatedThemeAm5:A,ColorSetAm5:M,ThemeAm5:R,esriChartColorSet:P}=await import("./chartCommon-BsalS4ym.js");return{ResponsiveThemeAm5:T,DarkThemeAm5:k,AnimatedThemeAm5:A,ColorSetAm5:M,ThemeAm5:R,esriChartColorSet:P}},__vite__mapDeps([381,378,382,379,383])),m=f.new(r);m.rule("ColorSet").set("colors",p),m.rule("ColorSet").set("reuse",!0);const y=[a.new(r),m];wk()&&y.push(o.new(r)),this._canAnimateChart()&&y.push(l.new(r)),r.setThemes(y);const b=await this._getRendererColors(),g=await this._getSeriesColors(s.series),v=d.new(r,{}),w=g.get(s.series[0]),_=w?{lineSettings:{stroke:w}}:void 0,x=s.series.map((T,k)=>{const A=g.get(T)||b.get(T.fieldName)||v.getIndex(k);return{[Yc]:T.tooltip,[Qb]:T.value,columnSettings:{fill:A,stroke:A},..._}}).filter(T=>n!=="pie-chart"||T.value!=null&&T.value>0);n==="pie-chart"?this._createPieChart(t,x):this._createXYChart(t,x)}_getDirection(){return za(this.container)?"rtl":"ltr"}async _customizeChartTooltip(t,r="horizontal"){var s;const{colorAm5:i}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383]));t.setAll({pointerOrientation:r}),(s=t.get("background"))==null||s.setAll({stroke:i(ODe)}),t.label.setAll({direction:this._getDirection(),oversizedBehavior:"wrap",maxWidth:NDe})}async _createPieChart(t,r){const{TooltipAm5:i}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),{PieChartAm5:s,PieSeriesAm5:n}=await C(async()=>{const{PieChartAm5:g,PieSeriesAm5:v}=await import("./pieChart-BQ12oJNJ.js");return{PieChartAm5:g,PieSeriesAm5:v}},__vite__mapDeps([384,385,378,383,380])),{mediaInfo:a,root:o}=t,{title:l}=a,d=5,f=(a==null?void 0:a.altText)||(a==null?void 0:a.title)||"",p=o.container.children.push(s.new(o,{ariaLabel:f,focusable:!0,paddingBottom:d,paddingTop:d,paddingLeft:d,paddingRight:d})),m=`{category}: {valuePercentTotal.formatNumber('0.00')}%
 ({value})`,y=i.new(o,{labelText:m}),b=p.series.push(n.new(o,{name:l,valueField:Qb,categoryField:Yc,tooltip:y}));b.ticks.template.set("forceHidden",!0),b.labels.template.set("forceHidden",!0),b.slices.template.states.create("active",{shiftRadius:d}),this._customizeChartTooltip(y),b.slices.template.setAll({ariaLabel:m,focusable:!0,templateField:"columnSettings"}),b.data.setAll(r),b.appear(this._getChartSeriesAnimationMS()),p.appear(this._getChartAnimationMS()),p.root.dom.classList.toggle(Oi.mediaChartRendered,!0)}_getMinSeriesValue(t){let r=0;return t.forEach(i=>r=Math.min(i.value,r)),r}async _createColumnChart(t,r,i){const{TooltipAm5:s,ScrollbarAm5:n}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:d,ColumnSeriesAm5:f}=await C(async()=>{const{CategoryAxisAm5:T,AxisRendererXAm5:k,ValueAxisAm5:A,AxisRendererYAm5:M,ColumnSeriesAm5:R}=await import("./xyChart-Bt3K_pNw.js");return{CategoryAxisAm5:T,AxisRendererXAm5:k,ValueAxisAm5:A,AxisRendererYAm5:M,ColumnSeriesAm5:R}},__vite__mapDeps([386,378,383,380,385,382])),{mediaInfo:p,root:m}=r,{value:y,title:b}=p;t.setAll({wheelX:"panX",wheelY:"zoomX"});const g=t.xAxes.push(a.new(m,{renderer:o.new(m,{inversed:za(this.container)}),categoryField:Yc}));g.get("renderer").labels.template.setAll({forceHidden:!0});const v=t.yAxes.push(l.new(m,{renderer:d.new(m,{inside:!1}),min:this._getMinSeriesValue(y.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryX}",_=s.new(m,{labelText:w}),x=t.series.push(f.new(m,{name:b,xAxis:g,yAxis:v,valueYField:Qb,categoryXField:Yc,tooltip:_}));this._customizeChartTooltip(_),x.columns.template.setAll({ariaLabel:w,focusable:!0,templateField:"columnSettings"}),y.series.length>FS&&t.set("scrollbarX",n.new(m,{orientation:"horizontal"})),g.data.setAll(i),x.data.setAll(i),x.appear(this._getChartSeriesAnimationMS()),t.appear(this._getChartAnimationMS())}async _createBarChart(t,r,i){const{TooltipAm5:s,ScrollbarAm5:n}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:d,ColumnSeriesAm5:f}=await C(async()=>{const{CategoryAxisAm5:T,AxisRendererXAm5:k,ValueAxisAm5:A,AxisRendererYAm5:M,ColumnSeriesAm5:R}=await import("./xyChart-Bt3K_pNw.js");return{CategoryAxisAm5:T,AxisRendererXAm5:k,ValueAxisAm5:A,AxisRendererYAm5:M,ColumnSeriesAm5:R}},__vite__mapDeps([386,378,383,380,385,382])),{mediaInfo:p,root:m}=r,{value:y,title:b}=p;t.setAll({wheelX:"panY",wheelY:"zoomY"});const g=t.yAxes.push(a.new(m,{renderer:d.new(m,{inversed:!0}),categoryField:Yc}));g.get("renderer").labels.template.setAll({forceHidden:!0});const v=t.xAxes.push(l.new(m,{renderer:o.new(m,{inside:!1,inversed:za(this.container)}),min:this._getMinSeriesValue(y.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryY}",_=s.new(m,{labelText:w}),x=t.series.push(f.new(m,{name:b,xAxis:v,yAxis:g,valueXField:Qb,categoryYField:Yc,tooltip:_}));this._customizeChartTooltip(_,"vertical"),x.columns.template.setAll({ariaLabel:w,focusable:!0,templateField:"columnSettings"}),y.series.length>FS&&t.set("scrollbarY",n.new(m,{orientation:"vertical"})),g.data.setAll(i),x.data.setAll(i),x.appear(this._getChartSeriesAnimationMS()),t.appear(this._getChartAnimationMS())}async _createLineChart(t,r,i){var k,A,M;const{TooltipAm5:s,ScrollbarAm5:n}=await C(()=>import("./chartCommon-BsalS4ym.js"),__vite__mapDeps([381,378,382,379,383])),{CategoryAxisAm5:a,AxisRendererXAm5:o,ValueAxisAm5:l,AxisRendererYAm5:d,LineSeriesAm5:f}=await C(async()=>{const{CategoryAxisAm5:R,AxisRendererXAm5:P,ValueAxisAm5:z,AxisRendererYAm5:j,LineSeriesAm5:H}=await import("./xyChart-Bt3K_pNw.js");return{CategoryAxisAm5:R,AxisRendererXAm5:P,ValueAxisAm5:z,AxisRendererYAm5:j,LineSeriesAm5:H}},__vite__mapDeps([386,378,383,380,385,382])),{root:p,mediaInfo:m}=r,{value:y,title:b}=m;t.setAll({wheelX:"panX",wheelY:"zoomX"});const g=t.xAxes.push(a.new(p,{renderer:o.new(p,{inversed:za(this.container)}),categoryField:Yc}));g.get("renderer").labels.template.setAll({forceHidden:!0});const v=t.yAxes.push(l.new(p,{renderer:d.new(p,{inside:!1}),min:this._getMinSeriesValue(y.series)}));v.get("renderer").labels.template.setAll({direction:this._getDirection()});const w="{categoryX}",_=(A=(k=i[0])==null?void 0:k.lineSettings)==null?void 0:A.stroke,x=s.new(p,{getFillFromSprite:!_,labelText:w});_&&((M=x.get("background"))==null||M.setAll({fill:_}));const T=t.series.push(f.new(p,{name:b,xAxis:g,yAxis:v,valueYField:Qb,categoryXField:Yc,tooltip:x}));T.strokes.template.setAll({templateField:"lineSettings"}),this._customizeChartTooltip(x,"vertical"),y.series.length>FS&&t.set("scrollbarX",n.new(p,{orientation:"horizontal"})),g.data.setAll(i),T.data.setAll(i),T.appear(this._getChartSeriesAnimationMS()),t.appear(this._getChartAnimationMS())}async _createXYChart(t,r){const{XYChartAm5:i,XYCursorAm5:s}=await C(()=>import("./xyChart-Bt3K_pNw.js"),__vite__mapDeps([386,378,383,380,385,382])),{root:n,mediaInfo:a}=t,{type:o}=a,l=(a==null?void 0:a.altText)||(a==null?void 0:a.title)||"",d=n.container.children.push(i.new(n,{ariaLabel:l,focusable:!0,panX:!0,panY:!0}));d.set("cursor",s.new(n,{})),o==="column-chart"&&await this._createColumnChart(d,t,r),o==="bar-chart"&&await this._createBarChart(d,t,r),o==="line-chart"&&await this._createLineChart(d,t,r),d.root.dom.classList.toggle(Oi.mediaChartRendered,!0)}_clearMediaRefreshTimer(){const{_refreshTimer:t}=this;t&&(clearTimeout(t),this._refreshTimer=null)}_updateMediaInfoTimestamp(t){const r=Date.now();this._refreshIntervalInfo={timestamp:r,sourceURL:t&&this._getImageSource(t,r)}}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:t}=this.viewModel;(t==null?void 0:t.type)==="image"&&(t==null?void 0:t.refreshInterval)>0&&this._setRefreshTimeout(t)}_setRefreshTimeout(t){const{refreshInterval:r,value:i}=t,s=6e4*r;this._updateMediaInfoTimestamp(i.sourceURL);const n=setInterval(()=>{this._updateMediaInfoTimestamp(i.sourceURL)},s);this._refreshTimer=n}_getImageSource(t,r){const i=t.includes("?")?"&":"?",[s,n=""]=t.split("#");return`${s}${i}timestamp=${r}${n?"#":""}${n}`}};c([u()],ji.prototype,"_refreshIntervalInfo",void 0),c([u()],ji.prototype,"attributes",null),c([u()],ji.prototype,"activeMediaInfoIndex",null),c([u()],ji.prototype,"description",null),c([u()],ji.prototype,"fieldInfoMap",null),c([u()],ji.prototype,"layer",null),c([u()],ji.prototype,"mediaInfos",null),c([u()],ji.prototype,"popupTemplate",null),c([u()],ji.prototype,"relatedInfos",null),c([u()],ji.prototype,"title",null),c([u({type:Ep})],ji.prototype,"viewModel",void 0),c([u(),Jt("esri/widgets/Feature/t9n/Feature")],ji.prototype,"messages",void 0),ji=c([S("esri.widgets.Feature.FeatureMedia")],ji);const jse=ji;function y6(e,t,r,i){let s=null,n=1e3;typeof t=="number"?(n=t,i=r):(s=t??null,n=r);let a,o=0;const l=()=>{o=0,e.apply(i,a)},d=(...f)=>{s&&s.apply(i,f),a=f,n?o||(o=setTimeout(l,n)):l()};return d.remove=()=>{o&&(clearTimeout(o),o=0)},d.forceUpdate=()=>{o&&(clearTimeout(o),l())},d.hasPendingUpdates=()=>!!o,d}function hq(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const r=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const i of e.match(r)||[])switch(i){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=i;break;default:i.length>=2&&i.slice(0,1)==="["&&i.slice(-1)==="]"?t+=`'${i.slice(1,-1)}'`:t+=`'${i}'`}return t}const mq="esri.core.sql.dateonly";let DDe=class Ys{constructor(t,r,i){this._year=t,this._month=r,this._day=i,this.declaredRootClass=mq}static isDateOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===mq}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(t){return Ys.isDateOnly(t)&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new Ys(this._year,this._month,this._day)}toDateTime(t){return ae.fromObject({day:this.day,month:this.month,year:this.year},{zone:Oo(t)})}toDateTimeLuxon(t){return ae.fromObject({day:this.day,month:this.month,year:this.year},{zone:Oo(t)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(t=null,r=!0){if(t===null||t==="")return this.toString();if(r&&(t=hq(t)),!t)return"";const i=this.toDateTime("unknown");return $p.dateTimeToArcadeDate(i).toFormat(t,{locale:Ii(),numberingSystem:"latn"})}toArcadeDate(){const t=this.toDateTime("unknown");return $p.dateTimeToArcadeDate(t)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(t,r){return Ys.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}toUTCDateTime(){return ae.utc(this.year,this.month,this.day,0,0,0,0)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}static fromMilliseconds(t){const r=ae.fromMillis(t,{zone:$r.utcInstance});return r.isValid?Ys.fromParts(r.year,r.month,r.day):null}static fromSeconds(t){const r=ae.fromSeconds(t,{zone:$r.utcInstance});return r.isValid?Ys.fromParts(r.year,r.month,r.day):null}static fromReader(t){if(!t)return null;const r=t.split("-");return r.length!==3?null:new Ys(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10))}static fromParts(t,r,i){const s=new Ys(t,r,i);return s.isValid===!1?null:s}static fromDateJS(t){return Ys.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return Ys.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const i=[];if(r)(r=hq(r))&&i.push(r);else if(r===null||r===""){const s=ae.fromISO(t,{setZone:!0});return s.isValid?Ys.fromParts(s.year,s.month,s.day):null}for(const s of i){const n=ae.fromFormat(t,r??s);if(n.isValid)return new Ys(n.year,n.month,n.day)}return null}static fromNow(t="system"){const r=ae.fromJSDate(new Date).setZone(Oo(t));return new Ys(r.year,r.month,r.day)}};function yrt(e){if(e==null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new ht({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function brt(e){if(e==null)return null;const t=e.clone();return e.cache._geVersion!==void 0&&(t.cache._geVersion=e.cache._geVersion),t}function j3(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function yq(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let r="";for(const i of e.match(t)||[])switch(i){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":r+=i;break;case"A":case"a":r+="a";break;default:r+=`'${i}'`}return r}const bq="esri.core.sql.timeonly";let VDe=class Co{constructor(t,r,i,s){this._hour=t,this._minute=r,this._second=i,this._millisecond=s,this.declaredRootClass=bq}static isTimeOnly(t){return typeof t=="object"&&t!=null&&"declaredRootClass"in t&&t.declaredRootClass===bq}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return Co.isTimeOnly(t)&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new Co(this.hour,this.minute,this.second,this.millisecond)}isValid(){return j3(this.hour)&&j3(this.minute)&&j3(this.second)&&j3(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(t=null){return t===null||t===""?this.toString():(t=yq(t))?ae.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(t,{locale:Ii(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,r,i,s){const n=new Co(t,r,i,s);return n.isValid()?n:null}static fromReader(t){if(!t)return null;const r=t.split(":");return r.length!==3?null:new Co(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),0)}static fromMilliseconds(t){if(t>864e5||t<0)return null;const r=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),s=Math.floor(t/36e5%24),n=Math.floor(t%1e3);return new Co(s,i,r,n)}static fromDateJS(t){return new Co(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new Co(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,r=null){if(t===""||t===null)return null;const i=[];r?(r=yq(r))&&i.push(r):r!==null&&r!==""||(i.push("HH:mm:ss"),i.push("HH:mm:ss.SSS"),i.push("hh:mm:ss a"),i.push("hh:mm:ss.SSS a"),i.push("HH:mm"),i.push("hh:mm a"),i.push("H:mm"),i.push("h:mm a"),i.push("H:mm:ss"),i.push("h:mm:ss a"),i.push("H:mm:ss.SSS"),i.push("h:mm:ss.SSS a"));for(const s of i){const n=ae.fromFormat(t,s);if(n.isValid)return new Co(n.hour,n.minute,n.second,n.millisecond)}return null}plus(t,r){switch(t){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return Co.fromDateTime(this.toUTCDateTime().plus({[t]:r}))}return null}toUTCDateTime(){return ae.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(t,r){switch(r.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return r==="M"?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}};var gq,vq;function grt(e){return q2.fromJSON(e.toJSON())}function vrt(e){return e.toJSON?e.toJSON():e}function wrt(e){return e instanceof Date}function _rt(e){return e instanceof ae}function Srt(e){return e instanceof $p}function $rt(e){return e instanceof DDe}function xrt(e){return e instanceof VDe}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(gq||(gq={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(vq||(vq={}));const Ert=1e3,Trt={point:"point"},Irt={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},Crt={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function Mrt(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function Art(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const r=typeof t.cycles=="boolean"&&t.cycles,i=t.cmp&&(s=t.cmp,function(a){return function(o,l){const d={key:o,value:a[o]},f={key:l,value:a[l]};return s(d,f)}});var s;const n=[];return function a(o){if(o!=null&&o.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o===void 0)return;if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);let l,d;if(Array.isArray(o)){for(d="[",l=0;l<o.length;l++)l&&(d+=","),d+=a(o[l])||"null";return d+"]"}if(o===null)return"null";if(n.includes(o)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const f=n.push(o)-1,p=Object.keys(o).sort(i==null?void 0:i(o));for(d="",l=0;l<p.length;l++){const m=p[l],y=a(o[m]);y&&(d&&(d+=","),d+=JSON.stringify(m)+":"+y)}return n.splice(f,1),"{"+d+"}"}(e)}function zDe(e){switch(e.type){case"catalog":case"csv":case"feature":case"geojson":case"knowledge-graph-sublayer":case"oriented-imagery":case"subtype-group":case"wfs":return!0;default:return!1}}function jDe(e){switch(e.type){case"catalog-footprint":case"subtype-sublayer":return!0;default:return zDe(e)}}const qDe="esri.widgets.Feature.support.arcadeFeatureUtils",PS=()=>B.getLogger(qDe);function BDe(e){return typeof e=="string"?fb(d8(e)):Array.isArray(e)?UDe(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?GDe(e):e}function UDe(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?fb(d8(t)):t}</li>`).join("")}</ul>`}function GDe(e){const t=e.keys().map(r=>{const i=e.field(r);return`<tr><th>${r}</th><td>${typeof i=="string"?fb(d8(i)):i}</td></tr>`}).join("");return`<table class="${ve.table}">${t}</table>`}async function qse(){const[e,t]=await Promise.all([C(()=>import("./arcade-D_uXTJIJ.js"),__vite__mapDeps([387,267])),C(()=>import("./arcade-CRlrqsAP.js").then(r=>r.aw),__vite__mapDeps([265,266,267,132,122,124]))]);return{executor:e,syntaxUtils:t}}function HDe(e){return"createQuery"in e&&"queryFeatures"in e}async function WDe({graphic:e,view:t,options:r}){const{isAggregate:i,layer:s}=e;if(!i||!s||(t==null?void 0:t.type)!=="2d")return[];const n=await t.whenLayerView(s);if(!HDe(n))return[];const a=n.createQuery(),o=e.getObjectId();a.aggregateIds=o!=null?[o]:[];const{features:l}=await n.queryFeatures(a,r);return l}function ZDe({layer:e,aggregatedFeatures:t,interceptor:r}){const{fields:i,objectIdField:s,geometryType:n,spatialReference:a,displayField:o}=e;return new My({fields:i,objectIdField:s,geometryType:n,spatialReference:a,displayField:o,interceptor:r,...e.type==="feature"?{templates:e.templates,typeIdField:e.typeIdField,types:e.types}:null,source:t})}function JDe(e){const t=e.declaredClass==="esri.views.3d.layers.VoxelGraphic";return e.isAggregate?"popup-feature-reduction":t?"popup-voxel":"popup"}function Bse(e){var t,r;return{scale:e==null?void 0:e.scale,timeProperties:{currentStart:(t=e==null?void 0:e.timeExtent)==null?void 0:t.start,currentEnd:(r=e==null?void 0:e.timeExtent)==null?void 0:r.end,startIncluded:!0,endIncluded:!0}}}function YDe(e){return{$voxel:e}}async function QDe(e,t,r,i,s){let n=null;if(s.has("$aggregatedfeatures")){const a=await WDe({graphic:e,view:t,options:r}),o=e.sourceLayer||e.layer;n=ZDe({layer:o,aggregatedFeatures:a,interceptor:i})}return{vars:{$feature:e,$aggregatedFeatures:n,$view:Bse(t)},[Symbol.dispose]:()=>n==null?void 0:n[Symbol.dispose]()}}function KDe(e,t,r,i){var n;const s=(e.sourceLayer||e.layer)??void 0;return{$feature:e,$layer:s!=null&&jDe(s)?s:(s==null?void 0:s.type)==="scene"&&s.associatedLayer!=null?s.associatedLayer:void 0,$map:t,$datastore:s==null?void 0:s.url,$userInput:r,$graph:(s==null?void 0:s.type)==="knowledge-graph-sublayer"?(n=s==null?void 0:s.parentCompositeLayer)==null?void 0:n.knowledgeGraph:void 0,$view:Bse(i)}}async function XDe(e,{graphic:t,map:r,location:i,view:s,options:n,interceptor:a,arcadeExecutor:o}){switch(e){case"popup":return{vars:KDe(t,r,i,s),[Symbol.dispose](){}};case"popup-feature-reduction":{const l=new Set(o.variablesUsed);return await QDe(t,s,n,a,l)}case"popup-voxel":return{vars:YDe(t),[Symbol.dispose](){}};default:throw new Error(`Unexpected profile name ${e}`)}}async function Use({expressionInfo:e,arcade:{executor:t,syntaxUtils:r},graphic:i}){const s=e==null?void 0:e.expression;if(!s)return null;const n=JDe(i),a=t.createArcadeProfile(n);let o;try{o=await t.createArcadeExecutor(s,a)}catch(d){return PS().error("arcade-executor-error",{error:d,expressionInfo:e}),null}const l=new Set;return o.variablesUsed.includes("$view")&&(r.scriptUsesViewProperties(o.syntaxTree,["scale"])&&l.add("view-scale"),r.scriptUsesViewProperties(o.syntaxTree,["timeProperties"])&&l.add("view-time-extent")),{dependencies:l,async evaluate({graphic:d,interceptor:f,location:p,map:m,options:y,spatialReference:b,view:g}){const v=await XDe(n,{graphic:d,map:m,location:p,view:g,options:y,interceptor:f,arcadeExecutor:o}),w={abortSignal:(y==null?void 0:y.signal)??void 0,interceptor:f??void 0,rawOutput:!0,spatialReference:b??void 0,timeZone:g==null?void 0:g.timeZone,console(..._){PS().info(..._)}};try{return await o.executeAsync(v.vars,w)}catch(_){return void PS().error("arcade-execution-error",{error:_,graphic:d,expressionInfo:e})}finally{v[Symbol.dispose]()}}}}async function eVe(e,t){if(!(e!=null&&e.length))return{dependencies:new Set,expressions:new Map};const r=await qse(),i=new Set,s=new Map;for(const n of e){const a=await Use({expressionInfo:n,arcade:r,graphic:t});s.set(`expression/${n.name}`,a),a==null||a.dependencies.forEach(o=>i.add(o))}return{dependencies:i,expressions:s}}const wq=1;let qi=class extends ie{constructor(t){super(t),this._compileTask=null,this._evaluateTask=null,this.expressionInfo=null,this.graphic=null,this.contentElementViewModel=null,this.interceptor=null,this.location=null,this.view=null,this._createVM=()=>{var s,n;const r=(s=this.contentElement)==null?void 0:s.type;(n=this.contentElementViewModel)==null||n.destroy();const i=r==="fields"?new u8:r==="media"?new Ep:r==="text"?new m6:null;this._set("contentElementViewModel",i)},this._compileThrottled=y6(this._startCompile,()=>this.notifyChange("state"),wq,this),this._evaluateThrottled=y6(this._startEvaluate,()=>this.notifyChange("state"),wq,this),this.addHandles([U(()=>[this.expressionInfo,this.graphic],()=>this._compileThrottled(),we),U(()=>[this.contentElement],()=>this._createVM(),we),jr(()=>{var s,n,a,o,l,d;if(!((s=this._compileTask)!=null&&s.finished))return null;const r=this._compileTask.value,i=r==null?void 0:r.dependencies;return[r,this.spatialReference,this.map,this.view,i!=null&&i.has("view-scale")?(n=this.view)==null?void 0:n.scale:null,i!=null&&i.has("view-time-extent")?(o=(a=this.view)==null?void 0:a.timeExtent)==null?void 0:o.start:null,i!=null&&i.has("view-time-extent")?(d=(l=this.view)==null?void 0:l.timeExtent)==null?void 0:d.end:null]},([r])=>this._evaluateThrottled(r))])}initialize(){this.addHandles([this._compileThrottled,this._evaluateThrottled])}destroy(){var t;this._compileTask=Si(this._compileTask),this._evaluateTask=Si(this._evaluateTask),(t=this.contentElementViewModel)==null||t.destroy(),this._set("contentElementViewModel",null)}get contentElement(){var t;return(t=this._evaluateTask)==null?void 0:t.value}get spatialReference(){var t;return((t=this.view)==null?void 0:t.spatialReference)??null}set spatialReference(t){this._override("spatialReference",t)}get state(){var i,s;const{contentElement:t,contentElementViewModel:r}=this;return this._compileThrottled.hasPendingUpdates()||this._evaluateThrottled.hasPendingUpdates()||!((i=this._compileTask)!=null&&i.finished)||!((s=this._evaluateTask)!=null&&s.finished)?"loading":t||r?"ready":"disabled"}get map(){var t;return((t=this.view)==null?void 0:t.map)??null}set map(t){this._override("map",t)}_startCompile(){this._evaluateTask=Si(this._evaluateTask),this._compileTask=Si(this._compileTask),this._compileTask=_c(async t=>{const{expressionInfo:r,graphic:i}=this;if(!r||!i)return null;const s=await qse();Ce(t);const n=await Use({expressionInfo:r,arcade:s,graphic:i});return Ce(t),n})}_startEvaluate(t){this._evaluateTask=Si(this._evaluateTask),this._evaluateTask=_c(async r=>{const{graphic:i}=this;if(!t||!i)return null;const{interceptor:s,spatialReference:n,map:a,location:o,view:l}=this,d=await t.evaluate({graphic:i,interceptor:s,location:o,map:a,options:{signal:r},spatialReference:n,view:l});Ce(r);const f=d;if(!f||f.declaredClass!=="esri.arcade.Dictionary")return null;const p=await f.castAsJsonAsync(r);Ce(r);const m=p==null?void 0:p.type,y=m==="media"?$y.fromJSON(p):m==="text"?lh.fromJSON(p):m==="fields"?oh.fromJSON(p):null;return y.type==="media"&&!y.mediaInfos||y.type==="fields"&&!y.fieldInfos||y.type==="text"&&!y.text?null:y})}};c([u()],qi.prototype,"_compileTask",void 0),c([u()],qi.prototype,"_evaluateTask",void 0),c([u({type:TY})],qi.prototype,"expressionInfo",void 0),c([u({type:pr})],qi.prototype,"graphic",void 0),c([u({readOnly:!0})],qi.prototype,"contentElement",null),c([u({readOnly:!0})],qi.prototype,"contentElementViewModel",void 0),c([u()],qi.prototype,"interceptor",void 0),c([u({type:xe})],qi.prototype,"location",void 0),c([u()],qi.prototype,"spatialReference",null),c([u({readOnly:!0})],qi.prototype,"state",null),c([u()],qi.prototype,"map",null),c([u()],qi.prototype,"view",void 0),qi=c([S("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],qi);const HL=qi,_q="esri-feature",Sq={base:`${_q}-expression`,loadingSpinnerContainer:`${_q}__loading-container`};let E5=class extends lt{constructor(t,r){super(t,r),this._contentWidget=null,this.viewModel=new HL}initialize(){this.addHandles(U(()=>{var t;return(t=this.viewModel)==null?void 0:t.contentElementViewModel},()=>this._setupExpressionWidget(),we))}loadDependencies(){return dn({loader:()=>C(()=>Promise.resolve().then(()=>X2),void 0)})}destroy(){this._destroyContentWidget()}render(){var r;const{state:t}=this.viewModel;return $("div",{class:Sq.base},t==="loading"?this._renderLoading():t==="disabled"?null:(r=this._contentWidget)==null?void 0:r.render())}_renderLoading(){return $("div",{class:Sq.loadingSpinnerContainer,key:"loading-container"},$("calcite-loader",{inline:!0,label:""}))}_destroyContentWidget(){const{_contentWidget:t}=this;t&&(t.viewModel=null,t.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:t,contentElement:r}=this.viewModel,i=r==null?void 0:r.type;this._destroyContentWidget();const s=t?i==="fields"?new Rse({viewModel:t}):i==="media"?new jse({viewModel:t}):i==="text"?new _5({viewModel:t}):null:null;this._contentWidget=s,this.scheduleRender()}};c([u({type:HL})],E5.prototype,"viewModel",void 0),E5=c([S("esri.widgets.Feature.FeatureExpression")],E5);const tVe=E5;var $q,xq;(function(e){e.Text="text",e.Number="number",e.Date="date",e.Unsupported="unsupported"})($q||($q={})),function(e){e.CANNOT_BE_EMPTY="input-validation-error::cannot-be-empty",e.TOO_SHORT="length-validation-error::too-short",e.TOO_LONG="length-validation-error::too-long"}(xq||(xq={}));const rVe=e=>{var r;const t=[];if(e.formTemplate){const{description:i,title:s}=e.formTemplate;(r=e.fields)==null||r.forEach(n=>{const a=s&&HR(s,n.name),o=i&&HR(i,n.name);(a||o)&&t.push(n.name)})}return t},NS=100;let Be=class extends _e.ClonableMixin(Os.IdentifiableMixin(ie)){constructor(t){super(t),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.activeCategory=null,this.allCategories=null,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:r}=this;r&&r.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:r}=this;r&&r.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:r}=this;r&&r.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const r=new AbortController;this._queryAbortController=r,await Bo(this._query()),this._queryAbortController===r&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const r=new AbortController;this._queryFeatureCountAbortController=r,await Bo(this._queryFeatureCount()),this._queryFeatureCountAbortController===r&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryPageController=async()=>{const r=new AbortController;this._queryPageAbortController=r,await Bo(this._queryPage()),this._queryPageAbortController===r&&(this._queryPageAbortController=null)},this._queryDebounced=Uo(this._queryController,NS),this._queryFeatureCountDebounced=Uo(this._queryFeatureCountController,NS),this._queryPageDebounced=Uo(this._queryPageController,NS),this._query=async()=>{var s;const{_queryAbortController:r,relatedFeatures:i}=this;this.featureCount&&(((s=this.relatedLayer)==null?void 0:s.type)!=="subtype-group"||this.activeCategory)&&(this._destroyRelatedFeatureViewModels(),this.featurePage=1,i.destroyAll(),this.destroyed||i.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:r==null?void 0:r.signal}))))},this.addHandles([U(()=>{var r;return[this.displayCount,this.graphic,this.layer,(r=this.layer)==null?void 0:r.loaded,this.map,this.orderByFields,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount,this.activeCategory]},()=>this._queryDebounced(),we),U(()=>[this.featurePage,this.showAllEnabled],()=>this._queryPageDebounced()),U(()=>[this.layer,this.relationshipId,this.objectId,this.canQuery,this.activeCategory],()=>this._queryFeatureCountDebounced())])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.destroyAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(t){const{featuresPerPage:r,featureCount:i}=this,s=1,n=Math.ceil(i/r)||1;this._set("featurePage",Math.min(Math.max(t,s),n))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:t,relatedLayer:r}=this;return t&&(r!=null&&r.loaded)?t.map(i=>{const s=i.clone();return s.field=Fy(i.field,r),s}):t??[]}get supportsCacheHint(){var t,r,i;return!!((i=(r=(t=this.layer)==null?void 0:t.capabilities)==null?void 0:r.queryRelated)!=null&&i.supportsCacheHint)}get canLoad(){return!!this.map&&this.relationshipId!=null&&typeof this.objectId=="number"}get canQuery(){var r,i;const t=(i=(r=this.layer)==null?void 0:r.capabilities)==null?void 0:i.queryRelated;return!!(this.relatedLayer&&this.relationship&&this.relationshipId!=null&&this.objectId!=null&&(t!=null&&t.supportsCount)&&(t!=null&&t.supportsPagination))}get allCategoriesCount(){var t;return((t=this.allCategories)==null?void 0:t.length)??0}get categories(){const{allCategories:t}=this;return this.showAllEnabled?t:(t==null?void 0:t.slice(0,this.displayCount))??null}set displayCount(t){this._set("displayCount",Math.min(Math.max(t??3,0),10))}get displayCount(){return this._get("displayCount")}get itemDescriptionFieldName(){var t;return((t=this.orderByFieldsFixedCasing[0])==null?void 0:t.field)||null}get objectId(){var t,r;return(this.objectIdField&&((r=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:r[this.objectIdField]))??null}get objectIdField(){var t;return((t=this.layer)==null?void 0:t.objectIdField)||null}get relatedFeatures(){return this._get("relatedFeatures")||new W}get relatedLayer(){const{layer:t,map:r,relationship:i}=this;if(!(t!=null&&t.loaded)||!r||!i)return null;const s=t.type==="subtype-sublayer"&&t.parent&&tw(t.parent)?t.parent:t;return Ase(r,s,i)??null}get relatedLayerKeyField(){var i,s;const{relatedLayer:t,relationshipId:r}=this;return t!=null&&t.loaded&&r!=null?(s=(i=t.relationships)==null?void 0:i.find(n=>n.id===r))==null?void 0:s.keyField:null}get relatedLayerKeyFields(){var r;const{relatedLayer:t}=this;return t!=null&&t.loaded?((r=t.relationships)==null?void 0:r.map(i=>i.keyField).filter(It))??[]:[]}get relationship(){var i;const{relationshipId:t,layer:r}=this;return t!=null&&(r!=null&&r.loaded)?((i=r.relationships)==null?void 0:i.find(({id:s})=>s===t))??null:null}get relationshipKey(){var r,i;const{relationshipKeyField:t}=this;return(t&&((i=(r=this.graphic)==null?void 0:r.attributes)==null?void 0:i[t]))??null}get relationshipKeyField(){var t;return((t=this.relationship)==null?void 0:t.keyField)||null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new W}get state(){const{_queryAbortController:t,_queryFeatureCountAbortController:r,_queryPageAbortController:i,canQuery:s,_loaded:n,canLoad:a}=this;return r||a&&!n?"loading":t||i?"querying":s?"ready":"disabled"}getRelatedFeatureByObjectId(t){return this.relatedFeatures.find(r=>r.getObjectId()===t)}refresh(){this._queryFeatureCountDebounced()}_destroyRelatedFeatureViewModels(){var t;(t=this.relatedFeatureViewModels)==null||t.destroyAll()}async _queryFeatureCount(){const{layer:t,relatedLayer:r}=this;await(t==null?void 0:t.load()),await(r==null?void 0:r.load());const{_queryFeatureCountAbortController:i,activeCategory:s,canQuery:n,objectId:a,relatedLayerKeyField:o,relationshipId:l,relationshipKey:d,supportsCacheHint:f}=this;if(!n||!t||!r||a==null)return this._set("featureCount",0),void this._set("allCategories",null);if((r==null?void 0:r.type)==="subtype-group"&&!s){if(this._set("featureCount",0),this._destroyRelatedFeatureViewModels(),this.featurePage=1,this.relatedFeatures.destroyAll(),o&&d!=null){const{default:g}=await C(()=>import("./uniqueValues-B-eUxz5Y.js"),[]),{uniqueValueInfos:v}=await g({layer:r,sqlWhere:`${o} = '${d}'`,field:r.subtypeField,signal:i==null?void 0:i.signal}),w=v.map(({count:_,value:x})=>{var k,A;const T=(A=(k=r.subtypes)==null?void 0:k.find(M=>M.code===x))==null?void 0:A.name;return x!=null&&T?{count:_,value:x,name:T}:void 0}).filter(It);this._set("allCategories",w)}return}const{historicMoment:p,gdbVersion:m}=t,y=new Cy({cacheHint:f,gdbVersion:m,historicMoment:p,relationshipId:l,returnGeometry:!1,objectIds:[a],where:this._getRelationshipWhereClause(r)}),b=await t.queryRelatedFeaturesCount(y,{signal:i==null?void 0:i.signal});this._set("allCategories",null),this._set("featureCount",b[a]||0)}_getRelationshipWhereClause(t){const{activeCategory:r}=this,i=t.createQuery(),s="subtypeField"in t?t.subtypeField:void 0,n=r&&s?`${s} = ${r.value}`:void 0,a=i.where;return a&&n?`(${a}) AND (${n})`:a??n}_sliceFeatures(t){const{showAllEnabled:r,displayCount:i}=this;return r?t:i?t.slice(0,i):[]}async _queryPage(){var a;const{relatedFeatures:t,featurePage:r,showAllEnabled:i,_queryPageAbortController:s,featureCount:n}=this;!i||r<2||!n||((a=this.relatedLayer)==null?void 0:a.type)==="subtype-group"&&!this.activeCategory||t.addMany(await this._queryRelatedFeatures({signal:s==null?void 0:s.signal}))}async _queryRelatedFeatures(t){var z;const{displayCount:r,featureCount:i,featurePage:s,featuresPerPage:n,layer:a,orderByFieldsFixedCasing:o,relatedLayer:l,relatedLayerKeyFields:d,relationshipId:f,showAllEnabled:p,supportsCacheHint:m}=this,{canQuery:y,objectId:b}=this;if(!y||!a||!l||b==null)return[];const g=p?((s-1)*n+i)%i:0,v=p?n:r,w=l.objectIdField,_="subtypeField"in l?l.subtypeField:void 0,x=[...o.map(j=>j.field),...rVe(l),...d,w,_].filter(iVe),T=o.map(j=>`${j.field} ${j.order}`),{historicMoment:k,gdbVersion:A}=a,M=new Cy({orderByFields:T,start:g,num:v,outFields:x,cacheHint:m,historicMoment:k,gdbVersion:A,relationshipId:f,returnGeometry:!1,objectIds:[b],where:this._getRelationshipWhereClause(l)}),R=await a.queryRelatedFeatures(M,{signal:t==null?void 0:t.signal}),P=((z=R[b])==null?void 0:z.features)||[];return l.type==="subtype-group"&&_?P.forEach(j=>{var J;const H=j.attributes[_],K=(J=l.findSublayerForSubtypeCode)==null?void 0:J.call(l,H);j.sourceLayer=K,j.layer=K}):P.forEach(j=>{j.sourceLayer=l,j.layer=l}),P}};function iVe(e){return e!=null&&e!==""}c([u()],Be.prototype,"_loaded",void 0),c([u()],Be.prototype,"_queryAbortController",void 0),c([u()],Be.prototype,"_queryPageAbortController",void 0),c([u()],Be.prototype,"_queryFeatureCountAbortController",void 0),c([u({value:1})],Be.prototype,"featurePage",null),c([u()],Be.prototype,"featuresPerPage",void 0),c([u({readOnly:!0})],Be.prototype,"orderByFieldsFixedCasing",null),c([u({readOnly:!0})],Be.prototype,"supportsCacheHint",null),c([u({readOnly:!0})],Be.prototype,"canLoad",null),c([u({readOnly:!0})],Be.prototype,"canQuery",null),c([u()],Be.prototype,"activeCategory",void 0),c([u({readOnly:!0})],Be.prototype,"allCategories",void 0),c([u({readOnly:!0})],Be.prototype,"allCategoriesCount",null),c([u({readOnly:!0})],Be.prototype,"categories",null),c([u()],Be.prototype,"description",void 0),c([u({value:3})],Be.prototype,"displayCount",null),c([u({type:pr})],Be.prototype,"graphic",void 0),c([u({readOnly:!0})],Be.prototype,"itemDescriptionFieldName",null),c([u()],Be.prototype,"layer",void 0),c([u()],Be.prototype,"map",void 0),c([u({readOnly:!0})],Be.prototype,"objectId",null),c([u({readOnly:!0})],Be.prototype,"objectIdField",null),c([u()],Be.prototype,"orderByFields",void 0),c([u({readOnly:!0})],Be.prototype,"relatedFeatures",null),c([u({readOnly:!0})],Be.prototype,"relatedLayer",null),c([u({readOnly:!0})],Be.prototype,"relatedLayerKeyField",null),c([u({readOnly:!0})],Be.prototype,"relatedLayerKeyFields",null),c([u({readOnly:!0})],Be.prototype,"relationship",null),c([u({readOnly:!0})],Be.prototype,"relationshipKey",null),c([u({readOnly:!0})],Be.prototype,"relationshipKeyField",null),c([u({readOnly:!0})],Be.prototype,"featureCount",void 0),c([u({readOnly:!0})],Be.prototype,"relatedFeatureViewModels",null),c([u()],Be.prototype,"relationshipId",void 0),c([u()],Be.prototype,"showAllEnabled",void 0),c([u()],Be.prototype,"state",null),c([u()],Be.prototype,"title",void 0),Be=c([S("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],Be);const WL=Be;var T5;const I5="esri-feature",Kb=`${I5}-relationship`,hl={base:Kb,listContainer:`${Kb}__list`,listItem:`${Kb}__list-item`,listItemHidden:`${Kb}__list-item--hidden`,listContainerQuerying:`${Kb}__list--querying`,featureObserver:`${I5}__feature-observer`,stickySpinnerContainer:`${I5}__sticky-loading-container`,loadingSpinnerContainer:`${I5}__loading-container`},Eq={title:!0,description:!0};let Jr=T5=class extends lt{constructor(e,t){super(e,t),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver(([r])=>{r!=null&&r.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this.flowItems=null,this.flowType="feature-relationship",this.headingLevel=2,this.viewModel=new WL,this.messages=null,this.messagesCommon=null,this.visibleElements={...Eq},this._increaseFeaturePage=()=>{const{state:r,showAllEnabled:i,relatedFeatures:s,featuresPerPage:n,featurePage:a}=this.viewModel;r==="ready"&&i&&s.length>=n*a&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new rw,this.addHandles([U(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),we),U(()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode],()=>this._handleRelatedFeatureObserverChange()),Er(()=>this.viewModel.relatedFeatureViewModels,"change",()=>this._setupRelatedFeatureViewModels())])}loadDependencies(){return dn({chip:()=>C(()=>Promise.resolve().then(()=>Yie),void 0),icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0),list:()=>C(()=>import("./index-BvqAo_0o.js"),__vite__mapDeps([364,101,1,75,365,366,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>C(()=>import("./index-VUfVv5RO.js"),__vite__mapDeps([363,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>C(()=>Promise.resolve().then(()=>X2),void 0),notice:()=>C(()=>import("./index-CylWDiU4.js").then(e=>e.i),__vite__mapDeps([84,15,14]))})}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=pt(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:e,featureCount:t,displayCount:r,state:i,allCategoriesCount:s}=this.viewModel;return!e&&i==="ready"&&(!!s&&(s>r||r===0)||!!t&&(t>r||r===0))}get displayListItems(){const{relatedFeatureViewModels:e,allCategoriesCount:t}=this.viewModel;return this.displayShowAllButton||!!e.length||!!t}get allItemsDescription(){const{messages:e}=this,{featureCount:t,allCategories:r,allCategoriesCount:i}=this.viewModel;return ku(e==null?void 0:e.numberRecords,{number:Mi(r?i:t)})}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get title(){const{activeCategory:e,title:t}=this.viewModel;return(e==null?void 0:e.name)??t}set title(e){this.viewModel.title=e}castVisibleElements(e){return{...Eq,...e}}render(){var t;const{state:e}=this.viewModel;return $("div",{class:this.classes(hl.base,ve.widget)},(t=this._featureElementInfo)==null?void 0:t.render(),e==="loading"?this._renderLoading():e==="disabled"?this._renderRelationshipNotFound():this._renderRelatedFeatures())}async _selectCategory(e){const{flowItems:t,featureVisibleElements:r,viewModel:i}=this;t&&(i.activeCategory=e,i.showAllEnabled=!0,t.push(new T5({flowItems:t,featureVisibleElements:r,visibleElements:{title:!1,description:!1},viewModel:i})))}async _selectRecord(e){const{flowItems:t,featureVisibleElements:r}=this;if(!t)return;e.abilities={relationshipContent:!0};const{default:i}=await C(()=>Promise.resolve().then(()=>cVe),void 0);t.push(new i({flowItems:t,flowType:this.flowType,viewModel:e,visibleElements:r}))}_showAllRecords(){const{flowItems:e}=this;if(!e)return;const{viewModel:t,featureVisibleElements:r}=this;t.showAllEnabled=!0;const i=new T5({flowItems:e,featureVisibleElements:r,visibleElements:{title:!1,description:!1},viewModel:t});e.push(i)}_renderStickyLoading(){return this.viewModel.state==="querying"?$("div",{class:hl.stickySpinnerContainer,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return $("calcite-loader",{inline:!0,label:""})}_renderLoading(){return $("div",{class:hl.loadingSpinnerContainer,key:"loading-container"},this._renderLoadingIcon())}_renderShowAllIconNode(){return $("calcite-icon",{icon:"list",scale:"s",slot:"content-end"})}_renderChevronIconNode(){const e=za(this.container)?"chevron-left":"chevron-right";return $("calcite-icon",{icon:e,scale:"s",slot:"content-end"})}_renderCategory(e){const{count:t,name:r,value:i}=e,s=Mi(t);return $("calcite-list-item",{class:hl.listItem,disabled:!t,key:i,label:r,onCalciteListItemSelect:()=>this._selectCategory(e)},$("calcite-chip",{label:s,scale:"s",slot:"content-end"},s),this._renderChevronIconNode())}_renderRelatedFeature(e){var s;const{itemDescriptionFieldName:t}=this.viewModel,r=e.title;e.description=t&&((s=e.formattedAttributes)==null?void 0:s.global[t]);const i=e.state==="loading";return $("calcite-list-item",{class:this.classes(hl.listItem,{[hl.listItemHidden]:i}),description:fv(e.description??""),key:e.uid,label:fv(r),onCalciteListItemSelect:()=>this._selectRecord(e)},this._renderChevronIconNode())}_renderShowAllListItem(){var e;return this.displayShowAllButton?$("calcite-list-item",{description:this.allItemsDescription,key:"show-all-item",label:(e=this.messages)==null?void 0:e.showAll,onCalciteListItemSelect:()=>this._showAllRecords()},this._renderShowAllIconNode()):null}_renderNoRelatedFeaturesMessage(){var e;return $("calcite-notice",{icon:"information",key:"no-related-features-message",kind:"brand",open:!0,scale:"s",width:"full"},$("div",{slot:"message"},(e=this.messages)==null?void 0:e.noRelatedFeatures))}_renderFeatureObserver(){return $("div",{afterCreate:this._relatedFeatureIntersectionObserverCreated,bind:this,class:hl.featureObserver,key:"feature-observer"})}_renderList(){var r;const{relatedFeatureViewModels:e,categories:t}=this.viewModel;return $("calcite-list",{displayMode:"flat",label:(r=this.messages)==null?void 0:r.relatedFeaturesList},(t==null?void 0:t.map(i=>this._renderCategory(i)))??e.toArray().map(i=>this._renderRelatedFeature(i)),this._renderShowAllListItem())}_renderRelatedFeatures(){const{displayListItems:e}=this,{state:t}=this.viewModel;return $("div",{class:this.classes(hl.listContainer,{[hl.listContainerQuerying]:t==="querying"}),key:"list-container"},e?this._renderList():t==="ready"?this._renderNoRelatedFeaturesMessage():null,this._renderStickyLoading(),this._renderFeatureObserver())}_renderRelationshipNotFound(){var e;return $("calcite-notice",{icon:"exclamation-mark-triangle",key:"relationship-not-found",kind:"danger",open:!0,scale:"s",width:"full"},$("div",{slot:"message"},(e=this.messages)==null?void 0:e.relationshipNotFound))}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:e}=this.viewModel,t="related-feature-viewmodels";this.removeHandles(t),e==null||e.forEach(r=>{this.addHandles(U(()=>[r.title,r.state],()=>this.scheduleRender(),we),t)}),this.scheduleRender()}_setupFeatureElementInfo(){var s;const{headingLevel:e,visibleElements:t}=this,r=t.description&&this.description,i=t.title&&this.title;(s=this._featureElementInfo)==null||s.set({description:r,title:i,headingLevel:e})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver();const{state:e,showAllEnabled:t}=this.viewModel;await gM(0),this._relatedFeatureIntersectionObserverNode&&e==="ready"&&t&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(e){this._relatedFeatureIntersectionObserverNode=e}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};c([u()],Jr.prototype,"_relatedFeatureIntersectionObserverNode",void 0),c([u({readOnly:!0})],Jr.prototype,"displayShowAllButton",null),c([u({readOnly:!0})],Jr.prototype,"displayListItems",null),c([u({readOnly:!0})],Jr.prototype,"allItemsDescription",null),c([u()],Jr.prototype,"description",null),c([u()],Jr.prototype,"featureVisibleElements",void 0),c([u()],Jr.prototype,"flowItems",void 0),c([u()],Jr.prototype,"flowType",void 0),c([u()],Jr.prototype,"headingLevel",void 0),c([u()],Jr.prototype,"title",null),c([u({type:WL})],Jr.prototype,"viewModel",void 0),c([u(),Jt("esri/widgets/Feature/t9n/Feature")],Jr.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],Jr.prototype,"messagesCommon",void 0),c([u()],Jr.prototype,"visibleElements",void 0),c([Oe("visibleElements")],Jr.prototype,"castVisibleElements",null),Jr=T5=c([S("esri.widgets.Feature.FeatureRelationship")],Jr);const sVe=Jr;let w1=class extends ie{constructor(t){super(t),this.title=!0,this.description=!0}};c([u({type:Boolean,nonNullable:!0})],w1.prototype,"title",void 0),c([u({type:Boolean,nonNullable:!0})],w1.prototype,"description",void 0),w1=c([S("esri.widgets.Feature.FeatureUtilityNetworkAssociations.VisibleElements")],w1);const Gse=w1,q3={assetGroup:"assetgroup",assetType:"assettype"},Tq=100;let je=class extends _e.ClonableMixin(Os.IdentifiableMixin(ie)){constructor(t){super(t),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.networkSourceIdsInUse=new Set,this.source="popup",this.description=null,this.graphic=null,this.layer=null,this.map=null,this.featureCount=0,this.associationTypes=null,this.showAllEnabled=!1,this.title=null,this.attachmentsFeatureCount=0,this.structureFeatureCount=0,this.contentFeatureCount=0,this.containerFeatureCount=0,this.connectivityFeatureCount=0,this._queryOpenAssociationType=async()=>{this.activeAssociationType&&await this._queryDebounced(this.activeAssociationType)},this._cancelQuery=()=>{const{_queryAbortController:r}=this;r&&r.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:r}=this;r&&r.abort(),this._queryFeatureCountAbortController=null},this._queryController=async r=>{this._cancelQuery();const i=new AbortController;this._queryAbortController=i,await Bo(this._query(r)),this._queryAbortController===i&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const r=new AbortController;this._queryFeatureCountAbortController=r,await Bo(this._queryFeatureCount()),this._queryFeatureCountAbortController===r&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryDebounced=Uo(this._queryController,Tq),this._queryFeatureCountDebounced=Uo(this._queryFeatureCountController,Tq)}initialize(){this.addHandles([U(()=>[this.graphic,this.layer,this.map,this.associationTypes,this.objectId,this.globalId,this.canQuery],()=>this.refresh(),we),U(()=>this.activeAssociationType,t=>this._queryDebounced(t),we)])}destroy(){this._cancelQuery(),this._cancelQueryFeatureCount(),this._destroyAssociatedFeatureViewModels()}get supportsCacheHint(){var t,r,i;return!!((i=(r=(t=this.layer)==null?void 0:t.capabilities)==null?void 0:r.query)!=null&&i.supportsCacheHint)}get canLoad(){return!!this.map&&!!this.associationTypes&&typeof this.globalId=="string"}get canQuery(){var r,i;const t=(i=(r=this.layer)==null?void 0:r.capabilities)==null?void 0:i.query;return!!this.associationTypes&&typeof this.globalId=="string"&&!!(t!=null&&t.supportsPagination)}set displayCount(t){this._set("displayCount",Math.max(t??3,0))}get displayCount(){return this._get("displayCount")}get objectId(){var t,r;return(this.objectIdField&&((r=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:r[this.objectIdField]))??null}get objectIdField(){var t;return((t=this.layer)==null?void 0:t.objectIdField)||null}get globalId(){var t,r;return(this.globalIdField&&((r=(t=this.graphic)==null?void 0:t.attributes)==null?void 0:r[this.globalIdField]))??null}get globalIdField(){const{layer:t}=this;return t==null?void 0:t.globalIdField}get activeAssociationType(){return this._get("activeAssociationType")}set activeAssociationType(t){t&&!this.associationTypes.includes(t)||this._set("activeAssociationType",t)}get state(){const{_queryAbortController:t,_queryFeatureCountAbortController:r,_queryPageAbortController:i,canQuery:s,_loaded:n,canLoad:a,source:o}=this;return r||a&&!n?"loading":t||i?"querying":!s||o==="popup"&&this.featureCount===0?"disabled":"ready"}get utilityNetwork(){const{layer:t,map:r}=this;if(!(t!=null&&t.loaded)||!r)return null;const i=Ss(t)?t.parent:t;return kse(r,i)}get attachmentsAssociations(){return this._get("attachmentsAssociations")||new W}get structureAssociations(){return this._get("structureAssociations")||new W}get contentAssociations(){return this._get("contentAssociations")||new W}get containerAssociations(){return this._get("containerAssociations")||new W}get connectivityAssociations(){return this._get("connectivityAssociations")||new W}get associationFeatures(){return this._get("associationFeatures")||new zp}get associationViewModels(){return this._get("associationViewModels")||new Map}async refresh(){await this._queryFeatureCountDebounced(),await this._queryOpenAssociationType()}getFeatureCountForAssociationType(t){switch(t){case"attachment":return this.attachmentsFeatureCount;case"structure":return this.structureFeatureCount;case"content":return this.contentFeatureCount;case"container":return this.containerFeatureCount;case"connectivity":return this.connectivityFeatureCount}}_destroyAssociatedFeatureViewModels(){this.associationViewModels.forEach(t=>t.destroyAll())}async _loadUtiltyNetworks(){var i;const t=this.map;if(!t)return;await Promise.allSettled(((i=t.utilityNetworks)==null?void 0:i.map(async s=>{await s.load()}))??[]);const r=this.utilityNetwork;if(r){const s=n=>{if("layerId"in n&&r.isUtilityLayer(n)){const a=r.getSourceIdByLayerId(n.layerId);a!==null&&this.networkSourceIdsInUse.add(a)}};this._set("networkSourceIdsInUse",new Set),t.allLayers.forEach(s),t.allTables.forEach(s)}}async _findLayersBySourceId(t){const{utilityNetwork:r,map:i}=this,s=d=>{const f=d;return d.url&&f.layerId===n?d.url.replace(/\/\d+$/,"")===(r==null?void 0:r.featureServiceUrl):!1};await(r==null?void 0:r.load());const n=r.getLayerIdBySourceId(t),a=i.allLayers.filter(s),o=i.allTables.filter(s),l=a.concat(o).toArray();return await Promise.allSettled(l.map(d=>d.load())),l}_clearAssociations(){this.attachmentsAssociations.removeAll(),this.structureAssociations.removeAll(),this.contentAssociations.removeAll(),this.containerAssociations.removeAll(),this.connectivityAssociations.removeAll()}_clearFeatures(){this.associationFeatures.forEach(t=>t.removeAll()),this.associationFeatures.clear()}_getAssociationsByType(t){switch(t){case"attachment":return this.attachmentsAssociations;case"structure":return this.structureAssociations;case"connectivity":return this.connectivityAssociations;case"container":return this.containerAssociations;case"content":return this.contentAssociations}}async _queryLayer(t,r,i,s,n){const a=t.fieldsIndex.get(q3.assetGroup),o=t.fieldsIndex.get(q3.assetType),l=i!=null,d=s!=null,f="("+r.map(g=>`'${g}'`).join(", ")+")",p=l?` AND ${a==null?void 0:a.name} = ${i}`:"",m=l&&d?` AND ${o==null?void 0:o.name} = ${s}`:"",y=`${t.globalIdField} IN ${f}`+p+m,b=new li({outFields:["*"],cacheHint:this.supportsCacheHint,where:y});return await this._queryAll(b,t,{signal:n==null?void 0:n.signal})}async _createAssociationFeatureObjects(t,r,i,s,n,a){if(t.length===0)return[];const o=new Map;for(const[d,f]of r){const p=await this._findLayersBySourceId(d);for(const m of p)(await this._queryLayer(m,f,s,n,a)).forEach(y=>{if(this.source==="popup"?y.layer&&y.getEffectivePopupTemplate():y.layer){const b=o.get(y.attributes[m.globalIdField])??[];b.push(y),o.set(y.attributes[m.globalIdField],b)}})}const l=[];return await Promise.all(t.toArray().map(async d=>{const{fromNetworkElement:f,toNetworkElement:p}=d,m=f.globalId===i?p:f,y=o.get(m.globalId)??[];await Promise.all(y.map(async b=>{var v,w;const g=(w=(v=this.utilityNetwork)==null?void 0:v.getTerminalById(m==null?void 0:m.terminalId))==null?void 0:w.name;if(b.layer&&"getFeatureTitle"in b.layer){const _=await b.layer.getFeatureTitle(b);l.push({title:_,association:d,feature:b,terminalName:g})}else l.push({association:d,feature:b,terminalName:g})}))})),l}_parseFeatureObjects(t,r){t.forEach(i=>{const s=i==null?void 0:i.feature,n=s.layer,a=r.get(n)??new W;a.add(i),r.set(n,a)})}async _queryAll(t,r,i){var o;const s=[];let n=0,a=!1;t.num=((o=r.sourceJSON)==null?void 0:o.maxRecordCount)??2e3;do{t.start=n;const l=await r.queryFeatures(t,i);s.push(...l.features),a=l.exceededTransferLimit,a&&(n+=l.features.length)}while(a);return s}async _queryAssociations(t){const{layer:r,globalId:i,associationTypes:s,utilityNetwork:n,canQuery:a}=this;if(await Promise.allSettled([r==null?void 0:r.load(),n==null?void 0:n.load()]),this._clearAssociations(),!(a&&r&&s&&n&&i))return;const o=Ss(r)?r.parent:r,l=new qte({globalId:i,networkSourceId:n.getSourceIdByLayerId(o.layerId)}),d=new Set;s.forEach(b=>{switch(b.type){case"attachment":case"structure":d.add("attachment");break;case"container":case"content":d.add("containment");break;case"connectivity":d.add("connectivity"),d.add("junction-junction-connectivity"),d.add("junction-edge-from-connectivity"),d.add("junction-edge-midspan-connectivity"),d.add("junction-edge-to-connectivity")}});const f=await(n==null?void 0:n.queryAssociations({elements:[l],types:Array.from(d)},{signal:t==null?void 0:t.signal})),p=new Map,m=new Map;s.forEach(b=>{m.set(b.type,b),p.set(b.type,[])}),f.forEach(b=>{var w,_,x,T,k,A;const{toNetworkElement:g,fromNetworkElement:v}=b;switch(b.associationType){case"connectivity":case"junction-junction-connectivity":case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":if((v==null?void 0:v.globalId)===i){if(this._shouldDiscardNetworkElement(g,"connectivity",m))break;(w=p.get("connectivity"))==null||w.push(g.globalId)}else{if(this._shouldDiscardNetworkElement(v,"connectivity",m))break;(_=p.get("connectivity"))==null||_.push(v.globalId)}this.connectivityAssociations.add(b);break;case"containment":if((v==null?void 0:v.globalId)===i){if(this._shouldDiscardNetworkElement(g,"content",m))break;(x=p.get("content"))==null||x.push(g.globalId),this.contentAssociations.add(b)}else{if(this._shouldDiscardNetworkElement(v,"container",m))break;(T=p.get("container"))==null||T.push(v.globalId),this.containerAssociations.add(b)}break;case"attachment":if((v==null?void 0:v.globalId)===i){if(this._shouldDiscardNetworkElement(g,"attachment",m))break;(k=p.get("attachment"))==null||k.push(g.globalId),this.attachmentsAssociations.add(b)}else{if(this._shouldDiscardNetworkElement(v,"structure",m))break;(A=p.get("structure"))==null||A.push(v.globalId),this.structureAssociations.add(b)}}});const y=s.map(async b=>{const{associatedNetworkSourceId:g,associatedAssetGroup:v,associatedAssetType:w}=b,_=p.get(b.type),x=v!=null?await this._countAssociatedFeatures(g,_,v,w,t):_.length;switch(b.type){case"attachment":this._set("attachmentsFeatureCount",x);break;case"structure":this._set("structureFeatureCount",x);break;case"content":this._set("contentFeatureCount",x);break;case"container":this._set("containerFeatureCount",x);break;case"connectivity":this._set("connectivityFeatureCount",x)}});await Promise.allSettled(y)}async _countAssociatedFeatureCount(t,r,i,s,n){const a=t.fieldsIndex.get(q3.assetGroup),o=t.fieldsIndex.get(q3.assetType),l=s!=null,d="("+r.map(y=>`'${y}'`).join(", ")+")",f=` AND ${a==null?void 0:a.name} = ${i}`,p=l?` AND ${o==null?void 0:o.name} = ${s}`:"",m=`${t.globalIdField} IN ${d}`+f+p;return t.queryFeatureCount({where:m,outFields:["*"],returnGeometry:!1},{signal:n==null?void 0:n.signal})}async _countAssociatedFeatures(t,r,i,s,n){if(r.length===0)return 0;const a=(await this._findLayersBySourceId(t)).map(async o=>this._countAssociatedFeatureCount(o,r,i,s,n));return(await Promise.all(a)).reduce((o,l)=>o+l,0)}async _queryAssociatedFeatures(t,r){const{layer:i,globalId:s,associationTypes:n,utilityNetwork:a,canQuery:o,associationFeatures:l}=this;if(await Promise.allSettled([i==null?void 0:i.load(),a==null?void 0:a.load()]),!(o&&i&&n&&a))return;const d=this._getAssociationsByType(t.type),{associatedAssetGroup:f,associatedAssetType:p}=t,m=new Map;d.forEach(b=>{const{fromNetworkElement:g,toNetworkElement:v}=b,{networkSourceId:w,elementGlobalId:_}=g.globalId===s?{networkSourceId:v.networkSourceId,elementGlobalId:v.globalId}:{networkSourceId:g.networkSourceId,elementGlobalId:g.globalId},x=m.get(w)||[];x.push(_),m.set(w,x)});const y=await this._createAssociationFeatureObjects(d,m,s,f,p,r);this._parseFeatureObjects(y,l)}async _queryFeatureCount(){await this._loadUtiltyNetworks();const{_queryFeatureCountAbortController:t,canQuery:r}=this;r?(await this._queryAssociations(t),this._set("featureCount",this.attachmentsFeatureCount+this.structureFeatureCount+this.contentFeatureCount+this.containerFeatureCount+this.connectivityFeatureCount)):this._set("featureCount",0)}async _query(t){if(!t)return;await this._loadUtiltyNetworks();const{_queryAbortController:r}=this;this._destroyAssociatedFeatureViewModels(),this._clearFeatures(),this.featureCount!==0&&(this.destroyed||await this._queryAssociatedFeatures(t,{signal:r==null?void 0:r.signal}))}_shouldDiscardNetworkElement(t,r,i){var l;if(!t)return!1;const{networkSourceIdsInUse:s}=this,{networkSourceId:n}=t,a=(l=i.get(r))==null?void 0:l.associatedNetworkSourceId,o=s.has(n);return a!=null&&a!==n||!o}};c([u()],je.prototype,"_loaded",void 0),c([u()],je.prototype,"_queryAbortController",void 0),c([u()],je.prototype,"_queryPageAbortController",void 0),c([u()],je.prototype,"_queryFeatureCountAbortController",void 0),c([u({readOnly:!0})],je.prototype,"supportsCacheHint",null),c([u({readOnly:!0})],je.prototype,"canLoad",null),c([u({readOnly:!0})],je.prototype,"canQuery",null),c([u()],je.prototype,"networkSourceIdsInUse",void 0),c([u({constructOnly:!0})],je.prototype,"source",void 0),c([u()],je.prototype,"description",void 0),c([u({value:3})],je.prototype,"displayCount",null),c([u({type:pr})],je.prototype,"graphic",void 0),c([u()],je.prototype,"layer",void 0),c([u()],je.prototype,"map",void 0),c([u({readOnly:!0})],je.prototype,"objectId",null),c([u({readOnly:!0})],je.prototype,"objectIdField",null),c([u({readOnly:!0})],je.prototype,"globalId",null),c([u({readOnly:!0})],je.prototype,"globalIdField",null),c([u()],je.prototype,"featureCount",void 0),c([u()],je.prototype,"associationTypes",void 0),c([u()],je.prototype,"activeAssociationType",null),c([u()],je.prototype,"showAllEnabled",void 0),c([u()],je.prototype,"state",null),c([u()],je.prototype,"title",void 0),c([u({readOnly:!0})],je.prototype,"utilityNetwork",null),c([u({readOnly:!0})],je.prototype,"attachmentsFeatureCount",void 0),c([u({readOnly:!0})],je.prototype,"structureFeatureCount",void 0),c([u({readOnly:!0})],je.prototype,"attachmentsAssociations",null),c([u({readOnly:!0})],je.prototype,"structureAssociations",null),c([u({readOnly:!0})],je.prototype,"contentFeatureCount",void 0),c([u({readOnly:!0})],je.prototype,"containerFeatureCount",void 0),c([u({readOnly:!0})],je.prototype,"contentAssociations",null),c([u({readOnly:!0})],je.prototype,"containerAssociations",null),c([u({readOnly:!0})],je.prototype,"connectivityFeatureCount",void 0),c([u({readOnly:!0})],je.prototype,"connectivityAssociations",null),c([u({readOnly:!0})],je.prototype,"associationFeatures",null),c([u({readOnly:!0})],je.prototype,"associationViewModels",null),je=c([S("esri.widgets.support.UtilityNetworkAssociations.FeatureUtilityNetworkAssociationsViewModel")],je);const ZL=je,RC="esri-feature-utility-network-associations",Iq=`${RC}__loading-container`,B3={base:RC,listContainer:`${RC}__list`,loadingContainer:Iq,loadingContainerSticky:`${Iq}--sticky`};let Bi=class extends lt{constructor(t,r){super(t,r),this._featureElementInfo=null,this.onSelectAssociationType=()=>{},this.flowType="feature-utility-network-associations",this.flowItems=null,this.parentFeatureViewModel=null,this.headingLevel=5,this.viewModel=new ZL,this.messages=null,this.messagesCommon=null,this.visibleElements=new Gse}initialize(){this._featureElementInfo=new rw,this.addHandles([U(()=>[this.viewModel.description,this.viewModel.title,this.headingLevel],()=>this._setupFeatureElementInfo(),we)])}loadDependencies(){return dn({icon:()=>C(()=>Promise.resolve().then(()=>Sh),void 0),list:()=>C(()=>import("./index-BvqAo_0o.js"),__vite__mapDeps([364,101,1,75,365,366,65,40,13,19,66,63,42,20,7,73,74,30])),"list-item":()=>C(()=>import("./index-VUfVv5RO.js"),__vite__mapDeps([363,59,18,7,14,55,2,1,62,61,60,99,76,28,74,77])),loader:()=>C(()=>Promise.resolve().then(()=>X2),void 0),notice:()=>C(()=>import("./index-CylWDiU4.js").then(t=>t.i),__vite__mapDeps([84,15,14]))})}destroy(){this._featureElementInfo=pt(this._featureElementInfo)}get description(){return this.viewModel.description}set description(t){this.viewModel.description=t}get title(){return this.viewModel.title}set title(t){this.viewModel.title=t}render(){var r;const{state:t}=this.viewModel;return $("div",{class:this.classes(B3.base,ve.widget)},(r=this._featureElementInfo)==null?void 0:r.render(),t==="loading"?this._renderLoading():t==="disabled"?this._renderAssociationNotFound():this._renderContent())}_renderStickyLoading(){return this.viewModel.state==="querying"?$("div",{class:B3.loadingContainerSticky,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoadingIcon(){return $("calcite-loader",{inline:!0,label:this.messagesCommon.loading})}_renderLoading(){return $("div",{class:B3.loadingContainer,key:"loading-container"},this._renderLoadingIcon())}_renderAssociationNotFound(){var t;return $("calcite-notice",{icon:"exclamation-mark-triangle",key:"association-not-found",kind:"danger",open:!0,scale:"s",width:"full"},$("div",{slot:"message"},(t=this.messages)==null?void 0:t.noAssociations))}_renderAssociationType(t){const{viewModel:r}=this,i=this._getAssociationTypeTitle(t);return $("calcite-list-item",{description:fv(t.description),key:`association-type-${t.type}`,label:fv(i),value:t.type,onCalciteListItemSelect:()=>this.onSelectAssociationType({viewModel:r,listType:t,title:i})},$("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderAssociations(t){const{viewModel:r}=this;return r.source==="featureForm"||r.getFeatureCountForAssociationType(t.type)>0?this._renderAssociationType(t):void 0}_renderContent(){const{messages:t,viewModel:r}=this,{state:i,associationTypes:s}=r;return $("div",{class:B3.listContainer,key:"list-container"},i==="ready"?$("div",null,$("calcite-list",{displayMode:"flat",label:t==null?void 0:t.associationsList},s.map(n=>this._renderAssociations(n)))):null,this._renderStickyLoading())}_getAssociationTypeTitle(t){const{messages:r}=this;if(t.title)return t.title;switch(t.type){case"attachment":return r.associationsAttachments;case"connectivity":return r.associationsConnectivity;case"structure":return r.associationsStructure;case"content":return r.associationsContents;case"container":return r.associationsContainer}}_setupFeatureElementInfo(){var n;const{headingLevel:t,visibleElements:r}=this,i=r.description&&this.description,s=r.title&&this.title;(n=this._featureElementInfo)==null||n.set({description:i,title:s,headingLevel:t})}};c([u({constructOnly:!0})],Bi.prototype,"onSelectAssociationType",void 0),c([u()],Bi.prototype,"flowType",void 0),c([u()],Bi.prototype,"flowItems",void 0),c([u()],Bi.prototype,"parentFeatureViewModel",void 0),c([u()],Bi.prototype,"featureVisibleElements",void 0),c([u()],Bi.prototype,"description",null),c([u()],Bi.prototype,"headingLevel",void 0),c([u()],Bi.prototype,"title",null),c([u({type:ZL})],Bi.prototype,"viewModel",void 0),c([u(),Jt("esri/widgets/Feature/t9n/Feature")],Bi.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],Bi.prototype,"messagesCommon",void 0),c([u({type:Gse,nonNullable:!0})],Bi.prototype,"visibleElements",void 0),Bi=c([S("esri.widgets.Feature.FeatureUtilityNetworkAssociations")],Bi);const nVe=Bi;let aVe=class{constructor(t,r){this.preLayerQueryCallback=t,this.preRequestCallback=r,this.preLayerQueryCallback||(this.preLayerQueryCallback=i=>{}),this.preRequestCallback||(this.preLayerQueryCallback=i=>{})}};var n0;const Cq=1,Mq="content-view-models",Aq="relationship-view-models",oVe="association-view-models",kq={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0,utilityNetworkAssociationsContent:!0};let ut=n0=class extends Os.IdentifiableMixin(ie){constructor(e){super(e),this._error=null,this._graphicChangedTask=null,this._evaluateExpressionAttributesTask=null,this._associationVMAbortController=null,this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...kq},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.location=null,this.relatedInfos=new Map,this.title="",this.view=null,this._graphicChangedThrottled=y6(this._graphicChanged,()=>this.notifyChange("waitingForContent"),Cq,this),this._isAllowedContentType=t=>{const{abilities:r}=this;return t.type==="attachments"&&!!r.attachmentsContent||t.type==="custom"&&!!r.customContent||t.type==="fields"&&!!r.fieldsContent||t.type==="media"&&!!r.mediaContent||t.type==="text"&&!!r.textContent||t.type==="expression"&&!!r.expressionContent||t.type==="relationship"&&!!r.relationshipContent||t.type==="utility-network-associations"&&!!r.utilityNetworkAssociationsContent},this._evaluateExpressionAttributesThrottled=y6(this._evaluateExpressionAttributes,()=>this.notifyChange("waitingForContent"),Cq,this),this.addHandles([U(()=>[this.graphic,this._effectivePopupTemplate,this.abilities,this.timeZone],()=>this._graphicChangedThrottled(),we),jr(()=>{var i,s,n,a,o,l,d;if(!((i=this._graphicChangedTask)!=null&&i.finished)||this._graphicChangedTask.value==null)return null;const t=this._graphicChangedTask.value,r=(s=t==null?void 0:t.expressionInfos)==null?void 0:s.dependencies;return[t,r!=null&&r.has("view-scale")?(n=this.view)==null?void 0:n.scale:null,r!=null&&r.has("view-time-extent")?(o=(a=this.view)==null?void 0:a.timeExtent)==null?void 0:o.start:null,r!=null&&r.has("view-time-extent")?(d=(l=this.view)==null?void 0:l.timeExtent)==null?void 0:d.end:null]},([t])=>this._evaluateExpressionAttributesThrottled(t))])}initialize(){this.addHandles([this._graphicChangedThrottled,this._evaluateExpressionAttributesThrottled])}destroy(){this._clear(),this._graphicChangedTask=Si(this._graphicChangedTask),this._evaluateExpressionAttributesTask=Si(this._evaluateExpressionAttributesTask),this._error=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return this.graphic!=null?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return xse(kC(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return OL(this.graphic)}castAbilities(e){return{...kq,...e}}get isTable(){var e;return((e=this._sourceLayer)==null?void 0:e.isTable)||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",(e==null?void 0:e.clone())??null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)??null}set spatialReference(e){this._override("spatialReference",e)}get timeZone(){var e;return((e=this.view)==null?void 0:e.timeZone)??ks}set timeZone(e){this._overrideIfSome("timeZone",e)}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){this._override("map",e)}get waitingForContent(){const{_graphicChangedThrottled:e,_evaluateExpressionAttributesThrottled:t,_graphicChangedTask:r,_evaluateExpressionAttributesTask:i,_associationVMAbortController:s}=this;return e.hasPendingUpdates()||t.hasPendingUpdates()||r!=null&&!r.finished||i!=null&&!i.finished||!!s}setActiveMedia(e,t){const r=this.contentViewModels[e];r instanceof Ep&&r.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Ep&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Ep&&t.previous()}async updateGeometry(){var a;const{graphic:e,spatialReference:t,_sourceLayer:r}=this;await(r==null?void 0:r.load());const i=r==null?void 0:r.objectIdField;if(!i||!e||!r)return;const s=(a=e==null?void 0:e.attributes)==null?void 0:a[i];if(s==null)return;const n=[s];if(!e.geometry){const o=await VL({layer:r,graphic:e,outFields:[],objectIds:n,returnGeometry:!0,spatialReference:t}),l=o==null?void 0:o.geometry;l&&(e.geometry=l)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){this._evaluateExpressionAttributesTask=Si(this._evaluateExpressionAttributesTask),this._graphicChangedTask=Si(this._graphicChangedTask),this._graphicChangedTask=_c(async e=>{this._error=null,this._clear();const{graphic:t}=this;try{if(!t)return null;const{_sourceLayer:r,_effectivePopupTemplate:i}=this,s=this.spatialReference;await Tse({graphic:t,popupTemplate:i,layer:r,spatialReference:s},{signal:e});const[{value:n},{value:a}]=await wc([this._getContent(),this._getTitle()]),[,{value:o}]=await wc([this._checkForRelatedFeatures({signal:e}),eVe(i==null?void 0:i.expressionInfos,t)]);return{expressionInfos:o,content:n,title:a}}catch(r){throw fr(r)||(this._error=r,B.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:r,graphic:t,popupTemplate:this._effectivePopupTemplate})),r}})}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):e.type==="relationship"?this._compileRelationship(e,t):e.type==="utility-network-associations"?this._compileUtilityNetworkAssociation(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,r)=>this._compileContentElement(t,r)).filter(It):typeof e=="string"?this._compileText(new lh({text:e}),0).text:e}_destroyContentViewModels(){this.removeHandles(Aq),this.removeHandles(Mq),this.contentViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("contentViewModels",[])}_matchesFeature(e,t){var s;const r=(s=e==null?void 0:e.graphic)==null?void 0:s.getObjectId(),i=t==null?void 0:t.getObjectId();return r!=null&&i!=null&&r===i}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:t,map:r}){const{view:i,spatialReference:s,timeZone:n}=this;t==null||t.filter(Boolean).forEach(a=>{e.some(o=>this._matchesFeature(o,a))||e.add(new n0({abilities:{relationshipContent:!1},map:r,view:i,spatialReference:s,timeZone:n,graphic:a}))}),e.forEach(a=>{(t==null?void 0:t.find(l=>this._matchesFeature(a,l)))||e.remove(a)})}_setExpressionContentVM(e,t){const r=this.formattedAttributes,{contentElement:i,contentElementViewModel:s}=e,n=i==null?void 0:i.type;s&&n&&(n==="fields"&&(this._createFieldsFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),s.set(this._createFieldsVMParams(i,t))),n==="media"&&(this._createMediaFormattedAttributes({contentElement:i,contentElementIndex:t,formattedAttributes:r}),s.set(this._createMediaVMParams(i,t))),n==="text"&&s.set(this._createTextVMParams(i)))}_compileRelationship(e,t){const{displayCount:r,orderByFields:i,relationshipId:s,title:n,description:a}=e,{_sourceLayer:o,graphic:l,map:d}=this;if(!tw(o))return;const f=new WL({displayCount:r,graphic:l,orderByFields:i,relationshipId:s,layer:o,map:d,...this._compileTitleAndDesc({title:n,description:a})});return this.contentViewModels[t]=f,this.addHandles(Er(()=>f.relatedFeatures,"change",()=>this._setRelatedFeaturesViewModels(f)),Aq),e}_matchesGlobalFeature(e,t){const r=e==null?void 0:e.association.globalId,i=t==null?void 0:t.association.globalId;return r!=null&&i!=null&&r===i}async _setUpUtilityNetworkAssociationsViewModels(e,t,r){const{view:i,spatialReference:s,timeZone:n}=this;e.forEach((o,l)=>{const d=t.get(l);d?o.forEach(f=>{d.find(p=>this._matchesGlobalFeature(f,p))||(o.remove(f),o.length===0&&e.delete(l))}):(o.removeAll(),e.delete(l))}),t.forEach((o,l)=>{const d=e.get(l)||new W;o==null||o.filter(Boolean).forEach(f=>{d.some(p=>this._matchesGlobalFeature(p,f))||d.add({association:f.association,featureViewModel:new n0({abilities:{utilityNetworkAssociationsContent:!1},map:r,view:i,spatialReference:s,timeZone:n,graphic:f.feature}),terminalName:f.terminalName})}),e.set(l,d)});const a=new AbortController;this._associationVMAbortController=a,await this._sortListObjectsByTitle(e,{signal:a.signal}),this._associationVMAbortController===a&&(this._associationVMAbortController=null)}async _sortListObjectsByTitle(e,t){for(const r of e.values()){const i=r.map(s=>Wa(()=>s.featureViewModel.state==="ready",t==null?void 0:t.signal));await Promise.all(i),r.sort(this._compareByFeatureTitle)}}_compareByFeatureTitle(e,t){const r=Hz(e.featureViewModel),i=Hz(t.featureViewModel);return r.localeCompare(i,void 0,{numeric:!0})}_compileUtilityNetworkAssociation(e,t){const{displayCount:r,title:i,description:s,associationTypes:n}=e,{_sourceLayer:a,graphic:o,map:l}=this;if(!_se(a))return;const d=new ZL({graphic:o,displayCount:r,associationTypes:n,layer:a,map:l,...this._compileTitleAndDesc({title:i,description:s})});return this.contentViewModels[t]=d,this.addHandles([U(()=>d.associationFeatures.values(),()=>this._setUpUtilityNetworkAssociationsViewModels(d.associationViewModels,d.associationFeatures,d.map))],oVe),e}_compileExpression(e,t){const{expressionInfo:r}=e,{graphic:i,map:s,spatialReference:n,view:a,location:o}=this,l=new HL({expressionInfo:r,graphic:i,interceptor:n0.interceptor,map:s,spatialReference:n,view:a,location:o});return this.contentViewModels[t]=l,this.addHandles(U(()=>l.contentElementViewModel,()=>this._setExpressionContentVM(l,t),we),Mq),e}_compileAttachments(e,t){const{graphic:r}=this,{description:i,title:s,orderByFields:n}=e;return this.contentViewModels[t]=new jL({graphic:r,orderByFields:n,...this._compileTitleAndDesc({title:s,description:i})}),e}_compileCustom(e,t){const{graphic:r}=this,{creator:i,destroyer:s}=e;return this.contentViewModels[t]=new m6({graphic:r,creator:i,destroyer:s}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:r,_sourceLayer:i,graphic:s,formattedAttributes:n}=this,a=s==null?void 0:s.attributes,o=this._expressionAttributes,l=n.global;return{title:au({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:o,layer:i,text:e}),description:au({attributes:a,fieldInfoMap:r,globalAttributes:l,expressionAttributes:o,layer:i,text:t})}}_createFieldsVMParams(e,t){const r=this._effectivePopupTemplate,i=this.formattedAttributes,s={...i==null?void 0:i.global,...i==null?void 0:i.content[t]},n=(e==null?void 0:e.fieldInfos)||(r==null?void 0:r.fieldInfos),a=n==null?void 0:n.filter(({fieldName:f})=>!!f&&(c8(f)||qo(f)||s.hasOwnProperty(f))),o=r==null?void 0:r.expressionInfos,{description:l,title:d}=e;return{attributes:s,expressionInfos:o,fieldInfos:a,...this._compileTitleAndDesc({title:d,description:l})}}_compileFields(e,t){const r=e.clone(),i=new u8(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=i,r.fieldInfos=i.formattedFieldInfos.slice(),r}_createMediaVMParams(e,t){const{abilities:r,graphic:i,_fieldInfoMap:s,_effectivePopupTemplate:n,relatedInfos:a,_sourceLayer:o,_expressionAttributes:l}=this,d=this.formattedAttributes,f=(i==null?void 0:i.attributes)??{},{description:p,mediaInfos:m,title:y}=e;return{abilities:{chartAnimation:r.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:f,isAggregate:i==null?void 0:i.isAggregate,layer:o,fieldInfoMap:s,formattedAttributes:{...d==null?void 0:d.global,...d==null?void 0:d.content[t]},expressionAttributes:l,mediaInfos:m,popupTemplate:n,relatedInfos:a,...this._compileTitleAndDesc({title:y,description:p})}}_compileMedia(e,t){const r=e.clone(),i=new Ep(this._createMediaVMParams(e,t));return r.mediaInfos=i.formattedMediaInfos.slice(),this.contentViewModels[t]=i,r}_createTextVMParams(e){var n;const{graphic:t,_fieldInfoMap:r,_sourceLayer:i,_expressionAttributes:s}=this;if(e&&e.text){const a=(t==null?void 0:t.attributes)??{},o=((n=this.formattedAttributes)==null?void 0:n.global)??{};e.text=au({attributes:a,fieldInfoMap:r,globalAttributes:o,expressionAttributes:s,layer:i,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const r=e.clone();return this.contentViewModels[t]=new m6(this._createTextVMParams(r)),r}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:r,timeZone:i}=this;if(!e)return;const{lastEditInfoEnabled:s}=e,n=t==null?void 0:t.editFieldsInfo;return s&&n?$se(n,r==null?void 0:r.attributes,i,t):void 0}_compileTitle(e){var o;const{_fieldInfoMap:t,_sourceLayer:r,graphic:i,_expressionAttributes:s}=this,n=(i==null?void 0:i.attributes)??{},a=((o=this.formattedAttributes)==null?void 0:o.global)??{};return au({attributes:n,fieldInfoMap:t,globalAttributes:a,expressionAttributes:s,layer:r,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this;return t?Qv({type:"title",value:e==null?void 0:e.title,event:{graphic:t}}):null}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this;return t?Qv({type:"content",value:e==null?void 0:e.content,event:{graphic:t}}):null}_evaluateExpressionAttributes({title:e,content:t,expressionInfos:r}){this._evaluateExpressionAttributesTask=Si(this._evaluateExpressionAttributesTask),this._evaluateExpressionAttributesTask=_c(async i=>{const{graphic:s,map:n,view:a,spatialReference:o,location:l}=this;try{if(!s)return;let d;if(r!=null){const f=[];for(const[p,m]of r.expressions.entries())m!=null?f.push(m.evaluate({graphic:s,interceptor:n0.interceptor,location:l,map:n,options:{signal:i},spatialReference:o,view:a}).then(y=>[p,BDe(y)]).catch(()=>[p,void 0])):f.push(Promise.resolve([p,void 0]));d=Object.fromEntries(await Promise.all(f)),Ce(i)}this._expressionAttributes=d,this._graphicExpressionAttributes={...s.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(t)),this._set("title",this._compileTitle(e)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(t)||null)}catch(d){fr(d)||(this._error=d,B.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:d,graphic:s,popupTemplate:this._effectivePopupTemplate}))}})}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){const{_effectivePopupTemplate:i,graphic:s,relatedInfos:n,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:l,timeZone:d}=this;r.content[t]=w5({fieldInfos:i==null?void 0:i.fieldInfos,graphic:s,attributes:{...l,...e.attributes},layer:a,fieldInfoMap:o,relatedInfos:n,timeZone:d})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:r}){if(e.fieldInfos){const{graphic:i,relatedInfos:s,_sourceLayer:n,_fieldInfoMap:a,_graphicExpressionAttributes:o,timeZone:l}=this;r.content[t]=w5({fieldInfos:e.fieldInfos,graphic:i,attributes:{...o,...e.attributes},layer:n,fieldInfoMap:a,relatedInfos:s,timeZone:l})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:r,relatedInfos:i,_sourceLayer:s,_fieldInfoMap:n,_graphicExpressionAttributes:a,timeZone:o}=this,l=t==null?void 0:t.fieldInfos,d={global:w5({fieldInfos:l,graphic:r,attributes:a,layer:s,fieldInfoMap:n,relatedInfos:i,timeZone:o}),content:[]};return Array.isArray(e)&&e.forEach((f,p)=>{f.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:f,contentElementIndex:p,formattedAttributes:d}),f.type==="media"&&this._createMediaFormattedAttributes({contentElement:f,contentElementIndex:p,formattedAttributes:d})}),d}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:r}=this;return this._queryRelatedInfos(t,kC(r),e)}async _queryRelatedInfos(e,t,r){const{relatedInfos:i,_sourceLayer:s}=this;i.clear();const n=(s==null?void 0:s.associatedLayer)!=null?await(s==null?void 0:s.associatedLayer.load(r)):s;if(!n||!e)return;const a=t.filter(d=>!!d.fieldName&&qo(d.fieldName));if(!(a!=null&&a.length))return;t.forEach(d=>this._configureRelatedInfo(d,n));const o=await ADe({relatedInfos:i,layer:n},r);Object.keys(o).forEach(d=>{var m;const f=i.get(d.toString()),p=(m=o[d])==null?void 0:m.value;f&&p&&(f.layerInfo=p.data)});const l=await kDe({graphic:e,relatedInfos:i,layer:n},r);Object.keys(l).forEach(d=>{var f;$De((f=l[d])==null?void 0:f.value,i.get(d.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:r}=this,i=x5(e.fieldName||"");if(!i)return;const{layerId:s,fieldName:n}=i;if(!s)return;const a=r.get(s.toString())||SDe(s,t);a&&(LDe({relatedInfo:a,fieldName:n,fieldInfo:e}),this.relatedInfos.set(s,a))}};ut.interceptor=new aVe(Cse,Mse),c([u()],ut.prototype,"_error",void 0),c([u()],ut.prototype,"_graphicChangedTask",void 0),c([u()],ut.prototype,"_evaluateExpressionAttributesTask",void 0),c([u()],ut.prototype,"_associationVMAbortController",void 0),c([u({readOnly:!0})],ut.prototype,"_effectivePopupTemplate",null),c([u({readOnly:!0})],ut.prototype,"_fieldInfoMap",null),c([u({readOnly:!0})],ut.prototype,"_sourceLayer",null),c([u()],ut.prototype,"abilities",void 0),c([Oe("abilities")],ut.prototype,"castAbilities",null),c([u({readOnly:!0})],ut.prototype,"content",void 0),c([u({readOnly:!0})],ut.prototype,"contentViewModels",void 0),c([u()],ut.prototype,"description",void 0),c([u({type:Boolean})],ut.prototype,"defaultPopupTemplateEnabled",void 0),c([u({readOnly:!0})],ut.prototype,"isTable",null),c([u({readOnly:!0})],ut.prototype,"state",null),c([u({readOnly:!0})],ut.prototype,"formattedAttributes",void 0),c([u({type:pr,value:null})],ut.prototype,"graphic",null),c([u({readOnly:!0})],ut.prototype,"lastEditInfo",void 0),c([u({type:xe})],ut.prototype,"location",void 0),c([u({readOnly:!0})],ut.prototype,"relatedInfos",void 0),c([u({type:me})],ut.prototype,"spatialReference",null),c([u()],ut.prototype,"timeZone",null),c([u({readOnly:!0})],ut.prototype,"title",void 0),c([u()],ut.prototype,"map",null),c([u({readOnly:!0})],ut.prototype,"waitingForContent",null),c([u()],ut.prototype,"view",void 0),ut=n0=c([S("esri.widgets.Feature.FeatureViewModel")],ut);const Hse=ut,ro="esri-feature",rr={base:ro,container:`${ro}__size-container`,title:`${ro}__title`,main:`${ro}__main-container`,contentNode:`${ro}__content-node`,contentNodeText:`${ro}__content-node--text`,contentElement:`${ro}__content-element`,text:`${ro}__text`,lastEditedInfo:`${ro}__last-edited-info`,loadingSpinnerContainer:`${ro}__loading-container`},lVe=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=r=>r6(r)&&!r.destroyed?$("div",{class:rr.contentNode,key:r},r.render()):r instanceof HTMLElement?$("div",{afterCreate:this._attachToNode,bind:r,class:rr.contentNode,key:r}):dAe(r)?$("div",{afterCreate:this._attachToNode,bind:r.domNode,class:rr.contentNode,key:r}):null}_attachToNode(r){const i=this;r.appendChild(i)}};return t=c([S("esri.widgets.Feature.support.FeatureContentMixin")],t),t},Lq={title:!0,content:!0,lastEditedInfo:!0};let tr=class extends lVe(lt){constructor(t,r){super(t,r),this._contentWidgets=[],this.flowType="feature",this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.visibleElements={...Lq},this.viewModel=new Hse}initialize(){this.addHandles(U(()=>{var t;return(t=this.viewModel)==null?void 0:t.contentViewModels},()=>this._setupContentWidgets(),we))}loadDependencies(){return dn({notice:()=>C(()=>import("./index-CylWDiU4.js").then(t=>t.i),__vite__mapDeps([84,15,14])),loader:()=>C(()=>Promise.resolve().then(()=>X2),void 0)})}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(t){this.viewModel.graphic=t}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(t){this.viewModel.defaultPopupTemplateEnabled=t}get isTable(){return this.viewModel.isTable}get icon(){return"polygon"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get location(){return this.viewModel.location}set location(t){this.viewModel.location=t}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(t){this.viewModel.spatialReference=t}get timeZone(){return this.viewModel.timeZone}set timeZone(t){this.viewModel.timeZone=t}get title(){return this.viewModel.title}castVisibleElements(t){return{...Lq,...t}}get map(){return this.viewModel.map}set map(t){this.viewModel.map=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}setActiveMedia(t,r){return this.viewModel.setActiveMedia(t,r)}nextMedia(t){return this.viewModel.nextMedia(t)}previousMedia(t){return this.viewModel.previousMedia(t)}render(){const{state:t}=this.viewModel,r=$("div",{class:rr.container,key:"container"},this._renderTitle(),t==="error"?this._renderError():t==="loading"?this._renderLoading():this._renderContentContainer());return $("div",{class:this.classes(rr.base,ve.widget)},r)}_renderError(){const{messagesCommon:t,messages:r,visibleElements:i}=this;return $("calcite-notice",{icon:"exclamation-mark-circle",kind:"danger",open:!0,scale:"s"},i.title?$("div",{key:"error-title",slot:"title"},t.errorMessage):null,$("div",{key:"error-message",slot:"message"},r.loadingError))}_renderLoading(){return $("div",{class:rr.loadingSpinnerContainer,key:"loading-container"},$("calcite-loader",{inline:!0,label:""}))}_renderContentContainer(){const{visibleElements:t}=this;return t.content?$("div",{class:rr.main},[this._renderContent(),this._renderLastEditInfo()]):null}_renderTitle(){const{visibleElements:t,title:r}=this;return t.title?$(Bp,{class:rr.title,innerHTML:r,level:this.headingLevel}):null}_renderContent(){const t=this.viewModel.content,r="content";if(!t)return null;if(Array.isArray(t))return t.length?$("div",{class:rr.contentNode,key:`${r}-content-elements`},t.map(this._renderContentElement,this)):null;if(typeof t=="string"){const i=this._contentWidgets[0];return!i||i.destroyed?null:$("div",{class:this.classes(rr.contentNode,rr.contentNodeText),key:`${r}-content`},i.render())}return this.renderNodeContent(t)}_renderContentElement(t,r){var s;const{visibleElements:i}=this;if(typeof i.content!="boolean"&&!((s=i.content)!=null&&s[t.type]))return null;switch(t.type){case"attachments":return this._renderAttachments(r);case"custom":return this._renderCustom(t,r);case"fields":return this._renderFields(r);case"media":return this._renderMedia(r);case"text":return this._renderText(t,r);case"expression":return this._renderExpression(r);case"relationship":return this._renderRelationship(r);case"utility-network-associations":return this._renderAssociation(r);default:return null}}_renderAttachments(t){const r=this._contentWidgets[t];if(!r||r.destroyed)return null;const{state:i,attachmentInfos:s}=r.viewModel;return i==="loading"||s.length>0?$("div",{class:this.classes(rr.contentElement),key:this._buildKey("attachments-element",t)},r.render()):null}_renderRelationship(t){const r=this._contentWidgets[t];return r&&!r.destroyed&&this.flowItems?$("div",{class:rr.contentElement,key:this._buildKey("relationship-element",t)},r.render()):null}_renderAssociation(t){const r=this._contentWidgets[t];return r&&!r.destroyed&&this.flowItems?$("div",{class:rr.contentElement,key:this._buildKey("utility-network-association-element",t)},r.render()):null}_renderExpression(t){const r=this._contentWidgets[t];return r&&!r.destroyed&&r.viewModel.contentElement?$("div",{class:rr.contentElement,key:this._buildKey("expression-element",t)},r.render()):null}_renderCustom(t,r){const{creator:i}=t,s=this._contentWidgets[r];return!s||s.destroyed?null:i?$("div",{class:rr.contentElement,key:this._buildKey("custom-element",r)},s.render()):null}_renderFields(t){const r=this._contentWidgets[t];return!r||r.destroyed?null:$("div",{class:rr.contentElement,key:this._buildKey("fields-element",t)},r.render())}_renderMedia(t){const r=this._contentWidgets[t];return!r||r.destroyed?null:$("div",{class:rr.contentElement,key:this._buildKey("media-element",t)},r.render())}_renderLastEditInfo(){const{visibleElements:t,messages:r}=this,{lastEditInfo:i}=this.viewModel;if(!i||!t.lastEditedInfo)return null;const{date:s,user:n}=i,a=i.type==="edit"?n?r.lastEditedByUser:r.lastEdited:n?r.lastCreatedByUser:r.lastCreated,o=ku(a,{date:s,user:n});return $("div",{class:this.classes(rr.lastEditedInfo,rr.contentElement),key:"edit-info-element"},o)}_renderText(t,r){const i=t.text,s=this._contentWidgets[r];return!s||s.destroyed?null:i?$("div",{class:this.classes(rr.contentElement,rr.text),key:this._buildKey("text-element",r)},s.render()):null}_buildKey(t,...r){var i,s;return`${t}__${((s=(i=this.viewModel)==null?void 0:i.graphic)==null?void 0:s.uid)||"0"}-${r.join("-")}`}_destroyContentWidget(t){t&&(t.viewModel=null,!t.destroyed&&t.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(t=>this._destroyContentWidget(t)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:t,visibleElements:r,flowItems:i,viewModel:s}=this,n=s==null?void 0:s.content,{contentViewModels:a}=s;if(Array.isArray(n))n.forEach((o,l)=>{if(o.type==="attachments"&&(this._contentWidgets[l]=new ANe({displayType:o.displayType,headingLevel:r.title&&t<6?t+1:t,viewModel:a[l]})),o.type==="fields"&&(this._contentWidgets[l]=new Rse({viewModel:a[l]})),o.type==="media"&&(this._contentWidgets[l]=new jse({viewModel:a[l]})),o.type==="text"&&(this._contentWidgets[l]=new _5({viewModel:a[l]})),o.type==="custom"&&(this._contentWidgets[l]=new _5({viewModel:a[l]})),o.type==="expression"&&(this._contentWidgets[l]=new tVe({viewModel:a[l]})),o.type==="relationship"){const d=new sVe({flowItems:i,featureVisibleElements:r,viewModel:a[l]});this._contentWidgets[l]=d}if(o.type==="utility-network-associations"){const d=async p=>{const{viewModel:m,listType:y,title:b}=p;if(!i)return;m.activeAssociationType=y;const{default:g}=await C(()=>import("./FeatureUtilityNetworkAssociationList-1NHsIrVF.js"),[]),v=new g({viewModel:m,parentFeatureViewModel:s,listType:y,title:b,featureVisibleElements:r,description:s.title,flowItems:i});i.push(v)},f=new nVe({flowItems:i,onSelectAssociationType:d,parentFeatureViewModel:s,featureVisibleElements:r,viewModel:a[l]});this._contentWidgets[l]=f}},this);else{const o=a[0];o&&!o.destroyed&&(this._contentWidgets[0]=new _5({viewModel:o}))}this.scheduleRender()}};c([u()],tr.prototype,"flowType",void 0),c([u()],tr.prototype,"graphic",null),c([u()],tr.prototype,"defaultPopupTemplateEnabled",null),c([u()],tr.prototype,"flowItems",void 0),c([u()],tr.prototype,"headingLevel",void 0),c([u({readOnly:!0})],tr.prototype,"isTable",null),c([u()],tr.prototype,"icon",null),c([u()],tr.prototype,"label",null),c([u()],tr.prototype,"location",null),c([u(),Jt("esri/widgets/Feature/t9n/Feature")],tr.prototype,"messages",void 0),c([u(),Jt("esri/t9n/common")],tr.prototype,"messagesCommon",void 0),c([u()],tr.prototype,"spatialReference",null),c([u()],tr.prototype,"timeZone",null),c([u({readOnly:!0})],tr.prototype,"title",null),c([u()],tr.prototype,"visibleElements",void 0),c([Oe("visibleElements")],tr.prototype,"castVisibleElements",null),c([u()],tr.prototype,"map",null),c([u()],tr.prototype,"view",null),c([u({type:Hse})],tr.prototype,"viewModel",void 0),tr=c([S("esri.widgets.Feature")],tr);const Wse=tr,cVe=Object.freeze(Object.defineProperty({__proto__:null,default:Wse},Symbol.toStringTag,{value:"Module"}));/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const dVe=Wn`@layer{arcgis-feature{display:block}}`,uVe=e8(Wse);var $u;let fVe=($u=class extends Ac{constructor(){super(...arguments),this.widget=uVe(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.defaultPopupTemplateEnabled=this.widget.defaultPopupTemplateEnabled,this.graphic=this.widget.graphic,this.headingLevel=this.widget.headingLevel,this.hideContentAttachments=this.widget.visibleElements.content.attachments,this.hideContentExpression=this.widget.visibleElements.content.expression,this.hideContentFields=this.widget.visibleElements.content.fields,this.hideContentMedia=this.widget.visibleElements.content.media,this.hideContentText=this.widget.visibleElements.content.text,this.hideLastEditInfo=this.widget.visibleElements.lastEditedInfo,this.hideTitle=this.widget.visibleElements.title,this.icon=this.widget.icon,this.label=this.widget.label,this.location=this.viewModel.location,this.map=this.widget.map,this.position="bottom-left",this.spatialReference=this.widget.spatialReference,this.state=this.viewModel.state,this.arcgisPropertyChange=zy()("state"),this.arcgisReady=xu()}async destroy(){await this.manager.destroy()}async nextMedia(t){var r;(r=this.widget)==null||r.nextMedia(t)}async previousMedia(t){var r;(r=this.widget)==null||r.previousMedia(t)}async setActiveMedia(t,r){var i;(i=this.widget)==null||i.setActiveMedia(t,r)}},$u.properties={autoDestroyDisabled:5,defaultPopupTemplateEnabled:5,graphic:0,headingLevel:9,hideContentAttachments:5,hideContentExpression:5,hideContentFields:5,hideContentMedia:5,hideContentText:5,hideLastEditInfo:5,hideTitle:5,icon:1,label:1,location:0,map:0,position:1,referenceElement:1,spatialReference:0,state:3},$u.shadowRootOptions=Wo,$u.styles=dVe,$u);Du("arcgis-feature",fVe);let ql=class extends see(Vte(f4)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Vp,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}on(t,r){return super.on(t,r)}graphicChanged(t){this.emit("graphic-update",t)}};c([u({type:pee})],ql.prototype,"elevationInfo",void 0),c([u(Tx(Vp,"graphics"))],ql.prototype,"graphics",void 0),c([u({type:["show","hide"]})],ql.prototype,"listMode",void 0),c([u()],ql.prototype,"screenSizePerspectiveEnabled",void 0),c([u({readOnly:!0})],ql.prototype,"type",void 0),c([u({constructOnly:!0})],ql.prototype,"internal",void 0),ql=c([S("esri.layers.GraphicsLayer")],ql);const DS=ql;var OC;let a0=OC=class extends N{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new OC({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};c([u({type:String,json:{write:{isRequired:!0}}})],a0.prototype,"field",void 0),c([u({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],a0.prototype,"minValue",void 0),c([u({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],a0.prototype,"maxValue",void 0),a0=OC=c([S("esri.renderers.support.pointCloud.ColorModulation")],a0);const pVe=a0,VS=new ye({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let C5=class extends N{};c([u({type:VS.apiValues,readOnly:!0,nonNullable:!0,json:{type:VS.jsonValues,read:!1,write:{writer:VS.write,isRequired:!0}}})],C5.prototype,"type",void 0),C5=c([S("esri.renderers.support.pointCloud.PointSizeAlgorithm")],C5);const JL=C5;var FC;let o0=FC=class extends JL{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new FC({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};c([re({pointCloudFixedSizeAlgorithm:"fixed-size"})],o0.prototype,"type",void 0),c([u({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],o0.prototype,"size",void 0),c([u({type:Boolean,json:{write:!0}})],o0.prototype,"useRealWorldSymbolSizes",void 0),o0=FC=c([S("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],o0);const hVe=o0;var PC;let _1=PC=class extends JL{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new PC({scaleFactor:this.scaleFactor})}};c([re({pointCloudSplatAlgorithm:"splat"})],_1.prototype,"type",void 0),c([u({type:Number,value:1,nonNullable:!0,json:{write:{isRequired:!0}}})],_1.prototype,"scaleFactor",void 0),_1=PC=c([S("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],_1);const mVe=_1,yVe={key:"type",base:JL,typeMap:{"fixed-size":hVe,splat:mVe}},zS=ar()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let Bl=class extends N{constructor(t){super(t),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:O(this.pointSizeAlgorithm),colorModulation:O(this.colorModulation),pointsPerInch:O(this.pointsPerInch)}}};c([u({type:zS.apiValues,readOnly:!0,nonNullable:!0,json:{type:zS.jsonValues,read:!1,write:{writer:zS.write,isRequired:!0}}})],Bl.prototype,"type",void 0),c([u({types:yVe,json:{write:!0}})],Bl.prototype,"pointSizeAlgorithm",void 0),c([u({type:pVe,json:{write:!0}})],Bl.prototype,"colorModulation",void 0),c([u({json:{write:!0},nonNullable:!0,type:Number})],Bl.prototype,"pointsPerInch",void 0),Bl=c([S("esri.renderers.PointCloudRenderer")],Bl),function(e){e.fieldTransformTypeKebabDict=new ye({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(Bl||(Bl={}));const E0=Bl;var NC;let S1=NC=class extends E0{constructor(e){super(e),this.type="point-cloud-rgb",this.field=null}clone(){return new NC({...this.cloneProperties(),field:O(this.field)})}};c([re({pointCloudRGBRenderer:"point-cloud-rgb"})],S1.prototype,"type",void 0),c([u({type:String,json:{write:{isRequired:!0}}})],S1.prototype,"field",void 0),S1=NC=c([S("esri.renderers.PointCloudRGBRenderer")],S1);const qrt=S1;var DC;let Ld=DC=class extends E0{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new DC({...this.cloneProperties(),field:O(this.field),fieldTransformType:O(this.fieldTransformType),stops:O(this.stops),legendOptions:O(this.legendOptions)})}};c([re({pointCloudStretchRenderer:"point-cloud-stretch"})],Ld.prototype,"type",void 0),c([u({json:{write:{isRequired:!0}},type:String})],Ld.prototype,"field",void 0),c([u({type:Z4,json:{write:!0}})],Ld.prototype,"legendOptions",void 0),c([u({type:E0.fieldTransformTypeKebabDict.apiValues,json:{type:E0.fieldTransformTypeKebabDict.jsonValues,read:E0.fieldTransformTypeKebabDict.read,write:E0.fieldTransformTypeKebabDict.write}})],Ld.prototype,"fieldTransformType",void 0),c([u({type:[Fk],json:{write:{isRequired:!0}}})],Ld.prototype,"stops",void 0),Ld=DC=c([S("esri.renderers.PointCloudStretchRenderer")],Ld);const Brt=Ld;function bVe(e){return e?{originPosition:e.originPosition==="upper-left"?"upperLeft":e.originPosition==="lower-left"?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:e.extent!=null?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function gVe(e){return e.originPosition==="lowerLeft"&&e.scale.length===4&&e.translate.length===4}function $h(e){if(gVe(e))return e;const{originPosition:t,scale:r,translate:i}=e,s=r[0]??1,n=r[1]??1;return{originPosition:"lowerLeft",scale:[s,t==="lowerLeft"?n:-n,r[2]??1,r[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function Cc({scale:e,translate:t},r){return Math.round((r-t[0])/e[0])}function Mc({scale:e,translate:t},r){return Math.round((r-t[1])/e[1])}function Kv({scale:e,translate:t},r){return Math.round(((r??0)-t[2])/e[2])}function Xv({scale:e,translate:t},r){return r?Math.round((r-t[3])/e[3]):0}function Zse(e,t){return e&&t?SVe:e&&!t?wVe:!e&&t?_Ve:vVe}const vVe=(e,t)=>{const r=[];if(!t.length)return null;const i=t[0];let s=Cc(e,i[0]),n=Mc(e,i[1]);r.push([s,n]);for(let a=1;a<t.length;a++){const[o,l]=t[a],d=Cc(e,o),f=Mc(e,l);d===s&&f===n||r.push([d-s,f-n]),s=d,n=f}return r},wVe=(e,t)=>{const r=[];if(!t.length)return null;const i=t[0];let s=Cc(e,i[0]),n=Mc(e,i[1]),a=Kv(e,i[2]);r.push([s,n,a]);for(let o=1;o<t.length;o++){const[l,d,f]=t[o],p=Cc(e,l),m=Mc(e,d),y=Kv(e,f);p===s&&m===n&&y===a||r.push([p-s,m-n,y]),s=p,n=m,a=y}return r},_Ve=(e,t)=>{const r=[];if(!t.length)return null;const i=t[0];let s=Cc(e,i[0]),n=Mc(e,i[1]),a=Xv(e,i[2]);r.push([s,n,a]);for(let o=1;o<t.length;o++){const[l,d,f]=t[o],p=Cc(e,l),m=Mc(e,d),y=Xv(e,f);p===s&&m===n&&y===a||r.push([p-s,m-n,y]),s=p,n=m,a=y}return r},SVe=(e,t)=>{const r=[];if(!t.length)return null;const i=t[0];let s=Cc(e,i[0]),n=Mc(e,i[1]),a=Kv(e,i[2]),o=Xv(e,i[3]);r.push([s,n,a,o]);for(let l=1;l<t.length;l++){const[d,f,p,m]=t[l],y=Cc(e,d),b=Mc(e,f),g=Kv(e,p),v=Xv(e,m);y===s&&b===n&&g===a&&v===o||r.push([y-s,b-n,g,v]),s=y,n=b,a=g,o=v}return r};function $Ve(e,t,r,i){const s=[],n=Zse(r,i);for(let a=0;a<t.length;a++){const o=n(e,t[a]);o&&o.length>=3&&s.push(o)}return s.length?s:null}function xVe(e,t,r,i){const s=[],n=Zse(r,i);for(let a=0;a<t.length;a++){const o=n(e,t[a]);o&&o.length>=2&&s.push(o)}return s.length?s:null}function sw({scale:e,translate:t},r){return r*e[0]+t[0]}function nw({scale:e,translate:t},r){return r*e[1]+t[1]}function e2({scale:e,translate:t},r){return(r??0)*e[2]+t[2]}function t2({scale:e,translate:t},r){return r?r*e[3]+t[3]:0}function YL(e,t){return e&&t?CVe:e&&!t?TVe:!e&&t?IVe:EVe}const EVe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let s=sw(e,i[0]),n=nw(e,i[1]);r[0]=[s,n];const{scale:a,originPosition:o}=e,l=a[0],d=o==="lowerLeft"?a[1]:-a[1];for(let f=1;f<t.length;f++){const[p,m]=t[f];s+=l*p,n+=d*m,r[f]=[s,n]}return r},TVe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let s=sw(e,i[0]),n=nw(e,i[1]);r[0]=[s,n,e2(e,i[2])];const{scale:a,originPosition:o}=e,l=a[0],d=o==="lowerLeft"?a[1]:-a[1];for(let f=1;f<t.length;f++){const[p,m,y]=t[f];s+=l*p,n+=d*m,r[f]=[s,n,e2(e,y)]}return r},IVe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let s=sw(e,i[0]),n=nw(e,i[1]);r[0]=[s,n,t2(e,i[2])];const{scale:a,originPosition:o}=e,l=a[0],d=o==="lowerLeft"?a[1]:-a[1];for(let f=1;f<t.length;f++){const[p,m,y]=t[f];s+=l*p,n+=d*m,r[f]=[s,n,t2(e,y)]}return r},CVe=(e,t)=>{const r=new Array(t.length);if(!t.length)return r;const i=t[0];let s=sw(e,i[0]),n=nw(e,i[1]);r[0]=[s,n,e2(e,i[2]),t2(e,i[3])];const{scale:a,originPosition:o}=e,l=a[0],d=o==="lowerLeft"?a[1]:-a[1];for(let f=1;f<t.length;f++){const[p,m,y,b]=t[f];s+=l*p,n+=d*m,r[f]=[s,n,e2(e,y),t2(e,b)]}return r};function Jse(e,t,r){const i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=t(e,r[s]);return i}function MVe(e,t,r){const i=$h(e);return t.x=Cc(i,r.x),t.y=Mc(i,r.y),r.z!=null&&(t.z=Kv(i,r.z)),r.m!=null&&(t.m=Xv(i,r.m)),t}function Urt(e,t,r){const i=$Ve($h(e),r.rings,r.hasZ,r.hasM);return i?(t.rings=i,t.hasZ=r.hasZ??!1,t.hasM=r.hasM??!1,t):null}function Grt(e,t,r){const i=xVe($h(e),r.paths,r.hasZ,r.hasM);return i?(t.paths=i,t.hasZ=r.hasZ??!1,t.hasM=r.hasM??!1,t):null}function Hrt(e,t,r,i=(r==null?void 0:r.hasZ)??!1,s=(r==null?void 0:r.hasM)??!1){if(r!=null){const n=$h(e);t.points=YL(i,s)(n,r.points),t.hasZ=i,t.hasM=s}return t}function Wrt(e,t,r,i=(r==null?void 0:r.z)!=null,s=(r==null?void 0:r.m)!=null){if(r==null)return t;const n=$h(e);return t.x=sw(n,r.x),t.y=nw(n,r.y),i&&(t.z=e2(n,r.z)),s&&(t.m=t2(n,r.m)),t}function Zrt(e,t,r,i=(r==null?void 0:r.hasZ)??!1,s=(r==null?void 0:r.hasM)??!1){if(r!=null){const n=$h(e);t.rings=Jse(n,YL(i,s),r.rings),t.hasZ=i,t.hasM=s}return t}function Jrt(e,t,r,i=(r==null?void 0:r.hasZ)??!1,s=(r==null?void 0:r.hasM)??!1){if(r!=null){const n=$h(e);t.paths=Jse(n,YL(i,s),r.paths),t.hasZ=i,t.hasM=s}return t}const Rq=new ye({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),Oq=new ye({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let Ca=class extends N{constructor(t){super(t),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(t){this.classificationMethod==="standard-deviation"&&this._set("standardDeviationInterval",t)}set definedInterval(t){this.classificationMethod==="defined-interval"&&this._set("definedInterval",t)}};c([re({classBreaksDef:"class-breaks-definition"})],Ca.prototype,"type",void 0),c([u({json:{write:!0}})],Ca.prototype,"breakCount",void 0),c([u({json:{write:!0}})],Ca.prototype,"classificationField",void 0),c([u({type:String,json:{read:Rq.read,write:Rq.write}})],Ca.prototype,"classificationMethod",void 0),c([u({json:{write:!0}})],Ca.prototype,"normalizationField",void 0),c([u({json:{read:Oq.read,write:Oq.write}})],Ca.prototype,"normalizationType",void 0),c([u({value:null,json:{write:!0}})],Ca.prototype,"standardDeviationInterval",null),c([u({value:null,json:{write:!0}})],Ca.prototype,"definedInterval",null),Ca=c([S("esri.rest.support.ClassBreaksDefinition")],Ca);const AVe=Ca,kVe=()=>B.getLogger("esri.rest.support.generateRendererUtils");function Qh(e,t){return Number(e.toFixed(t))}function LVe(e){const t=Qse(e),r=[],i=t.uniqueValues.length;for(let s=0;s<i;s++){const n=t.uniqueValues[s],a=t.valueFrequency[s],o=n.toString();r.push({value:n,count:a,label:o})}return{uniqueValues:r}}function Yse(e,t){const{normalizationTotal:r}=e;return{classBreaks:RVe(e,t),normalizationTotal:r}}function RVe(e,t){const r=e.definition,{classificationMethod:i,normalizationType:s,definedInterval:n}=r,a=r.breakCount??1,o=[];let l=e.values;if(l.length===0)return[];l=l.sort((p,m)=>p-m);const[d,f]=t??[l.at(0),l.at(-1)];if(i==="equal-interval")if(l.length>=a){const p=(f-d)/a;let m=d;for(let y=1;y<a;y++){const b=Qh(d+y*p,6);o.push({minValue:m,maxValue:b,label:ns(m,b,s)}),m=b}o.push({minValue:m,maxValue:f,label:ns(m,f,s)})}else l.forEach(p=>{o.push({minValue:p,maxValue:p,label:ns(p,p,s)})});else if(i==="natural-breaks"){const p=Qse(l),m=e.valueFrequency||p.valueFrequency,y=OVe(p.uniqueValues,m,a);let b=d;for(let g=1;g<a;g++)if(p.uniqueValues.length>g){const v=Qh(p.uniqueValues[y[g]],6);o.push({minValue:b,maxValue:v,label:ns(b,v,s)}),b=v}o.push({minValue:b,maxValue:f,label:ns(b,f,s)})}else if(i==="quantile")if(l.length>=a&&d!==f){let p=d,m=Math.ceil(l.length/a),y=0;for(let b=1;b<a;b++){let g=m+y-1;g>l.length&&(g=l.length-1),g<0&&(g=0),o.push({minValue:p,maxValue:l[g],label:ns(p,l[g],s)}),p=l[g],y+=m,m=Math.ceil((l.length-y)/(a-b))}o.push({minValue:p,maxValue:f,label:ns(p,f,s)})}else{let p=-1;for(let m=0;m<l.length;m++){const y=l[m];y!==p&&(p=y,o.push({minValue:p,maxValue:y,label:ns(p,y,s)}),p=y)}}else if(i==="standard-deviation"){const p=NVe(l),m=DVe(l,p);if(m===0)o.push({minValue:l[0],maxValue:l[0],label:ns(l[0],l[0],s)});else{const y=PVe(d,f,a,p,m)*m;let b=0,g=d;for(let w=a;w>=1;w--){const _=Qh(p-(w-.5)*y,6);o.push({minValue:g,maxValue:_,label:ns(g,_,s)}),g=_,b++}let v=Qh(p+.5*y,6);o.push({minValue:g,maxValue:v,label:ns(g,v,s)}),g=v,b++;for(let w=1;w<=a;w++)v=b===2*a?f:Qh(p+(w+.5)*y,6),o.push({minValue:g,maxValue:v,label:ns(g,v,s)}),g=v,b++}}else if(i==="defined-interval"){if(!n)return o;const[p,m]=t??[l.at(0),l.at(-1)],y=Math.ceil((m-p)/n);let b=p;for(let g=1;g<y;g++){const v=Qh(p+g*n,6);o.push({minValue:b,maxValue:v,label:ns(b,v,s)}),b=v}o.push({minValue:b,maxValue:m,label:ns(b,m,s)})}return o}function ns(e,t,r){let i=null;return i=e===t?r&&r==="percent-of-total"?e+"%":e.toString():r&&r==="percent-of-total"?e+"% - "+t+"%":e+" - "+t,i}function Qse(e){const t=[],r=[];let i=Number.MIN_VALUE,s=1,n=-1;for(let a=0;a<e.length;a++){const o=e[a];o===i?(s++,r[n]=s):o!==null&&(t.push(o),i=o,s=1,r.push(s),n++)}return{uniqueValues:t,valueFrequency:r}}function OVe(e,t,r){const i=e.length,s=[];r>i&&(r=i);for(let a=0;a<r;a++)s.push(Math.round(a*i/r-1));s.push(i-1);let n=Fq(s,e,t,r);return FVe(n.mean,n.sdcm,s,e,t,r)&&(n=Fq(s,e,t,r)),s}function Fq(e,t,r,i){let s=[],n=[],a=[],o=0;const l=[],d=[];for(let y=0;y<i;y++){const b=T0(y,e,t,r);l.push(b.sbMean),d.push(b.sbSdcm),o+=d[y]}let f,p=o,m=!0;for(;m||o<p;){m=!1,s=[];for(let y=0;y<i;y++)s.push(e[y]);for(let y=0;y<i;y++)for(let b=e[y]+1;b<=e[y+1];b++)if(f=t[b],y>0&&b!==e[y+1]&&Math.abs(f-l[y])>Math.abs(f-l[y-1]))e[y]=b;else if(y<i-1&&e[y]!==b-1&&Math.abs(f-l[y])>Math.abs(f-l[y+1])){e[y+1]=b-1;break}p=o,o=0,n=[],a=[];for(let y=0;y<i;y++){n.push(l[y]),a.push(d[y]);const b=T0(y,e,t,r);l[y]=b.sbMean,d[y]=b.sbSdcm,o+=d[y]}}if(o>p){for(let y=0;y<i;y++)e[y]=s[y],l[y]=n[y],d[y]=a[y];o=p}return{mean:l,sdcm:d}}function FVe(e,t,r,i,s,n){let a=0,o=0,l=0,d=0,f=!0;for(let p=0;p<2&&f;p++){p===0&&(f=!1);for(let m=0;m<n-1;m++)for(;r[m+1]+1!==r[m+2];){r[m+1]=r[m+1]+1;const y=T0(m,r,i,s);l=y.sbMean,a=y.sbSdcm;const b=T0(m+1,r,i,s);if(d=b.sbMean,o=b.sbSdcm,!(a+o<t[m]+t[m+1])){r[m+1]=r[m+1]-1;break}t[m]=a,t[m+1]=o,e[m]=l,e[m+1]=d,f=!0}for(let m=n-1;m>0;m--)for(;r[m]!==r[m-1]+1;){r[m]=r[m]-1;const y=T0(m-1,r,i,s);l=y.sbMean,a=y.sbSdcm;const b=T0(m,r,i,s);if(d=b.sbMean,o=b.sbSdcm,!(a+o<t[m-1]+t[m])){r[m]=r[m]+1;break}t[m-1]=a,t[m]=o,e[m-1]=l,e[m]=d,f=!0}}return f}function PVe(e,t,r,i,s){let n=Math.max(i-e,t-i)/s/r;return n=n>=1?1:n>=.5?.5:.25,n}function NVe(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/=e.length,t}function DVe(e,t){let r=0;for(let i=0;i<e.length;i++){const s=e[i];r+=(s-t)*(s-t)}return r/=e.length,Math.sqrt(r)}function T0(e,t,r,i){let s=0,n=0;for(let l=t[e]+1;l<=t[e+1];l++){const d=i[l];s+=r[l]*d,n+=d}n<=0&&kVe().warn("Exception in Natural Breaks calculation");const a=s/n;let o=0;for(let l=t[e]+1;l<=t[e+1];l++)o+=i[l]*(r[l]-a)**2;return{sbMean:a,sbSdcm:o}}const VVe="<Null>",zVe="equal-interval",jVe=1,qVe=5,BVe=10,UVe=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,GVe=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),HVe=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),Kse=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function Da(e){return e==null||typeof e=="string"&&!e?VVe:e}function QL(e){const t=e.normalizationField!=null||e.normalizationType!=null,r=e.minValue!=null||e.maxValue!=null,i=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!r&&!i}function WVe(e){var a,o;const{outStatisticTypes:t}=e,r=e.returnDistinct?[...new Set(e.values)]:e.values,i=r.filter(l=>l!=null).sort(),s=i.length,n={count:s,min:i[0],max:i[s-1]};return e.supportsNullCount&&(n.nullcount=r.length-s),!e.percentileParams||(a=t==null?void 0:t.include)!=null&&a.length&&!t.include.includes("median")||(o=t==null?void 0:t.exclude)!=null&&o.length&&t.exclude.includes("median")||(n.median=ene(r,e.percentileParams)),n}function Xse(e){var g,v;const{values:t,useSampleStdDev:r,supportsNullCount:i,outStatisticTypes:s}=e;let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=null,l=null,d=null,f=null,p=0;const m=e.minValue==null?-1/0:e.minValue,y=e.maxValue==null?1/0:e.maxValue;for(const w of t)Number.isFinite(w)?w>=m&&w<=y&&(o=o===null?w:o+w,n=Math.min(n,w),a=Math.max(a,w),p++):typeof w=="string"&&p++;if(p&&o!=null){l=o/p;let w=0;for(const _ of t)Number.isFinite(_)&&_>=m&&_<=y&&(w+=(_-l)**2);f=r?p>1?w/(p-1):0:p>0?w/p:0,d=Math.sqrt(f)}else n=null,a=null;const b={avg:l,count:p,max:a,min:n,stddev:d,sum:o,variance:f};return i&&(b.nullcount=t.length-p),!e.percentileParams||(g=s==null?void 0:s.include)!=null&&g.length&&!s.include.includes("median")||(v=s==null?void 0:s.exclude)!=null&&v.length&&s.exclude.includes("median")||(b.median=ene(t,e.percentileParams)),b}function ene(e,t){const{fieldType:r,value:i,orderBy:s,isDiscrete:n}=t,a=ZVe(r,s==="desc");if((e=[...e].filter(y=>y!=null).sort((y,b)=>a(y,b))).length===0)return null;if(i<=0)return e[0];if(i>=1)return e[e.length-1];const o=(e.length-1)*i,l=Math.floor(o),d=l+1,f=o%1,p=e[l],m=e[d];return d>=e.length||n||typeof p=="string"||typeof m=="string"?p:p*(1-f)+m*f}function ZVe(e,t){if(e){if(GVe.has(e))return Pq(t);if(HVe.has(e))return jS(t,!1);if(e==="esriFieldTypeTimestampOffset")return QVe(t);const a=jS(t,!0);if(e==="esriFieldTypeString")return a;if(e==="esriFieldTypeGUID"||e==="esriFieldTypeGlobalID")return(o,l)=>a(Nq(o),Nq(l))}const r=t?1:-1,i=Pq(t),s=jS(t,!0),n=tne(t);return(a,o)=>typeof a=="number"&&typeof o=="number"?i(a,o):typeof a=="string"&&typeof o=="string"?s(a,o):n(a,o)??r}const f8=(e,t)=>e==null?t==null?0:1:t==null?-1:null,p8=(e,t)=>e==null?t==null?0:-1:t==null?1:null;function tne(e){return e?f8:p8}const JVe=(e,t)=>p8(e,t)??(e===t?0:new Date(e).getTime()-new Date(t).getTime()),YVe=(e,t)=>f8(e,t)??(e===t?0:new Date(t).getTime()-new Date(e).getTime());function QVe(e){return e?YVe:JVe}const KVe=(e,t)=>p8(e,t)??(e===t?0:e<t?-1:1),XVe=(e,t)=>f8(e,t)??(e===t?0:e<t?1:-1);function jS(e,t){if(!t)return e?XVe:KVe;const r=tne(e);return e?(i,s)=>{const n=r(i,s);return n??((i=i.toUpperCase())>(s=s.toUpperCase())?-1:i<s?1:0)}:(i,s)=>{const n=r(i,s);return n??((i=i.toUpperCase())<(s=s.toUpperCase())?-1:i>s?1:0)}}const eze=(e,t)=>f8(e,t)??t-e,tze=(e,t)=>p8(e,t)??e-t;function Pq(e){return e?eze:tze}function Nq(e){return e.slice(24,36)+e.slice(19,23)+e.slice(16,18)+e.slice(14,16)+e.slice(11,13)+e.slice(9,11)+e.slice(6,8)+e.slice(4,6)+e.slice(2,4)+e.slice(0,2)}function r2(e,t,r){var s,n;let i;for(i in e)(s=t==null?void 0:t.include)!=null&&s.length&&!t.include.includes(i)||(n=t==null?void 0:t.exclude)!=null&&n.length&&t.exclude.includes(i)?delete e[i]:Kse.includes(i)&&(Number.isFinite(e[i])||(e[i]=null));return r&&["avg","stddev","variance"].forEach(a=>{e[a]!=null&&(e[a]=Math.ceil(e[a]??0))}),e}function rze(e){const t={};for(let r of e)(r==null||typeof r=="string"&&r.trim()==="")&&(r=null),t[r]==null?t[r]={count:1,data:r}:t[r].count++;return{count:t}}function qS(e){return(e==null?void 0:e.type)!=="coded-value"?[]:e.codedValues.map(t=>t.code)}function i2(e,t,r,i){const s=e.count,n=[];if(r&&t){const a=[],o=qS(t[0]);for(const l of o)if(t[1]){const d=qS(t[1]);for(const f of d)if(t[2]){const p=qS(t[2]);for(const m of p)a.push(`${Da(l)}${i}${Da(f)}${i}${Da(m)}`)}else a.push(`${Da(l)}${i}${Da(f)}`)}else a.push(l);for(const l of a)s.hasOwnProperty(l)||(s[l]={data:l,count:0})}for(const a in s){const o=s[a];n.push({value:o.data,count:o.count,label:o.label})}return{uniqueValueInfos:n}}function ize(e,t,r,i){let s=null;switch(t){case"log":e!==0&&(s=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&i!==0&&(s=e/i*100);break;case"field":Number.isFinite(r)&&r!==0&&(s=e/r);break;case"natural-log":e>0&&(s=Math.log(e));break;case"square-root":e>0&&(s=e**.5)}return s}function rne(e,t,r){const i=KL({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,definedInterval:t.definedInterval,breakCount:t.numClasses||qVe});return e=sze(e,t.minValue,t.maxValue),Yse({definition:i,values:e,normalizationTotal:t.normalizationTotal},r)}function sze(e,t,r){const i=t??-1/0,s=r??1/0;return e.filter(n=>Number.isFinite(n)&&n>=i&&n<=s)}function KL(e){const{breakCount:t,field:r,normalizationField:i,normalizationType:s}=e,n=e.classificationMethod||zVe,a=n==="standard-deviation"?e.standardDeviationInterval||jVe:void 0,o=n==="defined-interval"?e.definedInterval:void 0;return new AVe({breakCount:t,classificationField:r,classificationMethod:n,normalizationField:s==="field"?i:void 0,normalizationType:s,standardDeviationInterval:a,definedInterval:o})}function XL(e,t){var l,d;let r=e.classBreaks;const i=r.length,s=(l=r[0])==null?void 0:l.minValue,n=(d=r[i-1])==null?void 0:d.maxValue,a=t==="standard-deviation",o=UVe;return r=r.map(f=>{const p=f.label,m={minValue:f.minValue,maxValue:f.maxValue,label:p};if(a&&p){const y=p.match(o),b=(y==null?void 0:y.map(g=>+g.trim()))??[];b.length===2?(m.minStdDev=b[0],m.maxStdDev=b[1],b[0]<0&&b[1]>0&&(m.hasAvg=!0)):b.length===1&&(p.includes("<")?(m.minStdDev=null,m.maxStdDev=b[0]):p.includes(">")&&(m.minStdDev=b[0],m.maxStdDev=null))}return m}),{minValue:s,maxValue:n,classBreakInfos:r,normalizationTotal:e.normalizationTotal}}function nze(e,t){const r=aze(e,t);if(r.min==null&&r.max==null)return{bins:[],minValue:r.min,maxValue:r.max,normalizationTotal:t.normalizationTotal};const i=r.intervals,s=r.min??0,n=r.max??0,a=i.map((o,l)=>({minValue:i[l][0],maxValue:i[l][1],count:0}));for(const o of e)if(o!=null&&o>=s&&o<=n){const l=oze(i,o);l>-1&&a[l].count++}return{bins:a,minValue:s,maxValue:n,normalizationTotal:t.normalizationTotal}}function aze(e,t,r=!1){var v,w;const{field:i,classificationMethod:s,standardDeviationInterval:n,definedInterval:a,normalizationType:o,normalizationField:l,normalizationTotal:d,minValue:f,maxValue:p}=t,m=t.numBins||BVe;let y=null,b=null,g=null;if((!s||s==="equal-interval")&&!o){if(f!=null&&p!=null)y=f,b=p;else{const _=Xse({values:e,minValue:f,maxValue:p,useSampleStdDev:!o,supportsNullCount:QL({normalizationType:o,normalizationField:l,minValue:f,maxValue:p})});y=_.min??null,b=_.max??null}g=h8(y??0,b??0,m)}else{const{classBreaks:_}=rne(e,{field:i,normalizationType:o,normalizationField:l,normalizationTotal:d,classificationMethod:s,standardDeviationInterval:n,definedInterval:a,minValue:f,maxValue:p,numClasses:m},f!=null&&p!=null?[f,p]:void 0);y=(v=_[0])==null?void 0:v.minValue,b=(w=_[_.length-1])==null?void 0:w.maxValue,g=_.map(x=>[x.minValue,x.maxValue])}if(r){const _=g.at(-1)[1];g.push([_,_])}return{min:y,max:b,intervals:g}}function oze(e,t){let r=-1;for(let i=e.length-1;i>=0;i--)if(t>=e[i][0]){r=i;break}return r}function h8(e,t,r){const i=(t-e)/r,s=[];let n,a=e;for(let o=1;o<=r;o++)n=a+i,n=Number(n.toFixed(16)),s.push([a,o===r?t:n]),a=n;return s}let Qc=null;const lze=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function cze(e,t,r){return e.x<0?e.x+=t:e.x>r&&(e.x-=t),e}function dze(e,t,r,i){const s=TH(r)?Ti(r):null,n=s?Math.round((s.valid[1]-s.valid[0])/t.scale[0]):null;return e.map(a=>{const o=new xe(a.geometry);return MVe(t,o,o),a.geometry=s?cze(o,n??0,i[0]):o,a})}function uze(e,t=18,r,i,s){const n=new Float64Array(i*s);t=Math.round(Ct(t));let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const l=WIe(r);for(const{geometry:d,attributes:f}of e){const{x:p,y:m}=d,y=Math.max(0,p-t),b=Math.max(0,m-t),g=Math.min(s,m+t),v=Math.min(i,p+t),w=+l(f);for(let _=b;_<g;_++)for(let x=y;x<v;x++){const T=_*i+x,k=HIe(x-p,_-m,t)*w,A=n[T]+=k;a=Math.min(a,A),o=Math.max(o,A)}}return{min:a,max:o}}function fze(e){const t=lze.exec(e);if(!t)return null;const{hh:r,mm:i,ss:s,ms:n}=t.groups;return Number(r)*z0.hours+Number(i)*z0.minutes+Number(s)*z0.seconds+Number(n||0)}async function Py(e,t,r=!0){if(!t)return[];const{field:i,field2:s,field3:n,fieldDelimiter:a,fieldInfos:o,timeZone:l}=e,d=i&&(o==null?void 0:o.find(A=>A.name.toLowerCase()===i.toLowerCase())),f=!!d&&Ci(d),p=!!d&&es(d),m=e.valueExpression,y=e.normalizationType,b=e.normalizationField,g=e.normalizationTotal,v=[],w=e.viewInfoParams;let _=null,x=null;if(m){if(!Qc){const{arcadeUtils:A}=await ln();Qc=A}Qc.hasGeometryOperations(m)&&await Qc.enableGeometryOperations(),_=Qc.createFunction(m),x=w?Qc.getViewInfo({viewingMode:w.viewingMode,scale:w.scale,spatialReference:new me(w.spatialReference)}):null}const T=e.fieldInfos,k=!(t[0]&&"declaredClass"in t[0]&&t[0].declaredClass==="esri.Graphic")&&T?{fields:T}:null;return t.forEach(A=>{const M=A.attributes;let R;if(m){const P=k?{...A,layer:k}:A,z=Qc.createExecContext(P,x,l);R=Qc.executeFunction(_,z)}else M&&(R=M[i],s?(R=`${Da(R)}${a}${Da(M[s])}`,n&&(R=`${R}${a}${Da(M[n])}`)):typeof R=="string"&&r&&(p?R=R?new Date(R).getTime():null:f&&(R=R?fze(R):null)));if(y&&typeof R=="number"&&isFinite(R)){const P=M&&parseFloat(M[b]);R=ize(R,y,P,g)}v.push(R)}),v}function m8(e){const t=e.field,r=e.normalizationType,i=e.normalizationField;let s;return r==="field"?s="(NOT "+i+" = 0)":r!=="log"&&r!=="natural-log"&&r!=="square-root"||(s=`(${t} > 0)`),s}function b6(e,t,r){const i=t!=null?e+" >= "+t:"",s=r!=null?e+" <= "+r:"";let n="";return n=i&&s?ai(i,s):i||s,n?"("+n+")":""}function pze(e,t,r,i){let s;return t?t.name!==e.objectIdField&&i.includes(t.type)||(s=new I(r,"'field' should be one of these types: "+i.join(","))):s=new I(r,"'field' is not defined in the layer schema"),s}function ai(e,t){let r=e??"";return t!=null&&t&&(r=r?"("+r+") AND ("+t+")":t),r}function hze(e,t){if(e&&e.spatialRelationship!=="intersects")return new I(t,"Only 'intersects' spatialRelationship is supported for featureFilter")}function mze(e,t,r){const i=yze({layer:e,fields:t});if(i.length)return new I(r,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const s=bze({layer:e,fields:t});return s.length?new I(r,"Unsupported fields: "+s.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function yze(e){const t=e.layer;return e.fields.filter(r=>!t.getField(r))}function bze(e){const t=e.layer;return e.fields.filter(r=>{const i=t.getFieldUsageInfo(r);return!i||!i.supportsStatistics})}function pb(e,t){if(!e.view)throw new I(`${t}:missing-parameters`,"'view' parameter is required for binning");if(e.sqlExpression)throw new I(`${t}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if(e.view.type==="3d")throw new I(`${t}:invalid-parameters`,"3d view is not supported for binning")}let aw=class $1{constructor(){this.connection=null}async open(t){this.connection=await IZ("statsWorker",{strategy:"distributed",signal:t})}destroy(){var t;(t=this.connection)==null||t.close()}static getInstance(){return $1.instance||($1.instance=new $1),$1.instance}async summaryStatistics(t,r){if(!this.connection)throw new I("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:t,features:r})}async uniqueValues(t,r){if(!this.connection)throw new I("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:t,features:r})}async classBreaks(t,r){if(!this.connection)throw new I("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:t,features:r})}async histogram(t,r){if(!this.connection)throw new I("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:t,features:r})}async heatmapStatistics(t,r){if(!this.connection)throw new I("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:t,features:r})}};async function gze(e,t,r,i){return wze(t,await vze(e,t,r,i))}async function vze(e,t,r,i){var f;const s={...i},n=_ze(t,r),a=((f=t.outStatistics)==null?void 0:f[0])!=null,o=V("featurelayer-pbf-statistics"),l=!a||o;let d;return l||(d=await zse(e,n,s)),r==null||r.fieldsIndex,d.fields,d}async function wze(e,t,r,i){return ob.fromJSON(t)}function _ze(e,t){let r=li.from(e);return r.sourceSpatialReference=r.sourceSpatialReference??(t==null?void 0:t.sourceSpatialReference)??null,r}async function Sze(e,t,r,i){const s=A4(e),{source:n,checkValueRange:a}=t,{classificationDefinition:o}=r,l={...r.toJSON(),f:"json"};let d=null;if(d=(o==null?void 0:o.type)==="class-breaks-definition"?o.classificationField:o==null?void 0:o.attributeField,n){const y={source:n==null?void 0:n.toJSON()};l.layer=JSON.stringify(y)}l.classificationDef&&(l.classificationDef=JSON.stringify(l.classificationDef));let f={query:l};i&&(f={...i,...f});const p={url:s.path,field:d,checkValueRange:a},m=s.path+"/generateRenderer";return ze(m,f).then(y=>$ze(p,y))}function $ze(e,t){const{field:r,checkValueRange:i,url:s}=e,n=t==null?void 0:t.data;if(!n)return;if(!i){const d=Dq(n);return Promise.resolve(d)}const a=new Tc({statisticType:"min",onStatisticField:r}),o=new Tc({statisticType:"max",onStatisticField:r}),l=new li({outStatistics:[a,o]});return gze(s,l).then(d=>{const f=d.features[0].attributes;let p=null,m=null;for(const y in f)y.toLowerCase().indexOf("min")===0?p=f[y]:m=f[y];return Dq(n,p,m)})}function Dq(e,t,r){if(e.type==="classBreaks"){const s=Lte(e);return{classBreaks:s.classBreakInfos.map((n,a)=>(a===0&&t!=null&&(n.minValue=t),a===s.classBreakInfos.length-1&&r!=null&&(n.maxValue=r),{minValue:n.minValue,maxValue:n.maxValue,label:n.label})),normalizationTotal:s.normalizationTotal}}const{uniqueValueInfos:i}=e;return{uniqueValues:(i==null?void 0:i.map((s,n)=>(n===0&&t!=null&&(s.value=t),n===i.length-1&&r!=null&&(s.value=r),{count:s.count,value:s.value,label:s.label})))??[]}}let x1=class extends N{constructor(t){super(t),this.classificationDefinition=null,this.where=null}};c([u({json:{name:"classificationDef",write:!0}})],x1.prototype,"classificationDefinition",void 0),c([u({type:String,json:{write:!0}})],x1.prototype,"where",void 0),x1=c([S("esri.rest.support.GenerateRendererParameters")],x1);const VC=x1;let Ul=class extends N{constructor(t){super(t),this.type="unique-value-definition",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null}get uniqueValueFields(){const t=[];return this.attributeField&&t.push(this.attributeField),this.attributeField2&&t.push(this.attributeField2),this.attributeField3&&t.push(this.attributeField3),t}};c([re({uniqueValueDef:"unique-value-definition"})],Ul.prototype,"type",void 0),c([u()],Ul.prototype,"attributeField",void 0),c([u()],Ul.prototype,"attributeField2",void 0),c([u()],Ul.prototype,"attributeField3",void 0),c([u({json:{write:!0}})],Ul.prototype,"fieldDelimiter",void 0),c([u({json:{write:!0}})],Ul.prototype,"uniqueValueFields",null),Ul=c([S("esri.rest.support.UniqueValueDefinition")],Ul);const xze=Ul,ine="no_dominant_category";function Eze(e){return{expression:Tze(e,{defaultValue:`'${ine}'`})}}function Tze(e,t){const{defaultValue:r,layer:i}=t,s=[];if(r){const n=e.map(a=>`${a} <= 0`).join(" AND ");s.push(`WHEN ${n} THEN ${r}`)}for(const n of e){const a=e.reduce((d,f)=>(n!==f&&d.push(`${n} > ${f}`),d),[]).join(" AND "),o=i&&Wre(i,n),l=`'${n}'`?`'${n}'`:o?w0(n):n;s.push(`WHEN ${a} THEN ${l}`)}return`CASE ${s.join(" ")} ELSE ${r||"0"} END`}function Ize(e){return e&&e.map(t=>`$feature["${t}"];`).join(`
`)+`
`||""}function Cze(e,t=!1){const r=e.map(s=>`"${s}"`);return`
  var fieldNames = [ ${r.join(", ")} ];
  var numFields = ${r.length};
  var maxValueField = null;
  var maxValue = -Infinity;
  var value, i, totalValue = null;

  for(i = 0; i < numFields; i++) {
    value = $feature[fieldNames[i]];

    if(value > 0) {
      if(value > maxValue) {
        maxValue = value;
        maxValueField = fieldNames[i];
      }
      else if (value == maxValue) {
        maxValueField = null;
      }
    }
    ${t?`
  if(value != null && value >= 0) {
    if (totalValue == null) { totalValue = 0; }
    totalValue = totalValue + value;
  }
  `:""}
  }
  `}function eR(e){const t=Cze(e);return`
  ${Ize(e)}
  ${t}
  return maxValueField;
  `}async function uh(e){const{attribute:t,features:r}=e,{normalizationType:i,normalizationField:s,minValue:n,maxValue:a,fieldType:o,outStatisticTypes:l}=t,d=await Py({field:t.field,valueExpression:t.valueExpression,normalizationType:i,normalizationField:s,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},r),f=QL({normalizationType:i,normalizationField:s,minValue:n,maxValue:a}),p={value:.5,fieldType:o},m=o==="esriFieldTypeString"?WVe({values:d,supportsNullCount:f,percentileParams:p,outStatisticTypes:l}):Xse({values:d,minValue:n,maxValue:a,useSampleStdDev:!i,supportsNullCount:f,percentileParams:p,outStatisticTypes:l});return r2(m,l,o==="esriFieldTypeDate")}async function y8(e){const{attribute:t,features:r}=e,i=await Py({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},r,!1),s=rze(i);return i2(s,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function b8(e){const{attribute:t,features:r}=e,{field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o}=t,l=await Py({field:i,valueExpression:t.valueExpression,normalizationType:s,normalizationField:n,normalizationTotal:a,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},r),d=rne(l,{field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return XL(d,o)}async function s2(e){const{attribute:t,features:r}=e,{field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o}=t,l=await Py({field:i,valueExpression:t.valueExpression,normalizationType:s,normalizationField:n,normalizationTotal:a,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},r);return nze(l,{field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,classificationMethod:o,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function sne(e){const{attribute:t,features:r}=e,{field:i,radius:s,transform:n,spatialReference:a}=t,o=t.size??[0,0],l=dze(r??[],n,a,o);return uze(l,s??void 0,i,o[0],o[1])}const Mze=Object.freeze(Object.defineProperty({__proto__:null,classBreaks:b8,heatmapStatistics:sne,histogram:s2,summaryStatistics:uh,uniqueValues:y8},Symbol.toStringTag,{value:"Module"}));let Cn=class extends Ai{constructor(t){super(t),this.adapterName="layer-adapter"}};c([u({readOnly:!0})],Cn.prototype,"adapterName",void 0),c([u({constructOnly:!0})],Cn.prototype,"layer",void 0),c([u()],Cn.prototype,"geometryType",void 0),c([u()],Cn.prototype,"objectIdField",void 0),c([u()],Cn.prototype,"supportsSQLExpression",void 0),c([u()],Cn.prototype,"hasQueryEngine",void 0),c([u()],Cn.prototype,"minScale",void 0),c([u()],Cn.prototype,"maxScale",void 0),c([u()],Cn.prototype,"fullExtent",void 0),Cn=c([S("esri.smartMapping.support.adapters.LayerAdapter")],Cn);const tR=Cn,nne={convertToGEGeometry:Aze,exportPoint:Lze,exportPolygon:Oze,exportPolyline:Pze,exportMultipoint:Dze,exportExtent:zze};function Aze(e,t){return t==null?null:e.convertJSONToGeometry(t)}let kze=class{constructor(t,r,i){this.x=t,this.y=r,this.spatialReference=i,this.z=void 0,this.m=void 0}};function Lze(e,t,r){const i=new kze(e.getPointX(t),e.getPointY(t),r),s=e.hasZ(t),n=e.hasM(t);return s&&(i.z=e.getPointZ(t)),n&&(i.m=e.getPointM(t)),i}class Rze{constructor(t,r,i,s){this.rings=t,this.spatialReference=r,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),s&&(this.hasM=s)}}function Oze(e,t,r){return new Rze(e.exportPaths(t),r,e.hasZ(t),e.hasM(t))}let Fze=class{constructor(t,r,i,s){this.paths=t,this.spatialReference=r,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),s&&(this.hasM=s)}};function Pze(e,t,r){return new Fze(e.exportPaths(t),r,e.hasZ(t),e.hasM(t))}let Nze=class{constructor(t,r,i,s){this.points=t,this.spatialReference=r,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),s&&(this.hasM=s)}};function Dze(e,t,r){return new Nze(e.exportPoints(t),r,e.hasZ(t),e.hasM(t))}let Vze=class{constructor(t,r,i,s,n){this.xmin=t,this.ymin=r,this.xmax=i,this.ymax=s,this.spatialReference=n,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}};function zze(e,t,r){const i=e.hasZ(t),s=e.hasM(t),n=new Vze(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),r);if(i){const a=e.getZExtent(t);n.zmin=a.vmin,n.zmax=a.vmax}if(s){const a=e.getMExtent(t);n.mmin=a.vmin,n.mmax=a.vmax}return n}const BS=[0,0];function ane(e,t){if(!t)return null;if("x"in t){const r={x:0,y:0};return[r.x,r.y]=e(t.x,t.y,BS),t.z!=null&&(r.z=t.z),t.m!=null&&(r.m=t.m),r}if("xmin"in t){const r={xmin:0,ymin:0,xmax:0,ymax:0};return[r.xmin,r.ymin]=e(t.xmin,t.ymin,BS),[r.xmax,r.ymax]=e(t.xmax,t.ymax,BS),t.hasZ&&(r.zmin=t.zmin,r.zmax=t.zmax,r.hasZ=!0),t.hasM&&(r.mmin=t.mmin,r.mmax=t.mmax,r.hasM=!0),r}return"rings"in t?{rings:Vq(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:Vq(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:one(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function Vq(e,t){const r=[];for(const i of e)r.push(one(i,t));return r}function one(e,t){const r=[];for(const i of e){const s=t(i[0],i[1],[0,0]);r.push(s),i.length>2&&s.push(i[2]),i.length>3&&s.push(i[3])}return r}async function lne(e,t){if(!e||!t)return;const r=Array.isArray(e)?e.map(i=>i.geometry!=null?i.geometry.spatialReference:null).filter(It):[e];await r4(r.map(i=>({source:i,dest:t})))}const cne=ane.bind(null,wp),dne=ane.bind(null,$2);function une(e,t,r,i){if(!e)return null;if(r||(r=t,t=e.spatialReference),!Yi(t)||!Yi(r)||Nt(t,r))return e;if(A0(t,r)){const s=on(r)?cne(e):dne(e);return s.spatialReference=r,s}return Ev(nne,[e],t,r,null,i)[0]}let jze=class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,r,i,s){if(!(t!=null&&t.length)||!r||!i||Nt(r,i))return t;const n={geometries:t,inSpatialReference:r,outSpatialReference:i,geographicTransformation:s,resolve:Ms()};return this._jobs.push(n),this._timer??(this._timer=setTimeout(this._process,10)),n.resolve.promise}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:r,inSpatialReference:i,outSpatialReference:s,resolve:n,geographicTransformation:a}=t;A0(i,s)?on(s)?n(r.map(cne)):n(r.map(dne)):n(Ev(nne,r,i,s,a,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};const qze=new jze;function nit(e,t,r,i){return qze.push(e,t,r,i)}const zC=new ye({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),zq=Object.freeze({}),Bze="frequency";async function ait(e,t,r){var s,n;const i=e.bin;return i.onField&&(i.onField=i.onField.trim()),(s=i.onExpression)!=null&&s.value&&(i.onExpression.value=i.onExpression.value.trim()),i.splitBy&&(i.splitBy.value&&(i.splitBy.value=i.splitBy.value.trim()),i.splitBy.outAlias&&(i.splitBy.outAlias=i.splitBy.outAlias.trim())),i.stackBy&&(i.stackBy.value&&(i.stackBy.value=i.stackBy.value.trim()),i.stackBy.outAlias&&(i.stackBy.outAlias=i.stackBy.outAlias.trim())),"normalizationField"in i.parameters&&i.parameters.normalizationField&&(i.parameters.normalizationField=i.parameters.normalizationField.trim()),(n=e.outStatistics)!=null&&n.length||(e.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:Bze}]),Uze(e,t,r)}async function Uze(e,t,r){const{outFields:i,orderByFields:s,groupByFieldsForStatistics:n,outStatistics:a}=e;if(i)for(let o=0;o<i.length;o++)i[o]=i[o].trim();if(s)for(let o=0;o<s.length;o++)s[o]=s[o].trim();if(n)for(let o=0;o<n.length;o++)n[o]=n[o].trim();if(a)for(let o=0;o<a.length;o++)a[o].onStatisticField&&(a[o].onStatisticField=a[o].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),Gze(e,t,r)}async function Gze(e,t,r){var n;if(!e)return null;let{where:i}=e;if(e.where=i=i==null?void 0:i.trim(),(!i||/^1 *= *1$/.test(i)||t&&t===i)&&(e.where=null),!e.geometry)return e;let s=await Wze(e);if(e.distance=0,e.units=null,e.spatialRel==="esriSpatialRelEnvelopeIntersects"){const{spatialReference:a}=e.geometry;s=dhe(s),s.spatialReference=a}if(s){await lne(s.spatialReference,r),s=Hze(s,r);const a=(await ik(Ja(s)))[0];if(a==null)throw zq;const o="quantizationParameters"in e&&((n=e.quantizationParameters)==null?void 0:n.tolerance)||"maxAllowableOffset"in e&&e.maxAllowableOffset||0,l=o&&fne(s,r)?{densificationStep:8*o}:void 0,d=a.toJSON(),f=une(d,d.spatialReference,r,l);if(!f)throw zq;f.spatialReference=r,e.geometry=f}return e}function fne(e,t){if(!e)return!1;const r=e.spatialReference;return(G6(e)||fc(e)||H6(e))&&!Nt(r,t)&&!Hn(r,t)}function Hze(e,t){const r=e.spatialReference;return fne(e,t)&&G6(e)?{spatialReference:r,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}async function Wze(e){const{distance:t,units:r}=e,i=e.geometry;if(t==null||"vertexAttributes"in i)return i;const s=i.spatialReference,n=r?zC.fromJSON(r):ju(s),a=s&&(zu(s)||on(s))?i:await lne(s,c_).then(()=>une(i,c_)),o=await C(()=>import("./geodesicBufferOperator-By2nCirx.js"),__vite__mapDeps([388,389,188,189]));await o.load();const l=o.execute(a,t||1,{unit:n})??void 0;if(!l||!fc(l)||l.rings.length===0)throw new I("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return l}function oit(e,t){return e==null?null:typeof e=="string"?t?new Date(`1970-01-01T${e}Z`).getTime():new Date(e).getTime():e instanceof Date?e.getTime():e}const Zze=new ye({esriFieldTypeInteger:"integer",esriFieldTypeString:"string"});let Fo=class extends _e.ClonableMixin(N){constructor(t){super(t),this.alias=null,this.responseType=null,this.type=null,this.value=null,this.valueType=null}};c([u({type:String,json:{name:"outAlias",write:!0}})],Fo.prototype,"alias",void 0),c([u({type:String})],Fo.prototype,"responseType",void 0),c([u({type:String,json:{write:!0}})],Fo.prototype,"type",void 0),c([u({type:String,json:{write:!0}})],Fo.prototype,"value",void 0),c([re(Zze)],Fo.prototype,"valueType",void 0),Fo=c([S("esri.rest.support.AttributeBinsGrouping")],Fo);const U3=Fo;Fo.from=yt(Fo);const Jze=new ye({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeDate:"date",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"}),Yze=new ye({naturalLog:"natural-log",squareRoot:"square-root"});let Ma=class extends _e.ClonableMixin(N){constructor(t){super(t),this.expression=null,this.expressionValueType=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitBy=null,this.stackBy=null,this.transformation=null}};c([u({type:String,json:{name:"onExpression.value",write:!0}})],Ma.prototype,"expression",void 0),c([re(Jze,{name:"onExpression.valueType"})],Ma.prototype,"expressionValueType",void 0),c([u({type:String,json:{name:"onField",write:!0}})],Ma.prototype,"field",void 0),c([u({type:String,json:{write:!0}})],Ma.prototype,"firstDayOfWeek",void 0),c([u({type:String,json:{write:!0}})],Ma.prototype,"hideUpperBound",void 0),c([u({type:U3,json:{write:{overridePolicy(){var e,t;return{enabled:((e=this.splitBy)==null?void 0:e.value)!=null||((t=this.splitBy)==null?void 0:t.type)!=null}}}}})],Ma.prototype,"splitBy",void 0),c([u({type:U3,json:{write:{target:{stackBy:{type:U3},jsonStyle:{type:String}},writer:(e,t)=>{e&&(t.stackBy=e.toJSON(),e.responseType!=null&&(t.jsonStyle=e.responseType))},overridePolicy(){var e,t;return{enabled:((e=this.stackBy)==null?void 0:e.value)!=null||((t=this.stackBy)==null?void 0:t.type)!=null}}},read:{source:["stackBy","jsonStyle"],reader:(e,t)=>U3.fromJSON({...t.stackBy,responseType:t.jsonStyle})}}})],Ma.prototype,"stackBy",void 0),c([re(Yze)],Ma.prototype,"transformation",void 0),Ma=c([S("esri.rest.support.BinParametersBase")],Ma);const ow=Ma;function jq(e,t,r){Ot(r,e instanceof Date?e.getTime():e,t)}let Xl=class extends Bee(ow){constructor(t){super(t),this.numBins=null,this.end=null,this.start=null,this.type="auto-interval"}};c([u({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],Xl.prototype,"numBins",void 0),c([u({json:{name:"parameters.end",write:{writer:jq}}})],Xl.prototype,"end",void 0),c([u({json:{name:"parameters.start",write:{writer:jq}}})],Xl.prototype,"start",void 0),c([re({autoIntervalBin:"auto-interval"},{readOnly:!0})],Xl.prototype,"type",void 0),Xl=c([S("esri.rest.support.AutoIntervalBinParameters")],Xl);const pne=Xl;Xl.from=yt(Xl);const Qze=ar()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"});let Tp=class extends _e.ClonableMixin(N){constructor(t){super(t),this.value=null,this.unit=null}};c([u({type:Number,json:{name:"number",write:!0}})],Tp.prototype,"value",void 0),c([re(Qze)],Tp.prototype,"unit",void 0),Tp=c([S("esri.rest.support.DateBinTimeInterval")],Tp);const qq=Tp;Tp.from=yt(Tp);function Bq(e,t,r){Ot(r,typeof e=="string"?e:e==null?void 0:e.getTime(),t)}function Uq(e,t){const r=e.parameters[t];return r?typeof r=="string"?r:new Date(r):null}let kn=class extends ow{constructor(t){super(t),this.end=null,this.interval=null,this.offset=null,this.returnFullIntervalBin=null,this.start=null,this.snapToData=null,this.type="date"}};c([u({cast:e=>e!=null?typeof e=="string"?e:new Date(e):null,json:{name:"parameters.end",read:{reader:(e,t)=>Uq(t,"end")},write:{writer:Bq}}})],kn.prototype,"end",void 0),c([u({type:qq,json:{name:"parameters",write:!0}})],kn.prototype,"interval",void 0),c([u({type:qq,json:{name:"parameters.offset",write:!0}})],kn.prototype,"offset",void 0),c([u({type:Boolean,json:{name:"parameters.returnFullIntervalBin",write:!0}})],kn.prototype,"returnFullIntervalBin",void 0),c([u({cast:e=>e!=null?typeof e=="string"?e:new Date(e):null,json:{name:"parameters.start",read:{reader:(e,t)=>Uq(t,"start")},write:{writer:Bq}}})],kn.prototype,"start",void 0),c([u({type:String,json:{name:"parameters.snapToData",write:!0}})],kn.prototype,"snapToData",void 0),c([re({dateBin:"date"},{readOnly:!0})],kn.prototype,"type",void 0),kn=c([S("esri.rest.support.DateBinParameters")],kn);const hne=kn;kn.from=yt(kn);function Kze(e){return e[0]instanceof Date}function Xze(e,t,r){Ot(r,e&&Kze(e)?e.map(i=>i.getTime()):e,t)}let Ip=class extends ow{constructor(t){super(t),this.boundaries=[],this.type="fixed-boundaries"}};c([u({json:{name:"parameters.boundaries",write:{writer:Xze}}})],Ip.prototype,"boundaries",void 0),c([re({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],Ip.prototype,"type",void 0),Ip=c([S("esri.rest.support.FixedBoundariesBinParameters")],Ip);const mne=Ip;Ip.from=yt(Ip);function Gq(e,t,r){Ot(r,e instanceof Date?e.getTime():e,t)}let ec=class extends Bee(ow){constructor(t){super(t),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};c([u({json:{name:"parameters.end",write:{writer:Gq}}})],ec.prototype,"end",void 0),c([u({type:Number,json:{name:"parameters.interval",write:!0}})],ec.prototype,"interval",void 0),c([u({json:{name:"parameters.start",write:{writer:Gq}}})],ec.prototype,"start",void 0),c([re({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],ec.prototype,"type",void 0),ec=c([S("esri.rest.support.FixedIntervalBinParameters")],ec);const yne=ec;ec.from=yt(ec);const eje=new ye({asc:"ascending",desc:"descending"}),tje={base:ow,key:"type",typeMap:{"auto-interval":pne,date:hne,"fixed-boundaries":mne,"fixed-interval":yne}};let ir=class extends _e.ClonableMixin(N){constructor(t){super(t),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(t){this._set("outTimeZone",t),t&&!yZ(t)&&B.getLogger(this).warn("#outTimeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}};c([u({types:tje,json:{name:"bin",write:!0}})],ir.prototype,"binParameters",void 0),c([re(eje)],ir.prototype,"binOrder",void 0),c([u({type:Boolean,json:{write:!0}})],ir.prototype,"cacheHint",void 0),c([u({json:{write:!0}})],ir.prototype,"datumTransformation",void 0),c([u({type:me,json:{name:"defaultSR",write:!0}})],ir.prototype,"defaultSpatialReference",void 0),c([u({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],ir.prototype,"distance",void 0),c([u({types:fh,json:{read:Ja,write:!0}})],ir.prototype,"geometry",void 0),c([u({type:String,json:{write:!0}})],ir.prototype,"lowerBoundaryAlias",void 0),c([u({type:me,json:{name:"outSR",write:!0}})],ir.prototype,"outSpatialReference",void 0),c([u({type:[Tc],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],ir.prototype,"outStatistics",void 0),c([u({value:null,json:{name:"outTimeReference",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,t,r)=>{e&&(t[r]={ianaTimeZone:e})}}}})],ir.prototype,"outTimeZone",null),c([u({type:Boolean,json:{write:!0}})],ir.prototype,"returnDistinctValues",void 0),c([re(vQ,{name:"spatialRel"})],ir.prototype,"spatialRelationship",void 0),c([u({type:Ir,json:{write:!0}})],ir.prototype,"timeExtent",void 0),c([u({type:String,json:{write:!0}})],ir.prototype,"upperBoundaryAlias",void 0),c([u({type:String,json:{read:zC.read,write:{writer:zC.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null}}}}})],ir.prototype,"units",void 0),c([u({type:String,json:{write:!0}})],ir.prototype,"where",void 0),ir=c([S("esri.rest.support.AttributeBinsQuery")],ir);const bne=ir;ir.from=yt(ir);const rje=Object.freeze(Object.defineProperty({__proto__:null,default:bne},Symbol.toStringTag,{value:"Module"})),ije=/_value$/i,sje=Math.LOG10E,nje={SECOND:1e3,MINUTE:6e4,HOUR:36e5},n2=10;function a2(e){return e.map(t=>t.toJSON())}function Hq(e,t){var o;const r=[],i=e.layer,s="featureReduction"in i?i.featureReduction:null,n=(s==null?void 0:s.type)==="binning",a=s!=null&&"fields"in s?(o=s.fields)==null?void 0:o.map(l=>{var d;return(d=l.name)==null?void 0:d.toLowerCase()}).filter(Boolean):[];if(!n||!t)return r;for(const l of t)a.includes(l.toLowerCase())||r.push(l);return r}function g6(e,t,r){var s;const i=[];if(t)for(const n of t){const a=e.getField(n);a&&r&&"availableFields"in r&&!((s=r.availableFields)!=null&&s.includes(a.name))&&i.push(a.name)}return i}function rR(e,t){var n;const r=e&&e.features;if((r==null?void 0:r.length)===0)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const i=(n=r==null?void 0:r[0])==null?void 0:n.attributes,s={};for(const a in i)s[a.replace(ije,"").toLowerCase()]=i[a];return s.totalcount!=null&&s.totalcount>=s.count&&(s.nullcount=s.totalcount-s.count),delete s.totalcount,s.min===s.max&&s.min!=null&&s.stddev==null&&(s.stddev=s.variance=0),t&&(["min","max","avg","stddev","sum","variance"].forEach(a=>{s[a]!=null&&(s[a]=Math.ceil(s[a]))}),s.min===s.max&&s.min!=null&&(s.avg=s.min,s.stddev=s.variance=0)),s}function aje(e){const t=[],r=e.classBreaks,i=r[0].minValue,s=r[r.length-1].maxValue;r.forEach(a=>{t.push([a.minValue,a.maxValue])});const n={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:i,max:s,intervals:t,sqlExpr:Ny(n),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function Ny(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:n}=e,a=Wre(n,t);let o=t;return r==="percent-of-total"?o=`((${a?w0(t):t} / ${s}) * 100)`:r==="log"?o=`(log(${t}) * ${sje})`:r==="field"?o=`(${a?w0(t):t} / ${i})`:r==="natural-log"?o=`(log(${a?w0(t):t}))`:r==="square-root"&&(o=`(power(${a?w0(t):t}, 0.5))`),o}function gne(e,t){let r;if(t=t.toLowerCase(),e){for(const i in e)if(i.toLowerCase()!==t){r=e[i];break}}return r}function E1(e,t){let r;if(t=t.toLowerCase(),e){for(const i in e)if(i.toLowerCase()===t){r=e[i];break}}return r}function vne(e,t,r,i,s){const n={},a="countOFExpr";e&&e.features&&e.features.forEach(l=>{const d=l.attributes,f=gne(d,a),p=E1(d,a);f!=null&&p!=null&&f!==0&&(n[f]=p)});const o=[];return h8(t,r,i).forEach((l,d)=>{const f=(d+1).toString();o.push({minValue:l[0],maxValue:l[1],count:n.hasOwnProperty(f)?n[f]:0})}),{bins:o,minValue:t,maxValue:r,normalizationTotal:s}}async function iR(e,t){const r=e&&e.features,{field:i,field2:s,field3:n,fieldDelimiter:a,layer:o,view:l,signal:d,labels:f}=t,p=`countOF${(!i||!s)&&i||"Expr"}`,m={};let y=!1;for(const b of r){const g=b.attributes,v=E1(g,p);let w=i?E1(g,i):gne(g,p),_=s?E1(g,s):null,x=n?E1(g,n):null;w===null&&v===0&&(y=!0),(w==null||typeof w=="string"&&w.trim()==="")&&(w=null),s&&(_==null||typeof _=="string"&&_.trim()==="")&&(_=null),n&&(x==null||typeof x=="string"&&x.trim()==="")&&(x=null);let T=w;s&&(T=`${Da(T)}${a}${Da(_)}`,n&&(T=`${T}${a}${Da(x)}`)),m[T]==null?m[T]={count:v,data:T}:m[T].count=m[T].count+v}if(i&&y){const b=i+" is NULL";try{const g=await o.queryFeatureCount({whereClause:b,view:l,signal:d});return m.null.count=m.null.count+g,US(m,f)}catch{return Ce(d),US(m,f)}}return US(m,f)}function US(e,t){if(t)for(const r in e)e[r].label=t[r];return{count:e}}async function GS(e,t,r){const i=e?r.getField(e):null,s=i?r.getFieldDomain(i.name):null;if(s)return s;const{uniqueValueInfos:n}=await r.uniqueValues({field:e,sqlWhere:t.sqlWhere,features:t.features,useFeaturesInView:t.useFeaturesInView,view:t.view,signal:t.signal}),a=n.map(o=>new tu({code:o.value}));return new j2({codedValues:a})}async function g8(e,t){if(!e.returnAllCodedValues)return[];const{field:r,field2:i,field3:s}=e;if(r&&!i){const a=r?t.getField(r):null,o=a?t.getFieldDomain(a.name):null;return o?[o]:[]}const n=[];return r&&(n.push(GS(r,e,t)),i&&(n.push(GS(i,e,t)),s&&n.push(GS(s,e,t)))),Promise.all(n)}function oje(e,t){return BLe(e,new Date(0),t,"milliseconds").sqlExpression}function lje(e,t){return`EXTRACT(${t} FROM ${e}) * ${nje[t]}`}function cje(e){return e?w0(["HOUR","MINUTE","SECOND"].map(t=>`(${lje(e,t)})`).join(" + ")):null}function zn(e){var t;return{viewingMode:e.type==="2d"?"map":e.viewingMode,scale:e.scale,spatialReference:(t=e.spatialReference)==null?void 0:t.toJSON()}}function sR(e,t){const r=new Set(e.map(s=>s.value)),i=t.filter(s=>!r.has(s));for(const s of i)e.push({value:s,count:0});e.sort((s,n)=>t.indexOf(s.value)-t.indexOf(n.value));for(const s of e)s.value===ine&&(s.value=null);return{predominantCategoryInfos:e}}function Wq(e){const t="featureReduction"in e?e.featureReduction:null;return((t!=null&&"fields"in t?t.fields:null)??[]).map(r=>{const i=dje(r,e.fieldsIndex);return i?new q2({type:i,name:r.name,alias:r.alias}):null}).filter(It)}function dje(e,t){var r,i;switch(e.statisticType){case"avg":case"avg_angle":return"double";case"count":return"integer";case"min":case"max":case"sum":return e.onStatisticField?((r=t.get(e.onStatisticField))==null?void 0:r.type)??null:e.onStatisticExpression?e.onStatisticExpression.returnType==="string"?null:"double":null;case"mode":return e.onStatisticField?((i=t.get(e.onStatisticField))==null?void 0:i.type)??null:e.onStatisticExpression?e.onStatisticExpression.returnType==="string"?"string":"double":null;default:return null}}function wne(e,t){return es(t)?oje(e,t==null?void 0:t.name):Ci(t)?cje(t==null?void 0:t.name):null}function nR(e,t,r){const{field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,minValue:o,maxValue:l,filter:d}=t,f=e.supportsSQLExpression?wne(e,r)||t.sqlExpression:null,p=Ny({field:i,normalizationType:s,normalizationField:n,normalizationTotal:a,layer:e}),m=f||p,y=m?b6(m,o,l):null,b=m8({field:i,normalizationField:n,normalizationType:s}),g=ai(t.sqlWhere,b),v=ai(g,y),w=QL({normalizationField:n,normalizationType:s,sqlExpression:f,supportsSQLExpression:e.supportsSQLExpression,minValue:o,maxValue:l}),_=PA(e.getField(i??void 0)),{include:x,exclude:T}=t.outStatisticTypes||{},k=Kse.filter(M=>(!x||x.includes(M))&&(!T||!T.includes(M))&&(M==="nullcount"?w:!_||M==="count")),A=e.createQuery();return A.where=ai(A.where,v),A.sqlFormat=f?"standard":null,A.outStatistics=k.map(M=>{const R=new Tc;let P=null,z=null,j=`${M}_value`;if(M==="variance")P="var",z=m;else if(M==="nullcount"){const H=e.objectIdField;P="count",z=H&&e.getField(H)?H:"1",j="totalcount_value"}else M==="median"?(P="percentile-continuous",z=m,R.statisticParameters={value:.5}):(P=M,z=m);return R.statisticType=P,R.onStatisticField=z,R.outStatisticFieldName=j,R}),jn(A,d),A}function jn(e,t){t&&(e.geometry=t.geometry,e.spatialRelationship=t.spatialRelationship)}function _ne(e,t){const{field:r,field2:i,field3:s,sqlExpression:n}=t,a=!(!r||!i),o=e.createQuery();return o.where=ai(o.where,t.sqlWhere),o.sqlFormat=n?"standard":null,o.outStatistics=[uje(a?null:r,a?"1":n)].filter(Boolean),o.groupByFieldsForStatistics=[r||n,i,s].filter(Boolean),jn(o,t.filter),o}function uje(e,t){const r="countOF"+(e||"Expr"),i=new Tc;return i.statisticType="count",i.onStatisticField=t?"1":e,i.outStatisticFieldName=r,i}function M5(e,t,r,i=n2,s,n,a){const{min:o,max:l,normTotal:d,excludeZerosExpr:f}=t,p=t.intervals||h8(o,l,i),m=t.sqlExpr||r;return fje(e,p,m,f,s,n,a).then(y=>({bins:y.map((b,g)=>({minValue:p[g][0],maxValue:p[g][1],count:b.status==="fulfilled"?b.value:0})),minValue:o,maxValue:l,normalizationTotal:d}))}function fje(e,t,r,i,s,n,a){const o=[],l=t.length;for(let d=0;d<l;d++){const f=ai(i,ai(r+" >= "+t[d][0],t[d][1]!==null?r+(d===l-1?" <= ":" < ")+t[d][1]:""));o.push(f)}return Promise.allSettled(o.map(d=>e.queryFeatureCount({whereClause:d,view:s,filter:n,signal:a})))}const Sne="countOFExpr",pje="lowerBoundary",hje="upperBoundary";function $ne(e,t,r){const i=e.valueExpression||e.sqlExpression,s=e.signal;if(!i){const{field:n,normalizationType:a,normalizationField:o}=e,l=n?t.getField(n):null,d=es(l)||Ci(l);return{sqlExpression:d?wne(t,l):Ny({field:n,normalizationType:a,normalizationField:o,normalizationTotal:r,layer:t}),sqlWhere:d?null:e.sqlWhere||m8({field:n,normalizationType:a,normalizationField:o}),filter:e.filter,signal:s}}return{valueExpression:e.valueExpression,sqlExpression:e.sqlExpression,sqlWhere:e.sqlWhere,filter:e.filter,signal:s}}async function jC(e,t,r){const{field:i,normalizationType:s,normalizationField:n,signal:a}=e,o=m8({field:i,normalizationType:s,normalizationField:n}),l=new VC({classificationDefinition:KL({field:i,normalizationType:s,normalizationField:n,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,definedInterval:e.definedInterval,breakCount:e.numBins||n2}),where:ai(o,r)});return t.generateRenderer(l,a).then(d=>{const{normalizationTotal:f,classBreaks:p}=d;return aje({field:i,normalizationType:s,normalizationField:n,normalizationTotal:f,classBreaks:p,where:o,layer:t})})}async function mje(e,t,r,i,s){const{field:n,sqlExpression:a,normalizationField:o,classificationMethod:l,normalizationType:d}=e,f=n?t.getField(n):null,p=Ci(f),m=_Y(f)||p,y=e.numBins||n2;if(m){if(d||l)throw new I(`${t.adapterName}:not-supported`,"NormalizationType and classificationMethod are not supported for date-only and time-only fields");const b=(i-r)/y/1e3,g=b/86400;return new hne({field:n,expression:a,interval:{unit:p?"seconds":"days",value:Math.ceil(p?b:g)},start:r,end:i})}if(l==="defined-interval")return new yne({field:n,expression:a,normalizationField:o,normalizationTotal:s,normalizationType:d,interval:e.definedInterval??Math.ceil((i-r)/y),start:d?null:r,end:d?null:i,normalizationMinValue:d?r:null,normalizationMaxValue:d?i:null});if(l==="manual")throw new I(`${t.adapterName}:not-supported`,"Layer does not support manual classificationMethod");if(l==="natural-breaks"||l==="quantile"||l==="standard-deviation"){const b=Ny({field:n,normalizationField:o,normalizationTotal:s,normalizationType:d,layer:t}),g=e.minValue!==null&&e.maxValue!==null?b6(b,e.minValue,e.maxValue):void 0,v=await jC(e,t,g);if(!v.intervals)throw new I(`${t.adapterName}:invalid`,"Invalid intervals returned from generate renderer");const w=[r,...v.intervals.map(_=>_[1])];return new mne({field:d?null:n,expression:d?b:a,boundaries:w})}return new pne({field:n,normalizationField:o,normalizationTotal:s,normalizationType:d,expression:a,numBins:y,start:d?null:r,end:d?null:i,normalizationMinValue:d?r:null,normalizationMaxValue:d?i:null})}function xne(e,t,r,i){return r!=null&&i!=null?Promise.resolve({min:r,max:i}):t.summaryStatistics({...e,outStatisticTypes:{include:["min","max"]}}).then(s=>({min:s.min,max:s.max}))}async function Ene(e,t,r,i){const{field:s,minValue:n,maxValue:a,filter:o,view:l}=e,d=s?t.getField(s):null,f=h4(d)||SY(d),p=$ne(e,t,r),{min:m,max:y}=await xne(p,t,n,a);if(m==null||y==null)return{query:null,min:m,max:y};const b=new Tc({statisticType:"count",outStatisticFieldName:Sne,onStatisticField:"1"}),g=ai(i,p.sqlWhere),v="lowerBoundary",w="upperBoundary",_=new bne({binParameters:await mje(e,t,m,y,r),outStatistics:[b],binOrder:e.sortOrder,where:g,lowerBoundaryAlias:v,upperBoundaryAlias:w,outTimeZone:l!=null&&l.timeZone&&f?X6(l.timeZone):null});return jn(_,o),{query:_,min:m,max:y}}function Zq(e,t=!1){return typeof e!="string"?e:(t?new Date(`1970-01-01T${e}Z`):new Date(e)).getTime()}function Tne(e,t,r){const i=Ci(t);return{...r,bins:e.features.map(s=>({minValue:Zq(s.attributes[pje],i),maxValue:Zq(s.attributes[hje],i),count:s.attributes[Sne]}))}}function Jq(e,t,r){const{valueExpression:i,view:s}=e,{featuresJSON:n,graphics:a,fieldInfos:o}=t,l={field:e.field,valueExpression:i,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:r,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return i&&s&&(n||a)&&(l.viewInfoParams=zn(s),l.timeZone=s.timeZone,l.fieldInfos=o),l}const yje=5;let G3=null,T1=class extends tR{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName="in-memory-layer-adapter"}destroy(){var e;(e=this.workerClient)==null||e.destroy()}async _waitForLayerViewUpdate(e){if(!e)throw new I(`${this.adapterName}:insufficient-data", "layerView is required to fetch the features`);const t=new AbortController,r=Wa(()=>!e.updating,t.signal);await iG(r,5e3,t).catch(i=>{throw B.getLogger(this).warn("LayerView is taking too long to update. Aborting fetch from layerView."),i})}async _fetchFeatureSetFromMemory(e,t,r){const i=this.layer;if(this._hasLocalSource&&"queryFeatures"in i)return i.queryFeatures(e);if(!t)throw new I(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=await t.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(e,{signal:r})}async _fetchFeaturesFromMemory(e,t,r,i){const s=this.layer,n=i==="json";if(this._hasLocalSource&&"queryFeatures"in s){const o=await s.queryFeatures(t);return n?a2(o.features):o.features}if(await this._waitForLayerViewUpdate(e),n&&"queryFeaturesJSON"in e&&e.queryFeaturesJSON){const{features:o}=await e.queryFeaturesJSON(t,{signal:r});return o}if(!("queryFeatures"in e))throw new I(`${this.adapterName}:not-supported`,"'queryFeatures' is not supported on the layerView");const a=await e.queryFeatures(t,{signal:r});return n?a2(a.features):a.features}_fetchFeaturesForStats(e,t){return yc({field:e.field,field2:e.field2,field3:e.field3,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then(r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,filter:e.filter,requiredFields:r,signal:e.signal},t))}async _summaryStatsFromClientQuery(e,t){const{view:r,signal:i}=e,s=nR(this,e,t),n=await this._fetchFeatureSetFromMemory(s,r,i),a=rR(n,es(t)||Ci(t));return r2(a,e.outStatisticTypes)}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:s,layerView:n,query:a}=t,o={include:["sum"]},l=(!i&&!s&&n&&"querySummaryStatistics"in n?await n.querySummaryStatistics(a,{field:e},{signal:r}):i?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:o},i):await uh({attribute:{field:e,outStatisticTypes:o},features:s??[]})).sum;if(l==null)throw new I(`${this.adapterName}:invalid`,"invalid normalizationTotal");return l}async _summaryStatsFromMemory(e,t){const{view:r,field:i,valueExpression:s,normalizationType:n,signal:a}=e,o={field:i,valueExpression:s,normalizationType:n,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:l,graphics:d,layerView:f,query:p,fieldInfos:m}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"querySummaryStatistics"});return s&&r&&(l||d)&&(o.fieldType=t!=null&&t.type?nb.toJSON(t.type):null,o.viewInfoParams=zn(r),o.timeZone=r.timeZone,o.fieldInfos=m),n==="percent-of-total"&&e.normalizationTotal==null&&(o.normalizationTotal=await this._getNormalizationTotalFromMemory(i,{featuresJSON:l,graphics:d,layerView:f,query:p},a)),!l&&!d&&f&&"querySummaryStatistics"in f?f.querySummaryStatistics(p,o,{signal:a}):l?this.workerClient.summaryStatistics(o,l):uh({attribute:o,features:d})}async _getFilteredFeatures(e,t){let r=[];if((t==null?void 0:t.spatialRelationship)==="intersects"){const{intersect:i}=await C(()=>import("./geometryEngineAsync-DVbWgr0R.js"),[]),s=t.geometry!=null?t.geometry:null;for(const n of e){const a=n.geometry!=null?n.geometry:null;a&&s&&await i(a,s)&&r.push(n)}}else r=e;return e.length&&"declaredClass"in e[0]&&e[0].declaredClass==="esri.Graphic"?{graphics:r}:{featuresJSON:r}}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t!=null&&t.length)return this._getFilteredFeatures(t,r);const{view:i,field:s,field2:n,field3:a,normalizationField:o,valueExpression:l,layerViewFunc:d,signal:f}=e;let p=e.returnGeometry;if(p==null&&l){if(!G3){const{arcadeUtils:_}=await ln();G3=_}const w=G3.hasGeometryOperations(l);w&&await G3.enableGeometryOperations(),p=w}let m=null,y=null,b=null,g=null,v=null;if(i)try{const w=this.layer.type==="subtype-sublayer"?this.layer.parent:this.layer;m=await i.whenLayerView(w),y=d!=null&&d in m&&typeof m[d]=="function"}catch{y=!1}if(y)try{await this._waitForLayerViewUpdate(m);const w=await yc({field:s,field2:n,field3:a,normalizationField:o,valueExpression:l});g6(this,w,m).length?y=!1:(b=this.layer.createQuery(),b.outFields=w,b.returnGeometry=!1,jn(b,r)),m.suspended&&(y=!1)}catch{y=!1}return y||(g=await this._fetchFeaturesForStats({field:s,field2:n,field3:a,valueExpression:l,normalizationField:o,returnGeometry:p,filter:r,view:i,signal:f},"json"),v=(await yc({valueExpression:l})).map(w=>{var _;return(_=this.getField(w))==null?void 0:_.toJSON()}).filter(Boolean)),{layerView:m,query:b,featuresJSON:g,fieldInfos:v}}async _uvFromClientQuery(e,t){const{view:r,signal:i}=e,s=_ne(this,e),n=await this._fetchFeatureSetFromMemory(s,r,i),a=await iR(n,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:qp,view:e.view,signal:e.signal});return i2(a,t,e.returnAllCodedValues,qp)}async _uvFromMemory(e,t){const{view:r,field:i,valueExpression:s,returnAllCodedValues:n,signal:a}=e,{featuresJSON:o,graphics:l,layerView:d,query:f,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryUniqueValues"}),m={field:i,field2:e.field2,field3:e.field3,fieldDelimiter:qp,valueExpression:s,domains:t,returnAllCodedValues:n};return s&&r&&(o||l)&&(m.viewInfoParams=zn(r),m.timeZone=r.timeZone,m.fieldInfos=p),!o&&!l&&d&&"queryUniqueValues"in d?d.queryUniqueValues(f,m,{signal:a}):o?this.workerClient.uniqueValues(m,o):y8({attribute:m,features:l})}_histogramForField(e){let t=null;return t=e.minValue!=null&&e.maxValue!=null?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics({...e,outStatisticTypes:{include:["min","max","count"]}}).then(r=>{if(!r.count)throw new I(`${this.adapterName}:insufficient-data`,"Either the layer has no features or none of the features have data for the field");return{min:r.min,max:r.max}}),t.then(r=>M5(this,{min:r.min,max:r.max},e.field,e.numBins??void 0,e.view,e.filter,e.signal))}async _histogramFromQueryAttributeBinsFromMemory(e){const{field:t,normalizationType:r,signal:i}=e,s=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAttributeBins"}),{featuresJSON:n,graphics:a,layerView:o,query:l}=s,d=r==="percent-of-total"?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,s,i):void 0;if(!o||!("queryAttributeBins"in o)||n||a){const b=Jq(e,s,d);return n?this.workerClient.histogram(b,n):s2({attribute:b,features:a})}const{query:f,min:p,max:m}=await Ene(e,this,d,l==null?void 0:l.where);if(!f)return{bins:[],minValue:p,maxValue:m,normalizationTotal:d};const y=await o.queryAttributeBins(f,{signal:i});return Tne(y,t?this.getField(t):null,{minValue:p,maxValue:m,normalizationTotal:d})}async _histogramFromMemory(e){const{field:t,signal:r}=e,i=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryHistogram"}),{featuresJSON:s,graphics:n,layerView:a,query:o}=i,l=e.normalizationType==="percent-of-total"?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,i,r):void 0,d=Jq(e,i,l);return!s&&!n&&a&&"queryHistogram"in a?a.queryHistogram(o,d,{signal:r}):s?this.workerClient.histogram(d,s):s2({attribute:d,features:n})}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,i=e.numClasses||yje,s=[],n=(r-t)/i;for(let l=0;l<i;l++){const d=t+l*n;s.push({minValue:d,maxValue:d+n})}s[i-1].maxValue=r;const a={classBreaks:s,normalizationTotal:e.normalizationTotal},o=XL(a,e.classificationMethod);return Promise.resolve(o)}async _classBreaksFromMemory(e){const{view:t,field:r,valueExpression:i,signal:s}=e,{featuresJSON:n,graphics:a,layerView:o,query:l,fieldInfos:d}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryClassBreaks"}),f={field:r,valueExpression:i,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return i&&t&&(n||a)&&(f.viewInfoParams=zn(t),f.timeZone=t.timeZone,f.fieldInfos=d),e.normalizationType==="percent-of-total"&&e.normalizationTotal==null&&(f.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:n,graphics:a,layerView:o,query:l},s)),!n&&!a&&o&&"queryClassBreaks"in o?o.queryClassBreaks(l,f,{signal:s}):n?this.workerClient.classBreaks(f,n):b8({attribute:f,features:a})}async _heatmapStatsFromMemory(e){var d,f;const{view:t,field:r,radius:i,signal:s}=e;qy(t,"InMemoryLayerAdapter: must have a view");try{const p=await t.whenLayerView(this.layer);if("queryHeatmapStatistics"in p&&!p.updating&&!e.filter)return await p.queryHeatmapStatistics({field:e.field,radius:e.radius})}catch{Ce(s)}const{featuresJSON:n,graphics:a}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0}),o=new YA({extent:t.extent,tolerance:t.type==="2d"?t.state.resolution:(d=t.pixelSizeAt)==null?void 0:d.call(t,t.center)}),l={field:r,radius:i,transform:bVe(o),spatialReference:(f=t.spatialReference)==null?void 0:f.toJSON(),size:t.size};return n!=null&&n.length||a!=null&&a.length?n?this.workerClient.heatmapStatistics(l,n):sne({attribute:l,features:a}):{min:null,max:null}}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}createQuery(){return this.layer.createQuery()}async summaryStatistics(e){const{field:t,valueExpression:r,sqlExpression:i,features:s,view:n}=e,a=t?this.getField(t):null,o=!!r,l=(n==null?void 0:n.type)==="3d";if(!r&&i&&!this.supportsSQLExpression)throw new I(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return o||s||l?this._summaryStatsFromMemory(e,a):this._summaryStatsFromClientQuery(e,a)}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,view:s}=e,n=await g8(e,this),a=!!t,o=(s==null?void 0:s.type)==="3d";if(!t&&r&&!this.supportsSQLExpression)throw new I(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return a||i||o?this._uvFromMemory(e,n):this._uvFromClientQuery(e,n)}async histogram(e){const{features:t,valueExpression:r,normalizationType:i,sqlExpression:s}=e,n=t||!!r;if(!r&&s&&!this.supportsSQLExpression)throw new I(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return n||i?this._histogramFromMemory(e):this._histogramForField(e)}async classBreaks(e){return e.analyzeData!==!1?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:r,signal:i}=e;if(!r)throw new I(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=this.layer.createQuery();s.where=ai(s.where,t);const n=await r.whenLayerView(this.layer);return await Wa(()=>!n.updating,i),n.queryFeatureCount(s,{signal:i})}async generateRenderer(e,t){throw new I(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation")}async predominantCategories(e){const{fields:t,view:r,signal:i,filter:s}=e,n=eR(t),a=await this._uvFromMemory({valueExpression:n,view:r,signal:i,filter:s});return sR(a.uniqueValueInfos,t)}async heatmapStatistics(e){return this._heatmapStatsFromMemory(e)}async getSampleFeatures(e,t){const{view:r,sampleSize:i,requiredFields:s,returnGeometry:n,filter:a,signal:o}=e,l=this.layer.createQuery(),d=1;if(l.outSpatialReference=r==null?void 0:r.spatialReference,l.returnGeometry=!!n,l.outFields=s,jn(l,a),!r)throw new I(`${this.adapterName}:not-supported`,"view is required to get sample features for Layer");const f=await r.whenLayerView(this.layer);if(g6(this,s,f).length)throw new I(`${this.adapterName}:not-supported`,"Required fields need to be passed in the outFields for Layer");const p=await this._fetchFeaturesFromMemory(f,l,o,t),m=i!=null&&i>0&&i<=p.length?i:p.length;return oy(p,m,d)}load(e){const t=this.layer.load(e).then(async r=>{var i,s,n;this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=r.type==="stream"||!!((s=(i=r.capabilities)==null?void 0:i.query)!=null&&s.supportsSqlExpression),this.minScale=r.minScale,this.maxScale=r.maxScale,this.fullExtent="fullExtent"in r?r.fullExtent:(n=r.parent)==null?void 0:n.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=aw.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(t),Promise.resolve(this)}};c([u({readOnly:!0})],T1.prototype,"adapterName",void 0),c([u({constructOnly:!0})],T1.prototype,"layer",void 0),T1=c([S("esri.smartMapping.support.adapters.InMemoryLayerAdapter")],T1);const aR=T1,Yq=5,Qq=2e4,bje=4e5;let I1=class extends aR{constructor(){super(...arguments),this.adapterName="feature-layer-adapter"}_isStatsSupportedOnService(){var t,r;const e=this.layer;if(!((r=(t=e.capabilities)==null?void 0:t.query)!=null&&r.supportsStatistics)||this.geometryType==="multipatch"&&!gv(e.url)&&e.version<10.5)throw new I(`${this.adapterName}:not-supported`,"Layer does not support statistics query");return Promise.resolve()}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then(r=>r.features)}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(a2)}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:Yq,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:t,normalizationField:t==="field"?r:void 0,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,signal:e.signal}).then(i=>{var l;let s,n,a;if((l=i.classBreakInfos)==null||l.some(d=>(d.hasAvg&&(s=d),!!s)),s){const d=s.maxValue-s.minValue;n=s.minValue+d/2,a=4*d}const o={min:i.minValue,max:i.maxValue,avg:n,stddev:a};return r2(o,e.outStatisticTypes)})}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),e.normalizationType==="percent-of-total"&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType,e.filter));const r=es(t)||Ci(t),i=nR(this,e,t),s=await this.layer.queryFeatures(i,{signal:e.signal}),n=rR(s,r);return r2(n,e.outStatisticTypes)}_uvFromGenRenderer(e,t){const r=e.field??void 0,i=new xze({attributeField:r}),s=new VC({classificationDefinition:i});return this.generateRenderer(s,e.signal).then(n=>{const a={},o=this.getField(r);return n.uniqueValues.forEach(l=>{let d=l.value;d!=null&&d!==""&&(typeof d!="string"||d.trim()!==""&&d.toLowerCase()!=="<null>")||(d=null),a[d]==null?a[d]={count:l.count,data:R2(o)&&d?Number(d):d}:a[d].count=a[d].count+l.count}),{count:a}}).then(n=>i2(n,[t],e.returnAllCodedValues))}async _uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(_ne(this,e),{signal:e.signal})).then(r=>iR(r,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:qp,view:e.view,signal:e.signal})).then(r=>i2(r,t,e.returnAllCodedValues,qp))}_getNormalizationTotal(e,t,r,i){return e&&t==="percent-of-total"?this.summaryStatistics({field:e,outStatisticTypes:{include:["sum"]},filter:r,signal:i}).then(s=>s.sum):Promise.resolve(null)}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.filter,e.signal).then(t=>{const r=$ne(e,this,t);return xne(r,this,e.minValue,e.maxValue).then(i=>{const s=i.min,n=i.max;if(s==null||n==null)return{bins:[],minValue:s,maxValue:n,normalizationTotal:t};const a=e.numBins||n2,o=h8(s,n,a),l=gje(r.sqlExpression,o,e.minValue!=null&&e.maxValue!=null),d=new Tc({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),f=this.layer.createQuery();return f.where=ai(f.where,r.sqlWhere),f.sqlFormat="standard",f.outStatistics=[d],f.groupByFieldsForStatistics=[l],f.orderByFields=[l],jn(f,e.filter),this._isStatsSupportedOnService().then(()=>this.layer.queryFeatures(f,{signal:r.signal})).then(p=>vne(p,s,n,a,t))})})}async _histogramFromQueryAttributeBins(e){const{field:t,normalizationType:r,filter:i,signal:s}=e,n=await this._getNormalizationTotal(t,r,i,s),a=this.layer.createQuery(),{query:o,min:l,max:d}=await Ene(e,this,n,a==null?void 0:a.where);if(!o)return{bins:[],minValue:l,maxValue:d,normalizationTotal:n};const f=await this.layer.queryAttributeBins(o,{signal:s});return Tne(f,t?this.getField(t):null,{minValue:l,maxValue:d,normalizationTotal:n})}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,signal:n}=e,a=m8({field:t,normalizationType:r,normalizationField:i}),o=Ny({field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:this}),l=b6(o,e.minValue,e.maxValue),d=KL({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||Yq}),f=new VC({classificationDefinition:d});return f.where=ai(a,l),this.generateRenderer(f,n).then(p=>XL(p,e.classificationMethod))}async summaryStatistics(e){const{field:t,normalizationType:r,valueExpression:i,sqlExpression:s,view:n,features:a,useFeaturesInView:o}=e,l=t?this.getField(t):null,d=es(l)||Ci(l),f=i&&!(s&&this.supportsSQLExpression),p=this._hasLocalSource||a||o,m=n&&n.type==="3d";if(p||f)return f||a||o||m?this._summaryStatsFromMemory(e,l):this._summaryStatsFromClientQuery(e,l);if(!this.supportsSQLExpression&&(d||s||r==="natural-log"||r==="square-root"))throw new I(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return(r&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,l)).catch(()=>(Ce(e.signal),this._summaryStatsFromMemory(e,l)))}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,useFeaturesInView:s,signal:n}=e,a=t&&!(r&&this.supportsSQLExpression),o=this._hasLocalSource||i||s||a,l=e.view,d=l&&l.type==="3d",f=await g8(e,this);return o?a||i||s||d?this._uvFromMemory(e,f):this._uvFromClientQuery(e,f):this._uvFromServiceQuery(e,f).catch(p=>(Ce(n),!e.field||e.field2||e.field3||e.filter?p:this._uvFromGenRenderer(e,f[0]))).catch(()=>(Ce(n),d?this._uvFromMemory(e,f):this._uvFromClientQuery(e,f)))}async histogram(e){var x,T;const{field:t,normalizationType:r,normalizationField:i,classificationMethod:s,view:n,filter:a,signal:o}=e,l=t?this.getField(t):null,d=es(l)||Ci(l),f=e.valueExpression||e.sqlExpression,p=e.valueExpression&&!(e.sqlExpression&&this.supportsSQLExpression),m=this._hasLocalSource||e.features||e.useFeaturesInView||p,y=this.supportsSQLExpression,b=!s||s==="equal-interval",g=e.minValue,v=e.maxValue,w=g!=null&&v!=null,_=e.numBins||n2;if(m)return this._histogramFromMemory(e);if((T=(x=this.layer.capabilities)==null?void 0:x.operations)!=null&&T.supportsQueryBins&&e.useQueryAttributeBins)try{return await this._histogramFromQueryAttributeBins(e)}catch{return Ce(o),this._histogramFromQueryAttributeBinsFromMemory(e)}if((f||y)&&b){if(!y&&(f||r==="natural-log"||r==="square-root"))throw new I(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return this._histogramForExpr(e)}if(d&&b)throw new I(`${this.adapterName}:not-supported`,"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries");return r||!b?jC(e,this).then(k=>{if(!w)return M5(this,k,t,_,n,a,o);if(g>k.max||v<k.min)throw new I(`${this.adapterName}:insufficient-data`,"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(b)return M5(this,{min:g,max:v,sqlExpr:k.sqlExpr,excludeZerosExpr:k.excludeZerosExpr},t,_,n,a,o);{const A={field:t,normalizationType:r,normalizationField:i,normalizationTotal:k.normTotal,layer:this},M=Ny(A),R=b6(M,g,v);return jC(e,this,R).then(P=>M5(this,P,t,_,n,a,o))}}):this._histogramForField(e)}async classBreaks(e){const t=e.analyzeData!==!1,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression||e.filter;return t&&r?this._classBreaksFromMemory(e):(t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch(()=>(Ce(e.signal),this._classBreaksFromMemory(e)))}async queryFeatureCount(e){if(this._hasLocalSource)throw new I(`${this.adapterName}:not-supported`,"Layer does not support count query");const t=this.layer,r=t.createQuery();return r.where=ai(r.where,e.whereClause),jn(r,e.filter),t.queryFeatureCount(r,{signal:e.signal})}async generateRenderer(e,t){var s;const r=this.layer;if(this._hasLocalSource||r.version<10.1)throw new I(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)");const i=r.createQuery();return e.where=ai(e.where,i.where),Sze(((s=r.parsedUrl)==null?void 0:s.path)??"",{source:r.dynamicDataSource??void 0,gdbVersion:r.gdbVersion??void 0},e,{signal:t})}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new I(`${this.adapterName}:not-supported`,"Layer does not support advanced SQL expressions and standardized queries");const{fields:t,view:r,signal:i,filter:s}=e,n=eR(t),a=Eze(t),o=r&&this._hasLocalSource?await this._uvFromMemory({valueExpression:n,view:r,signal:i,filter:s}):await this._uvFromServiceQuery({sqlExpression:a.expression,valueExpression:n,signal:i,filter:s});return sR(o.uniqueValueInfos,t)}async getSampleFeatures(e,t){var y,b;const{view:r,requiredFields:i,returnGeometry:s,filter:n,signal:a}=e,o=e.sampleSize;if(o==null||o===0)return[];const l=this.layer.createQuery(),d=1,f=t==="json";l.outSpatialReference=r==null?void 0:r.spatialReference,l.returnGeometry=!!s,l.outFields=i,jn(l,n);let p=[],m=!1;if(r)try{const g=await r.whenLayerView(this.layer);if(m=!g6(this,i,g).length,m){if(o>=1&&!e.filter&&"getSampleFeatures"in g){await this._waitForLayerViewUpdate(g);const v=await g.getSampleFeatures({minFeatureCount:o,sampleSize:o});if(v!=null)return f?v:v.map(w=>pr.fromJSON(w))}if(p=await this._fetchFeaturesFromMemory(g,l,a,t),p.length>=o&&o>0)return oy(p,o,d)}}catch{Ce(a)}try{if(this._hasLocalSource)return m?p:f?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a);const g=await this.queryFeatureCount({view:r,filter:n,signal:a}),v=this.layer.capabilities.query.maxRecordCount;let w=o===-1?g:o;if(w=v&&w>v?v:w,g<=p.length||p.length>=v)return p;if(l.maxAllowableOffset=e.resolution||(r?r.extent.width/r.width/r.scale:ak(this.layer.spatialReference))*bje,g<=w)return f?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a);if(g<=Qq){const _=this.layer.createQuery();jn(_,n);const x=await this.layer.queryObjectIds();return l.objectIds=oy(x,w,d),f?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a)}return(b=(y=this.layer.capabilities)==null?void 0:y.query)!=null&&b.supportsPagination&&(l.num=Math.min(w,Qq)),f?await this._fetchFeaturesJSONFromService(l,a):await this._fetchFeaturesFromService(l,a)}catch{return Ce(a),p}}load(e){const t=this.layer.load(e).then(async r=>{var i,s;this.geometryType=r.geometryType,this.objectIdField=r.objectIdField,this.supportsSQLExpression=(s=(i=r.capabilities)==null?void 0:i.query)==null?void 0:s.supportsSqlExpression,this._hasLocalSource=!r.url&&!!r.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=r.minScale,this.maxScale=r.maxScale,this.fullExtent=r.fullExtent,this.workerClient=aw.getInstance(),await this.workerClient.open(e.signal)});return this.addResolvingPromise(t),Promise.resolve(this)}};function gje(e,t,r){const i=[],s=t.length;return t.forEach((n,a)=>{const[o,l]=n;let d=null;d=a!==0||r?a!==s-1||r?ai(`${e} >= ${o}`,`${e} ${a===s-1?" <= ":" < "} ${l}`):`${e} >= ${o}`:`${e} < ${l}`,i.push("WHEN ("+d+") THEN "+(a+1))}),["CASE",i.join(" "),"ELSE 0","END"].join(" ")}c([u({readOnly:!0})],I1.prototype,"adapterName",void 0),c([u({constructOnly:!0})],I1.prototype,"layer",void 0),I1=c([S("esri.smartMapping.support.adapters.FeatureLayerAdapter")],I1);const Ks=I1;let A5=class extends Ks{constructor(){super(...arguments),this.adapterName="csv-layer-adapter"}async _createGenerateRendererResult(t,r,i,s,n){const a=t==null?void 0:t.features;if(!(a==null?void 0:a.length))throw new I("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const l=a2(a);let d=null;if(s==="percent-of-total"&&(d=(await this.workerClient.summaryStatistics({field:r},l)).sum,d==null))throw new I("csv-layer-adapter:invalid","invalid normalizationTotal");if((n==null?void 0:n.type)==="class-breaks-definition"){const p=(await Py({field:r,normalizationType:s,normalizationField:i,normalizationTotal:d},l)).filter(m=>Number.isFinite(m));return Yse({definition:n,values:p,normalizationTotal:d})}const f=(await Py({field:r},l)).filter(p=>p!=null&&typeof p=="string"&&p.trim()!=="");return LVe(f)}generateRenderer(t,r){const i=t.classificationDefinition;let s=null,n=null,a=null;(i==null?void 0:i.type)==="class-breaks-definition"?(s=i.classificationField,n=i.normalizationField,a=i.normalizationType):s=i==null?void 0:i.attributeField;const o=this.layer;return yc({field:s,normalizationField:n}).then(l=>{const d=o.createQuery();return d.returnGeometry=!1,d.outFields=l,d.where=ai(d.where,t.where),o.queryFeatures(d,{signal:r}).then(f=>this._createGenerateRendererResult(f,s,n,a,i))})}load(t){const r=this.layer.load(t).then(async i=>{this.geometryType=i.geometryType,this.objectIdField=i.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=aw.getInstance(),await this.workerClient.open(t.signal)});return this.addResolvingPromise(r),Promise.resolve(this)}};c([u({readOnly:!0})],A5.prototype,"adapterName",void 0),A5=c([S("esri.smartMapping.support.adapters.CSVLayerAdapter")],A5);const vje=A5;let k5=class extends Ks{constructor(){super(...arguments),this.adapterName="feature-layer-binning-adapter"}async _getNormalizationTotalFromMemory(t,r,i){const{featuresJSON:s,graphics:n,layerView:a,query:o}=r,l={include:["sum"]},d=(!s&&!n&&a&&"queryAggregateSummaryStatistics"in a?await a.queryAggregateSummaryStatistics(o,{field:t,outStatisticTypes:l},{signal:i}):s?await this.workerClient.summaryStatistics({field:t},s):await uh({attribute:{field:t,outStatisticTypes:l},features:n})).sum;if(d==null)throw new I(`${this.adapterName}:invalid`,"invalid normalizationTotal");return d}async _processStatsFromMemoryParams(t){const{features:r,filter:i}=t;if(r!=null&&r.length)return this._getFilteredFeatures(r,i);const{view:s,field:n,field2:a,field3:o,normalizationField:l,valueExpression:d,returnGeometry:f,layerViewFunc:p,signal:m}=t;let y=null,b=null,g=null,v=null,w=null;if(s)try{if(y=await s.whenLayerView(this.layer),b=p!=null&&p in y&&typeof y[p]=="function",b){await this._waitForLayerViewUpdate(y);const _=await yc({field:n,field2:a,field3:o,normalizationField:l,valueExpression:d});Hq(this,_).length?b=!1:(g="createAggregateQuery"in y?y.createAggregateQuery():null,g?(g.outFields=_,g.returnGeometry=!1,jn(g,i)):b=!1),y.suspended&&(b=!1)}}catch{b=!1}if(!b&&(w=Wq(this.layer).map(_=>_.toJSON()),v=await this._fetchFeaturesForStats({field:n,field2:a,field3:o,valueExpression:d,normalizationField:l,returnGeometry:f,filter:i,view:s,signal:m},"json"),!(v!=null&&v.length)))throw new I(`${this.adapterName}:insufficient-data`,"No features are available to calculate statistics");return{layerView:y,query:g,featuresJSON:v,fieldInfos:w}}async _summaryStatsFromMemory(t,r){const{view:i,field:s,valueExpression:n,normalizationType:a,signal:o}=t,l={field:s,valueExpression:n,normalizationType:a,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,outStatisticTypes:t.outStatisticTypes},{featuresJSON:d,graphics:f,layerView:p,query:m,fieldInfos:y}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryAggregateSummaryStatistics"});return n&&i&&(d||f)&&(l.fieldType=r!=null&&r.type?nb.toJSON(r.type):null,l.viewInfoParams=zn(i),l.timeZone=i.timeZone,l.fieldInfos=y),a==="percent-of-total"&&t.normalizationTotal==null&&(l.normalizationTotal=await this._getNormalizationTotalFromMemory(s,{featuresJSON:d,graphics:f,layerView:p,query:m},o)),!d&&!f&&p&&"queryAggregateSummaryStatistics"in p?p.queryAggregateSummaryStatistics(m,l,{signal:o}):d?this.workerClient.summaryStatistics(l,d):uh({attribute:l,features:f})}async _uvFromMemory(t,r){const{view:i,field:s,valueExpression:n,returnAllCodedValues:a,signal:o}=t,{featuresJSON:l,graphics:d,layerView:f,query:p,fieldInfos:m}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryAggregateUniqueValues"}),y={field:s,field2:t.field2,field3:t.field3,fieldDelimiter:qp,valueExpression:n,domains:r,returnAllCodedValues:a};return n&&i&&(l||d)&&(y.viewInfoParams=zn(i),y.timeZone=i.timeZone,y.fieldInfos=m),!l&&!d&&f&&"queryAggregateUniqueValues"in f?f.queryAggregateUniqueValues(p,y,{signal:o}):l?this.workerClient.uniqueValues(y,l):y8({attribute:y,features:d})}async _histogramFromMemory(t){const{view:r,field:i,valueExpression:s,signal:n}=t,{featuresJSON:a,graphics:o,layerView:l,query:d,fieldInfos:f}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryAggregateHistogram"}),p={field:i,valueExpression:s,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numBins:t.numBins};return s&&r&&(a||o)&&(p.viewInfoParams=zn(r),p.timeZone=r.timeZone,p.fieldInfos=f),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(p.normalizationTotal=await this._getNormalizationTotalFromMemory(i,{featuresJSON:a,graphics:o,layerView:l,query:d},n)),!a&&!o&&l&&"queryAggregateHistogram"in l?l.queryAggregateHistogram(d,p,{signal:n}):a?this.workerClient.histogram(p,a):s2({attribute:p,features:o})}async _classBreaksFromMemory(t){const{view:r,field:i,valueExpression:s,signal:n}=t,{featuresJSON:a,graphics:o,layerView:l,query:d,fieldInfos:f}=await this._processStatsFromMemoryParams({...t,layerViewFunc:"queryAggregateClassBreaks"}),p={field:i,valueExpression:s,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numClasses:t.numClasses};return s&&r&&(a||o)&&(p.viewInfoParams=zn(r),p.timeZone=r.timeZone,p.fieldInfos=f),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(p.normalizationTotal=await this._getNormalizationTotalFromMemory(i,{featuresJSON:a,graphics:o,layerView:l,query:d},n)),!a&&!o&&l&&"queryAggregateClassBreaks"in l?l.queryAggregateClassBreaks(d,p,{signal:n}):a?this.workerClient.classBreaks(p,a):b8({attribute:p,features:o})}getField(t=""){const r=Wq(this.layer);return r==null?void 0:r.find(i=>i.name.toLowerCase()===(t==null?void 0:t.toLowerCase()))}getFieldUsageInfo(t){return this.getField(t)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(t,r){return null}async summaryStatistics(t){const{field:r}=t,i=r?this.getField(r):null,s=es(i)||Ci(i),n=t.sqlExpression&&!t.valueExpression&&!r;if(s||n)throw new I(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._summaryStatsFromMemory(t,i)}async uniqueValues(t){const r=await g8(t,this);return this._uvFromMemory(t,r)}async histogram(t){const{field:r}=t,i=r?this.getField(r):null,s=es(i)||Ci(i),n=t.sqlExpression&&!t.valueExpression&&!r;if(s||n)throw new I(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._histogramFromMemory(t)}async classBreaks(t){return(t.analyzeData!==!1?this._classBreaksFromMemory(t):this._classBreaksFromInterpolation(t)).catch(()=>(Ce(t.signal),this._classBreaksFromMemory(t)))}async queryFeatureCount(t){var s;const r=await((s=t.view)==null?void 0:s.whenLayerView(this.layer));if(!r||!("queryAggregateCount"in r)||!r.queryAggregateCount)throw new I(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(r);const i=r.createAggregateQuery();return i.where=ai(i.where,t.whereClause),jn(i,t.filter),r.queryAggregateCount(i,{signal:t.signal})}generateRenderer(t,r){throw new I(`${this.adapterName}:not-supported`,"'generateRenderer' is not supported.")}heatmapStatistics(t){throw new I(`${this.adapterName}:not-supported`,"'heatmapStatistics' is not supported.")}async predominantCategories(t){const{fields:r,view:i,signal:s}=t,n=eR(r),a=await this._uvFromMemory({valueExpression:n,view:i,signal:s});return sR(a.uniqueValueInfos,r)}async getSampleFeatures(t,r){const{view:i,sampleSize:s,requiredFields:n,returnGeometry:a,filter:o,signal:l}=t;if(!i)throw new I(`${this.adapterName}:not-supported`,"'view' is required to get sample features for binning.");if(i.type==="3d")throw new I(`${this.adapterName}:not-supported`,"3d 'view' is not supported to get sample features for binning.");const d=await i.whenLayerView(this.layer);if(!("queryAggregateJSON"in d&&d.queryAggregateJSON&&"queryAggregates"in d&&d.queryAggregates))throw new I(`${this.adapterName}:not-supported`,"LayerView is not supported.");if(await this._waitForLayerViewUpdate(d),Hq(this,n).length)throw new I(`${this.adapterName}:insufficient-data`,"Layer does not have required fields");const f=1,p=r==="json",m=d.createAggregateQuery();m.outSpatialReference=i==null?void 0:i.spatialReference,m.returnGeometry=!!a,m.outFields=n,jn(m,o);const{features:y}=p?await d.queryAggregateJSON(m,{signal:l}):await d.queryAggregates(m,{signal:l});return y.length&&s!=null&&s>0&&s<=y.length?oy(y,s,f):y}load(t){const r=this.layer.load(t).then(async i=>{this.geometryType="polygon",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=i.minScale,this.maxScale=i.maxScale,this.fullExtent=i.fullExtent;const s="featureReduction"in i?i.featureReduction:null;if((s==null?void 0:s.type)!=="binning"&&(s==null?void 0:s.type)!=="cluster")throw new I(`${this.adapterName}:invalid-parameters`,`Feature reduction type ${s==null?void 0:s.type} is not supported`);this.workerClient=aw.getInstance(),await this.workerClient.open(t.signal)});return this.addResolvingPromise(r),Promise.resolve(this)}};c([u({readOnly:!0})],k5.prototype,"adapterName",void 0),k5=c([S("esri.smartMapping.support.adapters.FeatureLayerBinningAdapter")],k5);const wje=k5;let C1=class extends tR{constructor(t){super(t),this._featureLayerAdapter=null,this.workerClient=null,this.adapterName="scene-layer-adapter"}destroy(){var t;(t=this.workerClient)==null||t.destroy()}_hasCachedStatistics(t){return this.layer.hasCachedStatistics(t)}_updateQuery(t,r=[],i=[]){if(!t||!i.length)return t;const s=this.layer.objectIdField,n=t.clone(),a=r.filter(l=>{const d=this.layer.getField(l);return!i.includes(d.name)}),o=a.some(l=>this.layer.getField(l).name===s);return n.outFields=o?a:[...a,s],n}async _fetchFeaturesFromMemory(t,r,i){if(!t)throw new I("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const s=await t.whenLayerView(this.layer),n=new AbortController,a=n.signal,o=Wa(()=>!s.updating,a);await iG(o,5e3,n);const l=g6(this,i,s);Ce(a);const d=this._updateQuery(r,i??[],l),f=await s.queryFeatures(d,{signal:a});Ce(a);const p=f.features;return l.length?s.whenGraphicAttributes(p,l):p}async _fetchFeaturesJSONFromMemory(t,r,i){return this._fetchFeaturesFromMemory(t,r,i).then(a2)}_fetchFeaturesForStats(t,r){return yc({field:t.field,normalizationField:t.normalizationField,valueExpression:t.valueExpression}).then(i=>this.getSampleFeatures({sampleSize:-1,view:t.view,returnGeometry:t.returnGeometry,requiredFields:i,signal:t.signal},r))}async _processStatsFromMemoryParams(t){const r=t.features;if(r!=null&&r.length)return r.length&&"declaredClass"in r[0]&&r[0].declaredClass==="esri.Graphic"?{graphics:r}:{featuresJSON:r};const{view:i,field:s,normalizationField:n,valueExpression:a,signal:o}=t,l=await this._fetchFeaturesForStats({field:s,valueExpression:a,normalizationField:n,view:i,signal:o},null);if(!(l!=null&&l.length))throw new I("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return{graphics:l}}_getCachedStatistics(t,r){const i=this.layer;return t.valueExpression||t.sqlExpression||t.sqlWhere||t.minValue||t.maxValue?Promise.reject(new I("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):i.queryCachedStatistics(r==null?void 0:r.name,{signal:t.signal}).then(s=>{const n=s.stats,{min:a,max:o,totalValuesCount:l}=n;let{avg:d,stddev:f,sum:p,variance:m,count:y}=n;return a===0&&o===0||(d=d===0?null:d,p=p===0?null:p,f=f===0?null:f,m=m===0?null:m,y=y===0?null:y),y==null&&(p!=null&&d!=null?y=Math.round(p/d):l!=null&&(y=l)),{avg:d,count:y,max:o,min:a,stddev:f,sum:p,variance:m}})}async _getNormalizationTotal(t,r,i){const s={include:["sum"]},n=(r?await this.workerClient.summaryStatistics({field:t,outStatisticTypes:s},r):await uh({attribute:{field:t,outStatisticTypes:s},features:i})).sum;if(n==null)throw new I("scene-layer-adapter:invalid","invalid normalizationTotal");return n}async _getSummaryStatisticsFromMemory(t,r){const{view:i,field:s,normalizationField:n,valueExpression:a}=t,{featuresJSON:o,graphics:l}=await this._processStatsFromMemoryParams(t),d={field:s,valueExpression:a,normalizationType:t.normalizationType,normalizationField:n,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,outStatisticTypes:t.outStatisticTypes};return t.valueExpression&&i&&o&&(d.fieldType=r!=null&&r.type?nb.toJSON(r.type):null,d.viewInfoParams=zn(i),d.timeZone=i.timeZone),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(d.normalizationTotal=await this._getNormalizationTotal(s,o,l)),o?this.workerClient.summaryStatistics(d,o):uh({attribute:d,features:l})}_getCachedStatisticsForUniqueValues(t,r){const i=this.layer,s=r==null?void 0:r.name,n=r&&t.field?this.getFieldDomain(t.field):null;return t.valueExpression||t.sqlExpression||t.sqlWhere?Promise.reject(new I("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):i.queryCachedStatistics(s,{signal:t.signal}).then(a=>{var y;const o=a.stats;if(!o.mostFrequentValues)throw new Error;const l=(y=a.labels)==null?void 0:y.labels,d={},f=[],p="countOF"+s;o.mostFrequentValues.forEach(b=>{const g=new pr({attributes:{}});g.attributes[s]=r&&r.name!==i.objectIdField&&(R2(r)||es(r))?Number(b.value):b.value,g.attributes[p]=b.count,f.push(g)}),l&&l.forEach(b=>{d[b.value]=b.label});const m=new ob({features:f});return iR(m,{layer:this,field:t.field,labels:d,view:t.view,signal:t.signal})}).then(a=>i2(a,[n],t.returnAllCodedValues))}async _getUniqueValuesFromMemory(t,r){const{view:i,field:s,field2:n,field3:a,valueExpression:o,returnAllCodedValues:l}=t,d={field:s,field2:n,field3:a,fieldDelimiter:qp,valueExpression:o,domains:r,returnAllCodedValues:l},{featuresJSON:f,graphics:p}=await this._processStatsFromMemoryParams(t);return t.valueExpression&&i&&f&&(d.viewInfoParams=zn(i),d.timeZone=i.timeZone),f?this.workerClient.uniqueValues(d,f):y8({attribute:d,features:p})}_getCachedStatisticsForHistogram(t,r){const i=this.layer;return t.valueExpression||t.sqlExpression||t.sqlWhere||t.normalizationType?Promise.reject(new I("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):i.queryCachedStatistics(r&&r.name,{signal:t.signal}).then(s=>{const n=s.stats,{minValue:a,maxValue:o}=t,l=a??n.min,d=o??n.max,f=t.numBins||10,p=_je(n.histogram,l,d,f);return vne(p,l,d,f)})}async _getClassBreaksFromMemory(t){const{view:r,field:i,normalizationField:s,valueExpression:n}=t,{featuresJSON:a,graphics:o}=await this._processStatsFromMemoryParams(t),l={field:i,valueExpression:n,normalizationType:t.normalizationType,normalizationField:s,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numClasses:t.numClasses};return t.valueExpression&&r&&a&&(l.viewInfoParams=zn(r),l.timeZone=r.timeZone),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(l.normalizationTotal=await this._getNormalizationTotal(i,a,o)),a?this.workerClient.classBreaks(l,a):b8({attribute:l,features:o})}async _getHistogramFromMemory(t){const{view:r,field:i}=t,{featuresJSON:s,graphics:n}=await this._processStatsFromMemoryParams(t),a={field:i,valueExpression:t.valueExpression,normalizationType:t.normalizationType,normalizationField:t.normalizationField,normalizationTotal:t.normalizationTotal,minValue:t.minValue,maxValue:t.maxValue,standardDeviationInterval:t.standardDeviationInterval,classificationMethod:t.classificationMethod,numBins:t.numBins};return t.valueExpression&&r&&s&&(a.viewInfoParams=zn(r),a.timeZone=r.timeZone),t.normalizationType==="percent-of-total"&&t.normalizationTotal==null&&(a.normalizationTotal=await this._getNormalizationTotal(i,s,n)),s?this.workerClient.histogram(a,s):s2({attribute:a,features:n})}getField(t){return this.layer.getField(t??"")}getFieldUsageInfo(t){const r=this.getField(t);if(!r)return null;const i=this.layer.getFieldUsageInfo(r.name);return{supportsLabelingInfo:i.supportsLabelingInfo,supportsPopupTemplate:i.supportsPopupTemplate,supportsRenderer:i.supportsRenderer,supportsLayerQuery:i.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(t,r){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(t,r):null}createQuery(){return this.layer.createQuery()}summaryStatistics(t){const r=this.getField(t.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(t);if(t.filter)throw new I("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(r==null?void 0:r.name)?this._getCachedStatistics(t,r).catch(()=>(Ce(t.signal),this._getSummaryStatisticsFromMemory(t,r))):this._getSummaryStatisticsFromMemory(t,r)}async uniqueValues(t){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(t);if(t.filter)throw new I("scene-layer-adapter:not-supported","filter is not supported");const r=await g8(t,this),{field:i,field2:s}=t,n=i&&s,a=this.getField(i);return!n&&a&&this._hasCachedStatistics(a.name)?this._getCachedStatisticsForUniqueValues(t,a).catch(()=>(Ce(t.signal),this._getUniqueValuesFromMemory(t,r))):this._getUniqueValuesFromMemory(t,r)}histogram(t){const r=this.getField(t.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(t);if(t.filter)throw new I("scene-layer-adapter:not-supported","filter is not supported");return r&&this._hasCachedStatistics(r.name)?this._getCachedStatisticsForHistogram(t,r).catch(()=>(Ce(t.signal),this._getHistogramFromMemory(t))):this._getHistogramFromMemory(t)}classBreaks(t){const r=this.getField(t.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(t);if(t.filter)throw new I("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(r==null?void 0:r.name)?Promise.reject(new I("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(t)}queryFeatureCount(t){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(t):Promise.reject(new I("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(t,r){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(t,r):Promise.reject(new I("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(t){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(t):Promise.reject(new I("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(t){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(t);throw new I("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(t,r){if(t.filter)throw new I("scene-layer-adapter:not-supported","filter is not supported");const{view:i,sampleSize:s,requiredFields:n,returnGeometry:a,signal:o}=t,l=1,d=r==="json",f=this.createQuery();f.outFields=n,f.returnGeometry=!!a,f.where=null,f.num=s;let p=[];try{if(p=d?await this._fetchFeaturesJSONFromMemory(i,f,n):await this._fetchFeaturesFromMemory(i,f,n),p.length&&s!=null&&s>0&&s<=p.length)return oy(p,s,l)}catch{Ce(o)}let m=null;if(this._featureLayerAdapter){const y={...t};delete y.view,m=await this._featureLayerAdapter.getSampleFeatures(y,r)}return m!=null&&m.length?m:oy(p,p.length,l)}load(t){const r=this.layer.load(t).then(async i=>{this.workerClient=aw.getInstance(),await this.workerClient.open(t.signal);const s=i.associatedLayer;if(this.geometryType=i.geometryType,s!=null)return this._featureLayerAdapter=new Ks({layer:s}),this._featureLayerAdapter.load(t).then(()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent});this.objectIdField=i.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=i.fullExtent});return this.addResolvingPromise(r),Promise.resolve(this)}};function _je(e,t=e.minimum,r=e.maximum,i){const s=[];for(let d=0;d<i;d++)s[d]=0;const n=e.counts.length,a=e.minimum,o=e.maximum;for(let d=0;d<n;d++){const f=(d+.5)/n,p=((1-f)*a+f*o-t)/(r-t)*i;p>=0&&p<=i&&(s[p===i?i-1:Math.floor(p)]+=e.counts[d])}const l=[];return s.forEach((d,f)=>{const p=new pr({attributes:{}});p.attributes.EXPR_1=f+1,p.attributes.countOFExpr=d,l.push(p)}),new ob({features:l})}c([u({readOnly:!0})],C1.prototype,"adapterName",void 0),c([u({constructOnly:!0})],C1.prototype,"layer",void 0),C1=c([S("esri.smartMapping.support.adapters.SceneLayerAdapter")],C1);const Ine=C1;let L5=class extends Ine{constructor(t){super(t),this.adapterName="point-cloud-layer-adapter"}getField(t){return this.layer.fieldsIndex.get(t??"")}getFieldUsageInfo(t){const r=this.getField(t);if(!r)return null;const i=this._hasCachedStatistics(r.name);return{supportsLabelingInfo:i,supportsPopupTemplate:i,supportsRenderer:i,supportsLayerQuery:!1,supportsStatistics:i}}getFieldDomain(){return null}load(t){const r=this.layer.load(t).then(()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1});return this.addResolvingPromise(r),Promise.resolve(this)}};c([u({readOnly:!0})],L5.prototype,"adapterName",void 0),L5=c([S("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],L5);const Sje=L5;let R5=class extends aR{constructor(){super(...arguments),this.adapterName="stream-layer-adapter"}async _summaryStatsFromClientQuery(t,r){var l;const{signal:i,view:s}=t,n=nR(this,t,r);n.outStatistics=(l=n.outStatistics)==null?void 0:l.filter(d=>d.outStatisticFieldName!=="totalcount_value");const a=await this._fetchFeatureSetFromMemory(n,s,i),o=rR(a,es(r)||Ci(r));return r2(o,t.outStatisticTypes)}};c([u({readOnly:!0})],R5.prototype,"adapterName",void 0),R5=c([S("esri.smartMapping.support.adapters.StreamLayerAdapter")],R5);const $je=R5;var $e;(function(e){e[e.CatalogLayer=0]="CatalogLayer",e[e.CatalogFootprintLayer=1]="CatalogFootprintLayer",e[e.CSVLayer=2]="CSVLayer",e[e.FeatureLayer=3]="FeatureLayer",e[e.GeoJSONLayer=4]="GeoJSONLayer",e[e.KnowledgeGraphSublayer=5]="KnowledgeGraphSublayer",e[e.OGCFeatureLayer=6]="OGCFeatureLayer",e[e.OrientedImageryLayer=7]="OrientedImageryLayer",e[e.ParquetLayer=8]="ParquetLayer",e[e.PointCloudLayer=9]="PointCloudLayer",e[e.SceneLayer=10]="SceneLayer",e[e.StreamLayer=11]="StreamLayer",e[e.SubtypeGroupLayer=12]="SubtypeGroupLayer",e[e.SubtypeSublayer=13]="SubtypeSublayer",e[e.WFSLayer=14]="WFSLayer"})($e||($e={}));const qC={[$e.CatalogLayer]:{adapter:Ks,type:"catalog",label:"CatalogLayer"},[$e.CatalogFootprintLayer]:{adapter:Ks,type:"catalog-footprint",label:"CatalogFootprintLayer"},[$e.CSVLayer]:{adapter:vje,type:"csv",label:"CSVLayer"},[$e.FeatureLayer]:{adapter:Ks,type:"feature",label:"FeatureLayer"},[$e.GeoJSONLayer]:{adapter:Ks,type:"geojson",label:"GeoJSONLayer"},[$e.KnowledgeGraphSublayer]:{adapter:Ks,type:"knowledge-graph-sublayer",label:"KnowledgeGraphSublayer"},[$e.OGCFeatureLayer]:{adapter:aR,type:"ogc-feature",label:"OGCFeatureLayer"},[$e.OrientedImageryLayer]:{adapter:Ks,type:"oriented-imagery",label:"OrientedImageryLayer"},[$e.ParquetLayer]:{adapter:Ks,type:"parquet",label:"ParquetLayer"},[$e.PointCloudLayer]:{adapter:Sje,type:"point-cloud",label:"PointCloudLayer"},[$e.SceneLayer]:{adapter:Ine,type:"scene",label:"SceneLayer"},[$e.StreamLayer]:{adapter:$je,type:"stream",label:"StreamLayer"},[$e.SubtypeGroupLayer]:{adapter:Ks,type:"subtype-group",label:"SubtypeGroupLayer"},[$e.SubtypeSublayer]:{adapter:Ks,type:"subtype-sublayer",label:"SubtypeSublayer"},[$e.WFSLayer]:{adapter:Ks,type:"wfs",label:"WFSLayer"}},oR=[$e.CatalogLayer,$e.CatalogFootprintLayer,$e.CSVLayer,$e.FeatureLayer,$e.GeoJSONLayer,$e.KnowledgeGraphSublayer,$e.OGCFeatureLayer,$e.OrientedImageryLayer,$e.ParquetLayer,$e.PointCloudLayer,$e.SceneLayer,$e.StreamLayer,$e.SubtypeGroupLayer,$e.SubtypeSublayer,$e.WFSLayer],lw=[$e.CatalogFootprintLayer,$e.CSVLayer,$e.FeatureLayer,$e.GeoJSONLayer,$e.KnowledgeGraphSublayer,$e.OGCFeatureLayer,$e.OrientedImageryLayer,$e.ParquetLayer,$e.SceneLayer,$e.StreamLayer,$e.SubtypeGroupLayer,$e.SubtypeSublayer,$e.WFSLayer],hb=[$e.CSVLayer,$e.FeatureLayer,$e.GeoJSONLayer,$e.OGCFeatureLayer,$e.KnowledgeGraphSublayer,$e.OrientedImageryLayer,$e.ParquetLayer,$e.StreamLayer,$e.WFSLayer];function mb(e){return e.map(t=>qC[t].label)}function yb(e,t=oR,r){if(e instanceof tR)return e;const i=xje(e,t);return i?r?new wje({layer:e}):new i({layer:e}):null}function xje(e,t=oR){let r=null;return t.some(i=>{const s=e.type===qC[i].type;return s&&(r=qC[i].adapter),s}),r}const Eje=[...j2e,...jLe,"time-only","string"];async function Tje(e){if(!(e!=null&&e.layer)||!(e.field||e.valueExpression||e.sqlExpression))throw new I("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new I("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&pb(e,"summary-statistics");const{layer:t,...r}=e,i=e.forBinning?hb:oR,s=yb(t,i,e.forBinning);if(!s)throw new I("summary-statistics:invalid-parameters","'layer' must be one of these types: "+mb(i).join(", "));const n={layerAdapter:s,...r};n.normalizationType=qLe(n);const a=n.signal!=null?{signal:n.signal}:null;await s.load(a);const o=n.field,l=n.normalizationType,d=n.valueExpression||n.sqlExpression,f=o?s.getField(o):null,p=await yc({field:n.field,normalizationField:n.normalizationField,valueExpression:n.valueExpression}),m=mze(s,p,"summary-statistics:invalid-parameters");if(m)throw m;if(f){const b=pze(s,f,"summary-statistics:invalid-parameters",Eje);if(b)throw b;if((es(f)||Ci(f))&&l)throw new I("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(d&&l)throw new I("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");n.filter&&!n.filter.spatialRelationship&&(n.filter.spatialRelationship="intersects");const y=hze(n.filter,"summary-statistics:invalid-parameters");if(y)throw y;return n}async function Ije(e){const{layerAdapter:t,...r}=await Tje(e);return t.summaryStatistics(r)}function Kq(e,t=!1){let r=[];if(t){for(const p of e)if(p.geometry){const m=p.geometry;r.push.apply(r,m.points)}}else r=e.map(p=>p.geometry);const i=[],s=[];let n=1/0,a=-1/0,o=0,l=0,d=0,f=0;for(const p of r){if(!p)continue;t?(i[0]=p[0],i[1]=p[1]):(i[0]=p.x,i[1]=p.y);let m=1/0,y=-1/0;for(const b of r){if(b===p||!b)continue;t?(s[0]=b[0],s[1]=b[1]):(s[0]=b.x,s[1]=b.y);const g=T2(i,s);g>0&&(g<m&&(m=g),g<n&&(n=g),g>y&&(y=g),g>a&&(a=g))}m!==1/0&&(++d,o+=m),y!==-1/0&&(++f,l+=y)}return{minDistance:n!==1/0?n:null,maxDistance:a!==-1/0?a:null,avgMinDistance:d?o/d:null,avgMaxDistance:f?l/f:null}}function Cje(e){let t=0,r=0,i=1/0,s=-1/0;for(const n of e){const a=n.geometry;if(a){let o=0;for(const l of a.paths){const d=zpe(l);d>0&&(o+=d)}o>0&&(++t,r+=o,o<i&&(i=o),o>s&&(s=o))}}return{minLength:i!==1/0?i:null,maxLength:s!==-1/0?s:null,avgLength:t?r/t:null}}function Mje(e){let t=0,r=0,i=1/0,s=-1/0;for(const n of e){const a=n.geometry;if(a){const o=aA(a);if(o){const l=Math.abs(o.xmax-o.xmin),d=Math.abs(o.ymax-o.ymin),f=Math.sqrt(l*d);f>0&&(++t,r+=f,f<i&&(i=f),f>s&&(s=f))}}}return{minSize:i!==1/0?i:null,maxSize:s!==-1/0?s:null,avgSize:t?r/t:null}}function Cne(e){const{features:t}=e;let r=null;switch(e.geometryType){case"point":r=Kq(t);break;case"multipoint":r=Kq(t,!0);break;case"polyline":r=Cje(t);break;case"polygon":r=Mje(t)}return Promise.resolve(r)}const Aje=[{size:10,width:0},{size:20,width:.5},{size:80,width:1},{size:250,width:2}];async function kje(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new I("outline:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&pb(e,"outline");const{layer:r,...i}=e,s=e.forBinning?hb:lw,n=yb(r,s,e.forBinning);if(!n)throw new I("outline:invalid-parameters","'layer' must be one of these types: "+mb(s).join(", "));const a={layerAdapter:n,...i,view:t};await t.when();const o=a.signal!=null?{signal:a.signal}:null;if(await n.load(o),n.geometryType!=="polygon")throw new I("outline:not-supported",`outline is not supported for geometryType: ${n.geometryType}`);return a}function Lje(e,t){const r=e.avgSize,i=KT(1,t.spatialReference),s=Aje.map(n=>new Ua({size:n.width,value:Math.round(r/n.size*i)}));return s.sort((n,a)=>n.value-a.value),{visualVariables:[new cn({target:"outline",valueExpression:"$view.scale",stops:s})],opacity:.25}}async function Rje(e){const{layerAdapter:t,...r}=await kje(e),i=-1,s=await t.getSampleFeatures({sampleSize:i,returnGeometry:!0,...r},"json");if(!(s!=null&&s.length))throw new I("outline:insufficient-info","No features are available to calculate statistics");const n=await Cne({features:s,geometryType:t.geometryType});if(!(n&&"avgSize"in n&&n.avgSize))throw new I("outline:insufficient-info","average polygon size is invalid");return Lje({...n,avgSize:n.avgSize},r.view)}const Oje=500,Fje=1e8,HS=1280,Pje=12,Nje=30,Dje=15;async function Vje(e){const{view:t,sampleSize:r}=e;if(!e||!e.layer)throw new I("scale-range:missing-parameters","'layer' parameter is required");if(e.snapToLOD&&!t)throw new I("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");e.forBinning&&pb(e,"scale-range");const{layer:i,...s}=e,n=e.forBinning?hb:lw,a=yb(i,n,e.forBinning);if(!a)throw new I("scale-range:invalid-parameters","'layer' must be one of these types: "+mb(n).join(", "));const o={layerAdapter:a,...s};o.sampleSize=r||Oje,await(t==null?void 0:t.when());const l=o.signal!=null?{signal:o.signal}:null;return await a.load(l),o}function zje(e,t){const r=Pje,i=HS/4,s=Nje,n=HS/4,a=Dje,o=HS/2;let l=0,d=0,f=0,p=0;switch(e){case"point":case"multipoint":{const m=t;l=m.avgMinDistance??0,d=r,f=m.minDistance??0,p=i;break}case"polyline":{const m=t;l=m.avgLength??0,d=s,f=m.minLength??0,p=n;break}case"polygon":{const m=t;l=m.avgSize??0,d=a,f=m.minSize??0,p=o;break}}return{resolutionForMinScale:l>0?l/d:null,resolutionForMaxScale:f>0?f/p:null}}function jje(e,t,r){const i=zje(e.geometryType,t),s=(r==null?void 0:r.spatialReference)||e.layer.spatialReference;return{minScale:KT(i.resolutionForMinScale??0,s),maxScale:KT(i.resolutionForMaxScale??0,s)}}function Xq(e,t,r=!0){if(e.constraints&&"effectiveLODs"in e.constraints){const i=e.constraints.effectiveLODs,s=r?i:i.slice().reverse();let n=null;for(const a of s)if(!(r?a.scale>t:a.scale<t)){n=a;break}return n}}function qje(e,t,r,i){const{view:s,snapToLOD:n,layerAdapter:a}=e;if(n&&s){const o=Xq(s,t),l=Xq(s,r,!1);t=o?o.scale:t,r=l?l.scale:r}if(t<r)throw new I("scale-range:invalid","calculated minScale is less than maxScale.");return r>t/2&&(r=Math.floor(r/2)),t>Fje&&(t=0),a.geometryType!=="polygon"&&(r=0),{minScale:Math.ceil(t),maxScale:Math.floor(r),spatialStatistics:i}}async function Bje(e){const t=await Vje(e),{view:r,sampleSize:i,layerAdapter:s,signal:n,filter:a}=t,o=await s.getSampleFeatures({view:r,sampleSize:i,returnGeometry:!0,filter:a,signal:n},"json");if(!(o!=null&&o.length))throw new I("scale-range:insufficient-info","No features are available to calculate statistics");const l=await Cne({features:o,geometryType:s.geometryType}),{minScale:d,maxScale:f}=jje(s,l,r);return qje(t,d,f,l)}const Uje=1e8,Gje=1128.497176,Hje=591657527591555e-6,Wje=[10,8,4,2],Zje=[100,100,60,30],Jje=[2,1,.75,.5],Yje=[32,18,12,6],Qje=[{level:0,resolution:156543.03392800014,scale:591657527591555e-6},{level:1,resolution:78271.51696399994,scale:295828763795777e-6},{level:2,resolution:39135.75848200009,scale:147914381897889e-6},{level:3,resolution:19567.87924099992,scale:73957190948944e-6},{level:4,resolution:9783.93962049996,scale:36978595474472e-6},{level:5,resolution:4891.96981024998,scale:18489297737236e-6},{level:6,resolution:2445.98490512499,scale:9244648868618e-6},{level:7,resolution:1222.992452562495,scale:4622324434309e-6},{level:8,resolution:611.4962262813797,scale:2311162217155e-6},{level:9,resolution:305.74811314055756,scale:1155581108577e-6},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];async function Kje(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new I("size-range:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&pb(e,"size-range");const{layer:r,...i}=e,s=e.forBinning?hb:lw,n=yb(r,s,e.forBinning);if(!n)throw new I("size-range:invalid-parameters","'layer' must be one of these types: "+mb(s).join(", "));const a={layerAdapter:n,...i,view:t};await t.when();const o=a.signal!=null?{signal:a.signal}:null;await n.load(o);const l=n.geometryType;if(l!=="point"&&l!=="multipoint"&&l!=="polyline"&&l!=="polygon")throw new I("size-range:not-supported",`sizeRange is not supported for geometryType: ${l}`);return a}function Xje(e,t){const r=Math.ceil(e/t);let i=Math.ceil(r/4);i<4?i=4:i>16&&(i=16);const s=5*i;return{min:i,max:s<50?50:s}}function Mne(e,t){const{view:r}=e;if(!r)throw new I("scale-range:invalid-parameters","'view' is required");const i=t.minScale||Uje,s=r.constraints&&"effectiveLODs"in r.constraints&&r.constraints.effectiveLODs||Qje,n=[];for(let a=0;a<s.length;a++){if(s[a].scale>i)continue;const o=Number(a),l=[o-3,o,o+3,o+6];for(const d of l)d>-1&&d<s.length&&n.push(s[d].scale);break}return n.sort((a,o)=>a-o)}function eqe(e,t){const{view:r,layerAdapter:i}=e;if(!r)throw new I("scale-range:invalid-parameters","'view' is required");const s=i.fullExtent,n=i.minScale||Gje,a=i.maxScale||Hje,o=t.minScale||0,l=t.maxScale||0;let d=s!=null?j$e(r,s):0;return d=d<n&&d>a?d:0,{scales:[n,a,o,l,d].map(Math.round).sort((f,p)=>f-p).filter((f,p,m)=>!!f&&m.indexOf(f)===p).filter((f,p,m)=>!p||Math.abs(f-m[p-1])>5),fullExtentScale:d}}function tqe(e,t){const{minScale:r,maxScale:i}=t,s=Mne(e,{minScale:r});if(!s.length)throw new I("scale-range:insufficient-info","not enough scale values");return{minSize:new cn({valueExpression:"$view.scale",stops:s.map((n,a)=>new Ua({value:n,size:Ar(Wje[a])}))}),maxSize:new cn({valueExpression:"$view.scale",stops:s.map((n,a)=>new Ua({value:n,size:Ar(Zje[a])}))})}}function rqe(e,t){const{minScale:r,maxScale:i}=t,s=Mne(e,{minScale:r});if(!s.length)throw new I("scale-range:insufficient-info","not enough scale values");return{minSize:new cn({valueExpression:"$view.scale",stops:s.map((n,a)=>new Ua({value:n,size:Ar(Jje[a])}))}),maxSize:new cn({valueExpression:"$view.scale",stops:s.map((n,a)=>new Ua({value:n,size:Ar(Yje[a])}))})}}function iqe(e,t){const{spatialStatistics:r,minScale:i,maxScale:s}=t;if(!("avgSize"in r)||!r.avgSize)throw new I("size-range:insufficient-info","average polygon size is invalid");const n=r.avgSize,{view:a}=e;if(!a)throw new I("scale-range:invalid-parameters","'view' is required");const{resolution:o,scale:l}=a,d=o/l,{scales:f,fullExtentScale:p}=eqe(e,{minScale:i,maxScale:s}),m=[],y=[];return f.forEach((b,g)=>{const{min:v,max:w}=Xje(n,d*b),_=f.indexOf(p),x=_>-1&&g>_?2:1;m.push(new Ua({value:b,size:Ar(v/x)})),y.push(new Ua({value:b,size:Ar(w/x)}))}),{minSize:new cn({valueExpression:"$view.scale",stops:m}),maxSize:new cn({valueExpression:"$view.scale",stops:y})}}async function sqe(e){const t=await Kje(e),{view:r,layerAdapter:i,signal:s,filter:n}=t,a=await Bje({layer:i,view:r,signal:s,filter:n});switch(i.geometryType){case"point":case"multipoint":return tqe(t,a);case"polyline":return rqe(t,a);case"polygon":return iqe(t,a);case"mesh":case"multipatch":return null}return null}async function nqe(e){var f,p;await e.whenReady();const t=((f=e.basemapView)==null?void 0:f.baseLayerViews.map(m=>m.layer).toArray())??[];if(!t.length){const m=getComputedStyle(e.container).backgroundColor,y=m?new Z(m):void 0;return("background"in e?(p=e.background)==null?void 0:p.color:void 0)||((y==null?void 0:y.a)!==0?y:null)||null}const r=(await e.takeScreenshot({format:"png",layers:t})).data.data,i=r.length;let s=0,n=0,a=0,o=0,l=0,d=0;for(let m=0;m<i;m+=4){const y=r[m],b=r[m+1],g=r[m+2],v=r[m+3],w=v/255;s+=y*y*w,n+=b*b*w,a+=g*g*w,l+=w,v&&(o+=v,d++)}return s=Math.round(Math.sqrt(s/l)),n=Math.round(Math.sqrt(n/l)),a=Math.round(Math.sqrt(a/l)),new Z([s,n,a,o/d/255])}async function aqe(e){if(!e)return null;const t=await nqe(e);return t!=null?uke(t):null}const eB=new Z([0,0,0,.4]),oqe=[...Ay.light,...Ay.dark];function tB(e,t,r){return e+t>0&&0>e-t&&r<0?0:e}function lqe(e,t,r,i){const{avg:s,stddev:n,min:a,max:o}=e,l=cqe(e,!!r);let d=l?l[0]:a,f=l?l[1]:o;return l?{minDataValue:d,maxDataValue:f,defaultValuesUsed:!0}:(t==="above"?d=tB(s,n,a):t==="below"&&(f=tB(s,n,a)),{minDataValue:d,maxDataValue:f,defaultValuesUsed:!1})}function cqe(e,t,r){let i,s;const n=dqe({statistics:e,isDate:t});return n.defaultValuesUsed?(i=n.min,s=n.max):e.avg!=null&&e.stddev||(i=e.min,s=e.max),i!=null&&s!=null?[i,s]:null}function dqe(e){let t,r,i=e.statistics;if(i||(i={}),i.min==null)if(e.isDate){const s=rB();t=s[0],r=s[1]}else t=0,r=100;else if(i.min===i.max)if(e.isDate){const s=rB(i.min);t=s[0],r=s[1]}else i.min<0?(t=2*i.min,r=0):i.min>0?(t=0,r=2*i.min):(t=0,r=100);return{min:t??i.min,max:r??i.max,defaultValuesUsed:t!=null||r!=null}}function rB(e){const t=(typeof e=="number"?new Date(e):new Date).getUTCFullYear();let r=Date.UTC(t,0,1,12,0,0,0),i=Date.UTC(t,11,31,12,0,0,0);return typeof e=="number"&&(e<r&&(r=e),e>i&&(i=e)),[r,i]}function uqe({minDataValue:e,maxDataValue:t,defaultValuesUsed:r},i,s,n=!0){return r||s==="above"||s==="below"?fqe(e,t,5):pqe(i,n)}function fqe(e,t,r){const i=(t-e)/(r-1),s=[e];for(let n=1;n<=r-2;n++)s.push(e+n*i);return s.push(t),dh(s,{strictBounds:!0})}function pqe({min:e,max:t,avg:r,stddev:i},s=!0){if(e==null||t==null||r==null||i==null)return[];let n=r-i,a=r+i;n<e&&(n=e),a>t&&(a=t),s&&(r=n+(a-n)/2);let o=dh([n,a],{strictBounds:!0});return n=o[0],a=o[1],o=[n,n+(r-n)/2,r,r+(a-r)/2,a],dh(o,{strictBounds:!0})}function iB(e,t,r){switch(t){case"point":case"multipoint":return"size"in e?e.size:null;case"polyline":return"width"in e?e.width:null;case"polygon":return"size"in e?e.size:null;default:return}}function sB(e,t,r){switch(t){case"point":case"multipoint":case"polygon":{if(!("outline"in e))return null;const i={color:e.outline.color,width:e.outline.width};if(r!=null&&i.color){const s=i.color.clone();s.a=r,i.color=s}return i}default:return}}function nB(e,t){var o,l;const{type:r,size:i,color:s,outline:n}=t;let a;switch(e){case"point":case"multipoint":if(r==="2d")a=new oi({color:s,size:i,outline:{color:n.color,width:n.width}});else if(r==="3d-flat")a=new ja({symbolLayers:new W([new Xd({size:i,resource:{primitive:"circle"},material:{color:s},outline:{color:n.color,size:n.width}})])});else if(r!=null&&r.includes("3d-volumetric")){const d=r==="3d-volumetric-uniform",f=new v4({height:i,resource:{primitive:d?"sphere":"cylinder"},material:{color:s}});d||(f.width=t.widthAndDepth,f.depth=t.widthAndDepth),a=new ja({symbolLayers:new W([f])})}break;case"polyline":r==="2d"?a=new Li({color:s,width:i}):r==="3d-flat"?a=new Ec({symbolLayers:new W([new bh({size:i,material:{color:s}})])}):r==="3d-volumetric"&&(a=new Ec({symbolLayers:new W([new w4({width:typeof i=="number"?i:parseFloat(i),height:typeof i=="number"?i:parseFloat(i),material:{color:s}})])}));break;case"polygon":r==="2d"?a=new el({color:s,outline:{color:n.color,width:n.width}}):r==="3d-flat"?a=new Qo({symbolLayers:new W([new xc({material:{color:s},outline:{color:n.color,size:n.width}})])}):r==="3d-volumetric"&&(a=new Qo({symbolLayers:new W([new BA({size:i,material:{color:s}})])}));break;case"mesh":{const d=(o=t.meshInfo)==null?void 0:o.colorMixMode,f=(l=t.meshInfo)==null?void 0:l.edgesType;a=new ib({symbolLayers:new W([new xc({material:{color:s,colorMixMode:d||null},edges:f==="solid"?new qA({color:eB}):f==="sketch"?new DY({color:eB}):null})])});break}}return a}function Ane(e,t,r){const i=hqe({layer:e,fields:t});if(i.length)return new I(r,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const s=mqe({layer:e,fields:t});return s.length?new I(r,"Unsupported fields: "+s.join(", ")+". You can only use fields that are accessible to the renderer i.e. FieldUsageInfo.supportsRenderer must be true"):void 0}function hqe(e){const t=e.layer;return e.fields.filter(r=>!t.getField(r))}function mqe(e){const t=e.layer;return e.fields.filter(r=>{const i=t.getFieldUsageInfo(r);return!i||!i.supportsRenderer})}function yqe(e){return Ije({outStatisticTypes:DLe,...e})}async function bqe(e,t){var s;let r=null,i=null;if(!e&&!t)return{basemapId:r,basemapTheme:i};if(t&&(i=await aqe(t),e||(e=(s=t.map)==null?void 0:s.basemap)),e&&(r=yL(e,oqe,!1),r&&!i)){const n=mL(r);n!=null&&(i=n)}return!r&&i&&(r=i==="dark"?"dark-gray":"gray"),{basemapId:r,basemapTheme:i}}function aB(e){var r;const t=(r=e.name)==null?void 0:r.toLowerCase();if(!t||t!=null&&t.includes(":insufficient-info")||t!=null&&t.includes(":insufficient-data"))return null;throw e}const gqe={"seq-yellow-orange-red-bright":{1:["#ff7b22"],2:["#c0370f","#ff7b22"],3:["#b1260b","#e05919","#ff8e33"],4:["#a11506","#d04814","#ef6a1d","#ffa143"],5:["#a11506","#d04814","#ef6a1d","#ff8e33","#ffb454"],6:["#a11506","#c0370f","#e05919","#ef6a1d","#ff8e33","#ffb454"],7:["#a11506","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],8:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffc764"],9:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74"],10:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"],stops:["#910000","#c33910","#f6711f","#fbaf52","#ffed85"],tags:["light","reds","yellows","oranges","bright","sequential","colorblind-friendly"],name:"Orange 1"},"seq-yellow-pink-purple":{1:["#b65fa5"],2:["#e6b7c4","#b65fa5"],3:["#eecec9","#d588b9","#a14e96"],4:["#f6e5cf","#dd9fbf","#cc71b4","#8c3c88"],5:["#f6e5cf","#dd9fbf","#cc71b4","#a14e96","#762a79"],6:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#a14e96","#762a79"],7:["#f6e5cf","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],8:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#61196a"],9:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b"],10:["#fffcd4","#eecec9","#e6b7c4","#d588b9","#cc71b4","#b65fa5","#8c3c88","#762a79","#4b075b","#350242"],stops:["#fffcd4","#e0b2c1","#c168ad","#7b3578","#350242"],tags:["light","purples","pinks","sequential","colorblind-friendly"],name:"Purple 1"},"seq-red-blue-green":{1:["#6193b3"],2:["#bac6df","#6193b3"],3:["#d1d1e5","#8cb1d2","#4e8099"],4:["#e8dbeb","#a3bbd8","#75a6cc","#3b6e80"],5:["#e8dbeb","#a3bbd8","#75a6cc","#4e8099","#275b67"],6:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#4e8099","#275b67"],7:["#e8dbeb","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],8:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#14484d"],9:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534"],10:["#ffe6f1","#d1d1e5","#bac6df","#8cb1d2","#75a6cc","#6193b3","#3b6e80","#275b67","#003534","#002624"],stops:["#ffe6f1","#b5c2d9","#6b9dc0","#366272","#002624"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Blue 1"},"seq-pink-red":{1:["#c75c49"],2:["#ecacaa","#c75c49"],3:["#f1c1c5","#e18073","#b44f3b"],4:["#f6d7e0","#e6968e","#db6a58","#a1412c"],5:["#f6d7e0","#e6968e","#db6a58","#b44f3b","#8d331d"],6:["#f6d7e0","#ecacaa","#e18073","#db6a58","#b44f3b","#8d331d"],7:["#f6d7e0","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],8:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#7a260f"],9:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800"],10:["#fcedfb","#f1c1c5","#ecacaa","#e18073","#db6a58","#c75c49","#a1412c","#8d331d","#661800","#510b00"],stops:["#fcedfb","#e7a8a6","#d16351","#913729","#510b00"],tags:["light","reds","subdued","sequential","colorblind-friendly"],name:"Red 1"},"seq-yellow-purple-blue":{1:["#8573cb"],2:["#cdc1d9","#8573cb"],3:["#ddd4d7","#ab99db","#7062b9"],4:["#eee8d6","#bcadda","#9a85dd","#5a50a7"],5:["#eee8d6","#bcadda","#9a85dd","#7062b9","#453e94"],6:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#7062b9","#453e94"],7:["#eee8d6","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],8:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#302d82"],9:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70"],10:["#fffcd4","#ddd4d7","#cdc1d9","#ab99db","#9a85dd","#8573cb","#5a50a7","#453e94","#1b1b70","#10104f"],stops:["#fffcd4","#c8bcd4","#907cd4","#504692","#10104f"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 2"},"seq-yellow-orange-red":{1:["#d4743c"],2:["#f2c38e","#d4743c"],3:["#f6d6a5","#e99e5f","#c35d30"],4:["#fbe9bd","#eeb177","#e58b48","#b24625"],5:["#fbe9bd","#eeb177","#e58b48","#c35d30","#a12f19"],6:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#c35d30","#a12f19"],7:["#fbe9bd","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],8:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#90180d"],9:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101"],10:["#fffcd4","#f6d6a5","#f2c38e","#e99e5f","#e58b48","#d4743c","#b24625","#a12f19","#7f0101","#660000"],stops:["#fffcd4","#eebe8b","#dd8042","#a24021","#660000"],tags:["light","reds","oranges","sequential","colorblind-friendly"],name:"Red 2"},"seq-yellow-green-blue":{1:["#5a93a8"],2:["#b4d2c6","#5a93a8"],3:["#cde0ca","#82b6bc","#4b7e98"],4:["#e6eecf","#9bc4c1","#69a8b7","#3d6a89"],5:["#e6eecf","#9bc4c1","#69a8b7","#4b7e98","#2e557a"],6:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#4b7e98","#2e557a"],7:["#e6eecf","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],8:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#1f406a"],9:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b"],10:["#fffcd4","#cde0ca","#b4d2c6","#82b6bc","#69a8b7","#5a93a8","#3d6a89","#2e557a","#102b5b","#0d2644"],stops:["#fffcd4","#b1cdc2","#629eb0","#38627a","#0d2644"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 2"},"seq-yellow-red-purple":{1:["#420239"],2:["#fffcd4","#420239"],3:["#fffcd4","#d86868","#420239"],4:["#fffcd4","#ecb29e","#d86868","#420239"],5:["#fffcd4","#ecb29e","#d86868","#9b3557","#420239"],6:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#420239"],7:["#fffcd4","#ecb29e","#d86868","#9b3557","#872351","#5e0146","#420239"],8:["#fffcd4","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],9:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#9b3557","#872351","#5e0146","#420239"],10:["#fffcd4","#f2cbb0","#ecb29e","#df817a","#d86868","#c45762","#9b3557","#872351","#5e0146","#420239"],stops:["#fffcd4","#e7ae9d","#ce6065","#88314f","#420239"],tags:["light","purples","sequential","colorblind-friendly"],name:"Pink 1"},"seq-orange-red-light":{1:["#660202"],2:["#ffefdc","#660202"],3:["#ffefdc","#d15e3d","#660202"],4:["#ffefdc","#f5c5ab","#d15e3d","#660202"],5:["#ffefdc","#f5c5ab","#d15e3d","#b13925","#660202"],6:["#ffefdc","#f5c5ab","#e27149","#d15e3d","#b13925","#660202"],7:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#660202"],8:["#ffefdc","#f5c5ab","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],9:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#660202"],10:["#ffefdc","#f5c5ab","#f1b093","#e78662","#e27149","#d15e3d","#b13925","#a02619","#7f0101","#660202"],stops:["#ffefdc","#edac90","#da6843","#a03523","#660202"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 3"},"seq-orange-red-dark":{1:["#470000"],2:["#ffefdc","#470000"],3:["#ffefdc","#ab472f","#470000"],4:["#ffefdc","#ab472f","#7a1c13","#470000"],5:["#ffefdc","#c76f54","#ab472f","#7a1c13","#470000"],6:["#ffefdc","#dea28b","#c76f54","#ab472f","#7a1c13","#470000"],7:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#470000"],8:["#ffefdc","#dea28b","#c76f54","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],9:["#ffefdc","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],10:["#ffefdc","#e9bca6","#dea28b","#c76f54","#bc5539","#ab472f","#8b2b1d","#7a1c13","#590000","#470000"],stops:["#ffefdc","#d99f88","#b34e34","#7d271a","#470000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 4"},"seq-single-blues":{1:["#9ecae1"],2:["#bdd7e7","#6baed6"],3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],10:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#083582","#022259"],stops:["rgba(239, 243, 255, 1)","rgba(189, 215, 231, 1)","rgba(107, 174, 214, 1)","rgba(49, 130, 189, 1)","rgba(8, 81, 156, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 3"},"seq-single-greens":{1:["#a1d99b"],2:["#bae4b3","#74c476"],3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],10:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#065220","#023414"],stops:["rgba(237, 248, 233, 1)","rgba(186, 228, 179, 1)","rgba(116, 196, 118, 1)","rgba(49, 163, 84, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 1"},"seq-single-grays":{1:["#bdbdbd"],2:["#cccccc","#969696"],3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],10:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#999999","#7a7a7a","#595959","#404040","#262626","#000000"],stops:["rgba(247, 247, 247, 1)","rgba(204, 204, 204, 1)","rgba(150, 150, 150, 1)","rgba(99, 99, 99, 1)","rgba(37, 37, 37, 1)"],tags:["light","grays","sequential","colorblind-friendly"],name:"Gray 1"},"seq-single-oranges":{1:["#fdae6b"],2:["#fdbe85","#fd8d3c"],3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],10:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704","#591502"],stops:["rgba(254, 237, 222, 1)","rgba(253, 190, 133, 1)","rgba(253, 141, 60, 1)","rgba(230, 85, 13, 1)","rgba(166, 54, 3, 1)"],tags:["light","oranges","sequential","colorblind-friendly"],name:"Orange 2"},"seq-single-purples":{1:["#bcbddc"],2:["#cbc9e2","#9e9ac8"],3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],10:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d","#2d0059"],stops:["rgba(242, 240, 247, 1)","rgba(203, 201, 226, 1)","rgba(158, 154, 200, 1)","rgba(117, 107, 177, 1)","rgba(84, 39, 143, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 3"},"seq-single-reds":{1:["#fc9272"],2:["#fcae91","#fb6a4a"],3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],10:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#7d0011","#52000b"],stops:["rgba(254, 229, 217, 1)","rgba(252, 174, 145, 1)","rgba(251, 106, 74, 1)","rgba(222, 45, 38, 1)","rgba(165, 15, 21, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 5"},"seq-multi-bugn":{1:["#99d8c9"],2:["#b2e2e2","#66c2a4"],3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],10:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#005824","#033d18"],stops:["rgba(237, 248, 251, 1)","rgba(178, 226, 226, 1)","rgba(102, 194, 164, 1)","rgba(44, 162, 95, 1)","rgba(0, 109, 44, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 2"},"seq-multi-bupu":{1:["#9ebcda"],2:["#b3cde3","#8c96c6"],3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],10:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#680066","#3f013f"],stops:["rgba(237, 248, 251, 1)","rgba(179, 205, 227, 1)","rgba(140, 150, 198, 1)","rgba(136, 86, 167, 1)","rgba(129, 15, 124, 1)"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 4"},"seq-multi-gnbu":{1:["#a8ddb5"],2:["#bae4bc","#7bccc4"],3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],10:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081","#0e2f6b"],stops:["rgba(240, 249, 232, 1)","rgba(186, 228, 188, 1)","rgba(123, 204, 196, 1)","rgba(67, 162, 202, 1)","rgba(8, 104, 172, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 4"},"seq-multi-orrd":{1:["#fdbb84"],2:["#fdcc8a","#fc8d59"],3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],10:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#8a0002","#660000"],stops:["rgba(254, 240, 217, 1)","rgba(253, 204, 138, 1)","rgba(252, 141, 89, 1)","rgba(227, 74, 51, 1)","rgba(179, 0, 0, 1)"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 6"},"seq-multi-pubu":{1:["#a6bddb"],2:["#bdc9e1","#74a9cf"],3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],10:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#06436b","#05304d"],stops:["rgba(241, 238, 246, 1)","rgba(189, 201, 225, 1)","rgba(116, 169, 207, 1)","rgba(43, 140, 190, 1)","rgba(4, 90, 141, 1)"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 5"},"seq-multi-pubugn":{1:["#a6bddb"],2:["#bdc9e1","#67a9cf"],3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],10:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#095742","#073d2c"],stops:["rgba(246, 239, 247, 1)","rgba(189, 201, 225, 1)","rgba(103, 169, 207, 1)","rgba(28, 144, 153, 1)","rgba(1, 108, 89, 1)"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 3"},"seq-multi-purd":{1:["#c994c7"],2:["#d7b5d8","#df65b0"],3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],10:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f","#48000c"],stops:["rgba(241, 238, 246, 1)","rgba(215, 181, 216, 1)","rgba(223, 101, 176, 1)","rgba(221, 28, 119, 1)","rgba(152, 0, 67, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 2"},"seq-multi-rdpu":{1:["#fa9fb5"],2:["#fbb4b9","#f768a1"],3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],10:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a","#2d004d"],stops:["rgba(254, 235, 226, 1)","rgba(251, 180, 185, 1)","rgba(247, 104, 161, 1)","rgba(197, 27, 138, 1)","rgba(122, 1, 119, 1)"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Pink 3"},"seq-multi-ylgn":{1:["#addd8e"],2:["#c2e699","#78c679"],3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],10:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#09522c","#023827"],stops:["rgba(255, 255, 204, 1)","rgba(194, 230, 153, 1)","rgba(120, 198, 121, 1)","rgba(49, 163, 84, 1)","rgba(0, 104, 55, 1)"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 4"},"seq-multi-ylgnbu":{1:["#7fcdbb"],2:["#a1dab4","#41b6c4"],3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],10:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#2f419e","#152875","#061b42"],stops:["rgba(255, 255, 204, 1)","rgba(161, 218, 180, 1)","rgba(65, 182, 196, 1)","rgba(44, 127, 184, 1)","rgba(37, 52, 148, 1)"],tags:["light","blues","greens","sequential","colorblind-friendly"],name:"Blue 6"},"seq-multi-ylorbr":{1:["#fec44f"],2:["#fed98e","#fe9929"],3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],10:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#702607","#57220b"],stops:["rgba(255, 255, 212, 1)","rgba(254, 217, 142, 1)","rgba(254, 153, 41, 1)","rgba(217, 95, 14, 1)","rgba(153, 52, 4, 1)"],tags:["light","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 3"},"seq-multi-ylorrd":{1:["#feb24c"],2:["#fecc5c","#fd8d3c"],3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],10:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#940025","#67001f"],stops:["rgba(255, 255, 178, 1)","rgba(254, 204, 92, 1)","rgba(253, 141, 60, 1)","rgba(240, 59, 32, 1)","rgba(189, 0, 38, 1)"],tags:["light","reds","yellows","oranges","sequential","colorblind-friendly"],name:"Orange 4"},"seq-teal-lightgreen-bright":{1:["#add46a"],2:["#e2ebd3","#2d8078"],3:["#e2ebd3","#add46a","#2d8078"],4:["#e2ebd3","#c8e09f","#add46a","#2d8078"],5:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],6:["#e2ebd3","#c8e09f","#add46a","#8fc890","#62afa7","#2d8078"],7:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#50a098","#2d8078"],8:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#50a098","#2d8078"],9:["#e2ebd3","#d5e5b9","#c8e09f","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],10:["#e2ebd3","#d5e5b9","#c8e09f","#bada84","#add46a","#8fc890","#73bfb7","#62afa7","#50a098","#2d8078"],stops:["#e2ebd3","#c8e09f","#add46a","#62afa7","#2d8078"],tags:["light","greens","blues","sequential","colorblind-friendly"],name:"Green 5"},"seq-green-lightgray-bright":{1:["#a3af96"],2:["#e6e4e1","#4e6605"],3:["#e6e4e1","#a3af96","#4e6605"],4:["#e6e4e1","#d9d7d6","#7c9e14","#4e6605"],5:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],6:["#e6e4e1","#d9d7d6","#a3af96","#93ba1c","#7c9e14","#4e6605"],7:["#e6e4e1","#d9d7d6","#c0bebe","#a3af96","#93ba1c","#7c9e14","#4e6605"],8:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#4e6605"],9:["#e6e4e1","#d9d7d6","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],10:["#e6e4e1","#d9d7d6","#cdcbca","#c0bebe","#b3b1b3","#a3af96","#93ba1c","#7c9e14","#65820d","#4e6605"],stops:["#e6e4e1","#d9d7d6","#a3af96","#7c9e14","#4e6605"],tags:["light","greens","sequential","grays","colorblind-friendly"],name:"Green 6"},"seq-red-lightgray-bright":{1:["#b3bfd1"],2:["#d7e1ee","#991f17"],3:["#d7e1ee","#b3bfd1","#991f17"],4:["#d7e1ee","#cbd6e4","#c86558","#991f17"],5:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],6:["#d7e1ee","#cbd6e4","#b3bfd1","#df8879","#c86558","#991f17"],7:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#991f17"],8:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#df8879","#c86558","#b04238","#991f17"],9:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],10:["#d7e1ee","#cbd6e4","#bfcbdb","#b3bfd1","#a7b4c7","#a4a2a8","#df8879","#c86558","#b04238","#991f17"],stops:["#d7e1ee","#cbd6e4","#b3bfd1","#c86558","#991f17"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 7"},"seq-blue-lightgray-bright":{1:["#9cadb4"],2:["#ebe6df","#007f99"],3:["#ebe6df","#9cadb4","#007f99"],4:["#ebe6df","#c3beb9","#40a7b9","#007f99"],5:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],6:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#007f99"],7:["#ebe6df","#ded9d2","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],8:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#40a7b9","#2093a9","#007f99"],9:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],10:["#ebe6df","#ded9d2","#d1ccc6","#c3beb9","#b6b1ac","#9cadb4","#60bbc9","#40a7b9","#2093a9","#007f99"],stops:["#ebe6df","#c3beb9","#9cadb4","#40a7b9","#007f99"],tags:["light","blues","sequential","grays","colorblind-friendly"],name:"Blue 7"},"seq-orange-lightgray-bright":{1:["#b39e93"],2:["#dfe1e6","#8c4a23"],3:["#dfe1e6","#b39e93","#8c4a23"],4:["#dfe1e6","#bbbfc9","#c4703e","#8c4a23"],5:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],6:["#dfe1e6","#d3d6dc","#bbbfc9","#e0834c","#c4703e","#8c4a23"],7:["#dfe1e6","#d3d6dc","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],8:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#8c4a23"],9:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],10:["#dfe1e6","#d3d6dc","#c7cbd3","#bbbfc9","#afb4bf","#b39e93","#e0834c","#c4703e","#a85d31","#8c4a23"],stops:["#dfe1e6","#bbbfc9","#b39e93","#c4703e","#8c4a23"],tags:["light","oranges","browns","sequential","grays","colorblind-friendly"],name:"Orange 5"},"seq-blue-red-yellow-bright":{1:["#c59ca4"],2:["#eae2bb","#1d4e89"],3:["#eae2bb","#c59ca4","#1d4e89"],4:["#e9d7b8","#e8c9b3","#a48d9e","#606d94"],5:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],6:["#eae2bb","#e9d7b8","#e8c9b3","#a48d9e","#606d94","#1d4e89"],7:["#eae2bb","#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94","#1d4e89"],8:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#606d94","#1d4e89"],9:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],10:["#eae2bb","#e9d7b8","#e8c9b3","#e8baae","#d7aba9","#c59ca4","#a48d9e","#827d99","#606d94","#1d4e89"],stops:["#e9d7b8","#e8c9b3","#c59ca4","#a48d9e","#606d94"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 8"},"seq-gray-lightgreen-bright":{1:["#b1bf85"],2:["#635e5e","#d9f191"],3:["#635e5e","#b1bf85","#d9f191"],4:["#635e5e","#928d8d","#c2e655","#d9f191"],5:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],6:["#7b7676","#928d8d","#aaa5a5","#b6e038","#c2e655","#d9f191"],7:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#d9f191"],8:["#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],9:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191"],10:["#635e5e","#7b7676","#928d8d","#aaa5a5","#b1bf85","#b6e038","#c2e655","#ceec73","#d9f191","#e5f7ae"],stops:["#635e5e","#928d8d","#b1bf85","#c2e655","#d9f191"],tags:["dark","greens","sequential","bright","grays","colorblind-friendly"],name:"Green 7"},"seq-blue-tan-bright":{1:["#afbac4"],2:["#ebe6df","#436480"],3:["#ebe6df","#afbac4","#436480"],4:["#ebe6df","#d9c2b1","#7d9ab3","#436480"],5:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],6:["#ebe6df","#e5dad0","#d9c2b1","#7d9ab3","#607f99","#436480"],7:["#ebe6df","#e5dad0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],8:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#afbac4","#7d9ab3","#607f99","#436480"],9:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#7d9ab3","#607f99","#436480"],10:["#ebe6df","#e5dad0","#dfcec0","#d9c2b1","#c4bebc","#afbac4","#9ab5cc","#7d9ab3","#607f99","#436480"],stops:["#ebe6df","#d9c2b1","#afbac4","#7d9ab3","#436480"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 9"},"seq-teal-lightbrown-bright":{1:["#aabdb5"],2:["#eee2cf","#3b758c"],3:["#eee2cf","#aabdb5","#3b758c"],4:["#eee2cf","#dbd0b9","#74a2b3","#3b758c"],5:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],6:["#eee2cf","#e4d9c4","#dbd0b9","#74a2b3","#588ba0","#3b758c"],7:["#eee2cf","#e4d9c4","#dbd0b9","#aabdb5","#74a2b3","#588ba0","#3b758c"],8:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#74a2b3","#588ba0","#3b758c"],9:["#eee2cf","#e4d9c4","#dbd0b9","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],10:["#eee2cf","#e4d9c4","#dbd0b9","#d1c7ad","#c7bea2","#aabdb5","#91b8c7","#74a2b3","#588ba0","#3b758c"],stops:["#eee2cf","#dbd0b9","#aabdb5","#74a2b3","#3b758c"],tags:["light","blues","sequential","subdued","colorblind-friendly"],name:"Blue 10"},"seq-reds-bright":{1:["#ec5244"],2:["#7b4238","#fff0dc"],3:["#7b4238","#ec5244","#fff0dc"],4:["#57453b","#c23d33","#f9816c","#fff0dc"],5:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],6:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],7:["#57453b","#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae","#fff0dc"],8:["#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],9:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae"],10:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"],stops:["#7b4238","#c23d33","#ec5244","#f9816c","#ffc4ae"],tags:["dark","reds","sequential","bright","colorblind-friendly"],name:"Red 8"},"seq-purples-bright":{1:["#946bdc"],2:["#5a4a78","#e6e1ff"],3:["#5a4a78","#946bdc","#e6e1ff"],4:["#4e465c","#695291","#aa89e8","#e6e1ff"],5:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],6:["#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],7:["#4e465c","#5a4a78","#775baa","#946bdc","#aa89e8","#d7c4ff","#e6e1ff"],8:["#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],9:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff"],10:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"],stops:["#4e465c","#695291","#8663c3","#aa89e8","#d7c4ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 5"},"seq-blues-bright":{1:["#50a5e7"],2:["#435c6c","#e6faff"],3:["#435c6c","#50a5e7","#e6faff"],4:["#404d54","#48799d","#74bbed","#e6faff"],5:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],6:["#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],7:["#404d54","#435c6c","#4b88b6","#4d96ce","#74bbed","#bce6f9","#e6faff"],8:["#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],9:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9"],10:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"],stops:["#404d54","#48799d","#4d96ce","#74bbed","#bce6f9"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 11"},"seq-greens-bright":{1:["#33b581"],2:["#39544c","#f4ffea"],3:["#39544c","#4bc392","#f4ffea"],4:["#39544c","#368165","#64d2a2","#f4ffea"],5:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],6:["#39544c","#386757","#359b73","#4bc392","#7ce0b3","#f4ffea"],7:["#39544c","#386757","#359b73","#4bc392","#64d2a2","#cbf6d9","#f4ffea"],8:["#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],9:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9"],10:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"],stops:["#39544c","#368165","#33b581","#64d2a2","#cbf6d9"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 8"},"seq-browns-bright":{1:["#eba748"],2:["#524834","#f9e0b7"],3:["#524834","#eba748","#f9e0b7"],4:["#524834","#ae8140","#eeb664","#f9e0b7"],5:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],6:["#524834","#715b38","#ae8140","#eba748","#f0c47f","#fff8eb"],7:["#524834","#715b38","#8f6e3c","#ae8140","#eba748","#f0c47f","#fff8eb"],8:["#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],9:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7"],10:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"],stops:["#715b38","#ae8140","#cc9444","#eeb664","#f9e0b7"],tags:["dark","oranges","browns","sequential","bright","colorblind-friendly"],name:"Yellow 1"},"seq-dark-to-light-magenta-bright":{1:["#ec2e96"],2:["#614149","#fff0ff"],3:["#614149","#ec2e96","#fff0ff"],4:["#7c3d58","#c33381","#ec90c6","#fff0ff"],5:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],6:["#614149","#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],7:["#614149","#7c3d58","#c33381","#ec2e96","#ea6fb6","#ec90c6","#fff0ff"],8:["#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],9:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4"],10:["#614149","#7c3d58","#9f386d","#c33381","#ec2e96","#e84fa6","#ea6fb6","#ec90c6","#edb2d4","#fff0ff"],stops:["#7c3d58","#c33381","#e84fa6","#ec90c6","#fff0ff"],tags:["dark","pinks","sequential","bright","colorblind-friendly"],name:"Pink 4"},"seq-dark-to-light-purple-bright":{1:["#8b87e4"],2:["#4a4672","#f0f0ff"],3:["#4a4672","#8b87e4","#f0f0ff"],4:["#545086","#6f6abb","#aaa7ff","#f0f0ff"],5:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],6:["#4a4672","#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],7:["#545086","#615da1","#6f6abb","#7c77d6","#9b97f1","#aaa7ff","#f0f0ff"],8:["#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],9:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff"],10:["#4a4672","#545086","#615da1","#6f6abb","#7c77d6","#8b87e4","#9b97f1","#aaa7ff","#cdccff","#f0f0ff"],stops:["#545086","#6f6abb","#8b87e4","#aaa7ff","#f0f0ff"],tags:["dark","purples","sequential","bright","colorblind-friendly"],name:"Purple 6"},"seq-dark-to-light-blue-bright":{1:["#5686ff"],2:["#41495f","#e6f5fa"],3:["#41495f","#5686ff","#e6f5fa"],4:["#45537a","#4e6dbd","#96b8fe","#e6f5fa"],5:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],6:["#41495f","#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],7:["#45537a","#49609b","#4e6dbd","#5279de","#769ffe","#96b8fe","#e6f5fa"],8:["#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],9:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd"],10:["#41495f","#45537a","#49609b","#4e6dbd","#5279de","#5686ff","#769ffe","#96b8fe","#b6d1fd","#e6f5fa"],stops:["#45537a","#4e6dbd","#5686ff","#96b8fe","#e6f5fa"],tags:["dark","blues","sequential","bright","colorblind-friendly"],name:"Blue 12"},"seq-dark-to-light-green-bright":{1:["#72c66d"],2:["#3d5439","#f5fff2"],3:["#3d5439","#72c66d","#f5fff2"],4:["#43683f","#5b9756","#b7e3b2","#f5fff2"],5:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],6:["#3d5439","#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],7:["#43683f","#4f804b","#5b9756","#66af62","#95d490","#b7e3b2","#f5fff2"],8:["#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],9:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5"],10:["#3d5439","#43683f","#4f804b","#5b9756","#66af62","#72c66d","#95d490","#b7e3b2","#daf1d5","#f5fff2"],stops:["#43683f","#5b9756","#72c66d","#b7e3b2","#f5fff2"],tags:["dark","greens","sequential","bright","colorblind-friendly"],name:"Green 9"},"seq-brown-to-tan-bright":{1:["#d69253"],2:["#594439","#fff5e6"],3:["#594439","#d69253","#fff5e6"],4:["#744d30","#af6b2f","#ebc39a","#fff5e6"],5:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],6:["#594439","#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],7:["#744d30","#915c30","#af6b2f","#cc7a2f","#e1ab76","#ebc39a","#fff5e6"],8:["#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],9:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd"],10:["#594439","#744d30","#915c30","#af6b2f","#cc7a2f","#d69253","#e1ab76","#ebc39a","#f5dbbd","#fff5e6"],stops:["#744d30","#af6b2f","#d69253","#ebc39a","#fff5e6"],tags:["dark","browns","sequential","bright","colorblind-friendly"],name:"Brown 1"},"seq-lightgray-blue-bright":{1:["#6e8d99"],2:["#325361","#faefdb"],3:["#325361","#6e8d99","#faefdb"],4:["#325361","#2f7589","#bcb4a6","#faefdb"],5:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],6:["#325361","#316475","#2e859c","#bcb4a6","#dbd2c0","#faefdb"],7:["#325361","#316475","#2e859c","#6e8d99","#bcb4a6","#dbd2c0","#faefdb"],8:["#325361","#316475","#2f7589","#2e859c","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#325361","#316475","#2f7589","#2e859c","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#325361","#316475","#2f7589","#2e859c","#2c96b0","#6e8d99","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#325361","#2f7589","#6e8d99","#bcb4a6","#faefdb"],tags:["dark","blues","sequential","grays","colorblind-friendly"],name:"Blue 13"},"seq-lightgray-green-bright":{1:["#6f9988"],2:["#2c593f","#e6f4ff"],3:["#2c593f","#6f9988","#e6f4ff"],4:["#2c593f","#387c55","#aab5c0","#e6f4ff"],5:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],6:["#2e6a46","#387c55","#4ba072","#8c96a0","#aab5c0","#e6f4ff"],7:["#2e6a46","#387c55","#418e63","#6f9988","#8c96a0","#aab5c0","#e6f4ff"],8:["#2e6a46","#387c55","#418e63","#4ba072","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],9:["#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],10:["#2c593f","#2e6a46","#387c55","#418e63","#4ba072","#6f9988","#8c96a0","#aab5c0","#c8d5df","#e6f4ff"],stops:["#2c593f","#387c55","#6f9988","#aab5c0","#e6f4ff"],tags:["dark","greens","sequential","grays","colorblind-friendly"],name:"Green 10"},"seq-lightgray-darkmagenta-bright":{1:["#a3829b"],2:["#5c3a5b","#faefdb"],3:["#5c3a5b","#a3829b","#faefdb"],4:["#5c3a5b","#864d84","#bcb4a6","#faefdb"],5:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],6:["#5c3a5b","#71446f","#9b5798","#9d978b","#bcb4a6","#faefdb"],7:["#5c3a5b","#71446f","#9b5798","#a3829b","#9d978b","#bcb4a6","#faefdb"],8:["#5c3a5b","#71446f","#864d84","#9b5798","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],9:["#5c3a5b","#71446f","#864d84","#9b5798","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],10:["#5c3a5b","#71446f","#864d84","#9b5798","#b060ac","#a3829b","#9d978b","#bcb4a6","#dbd2c0","#faefdb"],stops:["#5c3a5b","#864d84","#a3829b","#bcb4a6","#faefdb"],tags:["dark","purples","sequential","grays","colorblind-friendly"],name:"Purple 7"},"seq-yellow-darkblue-bright":{1:["#799a96"],2:["#3a4d6b","#ffec99"],3:["#3a4d6b","#799a96","#ffec99"],4:["#3a4d6b","#3d6da2","#ccbe6a","#ffec99"],5:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],6:["#3b5d87","#3d6da2","#3e7cbe","#b3a752","#ccbe6a","#ffec99"],7:["#3b5d87","#3d6da2","#3e7cbe","#799a96","#b3a752","#ccbe6a","#ffec99"],8:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#3a4d6b","#3b5d87","#3d6da2","#3e7cbe","#3f8cd9","#799a96","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#3a4d6b","#3d6da2","#799a96","#ccbe6a","#ffec99"],tags:["dark","blues","yellows","sequential","colorblind-friendly"],name:"Blue 14"},"seq-lightred-darkgray-bright":{1:["#948889"],2:["#484c59","#ffe9e6"],3:["#484c59","#948889","#ffe9e6"],4:["#484c59","#63687a","#e0b9b5","#ffe9e6"],5:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],6:["#484c59","#63687a","#71768a","#c18983","#f0d1cd","#ffe9e6"],7:["#484c59","#63687a","#71768a","#948889","#d1a19c","#f0d1cd","#ffe9e6"],8:["#484c59","#565a69","#63687a","#71768a","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],9:["#484c59","#565a69","#63687a","#71768a","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],10:["#484c59","#565a69","#63687a","#71768a","#948889","#c18983","#d1a19c","#e0b9b5","#f0d1cd","#ffe9e6"],stops:["#484c59","#63687a","#948889","#e0b9b5","#ffe9e6"],tags:["light","pinks","grays","sequential","subdued","colorblind-friendly"],name:"Pink 5"},"seq-lightmagenta-darkgray-bright":{1:["#9e8998"],2:["#4d4d41","#ffe1ff"],3:["#4d4d41","#9e8998","#ffe1ff"],4:["#4d4d41","#77756a","#e8a3e8","#ffe1ff"],5:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],6:["#4d4d41","#626155","#77756a","#dd83dd","#e8a3e8","#ffe1ff"],7:["#4d4d41","#626155","#77756a","#9e8998","#dd83dd","#e8a3e8","#ffe1ff"],8:["#4d4d41","#626155","#77756a","#8c897e","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],9:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],10:["#4d4d41","#626155","#77756a","#8c897e","#9e8998","#d164d1","#dd83dd","#e8a3e8","#f4c2f4","#ffe1ff"],stops:["#4d4d41","#77756a","#9e8998","#e8a3e8","#ffe1ff"],tags:["dark","purples","grays","sequential","bright","colorblind-friendly"],name:"Purple 8"},"seq-lightblue-darkgray-bright":{1:["#7d8e93"],2:["#4c4a44","#d9fcff"],3:["#4c4a44","#7d8e93","#d9fcff"],4:["#4c4a44","#6d6a63","#9cd2dc","#d9fcff"],5:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],6:["#4c4a44","#5c5a53","#6d6a63","#7ebdca","#9cd2dc","#d9fcff"],7:["#4c4a44","#5c5a53","#6d6a63","#7d8e93","#7ebdca","#9cd2dc","#d9fcff"],8:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],9:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],10:["#4c4a44","#5c5a53","#6d6a63","#7d7a72","#7d8e93","#5fa8b8","#7ebdca","#9cd2dc","#bbe7ed","#d9fcff"],stops:["#4c4a44","#6d6a63","#7d8e93","#9cd2dc","#d9fcff"],tags:["dark","blues","sequential","grays","bright","colorblind-friendly"],name:"Blue 15"},"seq-blue-bright-1":{1:["#00ffff"],2:["#007b7b","#00ffff"],3:["#007b7b","#00a4a4","#00ffff"],4:["#005353","#007b7b","#00a4a4","#00ffff"],5:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],6:["#005353","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],7:["#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],8:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00cccc","#00ffff"],9:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00ffff"],10:["#003f3f","#005353","#006767","#007b7b","#009090","#00a4a4","#00b8b8","#00cccc","#00e0e0","#00ffff"],stops:["#005353","#007b7b","#00a4a4","#00cccc","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 16"},"seq-green-bright-1":{1:["#00ffaa"],2:["#007e4f","#00ffaa"],3:["#007e4f","#00a76a","#00ffaa"],4:["#005435","#007e4f","#00a76a","#00ffaa"],5:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],6:["#005435","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],7:["#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],8:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00d184","#00ffaa"],9:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00ffaa"],10:["#003f28","#005435","#006942","#007e4f","#00935c","#00a76a","#00bc77","#00d184","#00e691","#00ffaa"],stops:["#005435","#007e4f","#00a76a","#00d184","#00ffaa"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 11"},"seq-green-bright-2":{1:["#00ff00"],2:["#007f00","#00ff00"],3:["#007f00","#00aa00","#00ff00"],4:["#005400","#007f00","#00aa00","#00ff00"],5:["#005400","#007f00","#00aa00","#00d400","#00ff00"],6:["#005400","#007f00","#009400","#00aa00","#00d400","#00ff00"],7:["#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],8:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00d400","#00ff00"],9:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ff00"],10:["#003f00","#005400","#006a00","#007f00","#009400","#00aa00","#00bf00","#00d400","#00ea00","#00ff00"],stops:["#005400","#007f00","#00aa00","#00d400","#00ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 12"},"seq-green-bright-3":{1:["#b2ff56"],2:["#537f1d","#b2ff56"],3:["#537f1d","#73aa30","#b2ff56"],4:["#34540a","#537f1d","#73aa30","#b2ff56"],5:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],6:["#34540a","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],7:["#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],8:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#92d443","#b2ff56"],9:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#b2ff56"],10:["#243f00","#34540a","#446a13","#537f1d","#639426","#73aa30","#83bf39","#92d443","#a2ea4c","#b2ff56"],stops:["#34540a","#537f1d","#73aa30","#92d443","#b2ff56"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 13"},"seq-blue-bright-2":{1:["#8378ff"],2:["#4c33cc","#8378ff"],3:["#4c33cc","#6040ff","#8378ff"],4:["#392699","#4c33cc","#6040ff","#8378ff"],5:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],6:["#392699","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],7:["#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],8:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#765cff","#8378ff"],9:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#8378ff"],10:["#2f2080","#392699","#432db3","#4c33cc","#563ae6","#6040ff","#6f4eff","#765cff","#7c6aff","#8378ff"],stops:["#392699","#4c33cc","#6040ff","#765cff","#8378ff"],tags:["dark","blues","bright","sequential"],name:"Blue 17"},"seq-blue-bright-3":{1:["#4d91ff"],2:["#3039b7","#4d91ff"],3:["#3039b7","#3948e1","#4d91ff"],4:["#2b2e80","#3039b7","#3948e1","#4d91ff"],5:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],6:["#2b2e80","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],7:["#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],8:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#445bff","#4d91ff"],9:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4d91ff"],10:["#282864","#2b2e80","#2e349b","#3039b7","#333fd3","#3948e1","#3e52f0","#445bff","#4976ff","#4d91ff"],stops:["#2b2e80","#3039b7","#3948e1","#445bff","#4d91ff"],tags:["dark","blues","bright","sequential"],name:"Blue 18"},"seq-blue-bright-4":{1:["#00b7ff"],2:["#0062a8","#00b7ff"],3:["#0062a8","#007cd3","#00b7ff"],4:["#00497c","#0062a8","#007cd3","#00b7ff"],5:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],6:["#00497c","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],7:["#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],8:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0095ff","#00b7ff"],9:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#00b7ff"],10:["#003c66","#00497c","#005592","#0062a8","#006fbd","#007cd3","#0088e9","#0095ff","#009cff","#00b7ff"],stops:["#00497c","#0062a8","#007cd3","#0095ff","#00b7ff"],tags:["dark","blues","bright","sequential"],name:"Blue 19"},"seq-blue-bright-5":{1:["#00ddff"],2:["#006a85","#00ddff"],3:["#006a85","#008bae","#00ddff"],4:["#004a5d","#006a85","#008bae","#00ddff"],5:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],6:["#004a5d","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],7:["#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],8:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#00aed6","#00ddff"],9:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00ddff"],10:["#003a49","#004a5d","#005a71","#006a85","#007b9a","#008bae","#009bc2","#00aed6","#00c6eb","#00ddff"],stops:["#004a5d","#006a85","#008bae","#00aed6","#00ddff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 20"},"seq-red-purple-bright":{1:["#bf66ff"],2:["#6a27a0","#bf66ff"],3:["#6a27a0","#8531c1","#bf66ff"],4:["#4d267d","#6a27a0","#8531c1","#bf66ff"],5:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],6:["#4d267d","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],7:["#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],8:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#9f44e0","#bf66ff"],9:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#bf66ff"],10:["#3e256b","#4d267d","#5b268e","#6a27a0","#7827b1","#8531c1","#923ad0","#9f44e0","#af55ef","#bf66ff"],stops:["#4d267d","#6a27a0","#8531c1","#9f44e0","#bf66ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 9"},"seq-red-magenta-bright":{1:["#ff00ff"],2:["#750580","#ff00ff"],3:["#750580","#9c00aa","#ff00ff"],4:["#4e0f55","#750580","#9c00aa","#ff00ff"],5:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],6:["#4e0f55","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],7:["#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],8:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#ca00d4","#ff00ff"],9:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#ff00ff"],10:["#3b1440","#4e0f55","#620a6b","#750580","#880095","#9c00aa","#af00bf","#ca00d4","#e400ea","#ff00ff"],stops:["#4e0f55","#750580","#9c00aa","#ca00d4","#ff00ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 10"},"seq-red-bright-3":{1:["#ff4a0d"],2:["#83080a","#ff4a0d"],3:["#83080a","#b20000","#ff4a0d"],4:["#531717","#83080a","#b20000","#ff4a0d"],5:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],6:["#531717","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],7:["#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],8:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#df0000","#ff4a0d"],9:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ff4a0d"],10:["#3b1e1e","#531717","#6b1010","#83080a","#9b0103","#b20000","#c80000","#df0000","#ef2607","#ff4a0d"],stops:["#531717","#83080a","#b20000","#df0000","#ff4a0d"],tags:["dark","reds","bright","sequential","colorblind-friendly"],name:"Red 9"},"seq-red-bright-4":{1:["#ffa200"],2:["#914505","#ffa200"],3:["#914505","#c85700","#ffa200"],4:["#582c0e","#914505","#c85700","#ffa200"],5:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],6:["#582c0e","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],7:["#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],8:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#ff6e00","#ffa200"],9:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ffa200"],10:["#402315","#582c0e","#743909","#914505","#ad5100","#c85700","#e46300","#ff6e00","#ff8800","#ffa200"],stops:["#582c0e","#914505","#c85700","#ff6e00","#ffa200"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Orange 6"},"seq-yellow-bright-1":{1:["#ffc800"],2:["#886200","#ffc800"],3:["#886200","#b78300","#ffc800"],4:["#584100","#886200","#b78300","#ffc800"],5:["#584100","#886200","#b78300","#e7a300","#ffc800"],6:["#584100","#886200","#a07200","#b78300","#e7a300","#ffc800"],7:["#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],8:["#403000","#584100","#705100","#886200","#a07200","#b78300","#e7a300","#ffc800"],9:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffc800"],10:["#403000","#584100","#705100","#886200","#a07200","#b78300","#cf9300","#e7a300","#ffb400","#ffc800"],stops:["#584100","#886200","#b78300","#e7a300","#ffc800"],tags:["dark","browns","oranges","bright","sequential","colorblind-friendly"],name:"Yellow 2"},"seq-yellow-bright-2":{1:["#ffdd00"],2:["#7a6a00","#ffdd00"],3:["#7a6a00","#a79100","#ffdd00"],4:["#4e4400","#7a6a00","#a79100","#ffdd00"],5:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],6:["#4e4400","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],7:["#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],8:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#d3b700","#ffdd00"],9:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#ffdd00"],10:["#383100","#4e4400","#645700","#7a6a00","#907d00","#a79100","#bda400","#d3b700","#e9ca00","#ffdd00"],stops:["#4e4400","#7a6a00","#a79100","#d3b700","#ffdd00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 3"},"seq-yellow-bright-3":{1:["#ffff00"],2:["#757500","#ffff00"],3:["#757500","#a3a300","#ffff00"],4:["#474700","#757500","#a3a300","#ffff00"],5:["#474700","#757500","#a3a300","#d1d100","#ffff00"],6:["#474700","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],7:["#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],8:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#d1d100","#ffff00"],9:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#ffff00"],10:["#303000","#474700","#5e5e00","#757500","#8c8c00","#a3a300","#baba00","#d1d100","#e8e800","#ffff00"],stops:["#474700","#757500","#a3a300","#d1d100","#ffff00"],tags:["dark","yellows","bright","sequential","colorblind-friendly"],name:"Yellow 4"},"seq-yellow-bright-4":{1:["#d0ff00"],2:["#637900","#d0ff00"],3:["#637900","#87a600","#d0ff00"],4:["#3e4c00","#637900","#87a600","#d0ff00"],5:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],6:["#3e4c00","#637900","#758f00","#87a600","#acd200","#d0ff00"],7:["#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],8:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#acd200","#d0ff00"],9:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#d0ff00"],10:["#2c3600","#3e4c00","#506300","#637900","#758f00","#87a600","#99bc00","#acd200","#bee900","#d0ff00"],stops:["#3e4c00","#637900","#87a600","#acd200","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 14"},"seq-yellow-gray-bright":{1:["#ffff00"],2:["#68655d","#ffff00"],3:["#68655d","#959258","#ffff00"],4:["#45423b","#68655d","#959258","#ffff00"],5:["#45423b","#68655d","#959258","#cac92c","#ffff00"],6:["#45423b","#68655d","#7a776e","#959258","#cac92c","#ffff00"],7:["#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],8:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#cac92c","#ffff00"],9:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#ffff00"],10:["#33312a","#45423b","#57544c","#68655d","#7a776e","#959258","#afad42","#cac92c","#e4e416","#ffff00"],stops:["#45423b","#68655d","#959258","#cac92c","#ffff00"],tags:["dark","yellows","grays","bright","sequential","colorblind-friendly"],name:"Yellow 5"},"seq-green-gray-bright":{1:["#aaff00"],2:["#5b695b","#aaff00"],3:["#5b695b","#789753","#aaff00"],4:["#3b453b","#5b695b","#789753","#aaff00"],5:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],6:["#3b453b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],7:["#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],8:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#91cc26","#aaff00"],9:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#aaff00"],10:["#2b332b","#3b453b","#4b574b","#5b695b","#6b7b6b","#789753","#84b33a","#91cc26","#9de613","#aaff00"],stops:["#3b453b","#5b695b","#789753","#91cc26","#aaff00"],tags:["dark","greens","grays","bright","sequential","colorblind-friendly"],name:"Green 15"},"seq-blue-gray-bright":{1:["#00ffff"],2:["#455873","#00ffff"],3:["#455873","#3f83a1","#00ffff"],4:["#2f3f56","#455873","#3f83a1","#00ffff"],5:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],6:["#2f3f56","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],7:["#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],8:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#1ec1d5","#00ffff"],9:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#00ffff"],10:["#243247","#2f3f56","#3a4b65","#455873","#506482","#3f83a1","#2da2c0","#1ec1d5","#0fe0ea","#00ffff"],stops:["#2f3f56","#455873","#3f83a1","#1ec1d5","#00ffff"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 21"},"seq-red-gray-bright":{1:["#ff80ff"],2:["#54504c","#ff80ff"],3:["#54504c","#ab3da9","#ff80ff"],4:["#3b3734","#54504c","#ab3da9","#ff80ff"],5:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],6:["#3b3734","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],7:["#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],8:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#eb44e8","#ff80ff"],9:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#ff80ff"],10:["#2e2b28","#3b3734","#474440","#54504c","#6b506b","#ab3da9","#de25da","#eb44e8","#f261f1","#ff80ff"],stops:["#3b3734","#54504c","#ab3da9","#eb44e8","#ff80ff"],tags:["dark","pinks","purples","grays","bright","sequential","colorblind-friendly"],name:"Pink 6"},"seq-gray-redbright":{1:["#d4d1ce"],2:["#892520","#d4d1ce"],3:["#892520","#8c6e62","#d4d1ce"],4:["#680000","#892520","#8c6e62","#d4d1ce"],5:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],6:["#680000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],7:["#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],8:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#ada297","#d4d1ce"],9:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#d4d1ce"],10:["#4d0000","#680000","#830000","#892520","#8e493f","#8c6e62","#998b7c","#ada297","#c0bab3","#d4d1ce"],stops:["#680000","#892520","#8c6e62","#ada297","#d4d1ce"],tags:["dark","reds","grays","sequential","colorblind-friendly"],name:"Red 10"},"seq-gray-green-bright":{1:["#c8d7c8"],2:["#217c31","#c8d7c8"],3:["#217c31","#68876c","#c8d7c8"],4:["#00590f","#217c31","#68876c","#c8d7c8"],5:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],6:["#00590f","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],7:["#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],8:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#9baa9b","#c8d7c8"],9:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#c8d7c8"],10:["#003f0a","#00590f","#007215","#217c31","#42864d","#68876c","#849384","#9baa9b","#b1c0b1","#c8d7c8"],stops:["#00590f","#217c31","#68876c","#9baa9b","#c8d7c8"],tags:["dark","greens","grays","sequential","colorblind-friendly"],name:"Green 16"},"seq-gray-blue-bright":{1:["#b0c4d8"],2:["#1d3bef","#b0c4d8"],3:["#1d3bef","#5b6da6","#b0c4d8"],4:["#0010d9","#1d3bef","#5b6da6","#b0c4d8"],5:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],6:["#0010d9","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],7:["#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],8:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#8d9fb7","#b0c4d8"],9:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#b0c4d8"],10:["#0000b3","#0010d9","#0020ff","#1d3bef","#3956df","#5b6da6","#7c8ca6","#8d9fb7","#9fb1c7","#b0c4d8"],stops:["#0010d9","#1d3bef","#5b6da6","#8d9fb7","#b0c4d8"],tags:["dark","blues","grays","bright","sequential","colorblind-friendly"],name:"Blue 22"},"seq-gray-purple-bright":{1:["#c4bedc"],2:["#6535a6","#c4bedc"],3:["#6535a6","#7d6aa1","#c4bedc"],4:["#481295","#6535a6","#7d6aa1","#c4bedc"],5:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],6:["#481295","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],7:["#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],8:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#9e97b8","#c4bedc"],9:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#c4bedc"],10:["#3a008c","#481295","#57239e","#6535a6","#7346af","#7d6aa1","#8b83a6","#9e97b8","#b1aaca","#c4bedc"],stops:["#481295","#6535a6","#7d6aa1","#9e97b8","#c4bedc"],tags:["dark","purples","grays","sequential","colorblind-friendly"],name:"Purple 11"},"seq-plaingray-bright":{1:["#f7f7f7"],2:["#686868","#f7f7f7"],3:["#686868","#8c8c8c","#f7f7f7"],4:["#454545","#686868","#8c8c8c","#f7f7f7"],5:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],6:["#454545","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],7:["#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],8:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#c2c2c2","#f7f7f7"],9:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#f7f7f7"],10:["#333333","#454545","#575757","#686868","#7a7a7a","#8c8c8c","#a7a7a7","#c2c2c2","#dcdcdc","#f7f7f7"],stops:["#454545","#686868","#8c8c8c","#c2c2c2","#f7f7f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 2"},"seq-greengray-bright":{1:["#f2f7f5"],2:["#5c6864","#f2f7f5"],3:["#5c6864","#7e8c87","#f2f7f5"],4:["#3a4541","#5c6864","#7e8c87","#f2f7f5"],5:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],6:["#3a4541","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],7:["#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],8:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#b8c2be","#f2f7f5"],9:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#f2f7f5"],10:["#29332f","#3a4541","#4b5752","#5c6864","#6d7a75","#7e8c87","#9ba7a3","#b8c2be","#d5dcda","#f2f7f5"],stops:["#3a4541","#5c6864","#7e8c87","#b8c2be","#f2f7f5"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 3"},"seq-coolgray-bright":{1:["#f0f4f7"],2:["#566068","#f0f4f7"],3:["#566068","#78838c","#f0f4f7"],4:["#353d45","#566068","#78838c","#f0f4f7"],5:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],6:["#353d45","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],7:["#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],8:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#b4bcc2","#f0f4f7"],9:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#f0f4f7"],10:["#242c33","#353d45","#464f57","#566068","#67727a","#78838c","#969fa7","#b4bcc2","#d2d8dc","#f0f4f7"],stops:["#353d45","#566068","#78838c","#b4bcc2","#f0f4f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 4"},"seq-warmgray-bright":{1:["#f7f5f7"],2:["#686268","#f7f5f7"],3:["#686268","#8c858c","#f7f5f7"],4:["#453f45","#686268","#8c858c","#f7f5f7"],5:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],6:["#453f45","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],7:["#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],8:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#c8c2c8","#f7f5f7"],9:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#f7f5f7"],10:["#332d33","#453f45","#575057","#686268","#7a737a","#8c858c","#b1aab1","#c8c2c8","#e0dce0","#f7f5f7"],stops:["#453f45","#686268","#8c858c","#c8c2c8","#f7f5f7"],tags:["dark","grays","sequential","colorblind-friendly"],name:"Gray 5"},"seq-yellow-green-combo-bright":{1:["#d0ff00"],2:["#008c1a","#d0ff00"],3:["#008c1a","#00bf25","#d0ff00"],4:["#00590f","#008c1a","#00bf25","#d0ff00"],5:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],6:["#00590f","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],7:["#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],8:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#76df13","#d0ff00"],9:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#d0ff00"],10:["#003f0a","#00590f","#007215","#008c1a","#00a520","#00bf25","#49cf1c","#76df13","#a3ef09","#d0ff00"],stops:["#00590f","#008c1a","#00bf25","#76df13","#d0ff00"],tags:["dark","greens","bright","sequential","colorblind-friendly"],name:"Green 17"},"seq-cyan-blue-combo-bright":{1:["#00ffff"],2:["#0040ff","#00ffff"],3:["#0040ff","#0080ff","#00ffff"],4:["#0010d9","#0040ff","#0080ff","#00ffff"],5:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],6:["#0010d9","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],7:["#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],8:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#00bfff","#00ffff"],9:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00ffff"],10:["#0000b3","#0010d9","#0020ff","#0040ff","#0060ff","#0080ff","#009fff","#00bfff","#00dfff","#00ffff"],stops:["#0010d9","#0040ff","#0080ff","#00bfff","#00ffff"],tags:["dark","blues","bright","sequential","colorblind-friendly"],name:"Blue 23"},"seq-magenta-purple-combo-bright":{1:["#e566ff"],2:["#690cc2","#e566ff"],3:["#690cc2","#8f14f7","#e566ff"],4:["#43048d","#690cc2","#8f14f7","#e566ff"],5:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],6:["#43048d","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],7:["#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],8:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#b63df4","#e566ff"],9:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#e566ff"],10:["#300073","#43048d","#5608a8","#690cc2","#7c10dd","#8f14f7","#9f29ee","#b63df4","#ce52f9","#e566ff"],stops:["#43048d","#690cc2","#8f14f7","#b63df4","#e566ff"],tags:["dark","purples","bright","sequential","colorblind-friendly"],name:"Purple 13"},"seq-magenta":{stops:["#4D394D","#6C2F68","#901F8A","#C700BB","#FF33F3"],tags:["dark","pinks","sequential","colorblind-friendly"],name:"Magenta 1"},"seq-red":{stops:["#452D31","#6C2F39","#901F32","#C70021","#FF3355"],tags:["dark","reds","sequential","colorblind-friendly"],name:"Red 11"},"seq-orange":{stops:["#4D4139","#6F4222","#91430B","#B84D00","#FF6900"],tags:["dark","oranges","sequential","colorblind-friendly"],name:"Orange 7"},"seq-yellow":{stops:["#453F1C","#665B1F","#887922","#B39E27","#F9D70E"],tags:["dark","yellows","sequential","colorblind-friendly"],name:"Yellow 6"},"seq-yellowgreen":{stops:["#37451C","#4B5E1D","#6B8822","#8EB327","#A8E000"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 18"},"seq-green":{stops:["#234028","#23642E","#228833","#27B33E","#2DE64B"],tags:["dark","greens","sequential","colorblind-friendly"],name:"Green 19"},"seq-turquoise":{stops:["#1C4542","#1C5955","#218279","#29BAAD","#00FFEA"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Turquoise 1"},"seq-royal":{stops:["#1F3D4D","#204F66","#226687","#298ABA","#33BBFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Royal Blue 1"},"seq-blueberry":{stops:["#3D3D66","#5E5EAA","#6C6CB8","#8888D5","#A5A5F1"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 14"},"seq-purple":{stops:["#453A59","#5A4089","#6E46B9","#8050DC","#9259FF"],tags:["dark","purples","sequential","colorblind-friendly"],name:"Purple 15"},"seq-brown":{stops:["#40312D","#6D5048","#996F63","#CCA391","#FFD7BE"],tags:["dark","browns","sequential","colorblind-friendly"],name:"Brown 2"},"seq-blue":{stops:["#273859","#4A5D83","#6D81AC","#8FA5D6","#B2CAFF"],tags:["dark","blues","sequential","colorblind-friendly"],name:"Blue 24"},"seq-red-darkblue":{stops:["#3a454d","#435955","#645b4b","#964c2f","#cc3d3d"],tags:["dark","reds","sequential","3d","colorblind-friendly"],name:"Red 12"},"seq-purple-darkgreen":{stops:["#403f19","#594411","#804141","#a63a8b","#992fe6"],tags:["dark","purples","sequential","3d","colorblind-friendly"],name:"Purple 16"},"seq-blue-darkgreen":{stops:["#403c26","#57591f","#4b7345","#387c8c","#3c98f2"],tags:["dark","blues","sequential","3d","colorblind-friendly"],name:"Blue 25"},"seq-green-darkpurple":{stops:["#4d434d","#665347","#807119","#4d9900","#00c484"],tags:["dark","greens","sequential","3d","colorblind-friendly"],name:"Green 20"},"seq-blue-gray":{stops:["#494d49","#606644","#7d802d","#77a66e","#51c8e6"],tags:["dark","greens","blues","sequential","3d","colorblind-friendly"],name:"Blue 26"},"seq-magenta-light":{stops:["#D9CFD9","#C6A3C4","#B377B0","#9F4C9B","#85007D"],tags:["light","pinks","sequential","colorblind-friendly"],name:"Magenta 2"},"seq-red-light":{stops:["#D9CACA","#D09898","#C66565","#BD3333","#A60000"],tags:["light","reds","sequential","colorblind-friendly"],name:"Red 13"},"seq-orange-light":{stops:["#D9D0C3","#D6BA92","#D3A462","#CF8E31","#BF7000"],tags:["light","oranges","browns","sequential","colorblind-friendly"],name:"Orange 8"},"seq-mustard-light":{stops:["#D9D8C3","#CCC992","#C0BB62","#969131","#807900"],tags:["light","yellows","sequential","colorblind-friendly"],name:"Mustard"},"seq-yellowgreen-light":{stops:["#D5D9C3","#bac392","#a0ac62","#859631","#6a8000"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 21"},"seq-green-light":{stops:["#C3D9C7","#92C99C","#62B970","#31A945","#008C17"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 22"},"seq-aqua-light":{stops:["#C3D9D7","#8FD3CD","#5BCDC3","#26C2B5","#00A698"],tags:["light","greens","sequential","colorblind-friendly"],name:"Green 23"},"seq-cyan-light":{stops:["#CAD2D9","#98C9E3","#6DC2EC","#45B0E6","#0099E6"],tags:["light","blues","sequential","colorblind-friendly"],name:"Royal Blue 2"},"seq-blue-light":{stops:["#CACCD9","#A8B1E3","#8595EC","#6076ED","#405FFF"],tags:["light","purples","blues","sequential","colorblind-friendly"],name:"Blue 27"},"seq-purple-light":{stops:["#CAC3D9","#B1A1D3","#997FCC","#805CC5","#673ABF"],tags:["light","purples","sequential","colorblind-friendly"],name:"Purple 17"},"seq-brown-light":{stops:["#D9C8C3","#C0A69E","#A68479","#8D6153","#733F2E"],tags:["light","browns","sequential","colorblind-friendly"],name:"Brown 3"},"seq-steel-light":{stops:["#C3CAD9","#a9b3c9","#8898c0","#6d7fad","#505e85"],tags:["light","blues","sequential","colorblind-friendly"],name:"Blue 28"},"seq-brown-palegreen":{stops:["#cceedc","#95baa4","#857c4f","#995d08","#8c1515"],tags:["light","greens","browns","sequential","3d","colorblind-friendly"],name:"Green and Brown 2"},"seq-purple-pink-yellow":{stops:["#fff966","#ebb42f","#bf6060","#8c256a","#6f158c"],tags:["light","yellows","purples","sequential","3d","colorblind-friendly"],name:"Purple and Yellow 5"},"seq-blue-green-yellow":{stops:["#ffee99","#d4d94c","#77b46c","#3d8799","#2b57d9"],tags:["light","yellows","blues","greens","sequential","3d","colorblind-friendly"],name:"Blue and Yellow 12"},"seq-green-avocado-lightpurple":{stops:["#ffd9ff","#d1aa9d","#8c8746","#4e8043","#006655"],tags:["light","purples","greens","sequential","3d","colorblind-friendly"],name:"Purple and Green 12"},"seq-turquoise-lightgreen":{stops:["#dae6c8","#c2d182","#97ba66","#5c997c","#2c8499"],tags:["light","blues","greens","sequential","3d","colorblind-friendly"],name:"Green and Blue 10"},"seq-red-brown-white":{stops:["#ffffff","#e6d889","#c0974c","#99550f","#8c1515"],tags:["light","reds","sequential","3d","colorblind-friendly"],name:"Red 14"},"seq-purple-pink-white":{stops:["#ffffff","#e6d889","#b97f7a","#8c256a","#6f158c"],tags:["light","purples","sequential","3d","colorblind-friendly"],name:"Purple 18"},"seq-blue-green-white":{stops:["#ffffff","#dee689","#81a683","#3d8799","#2b57d9"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green and Blue 11"},"seq-green-avocado-white":{stops:["#ffffff","#d9b098","#90b445","#428200","#006e5c"],tags:["light","greens","sequential","3d","colorblind-friendly"],name:"Green 24"},"seq-turquoise-lightgreen-white":{stops:["#ffffff","#d2e096","#c7cc47","#78a66f","#308fa6"],tags:["light","greens","blues","sequential","3d","colorblind-friendly"],name:"Green 25"},"seq-subdued-red-yellow":{1:["#eecb9a"],2:["#c06677","#eecb9a"],3:["#c06677","#e09d85","#eecb9a"],4:["#c06677","#e09d85","#e7b48f","#eecb9a"],5:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],6:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],7:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#faebc8"],8:["#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],9:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#faebc8"],10:["#b35675","#c06677","#cc7678","#d9867a","#e09d85","#e7b48f","#eecb9a","#f2d6a9","#f6e0b9","#faebc8"],stops:["#c06677","#d9867a","#e09d85","#e7b48f","#eecb9a"],tags:["light","reds","yellows","subdued","sequential","colorblind-friendly"],name:"Sunburned Skies"},"seq-subdued-purple-blue":{1:["#a586c2"],2:["#a586c2","#afd1e9"],3:["#9972b0","#b299d4","#afd1e9"],4:["#9972b0","#b299d4","#afd1e9","#d2e5f2"],5:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],6:["#9972b0","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],7:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#d2e5f2"],8:["#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],9:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2"],10:["#8c5f9e","#9972b0","#a586c2","#b299d4","#b1acdb","#b0bee2","#afd1e9","#c0dbee","#d2e5f2","#e3eff7"],stops:["#9972b0","#b299d4","#b0bee2","#afd1e9","#d2e5f2"],tags:["light","blues","purples","subdued","sequential","colorblind-friendly"],name:"Winter Solstice"},"seq-subdued-blue-cyan":{1:["#8ac3d3"],2:["#6780b0","#8ac3d3"],3:["#6780b0","#8ac3d3","#afd8e0"],4:["#5870a0","#768fbf","#8ac3d3","#afd8e0"],5:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],6:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#afd8e0","#d4eded"],7:["#5870a0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],8:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#d4eded"],9:["#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],10:["#496191","#5870a0","#6780b0","#768fbf","#80a9c9","#8ac3d3","#9dcdda","#afd8e0","#c2e3e7","#d4eded"],stops:["#5870a0","#768fbf","#8ac3d3","#afd8e0","#d4eded"],tags:["light","blues","subdued","sequential","colorblind-friendly"],name:"Silky Sapphire"},"seq-subdued-green-yellow":{1:["#d0c8a0"],2:["#78835f","#d0c8a0"],3:["#78835f","#d0c8a0","#f7e9cc"],4:["#78835f","#a5b386","#d0c8a0","#f7e9cc"],5:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],6:["#78835f","#a5b386","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],7:["#78835f","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],8:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc"],9:["#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],10:["#616b4b","#78835f","#8e9b72","#a5b386","#bbbd93","#d0c8a0","#e6d2ad","#eedebd","#f7e9cc","#fff5dc"],stops:["#78835f","#a5b386","#d0c8a0","#eedebd","#f7e9cc"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Sansevieria"},"seq-subdued-green":{1:["#99c5b6"],2:["#99c5b6","#e3f1d2"],3:["#4d8c8c","#99c5b6","#e3f1d2"],4:["#4d8c8c","#99c5b6","#cbe0b2","#e3f1d2"],5:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],6:["#4d8c8c","#6fa9aa","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],7:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#e3f1d2"],8:["#4d8c8c","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],9:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2"],10:["#4d8c8c","#5e9a9b","#6fa9aa","#80b7b8","#99c5b6","#b2d2b4","#cbe0b2","#d7e9c2","#e3f1d2","#effae2"],stops:["#4d8c8c","#6fa9aa","#99c5b6","#cbe0b2","#e3f1d2"],tags:["light","greens","subdued","sequential","colorblind-friendly"],name:"Garden Grass"},"seq-subdued-brown-tan":{1:["#91595c"],2:["#e8c29c","#91595c"],3:["#e8c29c","#b78165","#91595c"],4:["#e8c29c","#b78165","#a6695c","#91595c"],5:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],6:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c","#664755"],7:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#664755"],8:["#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],9:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#664755"],10:["#f9d6b3","#e8c29c","#d8ae84","#c79a6d","#b78165","#a6695c","#91595c","#7f5158","#734c56","#664755"],stops:["#e8c29c","#c79a6d","#b78165","#a6695c","#91595c"],tags:["dark","browns","subdued","sequential","colorblind-friendly"],name:"Golden Glory"},"seq-subdued-gray-green":{1:["#4a6989"],2:["#9fd5d0","#4a6989"],3:["#9fd5d0","#619aa1","#4a6989"],4:["#9fd5d0","#619aa1","#568295","#4a6989"],5:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],6:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],7:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#454f59"],8:["#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],9:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#454f59"],10:["#b8e6e2","#9fd5d0","#86c4bf","#6db3ad","#619aa1","#568295","#4a6989","#496179","#475869","#454f59"],stops:["#9fd5d0","#6db3ad","#619aa1","#568295","#4a6989"],tags:["dark","greens","grays","subdued","sequential","colorblind-friendly"],name:"Morning Dew"},"seq-subdued-green-tan":{1:["#546d3f"],2:["#c2c5a1","#546d3f"],3:["#c2c5a1","#7f8c62","#546d3f"],4:["#c2c5a1","#7f8c62","#6a7d50","#546d3f"],5:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],6:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],7:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#325438"],8:["#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],9:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#325438"],10:["#d9d9b8","#c2c5a1","#acb08a","#959c73","#7f8c62","#6a7d50","#546d3f","#446639","#346033","#325438"],stops:["#c2c5a1","#959c73","#7f8c62","#6a7d50","#546d3f"],tags:["dark","greens","subdued","sequential","colorblind-friendly"],name:"Alligator Armor"},"seq-subdued-blue-purple":{1:["#726299"],2:["#a0c8dd","#726299"],3:["#a0c8dd","#7e8daa","#726299"],4:["#a0c8dd","#7e8daa","#7878a2","#726299"],5:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],6:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],7:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#524573"],8:["#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],9:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#524573"],10:["#aedbf2","#a0c8dd","#92b6c8","#84a3b3","#7e8daa","#7878a2","#726299","#68588d","#5d4f80","#524573"],stops:["#a0c8dd","#84a3b3","#7e8daa","#7878a2","#726299"],tags:["dark","blues","purples","subdued","sequential","colorblind-friendly"],name:"Moonstones"},"seq-subdued-pink-brown":{1:["#895277"],2:["#eeb1b1","#895277"],3:["#eeb1b1","#b66d7a","#895277"],4:["#eeb1b1","#b66d7a","#9f6078","#895277"],5:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],6:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],7:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#693f5a"],8:["#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],9:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#693f5a"],10:["#ffcccc","#eeb1b1","#dd9696","#cc7b7b","#b66d7a","#9f6078","#895277","#7d4b6d","#724463","#693f5a"],stops:["#eeb1b1","#cc7b7b","#b66d7a","#9f6078","#895277"],tags:["dark","browns","purples","pinks","subdued","sequential","colorblind-friendly"],name:"Watermelon Sugar"},"seq-subdued-green-pink":{1:["#3b9ea2"],2:["#3b9ea2","#f8c8be"],3:["#3b9ea2","#b8bcba","#f8c8be"],4:["#006e76","#3b9ea2","#f8c8be","#fcd4cc"],5:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],6:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc"],7:["#006e76","#3b9ea2","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#f8c8be","#fcd4cc","#ffe0d9"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#b8bcba","#e6c2bc","#f8c8be","#fcd4cc","#ffe0d9"],stops:["#006e76","#3b9ea2","#b8bcba","#f8c8be","#fcd4cc"],tags:["dark","greens","pinks","subdued","sequential","colorblind-friendly"],name:"Forest Dusk"},"seq-lines-blue-orange":{1:["#a889b8"],2:["#0060a6","#ffcabf"],3:["#0060a6","#a889b8","#ffcabf"],4:["#0060a6","#2782c4","#ffa18e","#ffcabf"],5:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],6:["#0060a6","#2782c4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],7:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffcabf"],8:["#0060a6","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],9:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ffa18e","#ffb5a6","#ffcabf"],10:["#0060a6","#1474b9","#2782c4","#698bc4","#a889b8","#d78e9a","#ed9595","#ffa18e","#ffb5a6","#ffcabf"],stops:["#0060a6","#2782c4","#a889b8","#ffa18e","#ffcabf"],tags:["light","blues","lines","sequential","colorblind-friendly"],name:"Perfect Pigtails"},"seq-lines-purple-brown":{1:["#9e6b90"],2:["#3900b3","#ebb698"],3:["#3900b3","#9e6b90","#ebb698"],4:["#3900b3","#714dbf","#cf9270","#ebb698"],5:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],6:["#3900b3","#714dbf","#9e6b90","#b17777","#cf9270","#ebb698"],7:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#ebb698"],8:["#3900b3","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],9:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#cf9270","#dba283","#ebb698"],10:["#3900b3","#5929c0","#714dbf","#8c5fae","#9e6b90","#b17777","#c4825e","#cf9270","#dba283","#ebb698"],stops:["#3900b3","#714dbf","#9e6b90","#cf9270","#ebb698"],tags:["light","purples","browns","lines","sequential","colorblind-friendly"],name:"Andromeda"},"seq-lines-green-brown":{1:["#00ffd4"],2:["#00ffd4","#8c4600"],3:["#00ffd4","#36ba84","#8c4600"],4:["#00ffd4","#5b9a5b","#8c4600","#592d00"],5:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],6:["#00ffd4","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],7:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#592d00"],8:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#8f6519","#8c4600","#733900","#592d00"],9:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#8c4600","#733900","#592d00"],10:["#00ffd4","#11d9ad","#36ba84","#5b9a5b","#807b32","#8f6519","#9e4f00","#8c4600","#733900","#592d00"],stops:["#00ffd4","#5b9a5b","#8f6519","#8c4600","#592d00"],tags:["dark","greens","browns","lines","sequential","colorblind-friendly"],name:"Chocolate Mint"},"seq-lines-yellow-blue":{1:["#ffff00"],2:["#ffff00","#0040bf"],3:["#ffff00","#4c6f80","#0040bf"],4:["#ffff00","#8fa745","#4c6f80","#0040bf"],5:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],6:["#ffff00","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],7:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#1150ba","#0040bf"],8:["#ffff00","#dae217","#b5c42e","#8fa745","#4c6f80","#215eb3","#1150ba","#0040bf"],9:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf"],10:["#ffff00","#dae217","#b5c42e","#8fa745","#6a895c","#4c6f80","#215eb3","#1150ba","#0040bf","#00359e"],stops:["#ffff00","#8fa745","#4c6f80","#1150ba","#0040bf"],tags:["dark","yellows","blues","lines","sequential","colorblind-friendly"],name:"Going Bananas"},"seq-esribrand-red":{1:["#f07062"],2:["#a8281e","#fbb1a8"],3:["#a8281e","#f07062","#fbb1a8"],4:["#a8281e","#d83020","#f07062","#fbb1a8"],5:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],6:["#a8281e","#c02c1f","#e45041","#f48579","#f89b91","#ffc6bf"],7:["#a8281e","#c02c1f","#d83020","#e45041","#f48579","#f89b91","#ffc6bf"],8:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#fbb1a8","#ffc6bf"],9:["#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],10:["#99241b","#a8281e","#c02c1f","#d83020","#e45041","#f07062","#f48579","#f89b91","#fbb1a8","#ffc6bf"],stops:["#a8281e","#d83020","#f07062","#f89b91","#fbb1a8"],tags:["light","reds","esri-brand","sequential","colorblind-friendly"],name:"Esri Red 1"},"seq-esribrand-red-orange":{1:["#e68261"],2:["#ad3c16","#f9d2c5"],3:["#ad3c16","#e68261","#f9d2c5"],4:["#ad3c16","#da4d1e","#e68261","#f9d2c5"],5:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],6:["#ad3c16","#c4451a","#e0673f","#ec9c82","#f3b7a3","#ffece6"],7:["#ad3c16","#c4451a","#da4d1e","#e0673f","#ec9c82","#f3b7a3","#ffece6"],8:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f9d2c5","#ffece6"],9:["#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],10:["#963413","#ad3c16","#c4451a","#da4d1e","#e0673f","#e68261","#ec9c82","#f3b7a3","#f9d2c5","#ffece6"],stops:["#ad3c16","#da4d1e","#e68261","#f3b7a3","#f9d2c5"],tags:["light","reds","sequential","esri-brand","colorblind-friendly"],name:"Esri Red 2"},"seq-esribrand-orange":{1:["#f7975e"],2:["#c65a18","#fdd4ba"],3:["#c65a18","#f7975e","#fdd4ba"],4:["#c65a18","#f36f20","#f7975e","#fdd4ba"],5:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],6:["#c65a18","#dd651c","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],7:["#c65a18","#dd651c","#f36f20","#fa8640","#f9ab7c","#fbc09b","#ffe8d9"],8:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fdd4ba","#ffe8d9"],9:["#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],10:["#b35116","#c65a18","#dd651c","#f36f20","#fa8640","#f7975e","#f9ab7c","#fbc09b","#fdd4ba","#ffe8d9"],stops:["#c65a18","#f36f20","#f7975e","#fbc09b","#fdd4ba"],tags:["light","oranges","sequential","esri-brand","colorblind-friendly"],name:"Esri Orange 1"},"seq-esribrand-orangeyellow":{1:["#fbb664"],2:["#c67718","#fed9ad"],3:["#c67718","#fbb664","#fed9ad"],4:["#c67718","#f29526","#fbb664","#fed9ad"],5:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],6:["#c67718","#dc861f","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],7:["#c67718","#dc861f","#f29526","#f7a645","#fcc17b","#fdcc92","#ffe6c7"],8:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fed9ad","#ffe6c7"],9:["#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],10:["#b36a16","#c67718","#dc861f","#f29526","#f7a645","#fbb664","#fcc17b","#fdcc92","#fed9ad","#ffe6c7"],stops:["#c67718","#f29526","#fbb664","#fdcc92","#fed9ad"],tags:["light","browns","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Pumpkin Pie"},"seq-esribrand-yellow":{1:["#f1df55"],2:["#beac2d","#fff5bf"],3:["#beac2d","#f1df55","#fff5bf"],4:["#beac2d","#ddca39","#f1df55","#fff5bf"],5:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],6:["#beac2d","#d3c035","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],7:["#beac2d","#d3c035","#ddca39","#e7d33c","#fbea6e","#fdf19d","#fff9d6"],8:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fff5bf","#fff9d6"],9:["#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],10:["#ad9d29","#beac2d","#d3c035","#ddca39","#e7d33c","#f1df55","#fbea6e","#fdf19d","#fff5bf","#fff9d6"],stops:["#beac2d","#ddca39","#f1df55","#fdf19d","#fff5bf"],tags:["light","yellows","sequential","esri-brand","colorblind-friendly"],name:"Esri Yellow 1"},"seq-esribrand-yellowgreen":{1:["#b9db62"],2:["#84a338","#e5f7b4"],3:["#84a338","#b9db62","#e5f7b4"],4:["#84a338","#a4c74c","#b9db62","#e5f7b4"],5:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],6:["#84a338","#97ba42","#add056","#c2e075","#d4ec95","#f0ffc7"],7:["#84a338","#97ba42","#a4c74c","#add056","#c2e075","#d4ec95","#f0ffc7"],8:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#e5f7b4","#f0ffc7"],9:["#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],10:["#748f31","#84a338","#97ba42","#a4c74c","#add056","#b9db62","#c2e075","#d4ec95","#e5f7b4","#f0ffc7"],stops:["#84a338","#a4c74c","#b9db62","#d4ec95","#e5f7b4"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 1"},"seq-esribrand-green":{1:["#61c66f"],2:["#288835","#b5f1bd"],3:["#288835","#61c66f","#b5f1bd"],4:["#288835","#35ac46","#61c66f","#b5f1bd"],5:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],6:["#288835","#2f9a3e","#45b855","#7dd489","#99e3a3","#d1ffd7"],7:["#288835","#2f9a3e","#35ac46","#45b855","#7dd489","#99e3a3","#d1ffd7"],8:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#b5f1bd","#d1ffd7"],9:["#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],10:["#22732d","#288835","#2f9a3e","#35ac46","#45b855","#61c66f","#7dd489","#99e3a3","#b5f1bd","#d1ffd7"],stops:["#288835","#35ac46","#61c66f","#99e3a3","#b5f1bd"],tags:["light","greens","sequential","esri-brand","colorblind-friendly"],name:"Esri Green 2"},"seq-esribrand-greenblue":{1:["#3cd3d0"],2:["#009b98","#a7eeed"],3:["#009b98","#3cd3d0","#a7eeed"],4:["#009b98","#00bab5","#3cd3d0","#a7eeed"],5:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],6:["#009b98","#00aba7","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],7:["#009b98","#00aba7","#00bab5","#1ec7c3","#5ae0de","#81e7e5","#cef5f4"],8:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#a7eeed","#cef5f4"],9:["#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],10:["#00807d","#009b98","#00aba7","#00bab5","#1ec7c3","#3cd3d0","#5ae0de","#81e7e5","#a7eeed","#cef5f4"],stops:["#009b98","#00bab5","#3cd3d0","#81e7e5","#a7eeed"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 1"},"seq-esribrand-blue":{1:["#49a4d8"],2:["#00619b","#a6d8f6"],3:["#00619b","#49a4d8","#a6d8f6"],4:["#00619b","#1480bf","#49a4d8","#a6d8f6"],5:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],6:["#00619b","#006eaf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],7:["#00619b","#006eaf","#1480bf","#2891ce","#6bb6e3","#8cc9ed","#bfe7ff"],8:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#a6d8f6","#bfe7ff"],9:["#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],10:["#005080","#00619b","#006eaf","#1480bf","#2891ce","#49a4d8","#6bb6e3","#8cc9ed","#a6d8f6","#bfe7ff"],stops:["#00619b","#1480bf","#49a4d8","#8cc9ed","#a6d8f6"],tags:["light","blues","sequential","esri-brand","colorblind-friendly"],name:"Esri Blue 2"},"seq-esribrand-violet":{1:["#a085c6"],2:["#57318c","#d6c4f1"],3:["#57318c","#a085c6","#d6c4f1"],4:["#57318c","#7b5ba9","#a085c6","#d6c4f1"],5:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],6:["#57318c","#69469a","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],7:["#57318c","#69469a","#7b5ba9","#8d70b7","#b29ad4","#c4afe2","#e8d9ff"],8:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#d6c4f1","#e8d9ff"],9:["#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],10:["#3f2466","#57318c","#69469a","#7b5ba9","#8d70b7","#a085c6","#b29ad4","#c4afe2","#d6c4f1","#e8d9ff"],stops:["#57318c","#7b5ba9","#a085c6","#c4afe2","#d6c4f1"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 1"},"seq-esribrand-violetred":{1:["#b983c3"],2:["#73377e","#eac5f0"],3:["#73377e","#b983c3","#eac5f0"],4:["#73377e","#9753a3","#b983c3","#eac5f0"],5:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],6:["#73377e","#864691","#a466af","#ca99d2","#daafe1","#fadbff"],7:["#73377e","#864691","#9753a3","#a466af","#ca99d2","#daafe1","#fadbff"],8:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#eac5f0","#fadbff"],9:["#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],10:["#5d2d66","#73377e","#864691","#9753a3","#a466af","#b983c3","#ca99d2","#daafe1","#eac5f0","#fadbff"],stops:["#73377e","#9753a3","#b983c3","#daafe1","#eac5f0"],tags:["light","purples","sequential","esri-brand","colorblind-friendly"],name:"Esri Purple 2"},"seq-esribrand-brown":{1:["#ad8b62"],2:["#684217","#e5ceb1"],3:["#684217","#ad8b62","#e5ceb1"],4:["#684217","#855621","#ad8b62","#e5ceb1"],5:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],6:["#684217","#764c1c","#946d3f","#c0a27d","#d2b897","#f7e4cb"],7:["#684217","#764c1c","#855621","#946d3f","#c0a27d","#d2b897","#f7e4cb"],8:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#e5ceb1","#f7e4cb"],9:["#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],10:["#593812","#684217","#764c1c","#855621","#946d3f","#ad8b62","#c0a27d","#d2b897","#e5ceb1","#f7e4cb"],stops:["#684217","#855621","#ad8b62","#d2b897","#e5ceb1"],tags:["light","browns","sequential","esri-brand","colorblind-friendly"],name:"Esri Brown 1"},"seq-esribrand-gray":{1:["#999999"],2:["#404040","#cecece"],3:["#404040","#999999","#cecece"],4:["#404040","#666666","#999999","#cecece"],5:["#404040","#666666","#999999","#bcbcbc","#cecece"],6:["#404040","#535353","#808080","#ababab","#bcbcbc","#dfdfdf"],7:["#404040","#535353","#666666","#808080","#ababab","#bcbcbc","#dfdfdf"],8:["#404040","#535353","#666666","#808080","#999999","#ababab","#cecece","#dfdfdf"],9:["#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],10:["#2e2e2e","#404040","#535353","#666666","#808080","#999999","#ababab","#bcbcbc","#cecece","#dfdfdf"],stops:["#404040","#666666","#999999","#bcbcbc","#cecece"],tags:["light","grays","sequential","esri-brand","colorblind-friendly"],name:"Esri Gray 1"},"seq-mentone-beach":{stops:["#48385F","#995375","#DB4A5B","#FC9A59","#FEE086"],tags:["dark","purples","yellows","sequential","colorblind-friendly"],name:"Mentone Beach"},"seq-snowy-mountain":{stops:["#e8e6f1","#c9d5eb","#a9c4e5","#87b3de","#60a3d8"],tags:["light","blues","sequential","colorblind-friendly"],name:"Snowy Mountain"},"seq-snow-cactus":{stops:["#F3F5E8","#E2DBBF","#90825D","#3E4939","#2A3225"],tags:["light","greens","sequential","colorblind-friendly"],name:"Snow Cactus"},"seq-magma":{1:["#ff57a5"],2:["#481793","#ffeca1"],3:["#481793","#ff57a5","#ffeca1"],4:["#481793","#b233b9","#ff57a5","#ffeca1"],5:["#481793","#b233b9","#ff57a5","#ffae85","#ffeca1"],6:["#481793","#7f1eb4","#e745b5","#ff778d","#ffae85","#ffffd1"],7:["#481793","#7f1eb4","#b233b9","#e745b5","#ff778d","#ffae85","#ffffd1"],8:["#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffeca1","#ffffd1"],9:["#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1"],10:["#010005","#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1"],stops:["#481793","#b233b9","#ff57a5","#ffae85","#ffffd1"],tags:["dark","purples","pinks","yellows","sequential","colorblind-friendly"],name:"Magma"},"seq-inferno":{1:["#ff5c6a"],2:["#520d8e","#ffff64"],3:["#520d8e","#ff5c6a","#ffff64"],4:["#520d8e","#bc2e9a","#ff5c6a","#ffff64"],5:["#520d8e","#bc2e9a","#ff5c6a","#ffb71b","#ffff64"],6:["#520d8e","#881b9e","#f04188","#ff8345","#ffb71b","#ffffeb"],7:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff8345","#ffb71b","#ffffeb"],8:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffff64","#ffffeb"],9:["#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#ffff64","#ffffeb"],10:["#010005","#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#ffff64","#ffffeb"],stops:["#520d8e","#bc2e9a","#ff5c6a","#ffb71b","#ffff64"],tags:["dark","purples","pinks","oranges","yellows","sequential","colorblind-friendly"],name:"Inferno"},"seq-plasma":{1:["#ff769f"],2:["#8d01ef","#fff44a"],3:["#8d01ef","#ff769f","#fff44a"],4:["#8d01ef","#ec2cdb","#ff769f","#fff44a"],5:["#8d01ef","#ec2cdb","#ff769f","#ffc666","#fff44a"],6:["#8d01ef","#bf09ee","#ff51bd","#ff9d82","#ffc666","#ffff35"],7:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff9d82","#ffc666","#ffff35"],8:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#ffff35"],9:["#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35"],10:["#120bc1","#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35"],stops:["#8d01ef","#ec2cdb","#ff769f","#ffc666","#fff44a"],tags:["dark","purples","pinks","yellows","sequential","colorblind-friendly"],name:"Plasma"},"seq-viridis":{1:["#2cdcc6"],2:["#6058be","#b9ff6e"],3:["#6058be","#2cdcc6","#b9ff6e"],4:["#6058be","#419ecb","#2cdcc6","#b9ff6e"],5:["#6058be","#419ecb","#2cdcc6","#6fff99","#b9ff6e"],6:["#6058be","#507dc9","#35bdcb","#3bfbb6","#6fff99","#ffff37"],7:["#6058be","#507dc9","#419ecb","#35bdcb","#3bfbb6","#6fff99","#ffff37"],8:["#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#b9ff6e","#ffff37"],9:["#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37"],10:["#6730a4","#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37"],stops:["#6058be","#419ecb","#2cdcc6","#6fff99","#ffff37"],tags:["dark","blues","greens","yellows","sequential","colorblind-friendly"],name:"Viridis"},"seq-cividis":{1:["#a3a3a6"],2:["#fff1a2","#00449f"],3:["#fff1a2","#a3a3a6","#00449f"],4:["#fff1a2","#a3a3a6","#65749a","#00449f"],5:["#fff1a2","#e1d6aa","#a3a3a6","#65749a","#00449f"],6:["#ffff7f","#e1d6aa","#c0bcad","#858b9e","#3b5c9a","#00449f"],7:["#ffff7f","#e1d6aa","#c0bcad","#858b9e","#65749a","#3b5c9a","#00449f"],8:["#ffff7f","#fff1a2","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f"],9:["#ffff7f","#fff1a2","#e1d6aa","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f"],10:["#ffff7f","#fff1a2","#e1d6aa","#c0bcad","#a3a3a6","#858b9e","#65749a","#3b5c9a","#00449f","#002e6e"],stops:["#fff1a2","#e1d6aa","#a3a3a6","#65749a","#00449f"],tags:["light","blues","yellows","sequential","colorblind-friendly"],name:"Cividis"},"div-orange-pink":{1:["#b796b8"],2:["#d8a79c","#b796b8"],3:["#d8a79c","#ffffff","#b796b8"],4:["#bf6d59","#e5c4bd","#cfb9d0","#874f88"],5:["#bf6d59","#e5c4bd","#ffffff","#cfb9d0","#874f88"],6:["#b24f38","#d8a79c","#f2e2de","#e7dce7","#b796b8","#6f2c71"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#a53217","#d2998b","#ffffff","#ab84ac","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 1"},"div-orange-yellow-pink":{1:["#b795aa"],2:["#d8a78d","#b795aa"],3:["#d8a78d","#fffee6","#b795aa"],4:["#bf6c52","#e5c4ab","#cfb8be","#874f81"],5:["#bf6c52","#e5c4ab","#fffee6","#cfb8be","#874f81"],6:["#b24f35","#d8a78d","#f2e1c8","#e7dbd2","#b795aa","#6f2c6d"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#a53217","#d2987f","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 2"},"div-bluegreen-redpurple":{1:["#bd929b"],2:["#92aeaa","#bd929b"],3:["#92aeaa","#ffffff","#bd929b"],4:["#497871","#b6c9c6","#d3b6bc","#924959"],5:["#497871","#b6c9c6","#ffffff","#d3b6bc","#924959"],6:["#245d54","#92aeaa","#dbe4e3","#e9dbde","#bd929b","#7c2437"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#004238","#80a19c","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 1"},"div-bluegreen-yellow-redpurple":{1:["#bd918d"],2:["#92ad9b","#bd918d"],3:["#92ad9b","#fffee6","#bd918d"],4:["#49786a","#b6c8b4","#d3b5ab","#924951"],5:["#49786a","#b6c8b4","#fffee6","#d3b5ab","#924951"],6:["#245d51","#92ad9b","#dbe3cd","#e9dac8","#bd918d","#7c2434"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#004238","#80a08f","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 10"},"div-green-orange":{1:["#d8a79c"],2:["#aab193","#d8a79c"],3:["#aab193","#ffffff","#d8a79c"],4:["#717d4b","#c6cbb7","#e5c4bd","#bf6d59"],5:["#717d4b","#c6cbb7","#ffffff","#e5c4bd","#bf6d59"],6:["#546327","#aab193","#e3e5db","#f2e2de","#d8a79c","#b24f38"],7:["#546327","#aab193","#e3e5db","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#384903","#9ca481","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 2"},"div-green-yellow-orange":{1:["#d8a78d"],2:["#aab085","#d8a78d"],3:["#aab085","#fffee6","#d8a78d"],4:["#717d44","#c6caa5","#e5c4ab","#bf6c52"],5:["#717d44","#c6caa5","#fffee6","#e5c4ab","#bf6c52"],6:["#546323","#aab085","#e3e4c6","#f2e1c8","#d8a78d","#b24f35"],7:["#546323","#aab085","#e3e4c6","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#384903","#9ca375","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 3"},"div-bluegreen-orange":{1:["#d8a79c"],2:["#92aeaa","#d8a79c"],3:["#92aeaa","#ffffff","#d8a79c"],4:["#497871","#b6c9c6","#e5c4bd","#bf6d59"],5:["#497871","#b6c9c6","#ffffff","#e5c4bd","#bf6d59"],6:["#245d54","#92aeaa","#dbe4e3","#f2e2de","#d8a79c","#b24f38"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#f2e2de","#d8a79c","#b24f38"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#f2e2de","#e5c4bd","#cc8a7a","#b24f38"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#f2e2de","#e5c4bd","#cc8a7a","#b24f38","#a53217"],stops:["#004238","#80a19c","#ffffff","#d2998b","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 4"},"div-bluegreen-yellow-orange":{1:["#d8a78d"],2:["#92ad9b","#d8a78d"],3:["#92ad9b","#fffee6","#d8a78d"],4:["#49786a","#b6c8b4","#e5c4ab","#bf6c52"],5:["#49786a","#b6c8b4","#fffee6","#e5c4ab","#bf6c52"],6:["#245d51","#92ad9b","#dbe3cd","#f2e1c8","#d8a78d","#b24f35"],7:["#245d51","#92ad9b","#dbe3cd","#fffee6","#f2e1c8","#d8a78d","#b24f35"],8:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],9:["#245d51","#6d9383","#b6c8b4","#dbe3cd","#fffee6","#f2e1c8","#e5c4ab","#cc8970","#b24f35"],10:["#004238","#245d51","#6d9383","#b6c8b4","#dbe3cd","#f2e1c8","#e5c4ab","#cc8970","#b24f35","#a53217"],stops:["#004238","#80a08f","#fffee6","#d2987f","#a53217"],tags:["light","reds","greens","diverging"],name:"Red and Green 5"},"div-green-redpurple":{1:["#bd929b"],2:["#aab193","#bd929b"],3:["#aab193","#ffffff","#bd929b"],4:["#717d4b","#c6cbb7","#d3b6bc","#924959"],5:["#717d4b","#c6cbb7","#ffffff","#d3b6bc","#924959"],6:["#546327","#aab193","#e3e5db","#e9dbde","#bd929b","#7c2437"],7:["#546327","#aab193","#e3e5db","#ffffff","#e9dbde","#bd929b","#7c2437"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e9dbde","#d3b6bc","#a86d7a","#7c2437"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e9dbde","#d3b6bc","#a86d7a","#7c2437","#660016"],stops:["#384903","#9ca481","#ffffff","#b3808b","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 6"},"div-green-yellow-redpurple":{1:["#bd918d"],2:["#aab085","#bd918d"],3:["#aab085","#fffee6","#bd918d"],4:["#717d44","#c6caa5","#d3b5ab","#924951"],5:["#717d44","#c6caa5","#fffee6","#d3b5ab","#924951"],6:["#546323","#aab085","#e3e4c6","#e9dac8","#bd918d","#7c2434"],7:["#546323","#aab085","#e3e4c6","#fffee6","#e9dac8","#bd918d","#7c2434"],8:["#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],9:["#546323","#8d9764","#c6caa5","#e3e4c6","#fffee6","#e9dac8","#d3b5ab","#a86d6f","#7c2434"],10:["#384903","#546323","#8d9764","#c6caa5","#e3e4c6","#e9dac8","#d3b5ab","#a86d6f","#7c2434","#660016"],stops:["#384903","#9ca375","#fffee6","#b37f7e","#660016"],tags:["light","reds","greens","diverging"],name:"Red and Green 7"},"div-orange-yellow-blue-light":{1:["#99a6ac"],2:["#d8a78d","#99a6ac"],3:["#d8a78d","#fffee6","#99a6ac"],4:["#bf6c52","#e5c4ab","#bbc3bf","#546b85"],5:["#bf6c52","#e5c4ab","#fffee6","#bbc3bf","#546b85"],6:["#b24f35","#d8a78d","#f2e1c8","#dde1d3","#99a6ac","#324d71"],7:["#b24f35","#d8a78d","#f2e1c8","#fffee6","#dde1d3","#99a6ac","#324d71"],8:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71"],9:["#b24f35","#cc8970","#e5c4ab","#f2e1c8","#fffee6","#dde1d3","#bbc3bf","#768898","#324d71"],10:["#a53217","#b24f35","#cc8970","#e5c4ab","#f2e1c8","#dde1d3","#bbc3bf","#768898","#324d71","#10305e"],stops:["#a53217","#d2987f","#fffee6","#8897a2","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 1"},"div-orange-yellow-blue-dark":{1:["#92a1a3"],2:["#c0a183","#92a1a3"],3:["#c0a183","#fffee6","#92a1a3"],4:["#956442","#d5c0a4","#b6c0b9","#496476"],5:["#956442","#d5c0a4","#fffee6","#b6c0b9","#496476"],6:["#804521","#c0a183","#eadfc5","#dbdfd0","#92a1a3","#24455f"],7:["#804521","#c0a183","#eadfc5","#fffee6","#dbdfd0","#92a1a3","#24455f"],8:["#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f"],9:["#804521","#aa8363","#d5c0a4","#eadfc5","#fffee6","#dbdfd0","#b6c0b9","#6d838c","#24455f"],10:["#6b2600","#804521","#aa8363","#d5c0a4","#eadfc5","#dbdfd0","#b6c0b9","#6d838c","#24455f","#002649"],stops:["#6b2600","#b59273","#fffee6","#809298","#002649"],tags:["light","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 1"},"div-red-yellow-pink":{1:["#b795aa"],2:["#d39688","#b795aa"],3:["#d39688","#fffee6","#b795aa"],4:["#b6504a","#e2b9a7","#cfb8be","#874f81"],5:["#b6504a","#e2b9a7","#fffee6","#cfb8be","#874f81"],6:["#a82e2a","#d39688","#f0dbc7","#e7dbd2","#b795aa","#6f2c6d"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e7dbd2","#b795aa","#6f2c6d"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e7dbd2","#cfb8be","#9f7295","#6f2c6d"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e7dbd2","#cfb8be","#9f7295","#6f2c6d","#570959"],stops:["#990b0b","#cc8579","#fffee6","#ab84a0","#570959"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 3"},"div-red-yellow-purple":{1:["#ae9db2"],2:["#d39688","#ae9db2"],3:["#d39688","#fffee6","#ae9db2"],4:["#b6504a","#e2b9a7","#c9bdc3","#775c90"],5:["#b6504a","#e2b9a7","#fffee6","#c9bdc3","#775c90"],6:["#a82e2a","#d39688","#f0dbc7","#e4ded5","#ae9db2","#5c3b7e"],7:["#a82e2a","#d39688","#f0dbc7","#fffee6","#e4ded5","#ae9db2","#5c3b7e"],8:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],9:["#a82e2a","#c57369","#e2b9a7","#f0dbc7","#fffee6","#e4ded5","#c9bdc3","#927ca1","#5c3b7e"],10:["#990b0b","#a82e2a","#c57369","#e2b9a7","#f0dbc7","#e4ded5","#c9bdc3","#927ca1","#5c3b7e","#411b6d"],stops:["#990b0b","#cc8579","#fffee6","#a08daa","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 4"},"div-blue-green":{1:["#aab193"],2:["#99a6ba","#aab193"],3:["#99a6ba","#ffffff","#aab193"],4:["#546b8c","#bbc4d1","#c6cbb7","#717d4b"],5:["#546b8c","#bbc4d1","#ffffff","#c6cbb7","#717d4b"],6:["#324e75","#99a6ba","#dde1e8","#e3e5db","#aab193","#546327"],7:["#324e75","#99a6ba","#dde1e8","#ffffff","#e3e5db","#aab193","#546327"],8:["#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#324e75","#7689a3","#bbc4d1","#dde1e8","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#10305e","#324e75","#7689a3","#bbc4d1","#dde1e8","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#10305e","#8898af","#ffffff","#9ca481","#384903"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 1"},"div-red-blue":{1:["#99a6ba"],2:["#d39696","#99a6ba"],3:["#d39696","#ffffff","#99a6ba"],4:["#b65151","#e2b9b9","#bbc4d1","#546b8c"],5:["#b65151","#e2b9b9","#ffffff","#bbc4d1","#546b8c"],6:["#a82e2e","#d39696","#f0dcdc","#dde1e8","#99a6ba","#324e75"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#990b0b","#cc8585","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 2"},"div-bluegreen-purple":{1:["#ae9dc0"],2:["#92aeaa","#ae9dc0"],3:["#92aeaa","#ffffff","#ae9dc0"],4:["#497871","#b6c9c6","#c9bed5","#775c97"],5:["#497871","#b6c9c6","#ffffff","#c9bed5","#775c97"],6:["#245d54","#92aeaa","#dbe4e3","#e4deea","#ae9dc0","#5c3c82"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#004238","#80a19c","#ffffff","#a08db6","#411b6d"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 1"},"div-redpurple-blue":{1:["#99a6ba"],2:["#bd929b","#99a6ba"],3:["#bd929b","#ffffff","#99a6ba"],4:["#924959","#d3b6bc","#bbc4d1","#546b8c"],5:["#924959","#d3b6bc","#ffffff","#bbc4d1","#546b8c"],6:["#7c2437","#bd929b","#e9dbde","#dde1e8","#99a6ba","#324e75"],7:["#7c2437","#bd929b","#e9dbde","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#7c2437","#a86d7a","#d3b6bc","#e9dbde","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#660016","#7c2437","#a86d7a","#d3b6bc","#e9dbde","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#660016","#b3808b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 3"},"div-orange-blue":{1:["#99a6ba"],2:["#d8a79c","#99a6ba"],3:["#d8a79c","#ffffff","#99a6ba"],4:["#bf6d59","#e5c4bd","#bbc4d1","#546b8c"],5:["#bf6d59","#e5c4bd","#ffffff","#bbc4d1","#546b8c"],6:["#b24f38","#d8a79c","#f2e2de","#dde1e8","#99a6ba","#324e75"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#dde1e8","#99a6ba","#324e75"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#dde1e8","#bbc4d1","#7689a3","#324e75"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#dde1e8","#bbc4d1","#7689a3","#324e75","#10305e"],stops:["#a53217","#d2998b","#ffffff","#8898af","#10305e"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 4"},"div-green-pink":{1:["#b796b8"],2:["#aab193","#b796b8"],3:["#aab193","#ffffff","#b796b8"],4:["#717d4b","#c6cbb7","#cfb9d0","#874f88"],5:["#717d4b","#c6cbb7","#ffffff","#cfb9d0","#874f88"],6:["#546327","#aab193","#e3e5db","#e7dce7","#b796b8","#6f2c71"],7:["#546327","#aab193","#e3e5db","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#546327","#8d976f","#c6cbb7","#e3e5db","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#384903","#546327","#8d976f","#c6cbb7","#e3e5db","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#384903","#9ca481","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 2"},"div-red-green":{1:["#aab193"],2:["#d39696","#aab193"],3:["#d39696","#ffffff","#aab193"],4:["#b65151","#e2b9b9","#c6cbb7","#717d4b"],5:["#b65151","#e2b9b9","#ffffff","#c6cbb7","#717d4b"],6:["#a82e2e","#d39696","#f0dcdc","#e3e5db","#aab193","#546327"],7:["#a82e2e","#d39696","#f0dcdc","#ffffff","#e3e5db","#aab193","#546327"],8:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327"],9:["#a82e2e","#c57474","#e2b9b9","#f0dcdc","#ffffff","#e3e5db","#c6cbb7","#8d976f","#546327"],10:["#990b0b","#a82e2e","#c57474","#e2b9b9","#f0dcdc","#e3e5db","#c6cbb7","#8d976f","#546327","#384903"],stops:["#990b0b","#cc8585","#ffffff","#9ca481","#384903"],tags:["light","reds","greens","diverging"],name:"Red and Green 8"},"div-bluegreen-pink":{1:["#b796b8"],2:["#92aeaa","#b796b8"],3:["#92aeaa","#ffffff","#b796b8"],4:["#497871","#b6c9c6","#cfb9d0","#874f88"],5:["#497871","#b6c9c6","#ffffff","#cfb9d0","#874f88"],6:["#245d54","#92aeaa","#dbe4e3","#e7dce7","#b796b8","#6f2c71"],7:["#245d54","#92aeaa","#dbe4e3","#ffffff","#e7dce7","#b796b8","#6f2c71"],8:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],9:["#245d54","#6d938d","#b6c9c6","#dbe4e3","#ffffff","#e7dce7","#cfb9d0","#9f72a0","#6f2c71"],10:["#004238","#245d54","#6d938d","#b6c9c6","#dbe4e3","#e7dce7","#cfb9d0","#9f72a0","#6f2c71","#570959"],stops:["#004238","#80a19c","#ffffff","#ab84ac","#570959"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 3"},"div-orange-purple":{1:["#ae9dc0"],2:["#d8a79c","#ae9dc0"],3:["#d8a79c","#ffffff","#ae9dc0"],4:["#bf6d59","#e5c4bd","#c9bed5","#775c97"],5:["#bf6d59","#e5c4bd","#ffffff","#c9bed5","#775c97"],6:["#b24f38","#d8a79c","#f2e2de","#e4deea","#ae9dc0","#5c3c82"],7:["#b24f38","#d8a79c","#f2e2de","#ffffff","#e4deea","#ae9dc0","#5c3c82"],8:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82"],9:["#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#ffffff","#e4deea","#c9bed5","#927dac","#5c3c82"],10:["#a53217","#b24f38","#cc8a7a","#e5c4bd","#f2e2de","#e4deea","#c9bed5","#927dac","#5c3c82","#411b6d"],stops:["#a53217","#d2998b","#ffffff","#a08db6","#411b6d"],tags:["light","reds","purples","diverging","colorblind-friendly"],name:"Purple and Red 5"},"div-orange-gray-blue":{1:["#4f847c"],2:["#8a6a36","#4f847c"],3:["#8a6a36","#333333","#4f847c"],4:["#c58e37","#6d5835","#466964","#62b9ac"],5:["#c58e37","#6d5835","#333333","#466964","#62b9ac"],6:["#e2a138","#8a6a36","#504534","#3c4e4b","#4f847c","#6cd4c5"],7:["#e2a138","#8a6a36","#504534","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e2a138","#a87c36","#6d5835","#504534","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ffb339","#e2a138","#a87c36","#6d5835","#504534","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ffb339","#997336","#333333","#549188","#75efdd"],tags:["dark","yellows","blues","diverging","bright","colorblind-friendly"],name:"Blue and Orange 1"},"div-yellow-gray-purple":{1:["#826288"],2:["#8a8356","#826288"],3:["#8a8356","#333333","#826288"],4:["#c5b86e","#6d684a","#68526c","#b681c0"],5:["#c5b86e","#6d684a","#333333","#68526c","#b681c0"],6:["#e2d279","#8a8356","#504e3f","#4d434f","#826288","#d190dd"],7:["#e2d279","#8a8356","#504e3f","#333333","#4d434f","#826288","#d190dd"],8:["#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#e2d279","#a89d62","#6d684a","#504e3f","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#ffed85","#e2d279","#a89d62","#6d684a","#504e3f","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#ffed85","#99905c","#333333","#8f6a96","#eba0f9"],tags:["dark","purples","diverging","bright","colorblind-friendly"],name:"Purple and Yellow 1"},"div-red-gray-blue":{1:["#4f847c"],2:["#8a5757","#4f847c"],3:["#8a5757","#333333","#4f847c"],4:["#c57070","#6d4b4b","#466964","#62b9ac"],5:["#c57070","#6d4b4b","#333333","#466964","#62b9ac"],6:["#e27c7c","#8a5757","#503f3f","#3c4e4b","#4f847c","#6cd4c5"],7:["#e27c7c","#8a5757","#503f3f","#333333","#3c4e4b","#4f847c","#6cd4c5"],8:["#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5"],9:["#e27c7c","#a86464","#6d4b4b","#503f3f","#333333","#3c4e4b","#466964","#599e94","#6cd4c5"],10:["#ff8888","#e27c7c","#a86464","#6d4b4b","#503f3f","#3c4e4b","#466964","#599e94","#6cd4c5","#75efdd"],stops:["#ff8888","#995e5e","#333333","#549188","#75efdd"],tags:["dark","pinks","blues","diverging","colorblind-friendly"],name:"Blue and Red 5"},"div-green-gray-purple":{1:["#826288"],2:["#598459","#826288"],3:["#598459","#333333","#826288"],4:["#72b972","#4c694c","#68526c","#b681c0"],5:["#72b972","#4c694c","#333333","#68526c","#b681c0"],6:["#7ed47e","#598459","#404e40","#4d434f","#826288","#d190dd"],7:["#7ed47e","#598459","#404e40","#333333","#4d434f","#826288","#d190dd"],8:["#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd"],9:["#7ed47e","#659e65","#4c694c","#404e40","#333333","#4d434f","#68526c","#9c71a4","#d190dd"],10:["#8bef8b","#7ed47e","#659e65","#4c694c","#404e40","#4d434f","#68526c","#9c71a4","#d190dd","#eba0f9"],stops:["#8bef8b","#5f915f","#333333","#8f6a96","#eba0f9"],tags:["dark","greens","purples","diverging","bright","colorblind-friendly"],name:"Purple and Green 4"},"div-blue-yellow-red-bright":{1:["#ead98b"],2:["#954151","#1d4e89"],3:["#954151","#ead98b","#1d4e89"],4:["#954151","#ead98b","#9aacae","#1d4e89"],5:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],6:["#954151","#db9793","#ead98b","#c2c29c","#7295bf","#1d4e89"],7:["#954151","#ba6f75","#db9793","#ead98b","#9aacae","#7295bf","#1d4e89"],8:["#954151","#ba6f75","#db9793","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],9:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#1d4e89"],10:["#954151","#ba6f75","#db9793","#deba87","#ead98b","#c2c29c","#9aacae","#7295bf","#4872a4","#1d4e89"],stops:["#954151","#db9793","#ead98b","#7295bf","#1d4e89"],tags:["reds","yellows","blues","diverging","light","colorblind-friendly"],name:"Blue and Red 6"},"div-green-gray-bright":{1:["#dae6d5"],2:["#757172","#5d7a06"],3:["#757172","#dae6d5","#5d7a06"],4:["#757172","#bcb8b4","#9ebb51","#5d7a06"],5:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],6:["#757172","#a5a19e","#bcb8b4","#bfdc76","#9ebb51","#5d7a06"],7:["#757172","#a5a19e","#bcb8b4","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],8:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#5d7a06"],9:["#757172","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],10:["#757172","#8d8988","#a5a19e","#bcb8b4","#d4d0ca","#dae6d5","#bfdc76","#9ebb51","#7e9b2b","#5d7a06"],stops:["#757172","#bcb8b4","#dae6d5","#9ebb51","#5d7a06"],tags:["light","grays","greens","bright","diverging","colorblind-friendly"],name:"Green and Gray 1"},"div-red-green-bright":{1:["#dedad2"],2:["#54bebe","#c80064"],3:["#54bebe","#dedad2","#c80064"],4:["#54bebe","#98d1d1","#df979e","#c80064"],5:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],6:["#54bebe","#98d1d1","#dedad2","#e4bcad","#df979e","#c80064"],7:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#c80064"],8:["#54bebe","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],9:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#c80064"],10:["#54bebe","#76c8c8","#98d1d1","#badbdb","#dedad2","#e4bcad","#df979e","#d7658b","#d03277","#c80064"],stops:["#54bebe","#98d1d1","#dedad2","#df979e","#c80064"],tags:["light","blues","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Blue 1"},"div-red-blue-bright":{1:["#c5c8d4"],2:["#4d7799","#b5515b"],3:["#4d7799","#c5c8d4","#b5515b"],4:["#4d7799","#7fa4c4","#d48e95","#b5515b"],5:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],6:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#d48e95","#b5515b"],7:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#e3adb2","#d48e95","#b5515b"],8:["#4d7799","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],9:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#b5515b"],10:["#4d7799","#668eae","#7fa4c4","#98bbd9","#c5c8d4","#f2cbcf","#e3adb2","#d48e95","#c46f78","#b5515b"],stops:["#4d7799","#7fa4c4","#c5c8d4","#d48e95","#b5515b"],tags:["light","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 7"},"div-orange-gray-bright":{1:["#d5cbcb"],2:["#6d717a","#a65a2c"],3:["#6d717a","#d5cbcb","#a65a2c"],4:["#6d717a","#a2a6b1","#db9167","#a65a2c"],5:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],6:["#6d717a","#a2a6b1","#d5cbcb","#e2b49a","#db9167","#a65a2c"],7:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#e2b49a","#db9167","#a65a2c"],8:["#6d717a","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],9:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#a65a2c"],10:["#6d717a","#878c95","#a2a6b1","#bcc1cc","#d5cbcb","#edd5ca","#e2b49a","#db9167","#cc7441","#a65a2c"],stops:["#6d717a","#a2a6b1","#d5cbcb","#db9167","#a65a2c"],tags:["light","grays","browns","oranges","diverging","colorblind-friendly"],name:"Orange and Gray 1"},"div-blue-orange-bright":{1:["#d6cdcd"],2:["#bf5b1d","#547a99"],3:["#bf5b1d","#d6cdcd","#547a99"],4:["#bf5b1d","#e48043","#84a7c4","#547a99"],5:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],6:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#84a7c4","#547a99"],7:["#bf5b1d","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],8:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#547a99"],9:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],10:["#bf5b1d","#d26d30","#e48043","#eb9b6a","#f2b591","#d6cdcd","#9cbdd9","#84a7c4","#6c90ae","#547a99"],stops:["#bf5b1d","#e48043","#d6cdcd","#84a7c4","#547a99"],tags:["light","blues","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 2"},"div-blue-lightgreen-bright":{1:["#99b9c3"],2:["#dbf2e3","#364187"],3:["#dbf2e3","#99b9c3","#364187"],4:["#c5ead4","#99b9c3","#6f72b2","#364187"],5:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],6:["#dbf2e3","#c5ead4","#99b9c3","#a7a3dc","#6f72b2","#364187"],7:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#6f72b2","#364187"],8:["#dbf2e3","#c5ead4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],9:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#364187"],10:["#dbf2e3","#c5ead4","#aee1c4","#98d9b5","#99b9c3","#a7a3dc","#8b8bc7","#6f72b2","#525a9c","#364187"],stops:["#dbf2e3","#c5ead4","#99b9c3","#6f72b2","#364187"],tags:["light","blues","purples","greens","diverging","colorblind-friendly"],name:"Green and Blue 2"},"div-red-gray-bright":{1:["#c7d3e5"],2:["#667181","#be3027"],3:["#667181","#c7d3e5","#be3027"],4:["#667181","#97a2b3","#d5857f","#be3027"],5:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],6:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#d5857f","#be3027"],7:["#667181","#97a2b3","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],8:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#be3027"],9:["#667181","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],10:["#667181","#7e8a9a","#97a2b3","#afbbcc","#c7d3e5","#ebd9d8","#e0afac","#d5857f","#c95a53","#be3027"],stops:["#667181","#97a2b3","#ebd9d8","#d5857f","#be3027"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 1"},"div-blue-gray-bright":{1:["#ced9d9"],2:["#78716e","#009db3"],3:["#78716e","#ced9d9","#009db3"],4:["#78716e","#a19b96","#54c5d5","#009db3"],5:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],6:["#78716e","#a19b96","#ced9d9","#7ed9e6","#54c5d5","#009db3"],7:["#78716e","#a19b96","#b5afaa","#ced9d9","#7ed9e6","#54c5d5","#009db3"],8:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#009db3"],9:["#78716e","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],10:["#78716e","#8c8682","#a19b96","#b5afaa","#c9c4be","#ced9d9","#7ed9e6","#54c5d5","#2ab1c4","#009db3"],stops:["#78716e","#a19b96","#ced9d9","#54c5d5","#009db3"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 1"},"div-red-lightgreen-bright":{1:["#bab0bf"],2:["#cfe6e6","#a60053"],3:["#cfe6e6","#bab0bf","#a60053"],4:["#cfe6e6","#a7d5d5","#da6aa2","#a60053"],5:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],6:["#cfe6e6","#bbdddd","#a7d5d5","#da6aa2","#c94788","#a60053"],7:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#a60053"],8:["#cfe6e6","#bbdddd","#a7d5d5","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],9:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#da6aa2","#c94788","#b7236d","#a60053"],10:["#cfe6e6","#bbdddd","#a7d5d5","#93cccc","#bab0bf","#eb8dbc","#da6aa2","#c94788","#b7236d","#a60053"],stops:["#cfe6e6","#a7d5d5","#bab0bf","#da6aa2","#a60053"],tags:["light","blues","pinks","diverging","colorblind-friendly"],name:"Pink and Blue 2"},"div-blue-green-bright":{1:["#dae1da"],2:["#3a8059","#434e96"],3:["#3a8059","#dae1da","#434e96"],4:["#3a8059","#85bf9b","#8a8fbf","#434e96"],5:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],6:["#3a8059","#85bf9b","#abdebc","#d1d0e7","#8a8fbf","#434e96"],7:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#8a8fbf","#434e96"],8:["#3a8059","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],9:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#434e96"],10:["#3a8059","#609f7a","#85bf9b","#abdebc","#dae1da","#d1d0e7","#aeb0d3","#8a8fbf","#666faa","#434e96"],stops:["#3a8059","#85bf9b","#dae1da","#8a8fbf","#434e96"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 3"},"div-purple-brown-bright":{1:["#dbd3d4"],2:["#935b44","#84628b"],3:["#935b44","#dbd3d4","#84628b"],4:["#935b44","#bc9483","#b49fbc","#84628b"],5:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],6:["#935b44","#bc9483","#d9c4c2","#ccbed4","#b49fbc","#84628b"],7:["#935b44","#bc9483","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],8:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#84628b"],9:["#935b44","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],10:["#935b44","#a87864","#bc9483","#d1b1a3","#d9c4c2","#dbd3d4","#ccbed4","#b49fbc","#9c81a3","#84628b"],stops:["#935b44","#bc9483","#dbd3d4","#b49fbc","#84628b"],tags:["light","browns","purples","subdued","diverging","colorblind-friendly"],name:"Purple and Brown 1"},"div-blue-brown-bright":{1:["#cbd7e6"],2:["#946e43","#547a99"],3:["#946e43","#cbd7e6","#547a99"],4:["#946e43","#bd9f83","#90a9c0","#547a99"],5:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],6:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#90a9c0","#547a99"],7:["#946e43","#bd9f83","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],8:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#547a99"],9:["#946e43","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],10:["#946e43","#a88663","#bd9f83","#d1b7a3","#cec7c5","#cbd7e6","#adc0d3","#90a9c0","#7291ac","#547a99"],stops:["#946e43","#bd9f83","#cbd7e6","#90a9c0","#547a99"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 2"},"div-teal-brown-bright":{1:["#d2dec8"],2:["#806c44","#448199"],3:["#806c44","#d2dec8","#448199"],4:["#806c44","#ad9d79","#8fb6bc","#448199"],5:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],6:["#806c44","#ad9d79","#cbcaae","#b5d0cd","#8fb6bc","#448199"],7:["#806c44","#ad9d79","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],8:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#448199"],9:["#806c44","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],10:["#806c44","#97845f","#ad9d79","#c4b594","#cbcaae","#d2dec8","#b5d0cd","#8fb6bc","#6a9baa","#448199"],stops:["#806c44","#ad9d79","#d2dec8","#8fb6bc","#448199"],tags:["light","blues","browns","subdued","diverging","colorblind-friendly"],name:"Blue and Brown 3"},"div-green-teal-bright":{1:["#c8e6cf"],2:["#358c84","#5d7a06"],3:["#358c84","#c8e6cf","#5d7a06"],4:["#358c84","#73b5ae","#9cbd58","#5d7a06"],5:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],6:["#358c84","#73b5ae","#92cac2","#bcde81","#9cbd58","#5d7a06"],7:["#358c84","#73b5ae","#92cac2","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],8:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#5d7a06"],9:["#358c84","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],10:["#358c84","#54a199","#73b5ae","#92cac2","#b1ded7","#c8e6cf","#bcde81","#9cbd58","#7d9b2f","#5d7a06"],stops:["#358c84","#73b5ae","#c8e6cf","#9cbd58","#5d7a06"],tags:["light","blues","greens","diverging","colorblind-friendly"],name:"Green and Blue 4"},"div-lightgreen-yellow-bright":{1:["#505944"],2:["#ffea8c","#8cffdc"],3:["#ffea8c","#505944","#8cffdc"],4:["#ffea8c","#b3ab60","#5aa28b","#8cffdc"],5:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],6:["#ffea8c","#b3ab60","#666b33","#417363","#5aa28b","#8cffdc"],7:["#ffea8c","#b3ab60","#666b33","#505944","#417363","#5aa28b","#8cffdc"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#417363","#5aa28b","#73d0b4","#8cffdc"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#505944","#417363","#5aa28b","#73d0b4","#8cffdc"],stops:["#ffea8c","#b3ab60","#505944","#5aa28b","#8cffdc"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 1"},"div-lightblue-gray-bright":{1:["#757269"],2:["#faefdb","#80f3ff"],3:["#faefdb","#757269","#80f3ff"],4:["#faefdb","#a19c8f","#40b2c6","#80f3ff"],5:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],6:["#faefdb","#a19c8f","#50716e","#2091aa","#40b2c6","#80f3ff"],7:["#faefdb","#a19c8f","#50716e","#00708d","#2091aa","#40b2c6","#80f3ff"],8:["#faefdb","#cec5b5","#a19c8f","#757269","#2091aa","#40b2c6","#60d2e2","#80f3ff"],9:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#2091aa","#40b2c6","#60d2e2","#80f3ff"],10:["#faefdb","#cec5b5","#a19c8f","#757269","#50716e","#00708d","#2091aa","#40b2c6","#60d2e2","#80f3ff"],stops:["#faefdb","#a19c8f","#00708d","#40b2c6","#80f3ff"],tags:["light","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 2"},"div-lightgreen-gray-bright":{1:["#555b61"],2:["#becdd9","#99ffc5"],3:["#becdd9","#555b61","#99ffc5"],4:["#becdd9","#788189","#64b47f","#99ffc5"],5:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],6:["#becdd9","#788189","#555b61","#4a8f5c","#64b47f","#99ffc5"],7:["#becdd9","#788189","#555b61","#2f6939","#4a8f5c","#64b47f","#99ffc5"],8:["#becdd9","#9ba7b1","#788189","#555b61","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],9:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],10:["#becdd9","#9ba7b1","#788189","#555b61","#41543e","#2f6939","#4a8f5c","#64b47f","#7fdaa2","#99ffc5"],stops:["#becdd9","#788189","#41543e","#64b47f","#99ffc5"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 2"},"div-lightred-gray-bright":{1:["#616673"],2:["#d4d9e6","#ffbdb3"],3:["#d4d9e6","#616673","#ffbdb3"],4:["#d4d9e6","#9ba0ad","#c27166","#ffbdb3"],5:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],6:["#9ba0ad","#7e8390","#616673","#a44b40","#c27166","#e1978d"],7:["#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d"],8:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#a44b40","#c27166","#e1978d","#ffbdb3"],9:["#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],10:["#d4d9e6","#b7bcc9","#9ba0ad","#7e8390","#616673","#6b472d","#a44b40","#c27166","#e1978d","#ffbdb3"],stops:["#d4d9e6","#9ba0ad","#616673","#c27166","#ffbdb3"],tags:["dark","reds","grays","diverging","subdued","colorblind-friendly"],name:"Red and Gray 2"},"div-lightmagenta-gray-bright":{1:["#594154"],2:["#faefdb","#ff99ff"],3:["#faefdb","#594154","#ff99ff"],4:["#faefdb","#a7a194","#b650b6","#ff99ff"],5:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],6:["#faefdb","#a7a194","#54534d","#922c91","#b650b6","#ff99ff"],7:["#faefdb","#a7a194","#54534d","#594154","#922c91","#b650b6","#ff99ff"],8:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#922c91","#b650b6","#db75da","#ff99ff"],9:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#594154","#922c91","#b650b6","#db75da","#ff99ff"],10:["#faefdb","#d1c8b8","#a7a194","#7e7a70","#54534d","#594154","#922c91","#b650b6","#db75da","#ff99ff"],stops:["#faefdb","#a7a194","#594154","#b650b6","#ff99ff"],tags:["dark","purples","bright","grays","diverging","colorblind-friendly"],name:"Purple and Gray 1"},"div-yellow-green-bright":{1:["#8fa17b"],2:["#38524d","#ffec99"],3:["#38524d","#8fa17b","#ffec99"],4:["#38524d","#4a7c6e","#ccbe6a","#ffec99"],5:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],6:["#38524d","#41675e","#53917f","#b3a752","#ccbe6a","#ffec99"],7:["#38524d","#41675e","#53917f","#8fa17b","#b3a752","#ccbe6a","#ffec99"],8:["#38524d","#41675e","#4a7c6e","#53917f","#b3a752","#ccbe6a","#e6d581","#ffec99"],9:["#38524d","#41675e","#4a7c6e","#53917f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],10:["#38524d","#41675e","#4a7c6e","#53917f","#5ca68f","#8fa17b","#b3a752","#ccbe6a","#e6d581","#ffec99"],stops:["#38524d","#4a7c6e","#8fa17b","#ccbe6a","#ffec99"],tags:["dark","yellows","greens","diverging","colorblind-friendly"],name:"Green and Yellow 1"},"div-lightblue-yellow-bright":{1:["#4b595e"],2:["#ffea8c","#aadbff"],3:["#ffea8c","#4b595e","#aadbff"],4:["#ffea8c","#b3ab60","#6693c8","#aadbff"],5:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],6:["#ffea8c","#b3ab60","#8c8b49","#446fad","#6693c8","#aadbff"],7:["#ffea8c","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#aadbff"],8:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#446fad","#6693c8","#88b7e4","#aadbff"],9:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],10:["#ffea8c","#d9ca76","#b3ab60","#8c8b49","#666b33","#4b595e","#446fad","#6693c8","#88b7e4","#aadbff"],stops:["#ffea8c","#b3ab60","#4b595e","#6693c8","#aadbff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 2"},"div-green-darkgray-bright":{1:["#4bb375"],2:["#4a4e54","#d9ffe9"],3:["#4a4e54","#4bb375","#d9ffe9"],4:["#4a4e54","#636a71","#92d9af","#d9ffe9"],5:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],6:["#575c63","#636a71","#6c8a83","#6fc692","#92d9af","#d9ffe9"],7:["#575c63","#636a71","#707880","#4bb375","#6fc692","#92d9af","#d9ffe9"],8:["#575c63","#636a71","#707880","#6c8a83","#6fc692","#92d9af","#b6eccc","#d9ffe9"],9:["#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],10:["#4a4e54","#575c63","#636a71","#707880","#6c8a83","#4bb375","#6fc692","#92d9af","#b6eccc","#d9ffe9"],stops:["#4a4e54","#636a71","#4bb375","#92d9af","#d9ffe9"],tags:["dark","grays","greens","diverging","colorblind-friendly"],name:"Green and Gray 3"},"div-brbg":{1:["#d8b365"],2:["#d8b365","#5ab4ac"],3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],stops:["rgba(166, 97, 26, 1)","rgba(223, 194, 125, 1)","rgba(245, 245, 245, 1)","rgba(128, 205, 193, 1)","rgba(1, 133, 113, 1)"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 1"},"div-piyg":{1:["#e9a3c9"],2:["#e9a3c9","#a1d76a"],3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],stops:["rgba(208, 28, 139, 1)","rgba(241, 182, 218, 1)","rgba(247, 247, 247, 1)","rgba(184, 225, 134, 1)","rgba(77, 172, 38, 1)"],tags:["light","pinks","bright","greens","diverging","colorblind-friendly"],name:"Green and Pink 1"},"div-prgn":{1:["#af8dc3"],2:["#af8dc3","#7fbf7b"],3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],stops:["rgba(123, 50, 148, 1)","rgba(194, 165, 207, 1)","rgba(247, 247, 247, 1)","rgba(166, 219, 160, 1)","rgba(0, 136, 55, 1)"],tags:["light","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 5"},"div-puor":{1:["#f1a340"],2:["#f1a340","#998ec3"],3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],stops:["rgba(230, 97, 1, 1)","rgba(253, 184, 99, 1)","rgba(247, 247, 247, 1)","rgba(178, 171, 210, 1)","rgba(94, 60, 153, 1)"],tags:["light","browns","purples","oranges","diverging","colorblind-friendly"],name:"Purple and Brown 2"},"div-rdbu":{1:["#ef8a62"],2:["#ef8a62","#67a9cf"],3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(247, 247, 247, 1)","rgba(146, 197, 222, 1)","rgba(5, 113, 176, 1)"],tags:["light","reds","blues","diverging","bright","colorblind-friendly"],name:"Blue and Red 8"},"div-rdgy":{1:["#ef8a62"],2:["#ef8a62","#999999"],3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],stops:["rgba(202, 0, 32, 1)","rgba(244, 165, 130, 1)","rgba(255, 255, 255, 1)","rgba(186, 186, 186, 1)","rgba(64, 64, 64, 1)"],tags:["light","grays","reds","diverging","colorblind-friendly"],name:"Red and Gray 3"},"div-rdylbu":{1:["#fc8d59"],2:["#fc8d59","#91bfdb"],3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 217, 233, 1)","rgba(44, 123, 182, 1)"],tags:["light","blues","reds","oranges","diverging","bright","colorblind-friendly"],name:"Blue and Red 9"},"div-rdylgn":{1:["#fc8d59"],2:["#fc8d59","#91cf60"],3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(166, 217, 106, 1)","rgba(26, 150, 65, 1)"],tags:["light","reds","bright","greens","diverging"],name:"Red and Green 9"},"div-spectral":{1:["#fc8d59"],2:["#fc8d59","#99d594"],3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],stops:["rgba(215, 25, 28, 1)","rgba(253, 174, 97, 1)","rgba(255, 255, 191, 1)","rgba(171, 221, 164, 1)","rgba(43, 131, 186, 1)"],tags:["light","reds","oranges","yellows","blues","greens","bright","diverging"],name:"Blue and Red 10"},"div-yellow-orange-purple-bright":{1:["#ffb400"],2:["#ffb400","#9080ff"],3:["#ffb400","#363445","#9080ff"],4:["#ffb400","#a57c1b","#5e569b","#9080ff"],5:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],6:["#ffb400","#a57c1b","#786028","#48446e","#5e569b","#9080ff"],7:["#ffb400","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],8:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#9080ff"],9:["#ffb400","#d2980d","#a57c1b","#786028","#363445","#48446e","#5e569b","#776bcd","#9080ff"],10:["#ffb400","#d2980d","#a57c1b","#786028","#454034","#363445","#48446e","#5e569b","#776bcd","#9080ff"],stops:["#ffb400","#a57c1b","#363445","#5e569b","#9080ff"],tags:["dark","yellows","oranges","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 2"},"div-yellow-blue-bright-1":{1:["#ffc700"],2:["#ffc700","#6ca0ff"],3:["#ffc700","#343a45","#6ca0ff"],4:["#ffc700","#a4861c","#4c689b","#6ca0ff"],5:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],6:["#ffc700","#a4861c","#77662a","#3c4c69","#4c689b","#6ca0ff"],7:["#ffc700","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],8:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#6ca0ff"],9:["#ffc700","#d2a60e","#a4861c","#77662a","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],10:["#ffc700","#d2a60e","#a4861c","#77662a","#4a4538","#343a45","#3c4c69","#4c689b","#5c84cd","#6ca0ff"],stops:["#ffc700","#a4861c","#343a45","#4c689b","#6ca0ff"],tags:["dark","yellows","blues","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 6"},"div-yellow-blue-bright-2":{1:["#ffda00"],2:["#ffda00","#48c0ff"],3:["#ffda00","#343f45","#48c0ff"],4:["#ffda00","#a4901c","#3b799b","#48c0ff"],5:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],6:["#ffda00","#a4901c","#776b2a","#345669","#3b799b","#48c0ff"],7:["#ffda00","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],8:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#48c0ff"],9:["#ffda00","#d2b50e","#a4901c","#776b2a","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],10:["#ffda00","#d2b50e","#a4901c","#776b2a","#4a4738","#343f45","#345669","#3b799b","#419dcd","#48c0ff"],stops:["#ffda00","#a4901c","#343f45","#3b799b","#48c0ff"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 7"},"div-yellow-blue-bright":{1:["#ffff00"],2:["#ffff00","#00ffff"],3:["#ffff00","#344545","#00ffff"],4:["#ffff00","#a4a41c","#219797","#00ffff"],5:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],6:["#ffff00","#a4a41c","#77772a","#316363","#219797","#00ffff"],7:["#ffff00","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#00ffff"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#344545","#316363","#219797","#10cbcb","#00ffff"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#344545","#316363","#219797","#10cbcb","#00ffff"],stops:["#ffff00","#a4a41c","#344545","#219797","#00ffff"],tags:["dark","yellows","greens","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 8"},"div-yellow-blue-bright-3":{1:["#e8ff00"],2:["#e8ff00","#4a99ff"],3:["#e8ff00","#3b434f","#4a99ff"],4:["#e8ff00","#97a41c","#3f69a2","#4a99ff"],5:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],6:["#e8ff00","#97a41c","#6f772a","#395173","#3f69a2","#4a99ff"],7:["#e8ff00","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4a99ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#3b434f","#395173","#3f69a2","#4481d0","#4a99ff"],stops:["#e8ff00","#97a41c","#3b434f","#3f69a2","#4a99ff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 9"},"div-yellow-purple-bright-1":{1:["#e8ff00"],2:["#e8ff00","#8c80ff"],3:["#e8ff00","#413f54","#8c80ff"],4:["#e8ff00","#97a41c","#655dbb","#8c80ff"],5:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],6:["#e8ff00","#97a41c","#6f772a","#524b99","#655dbb","#8c80ff"],7:["#e8ff00","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],8:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#8c80ff"],9:["#e8ff00","#c0d20e","#97a41c","#6f772a","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],10:["#e8ff00","#c0d20e","#97a41c","#6f772a","#50523e","#413f54","#524b99","#655dbb","#796edd","#8c80ff"],stops:["#e8ff00","#97a41c","#413f54","#655dbb","#8c80ff"],tags:["dark","yellows","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 2"},"div-yellow-purple-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ac4dff"],3:["#d0ff00","#3d3345","#ac4dff"],4:["#d0ff00","#7f9717","#6f3d9c","#ac4dff"],5:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],6:["#d0ff00","#7f9717","#576323","#51356b","#6f3d9c","#ac4dff"],7:["#d0ff00","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#ac4dff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#3d3345","#51356b","#6f3d9c","#8e45ce","#ac4dff"],stops:["#d0ff00","#7f9717","#3d3345","#6f3d9c","#ac4dff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Yellow 3"},"div-yellow-red-bright-1":{1:["#d0ff00"],2:["#d0ff00","#fb2bff"],3:["#d0ff00","#443745","#fb2bff"],4:["#d0ff00","#7f9717","#98319b","#fb2bff"],5:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],6:["#d0ff00","#7f9717","#576323","#673469","#98319b","#fb2bff"],7:["#d0ff00","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#fb2bff"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#443745","#673469","#98319b","#ca2ecd","#fb2bff"],stops:["#d0ff00","#7f9717","#443745","#98319b","#fb2bff"],tags:["dark","pinks","greens","purples","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 3"},"div-yellow-red-bright-2":{1:["#d0ff00"],2:["#d0ff00","#ff0099"],3:["#d0ff00","#45373f","#ff0099"],4:["#d0ff00","#7f9717","#9b236b","#ff0099"],5:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],6:["#d0ff00","#7f9717","#576323","#693454","#9b236b","#ff0099"],7:["#d0ff00","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],8:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#ff0099"],9:["#d0ff00","#a8cb0c","#7f9717","#576323","#45373f","#693454","#9b236b","#cd1182","#ff0099"],10:["#d0ff00","#a8cb0c","#7f9717","#576323","#424534","#45373f","#693454","#9b236b","#cd1182","#ff0099"],stops:["#d0ff00","#7f9717","#45373f","#9b236b","#ff0099"],tags:["dark","greens","pinks","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 4"},"div-yellow-gray-bright-1":{1:["#ffff00"],2:["#ffff00","#cccccc"],3:["#ffff00","#424038","#cccccc"],4:["#ffff00","#a4a41c","#8a8a8a","#cccccc"],5:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],6:["#ffff00","#a4a41c","#77772a","#5e5e5e","#8a8a8a","#cccccc"],7:["#ffff00","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#ffff00","#a4a41c","#424038","#8a8a8a","#cccccc"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 1"},"div-yellow-gray-bright-2":{1:["#ffff00"],2:["#ffff00","#aab2c8"],3:["#ffff00","#383b42","#aab2c8"],4:["#ffff00","#a4a41c","#727681","#aab2c8"],5:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],6:["#ffff00","#a4a41c","#77772a","#50545e","#727681","#aab2c8"],7:["#ffff00","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],8:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#aab2c8"],9:["#ffff00","#d2d20e","#a4a41c","#77772a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#ffff00","#d2d20e","#a4a41c","#77772a","#4f4f3c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ffff00","#a4a41c","#383b42","#727681","#aab2c8"],tags:["dark","yellows","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 2"},"div-yellow-gray-bright-3":{1:["#d0ff00"],2:["#d0ff00","#ccafaf"],3:["#d0ff00","#3d3434","#ccafaf"],4:["#d0ff00","#849c19","#837171","#ccafaf"],5:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],6:["#d0ff00","#849c19","#5e6b26","#5e5151","#837171","#ccafaf"],7:["#d0ff00","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],8:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#ccafaf"],9:["#d0ff00","#aace0d","#849c19","#5e6b26","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#d0ff00","#aace0d","#849c19","#5e6b26","#4a4d3a","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#d0ff00","#849c19","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Yellow and Gray 3"},"div-purple-green-bright-1":{1:["#c333ff"],2:["#c333ff","#00ff32"],3:["#c333ff","#37453a","#00ff32"],4:["#c333ff","#8c2db2","#179930","#00ff32"],5:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],6:["#c333ff","#8c2db2","#702a8c","#22662f","#179930","#00ff32"],7:["#c333ff","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],8:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#00ff32"],9:["#c333ff","#a730d9","#8c2db2","#702a8c","#37453a","#22662f","#179930","#0bcc31","#00ff32"],10:["#c333ff","#a730d9","#8c2db2","#702a8c","#403445","#37453a","#22662f","#179930","#0bcc31","#00ff32"],stops:["#c333ff","#8c2db2","#37453a","#179930","#00ff32"],tags:["dark","purples","greens","bright","diverging","colorblind-friendly"],name:"Purple and Green 9"},"div-purple-green-bright-2":{1:["#ff00ff"],2:["#ff00ff","#beff00"],3:["#ff00ff","#414537","#beff00"],4:["#ff00ff","#b21bb2","#76961d","#beff00"],5:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],6:["#ff00ff","#b21bb2","#8c2a8c","#52612c","#76961d","#beff00"],7:["#ff00ff","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],8:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#beff00"],9:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#414537","#52612c","#76961d","#9aca0f","#beff00"],10:["#ff00ff","#d90ed9","#b21bb2","#8c2a8c","#453445","#414537","#52612c","#76961d","#9aca0f","#beff00"],stops:["#ff00ff","#b21bb2","#414537","#76961d","#beff00"],tags:["dark","purples","pinks","greens","bright","diverging","colorblind-friendly"],name:"Green and Pink 2"},"div-pink-yellow-bright-1":{1:["#ff00cc"],2:["#ff00cc","#ffff00"],3:["#ff00cc","#453442","#ffff00"],4:["#ff00cc","#b21c97","#96961d","#ffff00"],5:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],6:["#ff00cc","#b21c97","#8c2a7c","#61612c","#96961d","#ffff00"],7:["#ff00cc","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],8:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#ffff00"],9:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#61612c","#96961d","#caca0f","#ffff00"],10:["#ff00cc","#d90eb1","#b21c97","#8c2a7c","#453442","#454537","#61612c","#96961d","#caca0f","#ffff00"],stops:["#ff00cc","#b21c97","#453442","#96961d","#ffff00"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 1"},"div-pink-yellow-bright-2":{1:["#ff0099"],2:["#ff0099","#ffc800"],3:["#ff0099","#45343e","#ffc800"],4:["#ff0099","#aa1970","#92781c","#ffc800"],5:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],6:["#ff0099","#aa1970","#80265b","#5c502a","#92781c","#ffc800"],7:["#ff0099","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],8:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#ffc800"],9:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#5c502a","#92781c","#c9a00e","#ffc800"],10:["#ff0099","#d50d84","#aa1970","#80265b","#45343e","#474439","#5c502a","#92781c","#c9a00e","#ffc800"],stops:["#ff0099","#aa1970","#45343e","#92781c","#ffc800"],tags:["dark","pinks","yellows","bright","diverging","colorblind-friendly"],name:"Pink and Yellow 2"},"div-red-blue-bright-1":{1:["#ff4d6a"],2:["#ff4d6a","#23ccff"],3:["#ff4d6a","#453437","#23ccff"],4:["#ff4d6a","#a63245","#2b819b","#23ccff"],5:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],6:["#ff4d6a","#a63245","#7a2433","#2f5b69","#2b819b","#23ccff"],7:["#ff4d6a","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],8:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#23ccff"],9:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#2f5b69","#2b819b","#27a6cd","#23ccff"],10:["#ff4d6a","#d33f58","#a63245","#7a2433","#453437","#34474f","#2f5b69","#2b819b","#27a6cd","#23ccff"],stops:["#ff4d6a","#a63245","#453437","#2b819b","#23ccff"],tags:["dark","reds","pinks","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 13"},"div-red-blue-bright-2":{1:["#ff2638"],2:["#ff2638","#1993ff"],3:["#ff2638","#403031","#1993ff"],4:["#ff2638","#a6242e","#2e6ca4","#1993ff"],5:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],6:["#ff2638","#a6242e","#7a2329","#395976","#2e6ca4","#1993ff"],7:["#ff2638","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],8:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#1993ff"],9:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#395976","#2e6ca4","#2480d1","#1993ff"],10:["#ff2638","#d32533","#a6242e","#7a2329","#403031","#373e45","#395976","#2e6ca4","#2480d1","#1993ff"],stops:["#ff2638","#a6242e","#403031","#2e6ca4","#1993ff"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 14"},"div-orange-blue-bright-3":{1:["#ff6219"],2:["#ff6219","#00ffdc"],3:["#ff6219","#3b312c","#00ffdc"],4:["#ff6219","#9c461e","#1f9787","#00ffdc"],5:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],6:["#ff6219","#9c461e","#6b3820","#2e635c","#1f9787","#00ffdc"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#00ffdc"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#2e635c","#1f9787","#0fcbb1","#00ffdc"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#394745","#2e635c","#1f9787","#0fcbb1","#00ffdc"],stops:["#ff6219","#9c461e","#3b312c","#1f9787","#00ffdc"],tags:["dark","oranges","greens","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 8"},"div-orange-blue-bright-4":{1:["#ff6219"],2:["#ff6219","#66a0ff"],3:["#ff6219","#3b312c","#66a0ff"],4:["#ff6219","#9c461e","#4c6da5","#66a0ff"],5:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],6:["#ff6219","#9c461e","#6b3820","#3f5478","#4c6da5","#66a0ff"],7:["#ff6219","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],8:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#66a0ff"],9:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#3f5478","#4c6da5","#5987d2","#66a0ff"],10:["#ff6219","#ce541b","#9c461e","#6b3820","#3b312c","#393e47","#3f5478","#4c6da5","#5987d2","#66a0ff"],stops:["#ff6219","#9c461e","#3b312c","#4c6da5","#66a0ff"],tags:["dark","oranges","blues","bright","diverging","colorblind-friendly"],name:"Blue and Orange 9"},"div-red-purple-bright":{1:["#ff5000"],2:["#ff5000","#9333ff"],3:["#ff5000","#382f2a","#9333ff"],4:["#ff5000","#9c3f15","#6c3ba4","#9333ff"],5:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],6:["#ff5000","#9c3f15","#6b3620","#593f76","#6c3ba4","#9333ff"],7:["#ff5000","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],8:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#9333ff"],9:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#593f76","#6c3ba4","#8037d1","#9333ff"],10:["#ff5000","#ce470b","#9c3f15","#6b3620","#382f2a","#433952","#593f76","#6c3ba4","#8037d1","#9333ff"],stops:["#ff5000","#9c3f15","#382f2a","#6c3ba4","#9333ff"],tags:["dark","reds","purples","bright","diverging","colorblind-friendly"],name:"Purple and Orange 1"},"div-red-gray-bright-1":{1:["#ff1947"],2:["#ff1947","#cccccc"],3:["#ff1947","#3b2d30","#cccccc"],4:["#ff1947","#9c253d","#7f7f7f","#cccccc"],5:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],6:["#ff1947","#9c253d","#6b2b38","#595959","#7f7f7f","#cccccc"],7:["#ff1947","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#cccccc"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#595959","#7f7f7f","#a6a6a6","#cccccc"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d30","#414141","#595959","#7f7f7f","#a6a6a6","#cccccc"],stops:["#ff1947","#9c253d","#3b2d30","#7f7f7f","#cccccc"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 4"},"div-red-gray-bright-2":{1:["#ff1947"],2:["#ff1947","#aab2c8"],3:["#ff1947","#3e3140","#aab2c8"],4:["#ff1947","#9c253d","#727681","#aab2c8"],5:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],6:["#ff1947","#9c253d","#6b2b38","#50545e","#727681","#aab2c8"],7:["#ff1947","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#aab2c8"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#50545e","#727681","#9196a5","#aab2c8"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3e3140","#3e424d","#50545e","#727681","#9196a5","#aab2c8"],stops:["#ff1947","#9c253d","#3e3140","#727681","#aab2c8"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 5"},"div-red-gray-bright-3":{1:["#ff1947"],2:["#ff1947","#ccafaf"],3:["#ff1947","#3b2d35","#ccafaf"],4:["#ff1947","#9c253d","#837171","#ccafaf"],5:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],6:["#ff1947","#9c253d","#6b2b38","#5e5151","#837171","#ccafaf"],7:["#ff1947","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],8:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#ccafaf"],9:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#5e5151","#837171","#a79090","#ccafaf"],10:["#ff1947","#ce1f42","#9c253d","#6b2b38","#3b2d35","#4d3f3f","#5e5151","#837171","#a79090","#ccafaf"],stops:["#ff1947","#9c253d","#3b2d35","#837171","#ccafaf"],tags:["dark","reds","grays","bright","diverging","colorblind-friendly"],name:"Red and Gray 6"},"div-teal-yellow-bright-1":{1:["#00ffc8"],2:["#00ffc8","#ffff00"],3:["#00ffc8","#4a4a3d","#ffff00"],4:["#00ffc8","#12a585","#979724","#ffff00"],5:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],6:["#00ffc8","#12a585","#1b7864","#636336","#979724","#ffff00"],7:["#00ffc8","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#ffff00"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a4a3d","#636336","#979724","#cbcb12","#ffff00"],stops:["#00ffc8","#12a585","#4a4a3d","#979724","#ffff00"],tags:["dark","greens","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 5"},"div-teal-yellow-bright-2":{1:["#00ffc8"],2:["#00ffc8","#ffc800"],3:["#00ffc8","#4a483d","#ffc800"],4:["#00ffc8","#12a585","#997f25","#ffc800"],5:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],6:["#00ffc8","#12a585","#1b7864","#665b38","#997f25","#ffc800"],7:["#00ffc8","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],8:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#ffc800"],9:["#00ffc8","#09d2a7","#12a585","#1b7864","#4a483d","#665b38","#997f25","#cca413","#ffc800"],10:["#00ffc8","#09d2a7","#12a585","#1b7864","#355951","#4a483d","#665b38","#997f25","#cca413","#ffc800"],stops:["#00ffc8","#12a585","#4a483d","#997f25","#ffc800"],tags:["dark","greens","oranges","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 6"},"div-teal-orange-bright":{1:["#00ffc8"],2:["#00ffc8","#ff7d00"],3:["#00ffc8","#4a443d","#ff7d00"],4:["#00ffc8","#1db695","#a06022","#ff7d00"],5:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],6:["#00ffc8","#1db695","#2b917b","#705133","#a06022","#ff7d00"],7:["#00ffc8","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],8:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#ff7d00"],9:["#00ffc8","#0edaae","#1db695","#2b917b","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],10:["#00ffc8","#0edaae","#1db695","#2b917b","#3a6d62","#4a443d","#705133","#a06022","#cf6e11","#ff7d00"],stops:["#00ffc8","#1db695","#4a443d","#a06022","#ff7d00"],tags:["dark","greens","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 7"},"div-green-red-bright":{1:["#00ffaa"],2:["#00ffaa","#ff0000"],3:["#00ffaa","#403c35","#ff0000"],4:["#00ffaa","#17a67d","#b02626","#ff0000"],5:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],6:["#00ffaa","#17a67d","#237a60","#783737","#b02626","#ff0000"],7:["#00ffaa","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],8:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#ff0000"],9:["#00ffaa","#0bd39a","#17a67d","#237a60","#403c35","#783737","#b02626","#d11212","#ff0000"],10:["#00ffaa","#0bd39a","#17a67d","#237a60","#2e4d43","#403c35","#783737","#b02626","#d11212","#ff0000"],stops:["#00ffaa","#17a67d","#403c35","#b02626","#ff0000"],tags:["dark","greens","reds","bright","diverging","colorblind-friendly"],name:"Red and Green 11"},"div-green-magenta-bright":{1:["#00ff64"],2:["#00ff64","#ff00d2"],3:["#00ff64","#423940","#ff00d2"],4:["#00ff64","#17a64f","#a3248d","#ff00d2"],5:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],6:["#00ff64","#17a64f","#237a45","#733568","#a3248d","#ff00d2"],7:["#00ff64","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],8:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#ff00d2"],9:["#00ff64","#0bd35a","#17a64f","#237a45","#423940","#733568","#a3248d","#d112b0","#ff00d2"],10:["#00ff64","#0bd35a","#17a64f","#237a45","#31523d","#423940","#733568","#a3248d","#d112b0","#ff00d2"],stops:["#00ff64","#17a64f","#423940","#a3248d","#ff00d2"],tags:["dark","greens","purples","pinks","bright","diverging","colorblind-friendly"],name:"Purple and Green 6"},"div-green-purple-bright-1":{1:["#00ff32"],2:["#00ff32","#bf00ff"],3:["#00ff32","#403a42","#bf00ff"],4:["#00ff32","#17a633","#8b26ad","#bf00ff"],5:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],6:["#00ff32","#17a633","#237a33","#663675","#8b26ad","#bf00ff"],7:["#00ff32","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],8:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#bf00ff"],9:["#00ff32","#0bd332","#17a633","#237a33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],10:["#00ff32","#0bd332","#17a633","#237a33","#2e4d33","#403a42","#663675","#8b26ad","#a713d9","#bf00ff"],stops:["#00ff32","#17a633","#403a42","#8b26ad","#bf00ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 7"},"div-green-purple-bright-2":{1:["#00ff00"],2:["#00ff00","#aa80ff"],3:["#00ff00","#423f47","#aa80ff"],4:["#00ff00","#19a919","#735ba5","#aa80ff"],5:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],6:["#00ff00","#19a919","#257d25","#584878","#735ba5","#aa80ff"],7:["#00ff00","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],8:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#aa80ff"],9:["#00ff00","#0cd40c","#19a919","#257d25","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],10:["#00ff00","#0cd40c","#19a919","#257d25","#325432","#423f47","#584878","#735ba5","#8f6dd2","#aa80ff"],stops:["#00ff00","#19a919","#423f47","#735ba5","#aa80ff"],tags:["dark","greens","purples","bright","diverging","colorblind-friendly"],name:"Purple and Green 8"},"div-green-blue-bright-1":{1:["#b4f000"],2:["#b4f000","#00c8ff"],3:["#b4f000","#3f4547","#00c8ff"],4:["#b4f000","#7ea018","#1385a4","#00c8ff"],5:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],6:["#b4f000","#7ea018","#627723","#1d6476","#1385a4","#00c8ff"],7:["#b4f000","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#00c8ff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4547","#1d6476","#1385a4","#0aa7d1","#00c8ff"],stops:["#b4f000","#7ea018","#3f4547","#1385a4","#00c8ff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 6"},"div-green-blue-bright-2":{1:["#b4f000"],2:["#b4f000","#00ffff"],3:["#b4f000","#3f4747","#00ffff"],4:["#b4f000","#7ea018","#129e9e","#00ffff"],5:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],6:["#b4f000","#7ea018","#627723","#1b6e6e","#129e9e","#00ffff"],7:["#b4f000","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],8:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#00ffff"],9:["#b4f000","#99c80c","#7ea018","#627723","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],10:["#b4f000","#99c80c","#7ea018","#627723","#474f2f","#3f4747","#1b6e6e","#129e9e","#09cfcf","#00ffff"],stops:["#b4f000","#7ea018","#3f4747","#129e9e","#00ffff"],tags:["dark","greens","blues","bright","diverging","colorblind-friendly"],name:"Green and Blue 7"},"div-green-gray-bright-1":{1:["#00ff00"],2:["#00ff00","#cccccc"],3:["#00ff00","#424038","#cccccc"],4:["#00ff00","#1dac1d","#8a8a8a","#cccccc"],5:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],6:["#00ff00","#1dac1d","#2c832c","#5e5e5e","#8a8a8a","#cccccc"],7:["#00ff00","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00ff00","#1dac1d","#424038","#8a8a8a","#cccccc"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 4"},"div-green-gray-bright-2":{1:["#00ff00"],2:["#00ff00","#aab2c8"],3:["#00ff00","#383b42","#aab2c8"],4:["#00ff00","#1dac1d","#727681","#aab2c8"],5:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],6:["#00ff00","#1dac1d","#2c832c","#50545e","#727681","#aab2c8"],7:["#00ff00","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],8:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#aab2c8"],9:["#00ff00","#0fd50f","#1dac1d","#2c832c","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00ff00","#0fd50f","#1dac1d","#2c832c","#3a593a","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00ff00","#1dac1d","#383b42","#727681","#aab2c8"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 5"},"div-green-gray-bright-3":{1:["#82ff00"],2:["#82ff00","#ccafaf"],3:["#82ff00","#3d3434","#ccafaf"],4:["#82ff00","#5fa21a","#837171","#ccafaf"],5:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],6:["#82ff00","#5fa21a","#4d7327","#5e5151","#837171","#ccafaf"],7:["#82ff00","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],8:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#ccafaf"],9:["#82ff00","#70d00d","#5fa21a","#4d7327","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#82ff00","#70d00d","#5fa21a","#4d7327","#424f34","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#82ff00","#5fa21a","#3d3434","#837171","#ccafaf"],tags:["dark","greens","grays","bright","diverging","colorblind-friendly"],name:"Green and Gray 6"},"div-blue-green-bright-1":{1:["#45b4ff"],2:["#45b4ff","#beff00"],3:["#45b4ff","#3e422f","#beff00"],4:["#45b4ff","#3d80ac","#799b14","#beff00"],5:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],6:["#45b4ff","#3d80ac","#396583","#56691e","#799b14","#beff00"],7:["#45b4ff","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],8:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#beff00"],9:["#45b4ff","#419ad5","#3d80ac","#396583","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],10:["#45b4ff","#419ad5","#3d80ac","#396583","#374d5c","#3e422f","#56691e","#799b14","#9bcd0a","#beff00"],stops:["#45b4ff","#3d80ac","#3e422f","#799b14","#beff00"],tags:["dark","blues","greens","bright","diverging","colorblind-friendly"],name:"Green and Blue 5"},"div-blue-yellow-bright-2":{1:["#23ccff"],2:["#23ccff","#ffff00"],3:["#23ccff","#42422f","#ffff00"],4:["#23ccff","#2c8eac","#9b9b15","#ffff00"],5:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],6:["#23ccff","#2c8eac","#316f83","#696920","#9b9b15","#ffff00"],7:["#23ccff","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],8:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#ffff00"],9:["#23ccff","#28add5","#2c8eac","#316f83","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#42422f","#696920","#9b9b15","#cdcd0b","#ffff00"],stops:["#23ccff","#2c8eac","#42422f","#9b9b15","#ffff00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 3"},"div-blue-lightorange-bright":{1:["#23ccff"],2:["#23ccff","#ffc800"],3:["#23ccff","#474333","#ffc800"],4:["#23ccff","#2c8eac","#9b8020","#ffc800"],5:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],6:["#23ccff","#2c8eac","#316f83","#695c30","#9b8020","#ffc800"],7:["#23ccff","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],8:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#ffc800"],9:["#23ccff","#28add5","#2c8eac","#316f83","#474333","#695c30","#9b8020","#cda410","#ffc800"],10:["#23ccff","#28add5","#2c8eac","#316f83","#355059","#474333","#695c30","#9b8020","#cda410","#ffc800"],stops:["#23ccff","#2c8eac","#474333","#9b8020","#ffc800"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Orange 3"},"div-blue-orange-bright-1":{1:["#12c0ff"],2:["#12c0ff","#ffa300"],3:["#12c0ff","#474033","#ffa300"],4:["#12c0ff","#2589ad","#9b6e20","#ffa300"],5:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],6:["#12c0ff","#2589ad","#2e6d85","#695430","#9b6e20","#ffa300"],7:["#12c0ff","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#ffa300"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#474033","#695430","#9b6e20","#cd8910","#ffa300"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#474033","#695430","#9b6e20","#cd8910","#ffa300"],stops:["#12c0ff","#2589ad","#474033","#9b6e20","#ffa300"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 4"},"div-blue-orange-bright-2":{1:["#12c0ff"],2:["#12c0ff","#ff7d00"],3:["#12c0ff","#473d33","#ff7d00"],4:["#12c0ff","#2589ad","#9b5c20","#ff7d00"],5:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],6:["#12c0ff","#2589ad","#2e6d85","#694b30","#9b5c20","#ff7d00"],7:["#12c0ff","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],8:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#ff7d00"],9:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],10:["#12c0ff","#1ba4d6","#2589ad","#2e6d85","#37515c","#473d33","#694b30","#9b5c20","#cd6c10","#ff7d00"],stops:["#12c0ff","#2589ad","#473d33","#9b5c20","#ff7d00"],tags:["dark","blues","oranges","bright","diverging","colorblind-friendly"],name:"Blue and Orange 5"},"div-blue-red-bright-1":{1:["#2799ff"],2:["#2799ff","#ff3333"],3:["#2799ff","#423a3a","#ff3333"],4:["#2799ff","#3070aa","#a53636","#ff3333"],5:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],6:["#2799ff","#3070aa","#345b80","#783737","#a53636","#ff3333"],7:["#2799ff","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],8:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#ff3333"],9:["#2799ff","#2b84d5","#3070aa","#345b80","#423a3a","#783737","#a53636","#d23434","#ff3333"],10:["#2799ff","#2b84d5","#3070aa","#345b80","#324554","#423a3a","#783737","#a53636","#d23434","#ff3333"],stops:["#2799ff","#3070aa","#423a3a","#a53636","#ff3333"],tags:["dark","reds","blues","bright","diverging","colorblind-friendly"],name:"Blue and Red 11"},"div-blue-red-bright-2":{1:["#6690ff"],2:["#6690ff","#ff0040"],3:["#6690ff","#42383b","#ff0040"],4:["#6690ff","#526aad","#a22343","#ff0040"],5:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],6:["#6690ff","#526aad","#475785","#733444","#a22343","#ff0040"],7:["#6690ff","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],8:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#ff0040"],9:["#6690ff","#5c7dd6","#526aad","#475785","#42383b","#733444","#a22343","#d01141","#ff0040"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#42383b","#733444","#a22343","#d01141","#ff0040"],stops:["#6690ff","#526aad","#42383b","#a22343","#ff0040"],tags:["dark","blues","reds","bright","diverging","colorblind-friendly"],name:"Blue and Red 12"},"div-blue-orange-bright-3":{1:["#6690ff"],2:["#6690ff","#ff9573"],3:["#6690ff","#423b38","#ff9573"],4:["#6690ff","#526aad","#945e4c","#ff9573"],5:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],6:["#6690ff","#526aad","#475785","#5e4338","#945e4c","#ff9573"],7:["#6690ff","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],8:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#ff9573"],9:["#6690ff","#5c7dd6","#526aad","#475785","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],10:["#6690ff","#5c7dd6","#526aad","#475785","#3d445c","#423b38","#5e4338","#945e4c","#c97a5f","#ff9573"],stops:["#6690ff","#526aad","#423b38","#945e4c","#ff9573"],tags:["dark","blues","browns","bright","diverging","colorblind-friendly"],name:"Blue and Brown 4"},"div-blue-tan-bright":{1:["#6690ff"],2:["#6690ff","#bf9f00"],3:["#6690ff","#424038","#bf9f00"],4:["#6690ff","#526aad","#7c6e24","#bf9f00"],5:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],6:["#6690ff","#526aad","#475785","#5b5536","#7c6e24","#bf9f00"],7:["#6690ff","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],8:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#bf9f00"],9:["#6690ff","#5c7dd6","#526aad","#475785","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],10:["#6690ff","#5c7dd6","#526aad","#475785","#404861","#424038","#5b5536","#7c6e24","#9e8612","#bf9f00"],stops:["#6690ff","#526aad","#424038","#7c6e24","#bf9f00"],tags:["dark","blues","yellows","bright","diverging","colorblind-friendly"],name:"Blue and Yellow 4"},"div-blue-gray-bright-1":{1:["#00b3ff"],2:["#00b3ff","#cccccc"],3:["#00b3ff","#424038","#cccccc"],4:["#00b3ff","#1d82ac","#8a8a8a","#cccccc"],5:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],6:["#00b3ff","#1d82ac","#2c6983","#5e5e5e","#8a8a8a","#cccccc"],7:["#00b3ff","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#cccccc"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#424038","#5e5e5e","#8a8a8a","#ababab","#cccccc"],stops:["#00b3ff","#1d82ac","#424038","#8a8a8a","#cccccc"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 3"},"div-blue-gray-bright-2":{1:["#00b3ff"],2:["#00b3ff","#aab2c8"],3:["#00b3ff","#383b42","#aab2c8"],4:["#00b3ff","#1d82ac","#727681","#aab2c8"],5:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],6:["#00b3ff","#1d82ac","#2c6983","#50545e","#727681","#aab2c8"],7:["#00b3ff","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#aab2c8"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#383b42","#50545e","#727681","#9196a5","#aab2c8"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#383b42","#50545e","#727681","#9196a5","#aab2c8"],stops:["#00b3ff","#1d82ac","#383b42","#727681","#aab2c8"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 4"},"div-blue-gray-bright-3":{1:["#00b3ff"],2:["#00b3ff","#ccafaf"],3:["#00b3ff","#3d3434","#ccafaf"],4:["#00b3ff","#1d82ac","#837171","#ccafaf"],5:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],6:["#00b3ff","#1d82ac","#2c6983","#5e5151","#837171","#ccafaf"],7:["#00b3ff","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],8:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#ccafaf"],9:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],10:["#00b3ff","#0f9ad5","#1d82ac","#2c6983","#3a5059","#3d3434","#5e5151","#837171","#a79090","#ccafaf"],stops:["#00b3ff","#1d82ac","#3d3434","#837171","#ccafaf"],tags:["dark","blues","grays","bright","diverging","colorblind-friendly"],name:"Blue and Gray 5"},"div-blue-yellow-brown":{1:["#daffa5"],2:["#0051f2","#b35a00"],3:["#0051f2","#daffa5","#b35a00"],4:["#0051f2","#6da7fb","#d9963a","#b35a00"],5:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],6:["#0051f2","#377cf6","#6da7fb","#ffd173","#d9963a","#b35a00"],7:["#0051f2","#377cf6","#6da7fb","#daffa5","#ffd173","#d9963a","#b35a00"],8:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#ffd173","#ecb356","#d9963a","#b35a00"],9:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#b35a00"],10:["#0051f2","#377cf6","#6da7fb","#a4d2ff","#daffa5","#ffd173","#ecb356","#d9963a","#c6781d","#b35a00"],stops:["#0051f2","#6da7fb","#daffa5","#d9963a","#b35a00"],tags:["light","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 5"},"div-purple-yellow-brown":{1:["#ffcce6"],2:["#6000e6","#b35a00"],3:["#6000e6","#ffcce6","#b35a00"],4:["#6000e6","#a069ee","#ce922e","#b35a00"],5:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],6:["#6000e6","#8035ea","#a069ee","#e9c95c","#ce922e","#b35a00"],7:["#6000e6","#8035ea","#a069ee","#ffcce6","#e9c95c","#ce922e","#b35a00"],8:["#6000e6","#8035ea","#a069ee","#c09ef2","#e9c95c","#dcad45","#ce922e","#b35a00"],9:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#b35a00"],10:["#6000e6","#8035ea","#a069ee","#c09ef2","#ffcce6","#e9c95c","#dcad45","#ce922e","#c17617","#b35a00"],stops:["#6000e6","#a069ee","#ffcce6","#ce922e","#b35a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 3"},"div-purple-beige-green":{1:["#f2cf9e"],2:["#8100e6","#2b9900"],3:["#8100e6","#f2cf9e","#2b9900"],4:["#8100e6","#b360d1","#6eb830","#2b9900"],5:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],6:["#8100e6","#9a30dc","#b360d1","#b0d660","#6eb830","#2b9900"],7:["#8100e6","#9a30dc","#b360d1","#f2cf9e","#b0d660","#6eb830","#2b9900"],8:["#8100e6","#9a30dc","#b360d1","#cc90c7","#b0d660","#8fc748","#6eb830","#2b9900"],9:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#2b9900"],10:["#8100e6","#9a30dc","#b360d1","#cc90c7","#f2cf9e","#b0d660","#8fc748","#6eb830","#4ca818","#2b9900"],stops:["#8100e6","#b360d1","#f2cf9e","#6eb830","#2b9900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 10"},"div-teal-yellow-brown":{1:["#f2f2aa"],2:["#00998c","#b34a00"],3:["#00998c","#f2f2aa","#b34a00"],4:["#00998c","#69d4cb","#d98346","#b34a00"],5:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],6:["#00998c","#35b7ac","#69d4cb","#ffbc8c","#d98346","#b34a00"],7:["#00998c","#35b7ac","#69d4cb","#f2f2aa","#ffbc8c","#d98346","#b34a00"],8:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#ffbc8c","#eca069","#d98346","#b34a00"],9:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#b34a00"],10:["#00998c","#35b7ac","#69d4cb","#9ef2eb","#f2f2aa","#ffbc8c","#eca069","#d98346","#c66723","#b34a00"],stops:["#00998c","#69d4cb","#f2f2aa","#d98346","#b34a00"],tags:["light","purples","browns","diverging","colorblind-friendly"],name:"Purple and Brown 4"},"div-yellow-magenta-light":{1:["#daf2b5"],2:["#a49d0c","#a600a6"],3:["#a49d0c","#daf2b5","#a600a6"],4:["#a49d0c","#d6cd45","#d35dc0","#a600a6"],5:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],6:["#a49d0c","#bbb327","#d6cd45","#ffbada","#d35dc0","#a600a6"],7:["#a49d0c","#bbb327","#d6cd45","#daf2b5","#ffbada","#d35dc0","#a600a6"],8:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#ffbada","#e98bcd","#d35dc0","#a600a6"],9:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#a600a6"],10:["#a49d0c","#bbb327","#d6cd45","#e9e05c","#daf2b5","#ffbada","#e98bcd","#d35dc0","#bc2eb3","#a600a6"],stops:["#a49d0c","#d6cd45","#daf2b5","#d35dc0","#a600a6"],tags:["light","purples","greens","yellows","diverging","colorblind-friendly"],name:"Yellow and Magenta"},"div-green-yellow-blue":{1:["#f2e695"],2:["#758f12","#0080ff"],3:["#758f12","#f2e695","#0080ff"],4:["#758f12","#acc05d","#53a9ff","#0080ff"],5:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],6:["#758f12","#90a838","#acc05d","#8bdee6","#53a9ff","#0080ff"],7:["#758f12","#90a838","#acc05d","#f2e695","#8bdee6","#53a9ff","#0080ff"],8:["#758f12","#90a838","#acc05d","#c7d983","#8bdee6","#7dbeff","#53a9ff","#0080ff"],9:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#0080ff"],10:["#758f12","#90a838","#acc05d","#c7d983","#f2e695","#8bdee6","#7dbeff","#53a9ff","#2a95ff","#0080ff"],stops:["#758f12","#acc05d","#f2e695","#53a9ff","#0080ff"],tags:["light","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 8"},"div-brown-blue":{1:["#cae0cf"],2:["#9e7300","#4253a6"],3:["#9e7300","#cae0cf","#4253a6"],4:["#9e7300","#c9aa61","#7988d0","#4253a6"],5:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],6:["#9e7300","#b38f30","#c9aa61","#afbcfa","#7988d0","#4253a6"],7:["#9e7300","#b38f30","#c9aa61","#cae0cf","#afbcfa","#7988d0","#4253a6"],8:["#9e7300","#b38f30","#c9aa61","#dec691","#afbcfa","#94a2e5","#7988d0","#4253a6"],9:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#4253a6"],10:["#9e7300","#b38f30","#c9aa61","#dec691","#cae0cf","#afbcfa","#94a2e5","#7988d0","#5d6dbb","#4253a6"],stops:["#9e7300","#c9aa61","#cae0cf","#7988d0","#4253a6"],tags:["light","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 6"},"div-red-green-cyan":{1:["#dae695"],2:["#a00000","#008fbf"],3:["#a00000","#dae695","#008fbf"],4:["#a00000","#df7b7b","#47b0df","#008fbf"],5:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],6:["#a00000","#c03d3d","#df7b7b","#8dd0ff","#47b0df","#008fbf"],7:["#a00000","#c03d3d","#df7b7b","#dae695","#8dd0ff","#47b0df","#008fbf"],8:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],9:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#008fbf"],10:["#a00000","#c03d3d","#df7b7b","#ffb8b8","#dae695","#8dd0ff","#6ac0ef","#47b0df","#239fcf","#008fbf"],stops:["#a00000","#df7b7b","#dae695","#47b0df","#008fbf"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 15"},"div-yellow-slate-teal":{1:["#d9ccff"],2:["#a49d0c","#008a97"],3:["#a49d0c","#d9ccff","#008a97"],4:["#a49d0c","#d6cd45","#46b4bf","#008a97"],5:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],6:["#a49d0c","#c3bb2e","#d6cd45","#8bdee6","#46b4bf","#008a97"],7:["#a49d0c","#c3bb2e","#d6cd45","#d9ccff","#8bdee6","#46b4bf","#008a97"],8:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#8bdee6","#68c9d2","#46b4bf","#008a97"],9:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#008a97"],10:["#a49d0c","#c3bb2e","#d6cd45","#e9e05c","#d9ccff","#8bdee6","#68c9d2","#46b4bf","#239fab","#008a97"],stops:["#a49d0c","#d6cd45","#d9ccff","#46b4bf","#008a97"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 10"},"div-blue-green-orange":{1:["#1c4d31"],2:["#00aaff","#ffaa00"],3:["#00aaff","#1c4d31","#ffaa00"],4:["#00aaff","#0072aa","#bd7e00","#ffaa00"],5:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],6:["#00aaff","#008ed5","#0072aa","#7a5200","#bd7e00","#ffaa00"],7:["#00aaff","#008ed5","#0072aa","#1c4d31","#7a5200","#bd7e00","#ffaa00"],8:["#00aaff","#008ed5","#0072aa","#005e8c","#7a5200","#bd7e00","#de9400","#ffaa00"],9:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#bd7e00","#de9400","#ffaa00"],10:["#00aaff","#008ed5","#0072aa","#005e8c","#1c4d31","#7a5200","#9b6800","#bd7e00","#de9400","#ffaa00"],stops:["#00aaff","#0072aa","#1c4d31","#bd7e00","#ffaa00"],tags:["dark","blues","browns","oranges","diverging","colorblind-friendly"],name:"Blue and Orange 10"},"div-purple-orange":{1:["#590e47"],2:["#9952ff","#ff7300"],3:["#9952ff","#590e47","#ff7300"],4:["#9952ff","#6c1be6","#c05600","#ff7300"],5:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],6:["#9952ff","#8337f2","#6c1be6","#803800","#c05600","#ff7300"],7:["#9952ff","#8337f2","#6c1be6","#590e47","#803800","#c05600","#ff7300"],8:["#9952ff","#8337f2","#6c1be6","#5600d9","#803800","#c05600","#df6400","#ff7300"],9:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#c05600","#df6400","#ff7300"],10:["#9952ff","#8337f2","#6c1be6","#5600d9","#590e47","#803800","#a04700","#c05600","#df6400","#ff7300"],stops:["#9952ff","#6c1be6","#590e47","#c05600","#ff7300"],tags:["dark","purples","browns","diverging","colorblind-friendly"],name:"Purple and Orange 3"},"div-purple-green":{1:["#4d3839"],2:["#b533ff","#6ede00"],3:["#b533ff","#4d3839","#6ede00"],4:["#b533ff","#8d11d4","#56ac00","#6ede00"],5:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],6:["#b533ff","#a122ea","#8d11d4","#3f8000","#56ac00","#6ede00"],7:["#b533ff","#a122ea","#8d11d4","#4d3839","#3f8000","#56ac00","#6ede00"],8:["#b533ff","#a122ea","#8d11d4","#7900bf","#3f8000","#56ac00","#61c300","#6ede00"],9:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#56ac00","#61c300","#6ede00"],10:["#b533ff","#a122ea","#8d11d4","#7900bf","#4d3839","#3f8000","#4a9600","#56ac00","#61c300","#6ede00"],stops:["#b533ff","#8d11d4","#4d3839","#56ac00","#6ede00"],tags:["dark","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 11"},"div-teal-orange":{1:["#604080"],2:["#66ffcc","#ffb900"],3:["#66ffcc","#604080","#ffb900"],4:["#66ffcc","#22aa7d","#b98600","#ffb900"],5:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],6:["#66ffcc","#44d5a4","#22aa7d","#735200","#b98600","#ffb900"],7:["#66ffcc","#44d5a4","#22aa7d","#604080","#735200","#b98600","#ffb900"],8:["#66ffcc","#44d5a4","#22aa7d","#008055","#735200","#b98600","#dc9f00","#ffb900"],9:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#b98600","#dc9f00","#ffb900"],10:["#66ffcc","#44d5a4","#22aa7d","#008055","#604080","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#66ffcc","#22aa7d","#604080","#b98600","#ffb900"],tags:["dark","greens","oranges","diverging","colorblind-friendly"],name:"Green and Orange"},"div-red-purple-blue":{1:["#472459"],2:["#0080ff","#ff4d4d"],3:["#0080ff","#472459","#ff4d4d"],4:["#0080ff","#005bb2","#c40f0f","#ff4d4d"],5:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],6:["#0080ff","#006dd9","#005bb2","#800000","#c40f0f","#ff4d4d"],7:["#0080ff","#006dd9","#005bb2","#472459","#800000","#c40f0f","#ff4d4d"],8:["#0080ff","#006dd9","#005bb2","#00488c","#800000","#c40f0f","#e61616","#ff4d4d"],9:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#c40f0f","#e61616","#ff4d4d"],10:["#0080ff","#006dd9","#005bb2","#00488c","#472459","#800000","#a20707","#c40f0f","#e61616","#ff4d4d"],stops:["#0080ff","#005bb2","#472459","#c40f0f","#ff4d4d"],tags:["dark","blues","reds","diverging","colorblind-friendly"],name:"Blue and Red 16"},"div-yellow-magenta":{1:["#1f4f59"],2:["#fff565","#e600e6"],3:["#fff565","#1f4f59","#e600e6"],4:["#fff565","#999122","#b300b3","#e600e6"],5:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],6:["#fff565","#ccc343","#999122","#800080","#b300b3","#e600e6"],7:["#fff565","#ccc343","#999122","#1f4f59","#800080","#b300b3","#e600e6"],8:["#fff565","#ccc343","#999122","#665f00","#800080","#b300b3","#cd00cd","#e600e6"],9:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#b300b3","#cd00cd","#e600e6"],10:["#fff565","#ccc343","#999122","#665f00","#1f4f59","#800080","#9a009a","#b300b3","#cd00cd","#e600e6"],stops:["#fff565","#999122","#1f4f59","#b300b3","#e600e6"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 4"},"div-green-blue":{1:["#663840"],2:["#d4ff33","#33ddff"],3:["#d4ff33","#663840","#33ddff"],4:["#d4ff33","#83a211","#1a9dc5","#33ddff"],5:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],6:["#d4ff33","#abd022","#83a211","#005d8c","#1a9dc5","#33ddff"],7:["#d4ff33","#abd022","#83a211","#663840","#005d8c","#1a9dc5","#33ddff"],8:["#d4ff33","#abd022","#83a211","#5a7300","#005d8c","#1a9dc5","#26bde2","#33ddff"],9:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#1a9dc5","#26bde2","#33ddff"],10:["#d4ff33","#abd022","#83a211","#5a7300","#663840","#005d8c","#0d7da9","#1a9dc5","#26bde2","#33ddff"],stops:["#d4ff33","#83a211","#663840","#1a9dc5","#33ddff"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 9"},"div-blue-brown":{1:["#5b2e73"],2:["#65a5ff","#ffb900"],3:["#65a5ff","#5b2e73","#ffb900"],4:["#65a5ff","#4366c4","#b98600","#ffb900"],5:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],6:["#65a5ff","#5485e1","#4366c4","#735200","#b98600","#ffb900"],7:["#65a5ff","#5485e1","#4366c4","#5b2e73","#735200","#b98600","#ffb900"],8:["#65a5ff","#5485e1","#4366c4","#3246a6","#735200","#b98600","#dc9f00","#ffb900"],9:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#b98600","#dc9f00","#ffb900"],10:["#65a5ff","#5485e1","#4366c4","#3246a6","#5b2e73","#735200","#966c00","#b98600","#dc9f00","#ffb900"],stops:["#65a5ff","#4366c4","#5b2e73","#b98600","#ffb900"],tags:["dark","purples","blues","browns","diverging","colorblind-friendly"],name:"Blue and Brown 7"},"div-red-cyan":{1:["#592e73"],2:["#ff7040","#33ddff"],3:["#ff7040","#592e73","#33ddff"],4:["#ff7040","#bc3f2b","#1a99c0","#33ddff"],5:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],6:["#ff7040","#de5836","#bc3f2b","#005580","#1a99c0","#33ddff"],7:["#ff7040","#de5836","#bc3f2b","#592e73","#005580","#1a99c0","#33ddff"],8:["#ff7040","#de5836","#bc3f2b","#9b2721","#005580","#1a99c0","#26bbdf","#33ddff"],9:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#1a99c0","#26bbdf","#33ddff"],10:["#ff7040","#de5836","#bc3f2b","#9b2721","#592e73","#005580","#0d77a0","#1a99c0","#26bbdf","#33ddff"],stops:["#ff7040","#bc3f2b","#592e73","#1a99c0","#33ddff"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 17"},"div-yellow-teal":{1:["#663840"],2:["#ffff00","#00ffff"],3:["#ffff00","#663840","#00ffff"],4:["#ffff00","#999900","#00b9b9","#00ffff"],5:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],6:["#ffff00","#cccc00","#999900","#007373","#00b9b9","#00ffff"],7:["#ffff00","#cccc00","#999900","#663840","#007373","#00b9b9","#00ffff"],8:["#ffff00","#cccc00","#999900","#666600","#007373","#00b9b9","#00dcdc","#00ffff"],9:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#00b9b9","#00dcdc","#00ffff"],10:["#ffff00","#cccc00","#999900","#666600","#663840","#007373","#009696","#00b9b9","#00dcdc","#00ffff"],stops:["#ffff00","#999900","#663840","#00b9b9","#00ffff"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 11"},"div-green-purple":{stops:["#a3cc29","#567300","#403E3A","#6F00A6","#AA00FF"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 13"},"div-blue-red":{stops:["#00AAFF","#0060A6","#403E3A","#801921","#d92b2b"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 18"},"div-green-magenta":{stops:["#48d92c","#137300","#453F40","#800078","#e616da"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 14"},"div-blue-orange":{stops:["#00EAFF","#007580","#3F453F","#804B00","#FF9600"],tags:["dark","oranges","blues","diverging","colorblind-friendly"],name:"Blue and Orange 11"},"div-blue-yellow":{stops:["#1984FF","#0E4F99","#40453F","#737327","#e6d316"],tags:["dark","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 13"},"div-purple-yellow":{stops:["#8A4DFF","#5933A6","#45413F","#806A00","#FFD400"],tags:["dark","purples","yellows","diverging","colorblind-friendly"],name:"Purple and Yellow 6"},"div-magenta-yellow":{stops:["#FF00E9","#800078","#453F41","#737327","#FFFF00"],tags:["dark","yellows","pinks","diverging","colorblind-friendly"],name:"Pink and Yellow 5"},"div-purple-green-dark":{stops:["#7933FF","#4F22A6","#423F45","#558000","#a0e616"],tags:["dark","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 15"},"div-green-brown":{stops:["#00FFD5","#00806B","#3F4540","#663D14","#BF6100"],tags:["dark","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 3"},"div-green-gray":{stops:["#24B360","#1E6B40","#3F4543","#6D7699","#B5C7FF"],tags:["dark","greens","blues","diverging","colorblind-friendly"],name:"Green and Blue 12"},"div-blue-white":{stops:["#1984FF","#0E4F99","#3F4245","#736C61","#CCC1AC"],tags:["dark","browns","blues","diverging","colorblind-friendly"],name:"Blue and Brown 8"},"div-red-steel":{stops:["#E64916","#99262F","#453F42","#454143","#A5B4FF"],tags:["dark","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 19"},"div-aqua-darkgray-red":{stops:["#00c3ff","#4e858c","#47443a","#94593b","#ff4040"],tags:["dark","reds","blues","diverging","3d","colorblind-friendly"],name:"Blue and Red 20"},"div-green-purple-light":{stops:["#799100","#B8BF76","#C7BFBF","#BF72BB","#85007D"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 17"},"div-blue-red-light":{stops:["#4596E6","#8FB0DE","#C4BCC7","#C0656B","#A60000"],tags:["light","reds","blues","diverging","colorblind-friendly"],name:"Blue and Red 21"},"div-green-purple-light-2":{stops:["#698C00","#98AF5B","#B3B8B6","#BF60B9","#A60098"],tags:["light","greens","purples","diverging","colorblind-friendly"],name:"Purple and Green 16"},"div-cyan-blue-light":{stops:["#00AFBF","#69CCCC","#C3CCBE","#D9AD70","#BF7000"],tags:["light","browns","greens","diverging","colorblind-friendly"],name:"Green and Brown 4"},"div-blue-yellow-light":{stops:["#4DA0FF","#8CC7FF","#C3D1C7","#D9D94B","#BFBF00"],tags:["light","yellows","blues","diverging","colorblind-friendly"],name:"Blue and Yellow 14"},"div-purple-yellow-light":{stops:["#805CC5","#A089BB","#BFB6B0","#B9A658","#B39500"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 7"},"div-magenta-yellow-light":{stops:["#98008B","#AE5DA0","#C4BAB5","#C1C15B","#B8B812"],tags:["light","yellows","purples","diverging","colorblind-friendly"],name:"Purple and Yellow 8"},"div-purple-green-light":{stops:["#805CC5","#A089BB","#B7BCC4","#98AF5B","#739900"],tags:["light","purples","greens","diverging","colorblind-friendly"],name:"Purple and Green 18"},"div-blue-blue":{stops:["#00A6A6","#56BFBF","#BFBFB4","#998355","#8C6338"],tags:["light","greens","browns","diverging","colorblind-friendly"],name:"Green and Brown 5"},"div-green-green":{stops:["#009940","#5BB084","#B1C1C2","#9098AF","#666E85"],tags:["light","greens","grays","diverging","colorblind-friendly"],name:"Green and Gray 7"},"div-blue-green-light":{stops:["#4596E6","#7FACD9","#B8C2CC","#A29F98","#767064"],tags:["light","grays","blues","diverging","colorblind-friendly"],name:"Blue and Gray 6"},"div-red-green-light":{stops:["#A62900","#B8755E","#C0BAC7","#939AB5","#697696"],tags:["light","reds","grays","diverging","colorblind-friendly"],name:"Red and Gray 7"},"div-blue-yellow-brown-light":{stops:["#308fa6","#6ca68b","#d2e096","#c7811e","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 6"},"div-blue-white-brown":{stops:["#308fa6","#98c7d3","#ffffff","#c67e6d","#8c270e"],tags:["light","greens","browns","diverging","3d","colorblind-friendly"],name:"Green and Brown 7"},"div-subdued-red-green":{1:["#ec8787"],2:["#ec8787","#70b6ba"],3:["#ec8787","#fff0d0","#70b6ba"],4:["#ec8787","#f9cbb3","#b7d5d7","#70b6ba"],5:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],6:["#ec8787","#f3a696","#f9cbb3","#b7d5d7","#93c6c9","#70b6ba"],7:["#ec8787","#f3a696","#f9cbb3","#fff0d0","#b7d5d7","#93c6c9","#70b6ba"],8:["#de6868","#ec8787","#f3a696","#f9cbb3","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],9:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba"],10:["#de6868","#ec8787","#f3a696","#f9cbb3","#fff0d0","#dbe3d3","#b7d5d7","#93c6c9","#70b6ba","#5aa3b3"],stops:["#ec8787","#f9cbb3","#fff0d0","#b7d5d7","#70b6ba"],tags:["light","reds","yellows","greens","subdued","diverging","colorblind-friendly"],name:"Starburst"},"div-subdued-red-purple":{1:["#db897e"],2:["#db897e","#b592c4"],3:["#db897e","#ecf2cd","#b592c4"],4:["#db897e","#edcab2","#d8bde6","#b592c4"],5:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],6:["#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4"],7:["#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4"],8:["#c27166","#db897e","#f3a196","#edcab2","#d8bde6","#c7a8d5","#b592c4","#a47db3"],9:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#d8bde6","#c7a8d5","#b592c4","#a47db3"],10:["#c27166","#db897e","#f3a196","#edcab2","#ecf2cd","#dfd8da","#d8bde6","#c7a8d5","#b592c4","#a47db3"],stops:["#db897e","#edcab2","#ecf2cd","#d8bde6","#b592c4"],tags:["light","reds","yellows","purples","subdued","diverging","colorblind-friendly"],name:"Glorious Purpose"},"div-subdued-brown-gray":{1:["#bd9f83"],2:["#bd9f83","#c8d2d8"],3:["#bd9f83","#f4e6c8","#c8d2d8"],4:["#a98762","#ceb396","#c8d2d8","#8b9da7"],5:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],6:["#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7"],7:["#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7"],8:["#946f40","#a98762","#bd9f83","#ceb396","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],9:["#946f40","#a98762","#bd9f83","#ceb396","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],10:["#946f40","#a98762","#bd9f83","#ceb396","#dec8aa","#f4e6c8","#c8d2d8","#a9b7c0","#8b9da7","#70848f"],stops:["#a98762","#ceb396","#f4e6c8","#c8d2d8","#8b9da7"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Desert Winds"},"div-subdued-sepia-gray":{1:["#dea37a"],2:["#dea37a","#c1d1db"],3:["#dea37a","#f5ebd4","#c1d1db"],4:["#d39367","#eab28c","#c1d1db","#839ba8"],5:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],6:["#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8"],7:["#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8"],8:["#b87a4f","#d39367","#dea37a","#eab28c","#c1d1db","#a2b6c2","#839ba8","#64808f"],9:["#b87a4f","#d39367","#dea37a","#eab28c","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],10:["#b87a4f","#d39367","#dea37a","#eab28c","#f2ceb5","#f5ebd4","#c1d1db","#a2b6c2","#839ba8","#64808f"],stops:["#d39367","#eab28c","#f5ebd4","#c1d1db","#839ba8"],tags:["light","browns","grays","subdued","diverging","colorblind-friendly"],name:"Cigar Smoke"},"div-subdued-blue-gray":{1:["#86b6cf"],2:["#86b6cf","#d9c8cf"],3:["#86b6cf","#e6f5e6","#d9c8cf"],4:["#72a3bd","#9ac9e0","#d9c8cf","#a6999e"],5:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],6:["#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e"],7:["#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e"],8:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],9:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],10:["#5e90ab","#72a3bd","#86b6cf","#9ac9e0","#aedcf2","#e6f5e6","#d9c8cf","#bfb0b7","#a6999e","#8c8186"],stops:["#72a3bd","#9ac9e0","#e6f5e6","#d9c8cf","#a6999e"],tags:["light","blues","grays","subdued","diverging","colorblind-friendly"],name:"Seattle Skyline"},"div-subdued-tan-blue":{1:["#f9cbb3"],2:["#f9cbb3","#aedcf2"],3:["#f9cbb3","#5e435a","#aedcf2"],4:["#f9cbb3","#9e7871","#567787","#aedcf2"],5:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],6:["#f9cbb3","#c9a090","#9e7871","#567787","#8bb2c5","#aedcf2"],7:["#f9cbb3","#c9a090","#9e7871","#5e435a","#567787","#8bb2c5","#aedcf2"],8:["#f9cbb3","#c9a090","#9e7871","#7d5757","#567787","#688899","#8bb2c5","#aedcf2"],9:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#567787","#688899","#8bb2c5","#aedcf2"],10:["#f9cbb3","#c9a090","#9e7871","#7d5757","#5e435a","#456373","#567787","#688899","#8bb2c5","#aedcf2"],stops:["#f9cbb3","#9e7871","#5e435a","#567787","#aedcf2"],tags:["dark","browns","blues","subdued","diverging","colorblind-friendly"],name:"Desert Rain"},"div-subdued-green-blue":{1:["#cdd9b8"],2:["#cdd9b8","#aecaf2"],3:["#cdd9b8","#58506b","#aecaf2"],4:["#cdd9b8","#757d61","#5e728f","#aecaf2"],5:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],6:["#cdd9b8","#9ba689","#757d61","#5e728f","#8fa8cc","#aecaf2"],7:["#cdd9b8","#9ba689","#757d61","#58506b","#5e728f","#8fa8cc","#aecaf2"],8:["#cdd9b8","#9ba689","#757d61","#596144","#5e728f","#778ead","#8fa8cc","#aecaf2"],9:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#5e728f","#778ead","#8fa8cc","#aecaf2"],10:["#cdd9b8","#9ba689","#757d61","#596144","#58506b","#4c607d","#5e728f","#778ead","#8fa8cc","#aecaf2"],stops:["#cdd9b8","#757d61","#58506b","#5e728f","#aecaf2"],tags:["dark","greens","blues","subdued","diverging","colorblind-friendly"],name:"Milky Way"},"div-subdued-green-pink":{1:["#ffb7e7"],2:["#cdd9b8","#ffb7e7"],3:["#cdd9b8","#424c59","#ffb7e7"],4:["#cdd9b8","#757d61","#8c5b7c","#ffb7e7"],5:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],6:["#cdd9b8","#9ba689","#757d61","#8c5b7c","#d697c1","#ffb7e7"],7:["#cdd9b8","#9ba689","#757d61","#424c59","#8c5b7c","#d697c1","#ffb7e7"],8:["#cdd9b8","#9ba689","#757d61","#596144","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],9:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],10:["#cdd9b8","#9ba689","#757d61","#596144","#424c59","#784868","#8c5b7c","#ad769b","#d697c1","#ffb7e7"],stops:["#cdd9b8","#757d61","#424c59","#8c5b7c","#ffb7e7"],tags:["dark","greens","purples","pinks","subdued","diverging","colorblind-friendly"],name:"Soft Velvet"},"div-subdued-green-brown":{1:["#3b9ea2"],2:["#3b9ea2","#e9bbb2"],3:["#3b9ea2","#d8d9ce","#e9bbb2"],4:["#006e76","#3b9ea2","#e9bbb2","#cca199"],5:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],6:["#006e76","#3b9ea2","#8cb2b2","#f8c8be","#e9bbb2","#cca199"],7:["#006e76","#3b9ea2","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#cca199"],8:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#f8c8be","#e9bbb2","#dbaea5","#cca199"],9:["#006e76","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],10:["#006e76","#1e868c","#3b9ea2","#63a8aa","#8cb2b2","#d8d9ce","#f8c8be","#e9bbb2","#dbaea5","#cca199"],stops:["#006e76","#3b9ea2","#d8d9ce","#e9bbb2","#cca199"],tags:["light","browns","greens","subdued","diverging","colorblind-friendly"],name:"Conifer Forest"},"div-lines-blue-brown":{1:["#a3d9bb"],2:["#005a8c","#806000"],3:["#005a8c","#a3d9bb","#806000"],4:["#005a8c","#0099d1","#a68721","#806000"],5:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],6:["#005a8c","#0099d1","#00b5f2","#b1ae74","#a68721","#806000"],7:["#005a8c","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#806000"],8:["#005a8c","#007aad","#0099d1","#00b5f2","#b1ae74","#a68721","#937411","#806000"],9:["#005a8c","#007aad","#0099d1","#00b5f2","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],10:["#005a8c","#007aad","#0099d1","#00b5f2","#4cc3d9","#a3d9bb","#b1ae74","#a68721","#937411","#806000"],stops:["#005a8c","#0099d1","#a3d9bb","#a68721","#806000"],tags:["light","blues","browns","lines","diverging","colorblind-friendly"],name:"Queen Conch Shell"},"div-lines-green-purple":{1:["#ebb788"],2:["#3a7300","#ab0080"],3:["#3a7300","#ebb788","#ab0080"],4:["#3a7300","#53a600","#d957b9","#ab0080"],5:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],6:["#3a7300","#53a600","#83a63c","#e39199","#d957b9","#ab0080"],7:["#3a7300","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#ab0080"],8:["#3a7300","#478d00","#53a600","#83a63c","#e39199","#d957b9","#c62ca0","#ab0080"],9:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#d957b9","#c62ca0","#ab0080"],10:["#3a7300","#478d00","#53a600","#83a63c","#ebb788","#e39199","#e673b0","#d957b9","#c62ca0","#ab0080"],stops:["#3a7300","#53a600","#ebb788","#d957b9","#ab0080"],tags:["light","greens","purples","pinks","lines","diverging","colorblind-friendly"],name:"Thai Lily"},"div-lines-red-gray":{1:["#b89fa0"],2:["#850000","#50567a"],3:["#850000","#b89fa0","#50567a"],4:["#850000","#d12020","#8790bf","#50567a"],5:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],6:["#850000","#d12020","#eb2f2f","#8790bf","#6c739d","#50567a"],7:["#850000","#d12020","#eb2f2f","#b89fa0","#8790bf","#6c739d","#50567a"],8:["#850000","#ac1010","#d12020","#eb2f2f","#9b92b9","#8790bf","#6c739d","#50567a"],9:["#850000","#ac1010","#d12020","#eb2f2f","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],10:["#850000","#ac1010","#d12020","#eb2f2f","#e3717e","#b89fa0","#9b92b9","#8790bf","#6c739d","#50567a"],stops:["#850000","#d12020","#b89fa0","#8790bf","#50567a"],tags:["light","reds","grays","lines","diverging","colorblind-friendly"],name:"Icy Rouge"},"div-lines-green-orange":{1:["#315b61"],2:["#ffaa00","#00ffd4"],3:["#ffaa00","#315b61","#00ffd4"],4:["#ffaa00","#b45a00","#00b294","#00ffd4"],5:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],6:["#ffaa00","#e67500","#b45a00","#008c74","#00b294","#00ffd4"],7:["#ffaa00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00ffd4"],8:["#ffaa00","#f28e00","#e67500","#b45a00","#008c74","#00b294","#00d9b4","#00ffd4"],9:["#ffaa00","#f28e00","#e67500","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],10:["#ffaa00","#f28e00","#e67500","#cd6700","#b45a00","#315b61","#008c74","#00b294","#00d9b4","#00ffd4"],stops:["#ffaa00","#b45a00","#315b61","#00b294","#00ffd4"],tags:["dark","oranges","greens","lines","diverging","colorblind-friendly"],name:"Halloween Morning"},"div-lines-yellow-blue":{1:["#2d5959"],2:["#ffff00","#99bbff"],3:["#ffff00","#2d5959","#99bbff"],4:["#ffff00","#a19700","#457ae6","#99bbff"],5:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],6:["#ffff00","#c0ba00","#a19700","#457ae6","#6f9bf3","#99bbff"],7:["#ffff00","#c0ba00","#a19700","#2d5959","#457ae6","#6f9bf3","#99bbff"],8:["#ffff00","#c0ba00","#a19700","#67782d","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],9:["#ffff00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],10:["#ffff00","#e0dc00","#c0ba00","#a19700","#67782d","#2d5959","#3b6ba3","#457ae6","#6f9bf3","#99bbff"],stops:["#ffff00","#a19700","#2d5959","#457ae6","#99bbff"],tags:["dark","yellows","blues","lines","diverging","colorblind-friendly"],name:"Fire and Ice"},"div-esribrand-red-bluegreen":{1:["#f07062"],2:["#d83020","#009b98"],3:["#d83020","#ffe0d9","#009b98"],4:["#a8281e","#f07062","#00bab5","#00807d"],5:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],6:["#a8281e","#f07062","#fbb3ab","#56d6d4","#00bab5","#00807d"],7:["#a8281e","#f07062","#fbb3ab","#ffe0d9","#56d6d4","#00bab5","#00807d"],8:["#a8281e","#d83020","#f07062","#fbb3ab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#a8281e","#d83020","#f07062","#fbb3ab","#ffe0d9","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#a8281e","#f07062","#ffe0d9","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 1"},"div-esribrand-red-blue":{1:["#f07062"],2:["#d83020","#007ac2"],3:["#d83020","#ffd6cc","#007ac2"],4:["#a8281e","#f07062","#50a7da","#00619b"],5:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],6:["#a8281e","#f07062","#fbb1a8","#8ec4e6","#50a7da","#00619b"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#8ec4e6","#50a7da","#00619b"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#c7cfd9","#8ec4e6","#50a7da","#00619b"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#00619b"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#c7cfd9","#8ec4e6","#50a7da","#007ac2","#00619b"],stops:["#a8281e","#f07062","#ffd6cc","#50a7da","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 1"},"div-esribrand-red-violet":{1:["#f07062"],2:["#d83020","#6a3fa6"],3:["#d83020","#ffd6cc","#6a3fa6"],4:["#a8281e","#f07062","#987ac3","#4e2c7e"],5:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],6:["#a8281e","#f07062","#fbb1a8","#c1a7d9","#987ac3","#4e2c7e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#c1a7d9","#987ac3","#4e2c7e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#4e2c7e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e0bfdd","#c1a7d9","#987ac3","#6a3fa6","#4e2c7e"],stops:["#a8281e","#f07062","#ffd6cc","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 1"},"div-esribrand-red-violetred":{1:["#f07062"],2:["#d83020","#8e499b"],3:["#d83020","#ffd6cc","#8e499b"],4:["#a8281e","#f07062","#b983c3","#73377e"],5:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],6:["#a8281e","#f07062","#fbb1a8","#d3abd5","#b983c3","#73377e"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d3abd5","#b983c3","#73377e"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#a8281e","#f07062","#ffd6cc","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 2"},"div-esribrand-red-gray":{1:["#ffd6cc"],2:["#a8281e","#404040"],3:["#a8281e","#ffd6cc","#404040"],4:["#a8281e","#f07062","#999999","#404040"],5:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],6:["#a8281e","#f07062","#fbb1a8","#d6c5c3","#999999","#404040"],7:["#a8281e","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#999999","#404040"],8:["#a8281e","#d83020","#f07062","#fbb1a8","#d6c5c3","#c0bab9","#999999","#404040"],9:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#404040"],10:["#a8281e","#d83020","#f07062","#fbb1a8","#ffd6cc","#d6c5c3","#c0bab9","#999999","#666666","#404040"],stops:["#a8281e","#f07062","#ffd6cc","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 1"},"div-esribrand-redorange-greenblue":{1:["#e97e5a"],2:["#da4d1e","#009b98"],3:["#da4d1e","#ffd0bf","#009b98"],4:["#963413","#e97e5a","#00bab5","#00807d"],5:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],6:["#963413","#e97e5a","#f4a78d","#56d6d4","#00bab5","#00807d"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#56d6d4","#00bab5","#00807d"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#963413","#e97e5a","#ffd0bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Green 2"},"div-esribrand-redorange-blue":{1:["#e97e5a"],2:["#da4d1e","#3c8ab8"],3:["#da4d1e","#ffd0bf","#3c8ab8"],4:["#963413","#e97e5a","#79b2d5","#00619b"],5:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],6:["#963413","#e97e5a","#f4a78d","#a5cbe3","#79b2d5","#00619b"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#a5cbe3","#79b2d5","#00619b"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2ced1","#a5cbe3","#79b2d5","#00619b"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#00619b"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2ced1","#a5cbe3","#79b2d5","#3c8ab8","#00619b"],stops:["#963413","#e97e5a","#ffd0bf","#79b2d5","#00619b"],tags:["light","reds","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Blue 2"},"div-esribrand-redorange-violet":{1:["#e97e5a"],2:["#da4d1e","#633b9b"],3:["#da4d1e","#ffd0bf","#633b9b"],4:["#963413","#e97e5a","#987ac3","#4e2c7e"],5:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],6:["#963413","#e97e5a","#f4a78d","#bfa8d7","#987ac3","#4e2c7e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bfa8d7","#987ac3","#4e2c7e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#4e2c7e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d2bccb","#bfa8d7","#987ac3","#633b9b","#4e2c7e"],stops:["#963413","#e97e5a","#ffd0bf","#987ac3","#4e2c7e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 3"},"div-esribrand-redorange-violetred":{1:["#e97e5a"],2:["#da4d1e","#8e499b"],3:["#da4d1e","#ffd0bf","#8e499b"],4:["#963413","#e97e5a","#b983c3","#73377e"],5:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],6:["#963413","#e97e5a","#f4a78d","#d3abd5","#b983c3","#73377e"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#d3abd5","#b983c3","#73377e"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#e9beca","#d3abd5","#b983c3","#73377e"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#73377e"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#e9beca","#d3abd5","#b983c3","#8e499b","#73377e"],stops:["#963413","#e97e5a","#ffd0bf","#b983c3","#73377e"],tags:["light","reds","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Purple 4"},"div-esribrand-redorange-gray":{1:["#e97e5a"],2:["#da4d1e","#666666"],3:["#da4d1e","#ffd0bf","#666666"],4:["#963413","#e97e5a","#999999","#404040"],5:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],6:["#963413","#e97e5a","#f4a78d","#bcbcbc","#999999","#404040"],7:["#963413","#e97e5a","#f4a78d","#ffd0bf","#bcbcbc","#999999","#404040"],8:["#963413","#da4d1e","#e97e5a","#f4a78d","#d7c6be","#bcbcbc","#999999","#404040"],9:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#404040"],10:["#963413","#da4d1e","#e97e5a","#f4a78d","#ffd0bf","#d7c6be","#bcbcbc","#999999","#666666","#404040"],stops:["#963413","#e97e5a","#ffd0bf","#999999","#404040"],tags:["light","reds","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Red and Gray 2"},"div-esribrand-orange-greenblue":{1:["#f89960"],2:["#f36f20","#009b98"],3:["#f36f20","#ffd8bf","#009b98"],4:["#b35116","#f89960","#00bab5","#00807d"],5:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],6:["#b35116","#f89960","#fcb990","#56d6d4","#00bab5","#00807d"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#56d6d4","#00bab5","#00807d"],8:["#b35116","#f36f20","#f89960","#fcb990","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#b35116","#f89960","#ffd8bf","#00bab5","#00807d"],tags:["light","reds","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 1"},"div-esribrand-orange-blue":{1:["#f89960"],2:["#f36f20","#007ac2"],3:["#f36f20","#ffd8bf","#007ac2"],4:["#b35116","#f89960","#50a7da","#00619b"],5:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],6:["#b35116","#f89960","#fcb990","#91bcd5","#50a7da","#00619b"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#91bcd5","#50a7da","#00619b"],8:["#b35116","#f36f20","#f89960","#fcb990","#d1d1d0","#91bcd5","#50a7da","#00619b"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#00619b"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d1d1d0","#91bcd5","#50a7da","#007ac2","#00619b"],stops:["#b35116","#f89960","#ffd8bf","#50a7da","#00619b"],tags:["light","oranges","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 1"},"div-esribrand-orange-violet":{1:["#f89960"],2:["#f36f20","#633b9b"],3:["#f36f20","#ffd8bf","#633b9b"],4:["#b35116","#f89960","#987ac3","#4e2c7e"],5:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],6:["#b35116","#f89960","#fcb990","#bca0ca","#987ac3","#4e2c7e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#bca0ca","#987ac3","#4e2c7e"],8:["#b35116","#f36f20","#f89960","#fcb990","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#4e2c7e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#e0c5d0","#bca0ca","#987ac3","#633b9b","#4e2c7e"],stops:["#b35116","#f89960","#ffd8bf","#987ac3","#4e2c7e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 1"},"div-esribrand-orange-violetred":{1:["#f89960"],2:["#f36f20","#8e499b"],3:["#f36f20","#ffd8bf","#8e499b"],4:["#b35116","#f89960","#b983c3","#73377e"],5:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],6:["#b35116","#f89960","#fcb990","#d5a6cc","#b983c3","#73377e"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#d5a6cc","#b983c3","#73377e"],8:["#b35116","#f36f20","#f89960","#fcb990","#f0c8d4","#d5a6cc","#b983c3","#73377e"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#73377e"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#f0c8d4","#d5a6cc","#b983c3","#8e499b","#73377e"],stops:["#b35116","#f89960","#ffd8bf","#b983c3","#73377e"],tags:["light","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 2"},"div-esribrand-orange-gray":{1:["#f89960"],2:["#f36f20","#666666"],3:["#f36f20","#ffd8bf","#666666"],4:["#b35116","#f89960","#999999","#404040"],5:["#b35116","#f89960","#ffd8bf","#999999","#404040"],6:["#b35116","#f89960","#fcb990","#b8b2ac","#999999","#404040"],7:["#b35116","#f89960","#fcb990","#ffd8bf","#b8b2ac","#999999","#404040"],8:["#b35116","#f36f20","#f89960","#fcb990","#d7cbbf","#b8b2ac","#999999","#404040"],9:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#404040"],10:["#b35116","#f36f20","#f89960","#fcb990","#ffd8bf","#d7cbbf","#b8b2ac","#999999","#666666","#404040"],stops:["#b35116","#f89960","#ffd8bf","#999999","#404040"],tags:["light","oranges","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 1"},"div-esribrand-orangeyellow-greenblue":{1:["#fbb664"],2:["#f29526","#009b98"],3:["#f29526","#ffe7c7","#009b98"],4:["#c67718","#fbb664","#00bab5","#00807d"],5:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],6:["#c67718","#fbb664","#fdcc92","#56d6d4","#00bab5","#00807d"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#56d6d4","#00bab5","#00807d"],8:["#c67718","#f29526","#fbb664","#fdcc92","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#c67718","#fbb664","#ffe7c7","#00bab5","#00807d"],tags:["light","browns","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Green 2"},"div-esribrand-orangeyellow-blue":{1:["#fbb664"],2:["#f29526","#007ac2"],3:["#f29526","#ffe7c7","#007ac2"],4:["#c67718","#fbb664","#50a7da","#00619b"],5:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],6:["#c67718","#fbb664","#fdcc92","#8cc9ed","#50a7da","#00619b"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#8cc9ed","#50a7da","#00619b"],8:["#c67718","#f29526","#fbb664","#fdcc92","#c6d8da","#8cc9ed","#50a7da","#00619b"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#00619b"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#c6d8da","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#c67718","#fbb664","#ffe7c7","#50a7da","#00619b"],tags:["light","browns","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Blue 2"},"div-esribrand-orangeyellow-violet":{1:["#fbb664"],2:["#f29526","#633b9b"],3:["#f29526","#ffe7c7","#633b9b"],4:["#c67718","#fbb664","#987ac3","#4e2c7e"],5:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],6:["#c67718","#fbb664","#fdcc92","#c0aae1","#987ac3","#4e2c7e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#c0aae1","#987ac3","#4e2c7e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#4e2c7e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#e0c9d4","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#c67718","#fbb664","#ffe7c7","#987ac3","#4e2c7e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 3"},"div-esribrand-orangeyellow-violetred":{1:["#fbb664"],2:["#f29526","#8e499b"],3:["#f29526","#ffe7c7","#8e499b"],4:["#c67718","#fbb664","#b983c3","#73377e"],5:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],6:["#c67718","#fbb664","#fdcc92","#daafe1","#b983c3","#73377e"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#daafe1","#b983c3","#73377e"],8:["#c67718","#f29526","#fbb664","#fdcc92","#edcbd4","#daafe1","#b983c3","#73377e"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#73377e"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#edcbd4","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#c67718","#fbb664","#ffe7c7","#b983c3","#73377e"],tags:["light","browns","oranges","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Purple 4"},"div-esribrand-orangeyellow-gray":{1:["#fbb664"],2:["#f29526","#666666"],3:["#f29526","#ffe7c7","#666666"],4:["#c67718","#fbb664","#999999","#404040"],5:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],6:["#c67718","#fbb664","#fdcc92","#bcbcbc","#999999","#404040"],7:["#c67718","#fbb664","#fdcc92","#ffe7c7","#bcbcbc","#999999","#404040"],8:["#c67718","#f29526","#fbb664","#fdcc92","#d7d2c2","#bcbcbc","#999999","#404040"],9:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#404040"],10:["#c67718","#f29526","#fbb664","#fdcc92","#ffe7c7","#d7d2c2","#bcbcbc","#999999","#666666","#404040"],stops:["#c67718","#fbb664","#ffe7c7","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Orange and Gray 2"},"div-esribrand-yellow-green-blue":{1:["#e8d966"],2:["#dbc62c","#009b98"],3:["#dbc62c","#fff58f","#009b98"],4:["#beac2d","#e8d966","#00bab5","#00807d"],5:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],6:["#beac2d","#e8d966","#f5e998","#56d6d4","#00bab5","#00807d"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#56d6d4","#00bab5","#00807d"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#beac2d","#e8d966","#fff58f","#00bab5","#00807d"],tags:["light","yellows","greens","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Green 1"},"div-esribrand-yellow-blue":{1:["#e8d966"],2:["#dbc62c","#007ac2"],3:["#dbc62c","#fff58f","#007ac2"],4:["#beac2d","#e8d966","#50a7da","#00619b"],5:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],6:["#beac2d","#e8d966","#f5e998","#8ec7de","#50a7da","#00619b"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#8ec7de","#50a7da","#00619b"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#cce6e2","#8ec7de","#50a7da","#00619b"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#00619b"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#cce6e2","#8ec7de","#50a7da","#007ac2","#00619b"],stops:["#beac2d","#e8d966","#fff58f","#50a7da","#00619b"],tags:["light","yellows","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Blue 1"},"div-esribrand-yellow-violet":{1:["#e8d966"],2:["#dbc62c","#633b9b"],3:["#dbc62c","#fff58f","#633b9b"],4:["#beac2d","#e8d966","#987ac3","#4e2c7e"],5:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],6:["#beac2d","#e8d966","#f5e998","#bfa8cc","#987ac3","#4e2c7e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bfa8cc","#987ac3","#4e2c7e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#4e2c7e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6d5d5","#bfa8cc","#987ac3","#633b9b","#4e2c7e"],stops:["#beac2d","#e8d966","#fff58f","#987ac3","#4e2c7e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 1"},"div-esribrand-yellow-violetred":{1:["#e8d966"],2:["#dbc62c","#8e499b"],3:["#dbc62c","#fff58f","#8e499b"],4:["#beac2d","#e8d966","#b983c3","#73377e"],5:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],6:["#beac2d","#e8d966","#f5e998","#d6adcc","#b983c3","#73377e"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#d6adcc","#b983c3","#73377e"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f2d7d5","#d6adcc","#b983c3","#73377e"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#73377e"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f2d7d5","#d6adcc","#b983c3","#8e499b","#73377e"],stops:["#beac2d","#e8d966","#fff58f","#b983c3","#73377e"],tags:["light","yellows","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Purple 2"},"div-esribrand-yellow-brown":{1:["#e8d966"],2:["#dbc62c","#85551e"],3:["#dbc62c","#fff58f","#85551e"],4:["#beac2d","#e8d966","#ad8b62","#664015"],5:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],6:["#beac2d","#e8d966","#f5e998","#cfb489","#ad8b62","#664015"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#cfb489","#ad8b62","#664015"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#f0dcb0","#cfb489","#ad8b62","#664015"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#664015"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#f0dcb0","#cfb489","#ad8b62","#85551e","#664015"],stops:["#beac2d","#e8d966","#fff58f","#ad8b62","#664015"],tags:["light","yellows","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Bananas"},"div-esribrand-yellow-gray":{1:["#e8d966"],2:["#dbc62c","#666666"],3:["#dbc62c","#fff58f","#666666"],4:["#beac2d","#e8d966","#999999","#404040"],5:["#beac2d","#e8d966","#fff58f","#999999","#404040"],6:["#beac2d","#e8d966","#f5e998","#bcbcbc","#999999","#404040"],7:["#beac2d","#e8d966","#f5e998","#fff58f","#bcbcbc","#999999","#404040"],8:["#beac2d","#dbc62c","#e8d966","#f5e998","#e6e0c4","#bcbcbc","#999999","#404040"],9:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#404040"],10:["#beac2d","#dbc62c","#e8d966","#f5e998","#fff58f","#e6e0c4","#bcbcbc","#999999","#666666","#404040"],stops:["#beac2d","#e8d966","#fff58f","#999999","#404040"],tags:["light","yellows","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Yellow and Gray 1"},"div-esribrand-yellowgreen-greenblue":{1:["#c2e075"],2:["#aad048","#009b98"],3:["#aad048","#daf2de","#009b98"],4:["#84a338","#c2e075","#00bab5","#00807d"],5:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],6:["#84a338","#c2e075","#daebab","#56d6d4","#00bab5","#00807d"],7:["#84a338","#c2e075","#daebab","#daf2de","#56d6d4","#00bab5","#00807d"],8:["#84a338","#aad048","#c2e075","#daebab","#b8d9d5","#56d6d4","#00bab5","#00807d"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#00807d"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#b8d9d5","#56d6d4","#00bab5","#009b98","#00807d"],stops:["#84a338","#c2e075","#daf2de","#00bab5","#00807d"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 1"},"div-esribrand-yellowgreen-blue":{1:["#c2e075"],2:["#aad048","#007ac2"],3:["#aad048","#daf2de","#007ac2"],4:["#84a338","#c2e075","#50a7da","#00619b"],5:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],6:["#84a338","#c2e075","#daebab","#8cc9ed","#50a7da","#00619b"],7:["#84a338","#c2e075","#daebab","#daf2de","#8cc9ed","#50a7da","#00619b"],8:["#84a338","#aad048","#c2e075","#daebab","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#84a338","#aad048","#c2e075","#daebab","#daf2de","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#84a338","#c2e075","#daf2de","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 2"},"div-esribrand-yellowgreen-violet":{1:["#c2e075"],2:["#aad048","#633b9b"],3:["#aad048","#e6e8da","#633b9b"],4:["#84a338","#c2e075","#987ac3","#4e2c7e"],5:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],6:["#84a338","#c2e075","#daebab","#c0aae1","#987ac3","#4e2c7e"],7:["#84a338","#c2e075","#daebab","#e6e8da","#c0aae1","#987ac3","#4e2c7e"],8:["#84a338","#aad048","#c2e075","#daebab","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],9:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#4e2c7e"],10:["#84a338","#aad048","#c2e075","#daebab","#e6e8da","#dad0e6","#c0aae1","#987ac3","#633b9b","#4e2c7e"],stops:["#84a338","#c2e075","#e6e8da","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 1"},"div-esribrand-yellowgreen-violetred":{1:["#c2e075"],2:["#aad048","#8e499b"],3:["#aad048","#ede9e2","#8e499b"],4:["#84a338","#c2e075","#b983c3","#73377e"],5:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],6:["#84a338","#c2e075","#daebab","#daafe1","#b983c3","#73377e"],7:["#84a338","#c2e075","#daebab","#ede9e2","#daafe1","#b983c3","#73377e"],8:["#84a338","#aad048","#c2e075","#daebab","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#84a338","#aad048","#c2e075","#daebab","#ede9e2","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#84a338","#c2e075","#ede9e2","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 2"},"div-esribrand-yellowgreen-brown":{1:["#c2e075"],2:["#aad048","#7b4f1c"],3:["#aad048","#f5f4cf","#7b4f1c"],4:["#84a338","#c2e075","#ad8b62","#664015"],5:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],6:["#84a338","#c2e075","#daebab","#d2b797","#ad8b62","#664015"],7:["#84a338","#c2e075","#daebab","#f5f4cf","#d2b797","#ad8b62","#664015"],8:["#84a338","#aad048","#c2e075","#daebab","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#84a338","#aad048","#c2e075","#daebab","#f5f4cf","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#84a338","#c2e075","#f5f4cf","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 1"},"div-esribrand-yellowgreen-gray":{1:["#c2e075"],2:["#aad048","#666666"],3:["#aad048","#ecf2dd","#666666"],4:["#84a338","#c2e075","#999999","#404040"],5:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],6:["#84a338","#c2e075","#daebab","#bcbcbc","#999999","#404040"],7:["#84a338","#c2e075","#daebab","#ecf2dd","#bcbcbc","#999999","#404040"],8:["#84a338","#aad048","#c2e075","#daebab","#d7dacf","#bcbcbc","#999999","#404040"],9:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#404040"],10:["#84a338","#aad048","#c2e075","#daebab","#ecf2dd","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#84a338","#c2e075","#ecf2dd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 1"},"div-esribrand-green-blue":{1:["#6bc878"],2:["#35ac46","#007ac2"],3:["#35ac46","#d2f7ed","#007ac2"],4:["#288835","#6bc878","#50a7da","#00619b"],5:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],6:["#288835","#6bc878","#b0e6b8","#7dc4e3","#50a7da","#00619b"],7:["#288835","#6bc878","#b0e6b8","#d2f7ed","#7dc4e3","#50a7da","#00619b"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#abe2eb","#7dc4e3","#50a7da","#00619b"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#00619b"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#d2f7ed","#abe2eb","#7dc4e3","#50a7da","#007ac2","#00619b"],stops:["#288835","#6bc878","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Blue 3"},"div-esribrand-green-violet":{1:["#6bc878"],2:["#35ac46","#633b9b"],3:["#35ac46","#dfebe9","#633b9b"],4:["#288835","#6bc878","#987ac3","#4e2c7e"],5:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],6:["#288835","#6bc878","#b0e6b8","#b2a2d2","#987ac3","#4e2c7e"],7:["#288835","#6bc878","#b0e6b8","#dfebe9","#b2a2d2","#987ac3","#4e2c7e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#4e2c7e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#dfebe9","#cccae1","#b2a2d2","#987ac3","#633b9b","#4e2c7e"],stops:["#288835","#6bc878","#dfebe9","#987ac3","#4e2c7e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 3"},"div-esribrand-green-violetred":{1:["#6bc878"],2:["#35ac46","#8e499b"],3:["#35ac46","#e2ebe7","#8e499b"],4:["#288835","#6bc878","#b983c3","#73377e"],5:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],6:["#288835","#6bc878","#b0e6b8","#c9a8d1","#b983c3","#73377e"],7:["#288835","#6bc878","#b0e6b8","#e2ebe7","#c9a8d1","#b983c3","#73377e"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#d9cde0","#c9a8d1","#b983c3","#73377e"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#73377e"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#e2ebe7","#d9cde0","#c9a8d1","#b983c3","#8e499b","#73377e"],stops:["#288835","#6bc878","#e2ebe7","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 4"},"div-esribrand-green-gray":{1:["#6bc878"],2:["#35ac46","#666666"],3:["#35ac46","#daeddd","#666666"],4:["#288835","#6bc878","#999999","#404040"],5:["#288835","#6bc878","#daeddd","#999999","#404040"],6:["#288835","#6bc878","#b0e6b8","#b1b8b2","#999999","#404040"],7:["#288835","#6bc878","#b0e6b8","#daeddd","#b1b8b2","#999999","#404040"],8:["#288835","#35ac46","#6bc878","#b0e6b8","#c9d6cb","#b1b8b2","#999999","#404040"],9:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#404040"],10:["#288835","#35ac46","#6bc878","#b0e6b8","#daeddd","#c9d6cb","#b1b8b2","#999999","#666666","#404040"],stops:["#288835","#6bc878","#daeddd","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 2"},"div-esribrand-greenblue-blue":{1:["#00bab5"],2:["#009b98","#007ac2"],3:["#009b98","#d2f7ed","#007ac2"],4:["#00807d","#00bab5","#50a7da","#00619b"],5:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],6:["#00807d","#00bab5","#5ae0de","#8cc9ed","#50a7da","#00619b"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#8cc9ed","#50a7da","#00619b"],8:["#00807d","#009b98","#00bab5","#5ae0de","#bce4ee","#8cc9ed","#50a7da","#00619b"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#00619b"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#bce4ee","#8cc9ed","#50a7da","#007ac2","#00619b"],stops:["#00807d","#00bab5","#d2f7ed","#50a7da","#00619b"],tags:["light","greens","blues","diverging","esri-brand"],name:"Esri Green and Blue 4"},"div-esribrand-greenblue-violetred":{1:["#00bab5"],2:["#009b98","#8e499b"],3:["#009b98","#d2f7ed","#8e499b"],4:["#00807d","#00bab5","#b983c3","#73377e"],5:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],6:["#00807d","#00bab5","#5ae0de","#daafe1","#b983c3","#73377e"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#daafe1","#b983c3","#73377e"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e9d1e6","#daafe1","#b983c3","#73377e"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#73377e"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e9d1e6","#daafe1","#b983c3","#8e499b","#73377e"],stops:["#00807d","#00bab5","#d2f7ed","#b983c3","#73377e"],tags:["light","greens","purples","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Purple 5"},"div-esribrand-greenblue-brown":{1:["#00bab5"],2:["#009b98","#7b4f1c"],3:["#009b98","#d2f7ed","#7b4f1c"],4:["#00807d","#00bab5","#ad8b62","#664015"],5:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],6:["#00807d","#00bab5","#5ae0de","#d2b797","#ad8b62","#664015"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#d2b797","#ad8b62","#664015"],8:["#00807d","#009b98","#00bab5","#5ae0de","#e6d8b6","#d2b797","#ad8b62","#664015"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#664015"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#e6d8b6","#d2b797","#ad8b62","#7b4f1c","#664015"],stops:["#00807d","#00bab5","#d2f7ed","#ad8b62","#664015"],tags:["light","greens","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Brown 2"},"div-esribrand-greenblue-gray":{1:["#00bab5"],2:["#009b98","#666666"],3:["#009b98","#d2f7ed","#666666"],4:["#00807d","#00bab5","#999999","#404040"],5:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],6:["#00807d","#00bab5","#5ae0de","#bcbcbc","#999999","#404040"],7:["#00807d","#00bab5","#5ae0de","#d2f7ed","#bcbcbc","#999999","#404040"],8:["#00807d","#009b98","#00bab5","#5ae0de","#d7dacf","#bcbcbc","#999999","#404040"],9:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#404040"],10:["#00807d","#009b98","#00bab5","#5ae0de","#d2f7ed","#d7dacf","#bcbcbc","#999999","#666666","#404040"],stops:["#00807d","#00bab5","#d2f7ed","#999999","#404040"],tags:["light","greens","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Green and Gray 3"},"div-esribrand-blue-brown":{1:["#50a7da"],2:["#007ac2","#7b4f1c"],3:["#007ac2","#d3e6e3","#7b4f1c"],4:["#00619b","#50a7da","#ad8b62","#664015"],5:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],6:["#00619b","#50a7da","#9bcde5","#c0ad91","#ad8b62","#664015"],7:["#00619b","#50a7da","#9bcde5","#d3e6e3","#c0ad91","#ad8b62","#664015"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#d3d0c1","#c0ad91","#ad8b62","#664015"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#664015"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d3e6e3","#d3d0c1","#c0ad91","#ad8b62","#7b4f1c","#664015"],stops:["#00619b","#50a7da","#d3e6e3","#ad8b62","#664015"],tags:["light","blues","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Brown 1"},"div-esribrand-blue-gray":{1:["#50a7da"],2:["#007ac2","#666666"],3:["#007ac2","#d7e3eb","#666666"],4:["#00619b","#50a7da","#999999","#404040"],5:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],6:["#00619b","#50a7da","#9bcde5","#b0b4b7","#999999","#404040"],7:["#00619b","#50a7da","#9bcde5","#d7e3eb","#b0b4b7","#999999","#404040"],8:["#00619b","#007ac2","#50a7da","#9bcde5","#c8d0d4","#b0b4b7","#999999","#404040"],9:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#404040"],10:["#00619b","#007ac2","#50a7da","#9bcde5","#d7e3eb","#c8d0d4","#b0b4b7","#999999","#666666","#404040"],stops:["#00619b","#50a7da","#d7e3eb","#999999","#404040"],tags:["light","blues","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Blue and Gray 1"},"div-esribrand-violet-brown":{1:["#987ac3"],2:["#6940a1","#7b4f1c"],3:["#6940a1","#faeff4","#7b4f1c"],4:["#4e2c7e","#987ac3","#ad8b62","#664015"],5:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],6:["#4e2c7e","#987ac3","#decef7","#c7ac93","#ad8b62","#664015"],7:["#4e2c7e","#987ac3","#decef7","#faeff4","#c7ac93","#ad8b62","#664015"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#e0cec3","#c7ac93","#ad8b62","#664015"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#664015"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#faeff4","#e0cec3","#c7ac93","#ad8b62","#7b4f1c","#664015"],stops:["#4e2c7e","#987ac3","#faeff4","#ad8b62","#664015"],tags:["light","purples","browns","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Brown 1"},"esribrand-violet-gray":{1:["#987ac3"],2:["#6940a1","#666666"],3:["#6940a1","#f4effa","#666666"],4:["#4e2c7e","#987ac3","#999999","#404040"],5:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],6:["#4e2c7e","#987ac3","#decef7","#b7b6b9","#999999","#404040"],7:["#4e2c7e","#987ac3","#decef7","#f4effa","#b7b6b9","#999999","#404040"],8:["#4e2c7e","#6940a1","#987ac3","#decef7","#d6d2da","#b7b6b9","#999999","#404040"],9:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#404040"],10:["#4e2c7e","#6940a1","#987ac3","#decef7","#f4effa","#d6d2da","#b7b6b9","#999999","#666666","#404040"],stops:["#4e2c7e","#987ac3","#f4effa","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 1"},"div-esribrand-violetred-gray":{1:["#b983c3"],2:["#8e499b","#666666"],3:["#8e499b","#eee1f0","#666666"],4:["#73377e","#b983c3","#999999","#404040"],5:["#73377e","#b983c3","#eee1f0","#999999","#404040"],6:["#73377e","#b983c3","#ebc8f0","#b0b4b7","#999999","#404040"],7:["#73377e","#b983c3","#ebc8f0","#eee1f0","#b0b4b7","#999999","#404040"],8:["#73377e","#8e499b","#b983c3","#ebc8f0","#d5cfd6","#b0b4b7","#999999","#404040"],9:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#404040"],10:["#73377e","#8e499b","#b983c3","#ebc8f0","#eee1f0","#d5cfd6","#b0b4b7","#999999","#666666","#404040"],stops:["#73377e","#b983c3","#eee1f0","#999999","#404040"],tags:["light","purples","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Purple and Gray 2"},"div-esribrand-brown-gray":{1:["#ad8b62"],2:["#7b4f1c","#666666"],3:["#7b4f1c","#f0e9df","#666666"],4:["#664015","#ad8b62","#999999","#404040"],5:["#664015","#ad8b62","#f0e9df","#999999","#404040"],6:["#664015","#ad8b62","#ebd5b7","#b0b4b7","#999999","#404040"],7:["#664015","#ad8b62","#ebd5b7","#f0e9df","#b0b4b7","#999999","#404040"],8:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#d6d3ce","#b0b4b7","#999999","#404040"],9:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#404040"],10:["#664015","#7b4f1c","#ad8b62","#ebd5b7","#f0e9df","#d6d3ce","#b0b4b7","#999999","#666666","#404040"],stops:["#664015","#ad8b62","#f0e9df","#999999","#404040"],tags:["light","browns","grays","diverging","esri-brand","colorblind-friendly"],name:"Esri Brown and Gray 1"},"highlight-orange":{3:["rgba(165,50,23,0.40)","rgba(165,50,23,1.0)","rgba(165,50,23,0.40)"],5:["rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)"],7:["rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)"],9:["rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)"],stops:["rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)"],tags:["light","reds","centered-on","colorblind-friendly"],name:"Centered on Red 1"},"highlight-bluegreen":{3:["rgba(0,66,56,0.40)","rgba(0,66,56,1.0)","rgba(0,66,56,0.40)"],5:["rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)"],7:["rgba(0,66,56,0.10)","rgba(10,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)"],9:["rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)"],stops:["rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)"],tags:["light","greens","centered-on","colorblind-friendly"],name:"Centered on Green 1"},"highlight-red":{3:["rgba(153,11,11,0.40)","rgba(153,11,11,1.0)","rgba(153,11,11,0.40)"],5:["rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)"],7:["rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)"],9:["rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)"],stops:["rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)"],tags:["reds","centered-on","bright","light","colorblind-friendly"],name:"Centered on Red 2"},"highlight-orange-dark":{3:["rgba(107,38,0,0.40)","rgba(107,38,0,1.0)","rgba(107,38,0,0.40)"],5:["rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)"],7:["rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)"],9:["rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)"],stops:["rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)"],tags:["light","browns","centered-on","colorblind-friendly"],name:"Centered on Red 3"},"highlight-orange-bright":{3:["rgba(255,179,57,0.40)","rgba(255,179,57,1.0)","rgba(255,179,57,0.40)"],5:["rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)"],7:["rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)"],9:["rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)"],stops:["rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 1"},"highlight-purple":{3:["rgba(65,27,109,0.40)","rgba(65,27,109,1.0)","rgba(65,27,109,0.40)"],5:["rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)"],7:["rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)"],9:["rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)"],stops:["rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)"],tags:["light","purples","centered-on","colorblind-friendly"],name:"Centered on Purple 1"},"highlight-pink":{3:["rgba(87,9,89,0.40)","rgba(87,9,89,1.0)","rgba(87,9,89,0.40)"],5:["rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)"],7:["rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)"],9:["rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)"],stops:["rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)"],tags:["light","purples","centered-on","colorblind-friendly"],name:"Centered on Purple 2"},"highlight-blue":{3:["rgba(16,48,94,0.40)","rgba(16,48,94,1.0)","rgba(16,48,94,0.40)"],5:["rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)"],7:["rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)"],9:["rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)"],stops:["rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)"],tags:["light","blues","centered-on","colorblind-friendly"],name:"Centered on Blue 1"},"highlight-blue-dark":{3:["rgba(0,38,73,0.40)","rgba(0,38,73,1.0)","rgba(0,38,73,0.40)"],5:["rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)"],7:["rgba(0,38,73,0.10)","rgba(10,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)"],9:["rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)"],stops:["rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)"],tags:["light","blues","centered-on","colorblind-friendly"],name:"Centered on Blue 2"},"highlight-blue-bright":{3:["rgba(117,239,221,0.40)","rgba(117,239,221,1.0)","rgba(117,239,221,0.40)"],5:["rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)"],7:["rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)"],9:["rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)"],stops:["rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 3"},"highlight-orange-gray":{3:["#bf9990","#a53217","#bf9990"],5:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],7:["#cccccc","#bf9990","#b26553","#a53217","#b26553","#bf9990","#cccccc"],9:["#cccccc","#c2a69f","#b97f72","#af5944","#a53217","#af5944","#b97f72","#c2a69f","#cccccc"],stops:["#cccccc","#b97f72","#a53217","#b97f72","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 4"},"highlight-bluegreen-gray":{3:["#889e9b","#004238","#889e9b"],5:["#cccccc","#668782","#004238","#668782","#cccccc"],7:["#cccccc","#889e9b","#447069","#004238","#447069","#889e9b","#cccccc"],9:["#cccccc","#99aaa7","#668782","#33655d","#004238","#33655d","#668782","#99aaa7","#cccccc"],stops:["#cccccc","#668782","#004238","#668782","#cccccc"],tags:["greens","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Green 2"},"highlight-red-gray":{3:["#bb8c8c","#990b0b","#bb8c8c"],5:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],7:["#cccccc","#bb8c8c","#aa4b4b","#990b0b","#aa4b4b","#bb8c8c","#cccccc"],9:["#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc"],stops:["#cccccc","#b36c6c","#990b0b","#b36c6c","#cccccc"],tags:["reds","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 5"},"highlight-orange-gray-dark":{3:["#ac9588","#6b2600","#ac9588"],5:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],7:["#cccccc","#ac9588","#8b5d44","#6b2600","#8b5d44","#ac9588","#cccccc"],9:["#cccccc","#b4a399","#9c7966","#835033","#6b2600","#835033","#9c7966","#b4a399","#cccccc"],stops:["#cccccc","#9c7966","#6b2600","#9c7966","#cccccc"],tags:["browns","centered-on","light","subdued","colorblind-friendly"],name:"Centered on Red 6"},"highlight-orange-gray-bright":{3:["#775e35","#ffb339","#775e35"],5:["#333333","#997336","#ffb339","#997336","#333333"],7:["#333333","#775e35","#bb8837","#ffb339","#bb8837","#775e35","#333333"],9:["#333333","#665335","#997336","#cc9338","#ffb339","#cc9338","#997336","#665335","#333333"],stops:["#333333","#997336","#ffb339","#997336","#333333"],tags:["yellows","centered-on","bright","dark","colorblind-friendly"],name:"Centered on Yellow 2"},"highlight-purple-gray":{3:["#9e91ac","#411b6d","#9e91ac"],5:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],7:["#cccccc","#9e91ac","#6f568d","#411b6d","#6f568d","#9e91ac","#cccccc"],9:["#cccccc","#a9a0b4","#87749d","#644785","#411b6d","#644785","#87749d","#a9a0b4","#cccccc"],stops:["#cccccc","#87749d","#411b6d","#87749d","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 3"},"highlight-pink-gray":{3:["#a58ba6","#570959","#a58ba6"],5:["#cccccc","#926b93","#570959","#926b93","#cccccc"],7:["#cccccc","#a58ba6","#7e4a7f","#570959","#7e4a7f","#a58ba6","#cccccc"],9:["#cccccc","#af9baf","#926b93","#743a76","#570959","#743a76","#926b93","#af9baf","#cccccc"],stops:["#cccccc","#926b93","#570959","#926b93","#cccccc"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 4"},"highlight-blue-gray":{3:["#8d98a7","#10305e","#8d98a7"],5:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],7:["#cccccc","#8d98a7","#4f6483","#10305e","#4f6483","#8d98a7","#cccccc"],9:["#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc"],stops:["#cccccc","#6e7e95","#10305e","#6e7e95","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 4"},"highlight-blue-gray-dark":{3:["#8895a0","#002649","#8895a0"],5:["#cccccc","#66798b","#002649","#66798b","#cccccc"],7:["#cccccc","#8895a0","#445d75","#002649","#445d75","#8895a0","#cccccc"],9:["#cccccc","#99a3ab","#66798b","#33506a","#002649","#33506a","#66798b","#99a3ab","#cccccc"],stops:["#cccccc","#66798b","#002649","#66798b","#cccccc"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 5"},"highlight-blue-gray-bright":{3:["#49726c","#75efdd","#49726c"],5:["#333333","#549188","#75efdd","#549188","#333333"],7:["#333333","#49726c","#5fb0a4","#75efdd","#5fb0a4","#49726c","#333333"],9:["#333333","#44625e","#549188","#65c0b3","#75efdd","#65c0b3","#549188","#44625e","#333333"],stops:["#333333","#549188","#75efdd","#549188","#333333"],tags:["blues","greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 3"},"highlight-red-gray-bright":{stops:["#4d414d","#a63a55","#ff4141","#a63a55","#4d414d"],tags:["reds","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Red 7"},"highlight-purple-gray-bright":{stops:["#4c374d","#7e3ca6","#b44dff","#7e3ca6","#4c374d"],tags:["purples","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Purple 5"},"highlight-blue-bright-gray-bright":{stops:["#383855","#2c6f9e","#40bfff","#2c6f9e","#383855"],tags:["blues","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Blue 6"},"highlight-green-gray-bright":{stops:["#2f4147","#18a064","#00ff78","#18a064","#2f4147"],tags:["greens","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Green 4"},"highlight-yellow-gray-bright":{stops:["#41472e","#878c34","#f9ff5a","#878c34","#41472e"],tags:["yellows","centered-on","dark","bright","colorblind-friendly"],name:"Centered on Yellow 3"},"highlight-pink-gray-dark":{stops:["#bbb8cc","#995c99","#a6004e","#995c99","#bbb8cc"],tags:["purples","pinks","centered-on","light","colorblind-friendly"],name:"Centered on Pink 1"},"highlight-purple-gray-dark":{stops:["#bdb8d9","#835fa6","#7f0099","#835fa6","#bdb8d9"],tags:["purples","centered-on","light","colorblind-friendly"],name:"Centered on Purple 6"},"highlight-blue-bright-gray-dark":{stops:["#c2cff2","#6187f2","#003df2","#6187f2","#c2cff2"],tags:["blues","centered-on","light","colorblind-friendly"],name:"Centered on Blue 7"},"highlight-green-gray-dark":{stops:["#b8d5d9","#4d9a94","#00735f","#4d9a94","#b8d5d9"],tags:["greens","centered-on","light","colorblind-friendly"],name:"Centered on Green 5"},"highlight-brown-gray-dark":{stops:["#ccbdad","#b38657","#994e00","#b38657","#ccbdad"],tags:["browns","centered-on","light","colorblind-friendly"],name:"Centered on Brown 1"},"extremesdiv-bluegreen-yellow-orange":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light","colorblind-friendly"],name:"Red and Green Extremes 1"},"extremesdiv-orange-yellow-blue-light":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 1"},"extremesdiv-green-yellow-redpurple":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 2"},"extremesdiv-green-yellow-orange":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 3"},"extremesdiv-orange-purple":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 1"},"extremesdiv-bluegreen-purple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 1"},"extremesdiv-orange-pink":{stops:["rgba(165,50,23,1)","rgba(165,50,23,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 2"},"extremesdiv-redpurple-blue":{stops:["rgba(102,0,22,1)","rgba(102,0,22,0.5)","rgba(255,255,255,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 2"},"extremesdiv-green-pink":{stops:["rgba(56,73,3,1)","rgba(56,73,3,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 2"},"extremesdiv-bluegreen-redpurple":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(102,0,22,0.5)","rgba(102,0,22,1)"],tags:["reds","greens","extremes","light"],name:"Red and Green Extremes 5"},"extremesdiv-red-yellow-pink":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 3"},"extremesdiv-blue-green":{stops:["rgba(16,48,94,1)","rgba(16,48,94,0.5)","rgba(255,255,255,0)","rgba(56,73,3,0.5)","rgba(56,73,3,1)"],tags:["greens","blues","extremes","light","colorblind-friendly"],name:"Green and Blue Extremes 1"},"extremesdiv-bluegreen-pink":{stops:["rgba(0,66,56,1)","rgba(0,66,56,0.5)","rgba(255,255,255,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1)"],tags:["purples","greens","extremes","light","colorblind-friendly"],name:"Purple and Green Extremes 3"},"extremesdiv-orange-yellow-blue-dark":{stops:["rgba(107,38,0,1)","rgba(107,38,0,0.5)","rgba(255,255,255,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1)"],tags:["reds","blues","extremes","light","colorblind-friendly"],name:"Blue and Red Extremes 4"},"extremesdiv-red-yellow-purple":{stops:["rgba(153,11,11,1)","rgba(153,11,11,0.5)","rgba(255,255,255,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1)"],tags:["reds","purples","extremes","light","colorblind-friendly"],name:"Purple and Red Extremes 4"},"extremesdiv-orange-blue":{stops:["rgba(255,179,57,1)","rgba(255,179,57,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["yellows","blues","greens","extremes","dark","bright","colorblind-friendly"],name:"Blue and Orange Extremes 1"},"extremesdiv-yellow-purple":{stops:["rgba(255,237,133,1)","rgba(255,237,133,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["yellows","purples","extremes","dark","bright","colorblind-friendly"],name:"Purple and Yellow Extremes 1"},"extremesdiv-red-blue":{stops:["rgba(255,136,136,1)","rgba(255,136,136,0.5)","rgba(255,255,255,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1)"],tags:["pinks","reds","blues","extremes","dark","bright","colorblind-friendly"],name:"Blue and Red Extremes 5"},"extremesdiv-green-purple":{stops:["rgba(139,239,139,1)","rgba(139,239,139,0.5)","rgba(255,255,255,0)","rgba(235,160,249,0.5)","rgba(235,160,249,1)"],tags:["purples","greens","extremes","dark","bright","colorblind-friendly"],name:"Purple and Green Extremes 4"},"extremes-orange":{3:["rgba(165,50,23,1.0)","rgba(165,50,23,0.40)","rgba(165,50,23,1.0)"],5:["rgba(165,50,23,1.0)","rgba(165,50,23,0.60)","rgba(165,50,23,0.20)","rgba(165,50,23,0.60)","rgba(165,50,23,1.0)"],7:["rgba(165,50,23,1.0)","rgba(165,50,23,0.70)","rgba(165,50,23,0.40)","rgba(165,50,23,0.10)","rgba(165,50,23,0.40)","rgba(165,50,23,0.70)","rgba(165,50,23,1.0)"],9:["rgba(165,50,23,1.0)","rgba(165,50,23,0.78)","rgba(165,50,23,0.55)","rgba(165,50,23,0.33)","rgba(165,50,23,0.10)","rgba(165,50,23,0.33)","rgba(165,50,23,0.55)","rgba(165,50,23,0.78)","rgba(165,50,23,1.0)"],stops:["rgba(165,50,23,1.0)","rgba(165,50,23,0.5)","rgba(165,50,23,0)","rgba(165,50,23,0.5)","rgba(165,50,23,1.0)"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 1"},"extremes-bluegreen":{3:["rgba(0,66,56,1.0)","rgba(0,66,56,0.40)","rgba(0,66,56,1.0)"],5:["rgba(0,66,56,1.0)","rgba(0,66,56,0.60)","rgba(0,66,56,0.20)","rgba(0,66,56,0.60)","rgba(0,66,56,1.0)"],7:["rgba(0,66,56,1.0)","rgba(0,66,56,0.70)","rgba(0,66,56,0.40)","rgba(0,66,56,0.10)","rgba(0,66,56,0.40)","rgba(0,66,56,0.70)","rgba(0,66,56,1.0)"],9:["rgba(0,66,56,1.0)","rgba(0,66,56,0.78)","rgba(0,66,56,0.55)","rgba(0,66,56,0.33)","rgba(0,66,56,0.10)","rgba(0,66,56,0.33)","rgba(0,66,56,0.55)","rgba(0,66,56,0.78)","rgba(0,66,56,1.0)"],stops:["rgba(0,66,56,1.0)","rgba(0,66,56,0.5)","rgba(0,66,56,0)","rgba(0,66,56,0.5)","rgba(0,66,56,1.0)"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 1"},"extremes-red":{3:["rgba(153,11,11,1.0)","rgba(153,11,11,0.40)","rgba(153,11,11,1.0)"],5:["rgba(153,11,11,1.0)","rgba(153,11,11,0.60)","rgba(153,11,11,0.20)","rgba(153,11,11,0.60)","rgba(153,11,11,1.0)"],7:["rgba(153,11,11,1.0)","rgba(153,11,11,0.70)","rgba(153,11,11,0.40)","rgba(153,11,11,0.10)","rgba(153,11,11,0.40)","rgba(153,11,11,0.70)","rgba(153,11,11,1.0)"],9:["rgba(153,11,11,1.0)","rgba(153,11,11,0.78)","rgba(153,11,11,0.55)","rgba(153,11,11,0.33)","rgba(153,11,11,0.10)","rgba(153,11,11,0.33)","rgba(153,11,11,0.55)","rgba(153,11,11,0.78)","rgba(153,11,11,1.0)"],stops:["rgba(153,11,11,1.0)","rgba(153,11,11,0.5)","rgba(153,11,11,0)","rgba(153,11,11,0.5)","rgba(153,11,11,1.0)"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 2"},"extremes-orange-dark":{3:["rgba(107,38,0,1.0)","rgba(107,38,0,0.40)","rgba(107,38,0,1.0)"],5:["rgba(107,38,0,1.0)","rgba(107,38,0,0.60)","rgba(107,38,0,0.20)","rgba(107,38,0,0.60)","rgba(107,38,0,1.0)"],7:["rgba(107,38,0,1.0)","rgba(107,38,0,0.70)","rgba(107,38,0,0.40)","rgba(107,38,0,0.10)","rgba(107,38,0,0.40)","rgba(107,38,0,0.70)","rgba(107,38,0,1.0)"],9:["rgba(107,38,0,1.0)","rgba(107,38,0,0.78)","rgba(107,38,0,0.55)","rgba(107,38,0,0.33)","rgba(107,38,0,0.10)","rgba(107,38,0,0.33)","rgba(107,38,0,0.55)","rgba(107,38,0,0.78)","rgba(107,38,0,1.0)"],stops:["rgba(107,38,0,1.0)","rgba(107,38,0,0.5)","rgba(107,38,0,0)","rgba(107,38,0,0.5)","rgba(107,38,0,1.0)"],tags:["extremes","browns","light","colorblind-friendly"],name:"Red Extremes 3"},"extremes-orange-bright":{3:["rgba(255,179,57,1.0)","rgba(255,179,57,0.40)","rgba(255,179,57,1.0)"],5:["rgba(255,179,57,1.0)","rgba(255,179,57,0.60)","rgba(255,179,57,0.20)","rgba(255,179,57,0.60)","rgba(255,179,57,1.0)"],7:["rgba(255,179,57,1.0)","rgba(255,179,57,0.70)","rgba(255,179,57,0.40)","rgba(255,179,57,0.10)","rgba(255,179,57,0.40)","rgba(255,179,57,0.70)","rgba(255,179,57,1.0)"],9:["rgba(255,179,57,1.0)","rgba(255,179,57,0.78)","rgba(255,179,57,0.55)","rgba(255,179,57,0.33)","rgba(255,179,57,0.10)","rgba(255,179,57,0.33)","rgba(255,179,57,0.55)","rgba(255,179,57,0.78)","rgba(255,179,57,1.0)"],stops:["rgba(255,179,57,1.0)","rgba(255,179,57,0.5)","rgba(255,179,57,0)","rgba(255,179,57,0.5)","rgba(255,179,57,1.0)"],tags:["oranges","extremes","bright","dark","colorblind-friendly"],name:"Yellow Extremes 1"},"extremes-purple":{3:["rgba(65,27,109,1.0)","rgba(65,27,109,0.40)","rgba(65,27,109,1.0)"],5:["rgba(65,27,109,1.0)","rgba(65,27,109,0.60)","rgba(65,27,109,0.20)","rgba(65,27,109,0.60)","rgba(65,27,109,1.0)"],7:["rgba(65,27,109,1.0)","rgba(65,27,109,0.70)","rgba(65,27,109,0.40)","rgba(65,27,109,0.10)","rgba(65,27,109,0.40)","rgba(65,27,109,0.70)","rgba(65,27,109,1.0)"],9:["rgba(65,27,109,1.0)","rgba(65,27,109,0.78)","rgba(65,27,109,0.55)","rgba(65,27,109,0.33)","rgba(65,27,109,0.10)","rgba(65,27,109,0.33)","rgba(65,27,109,0.55)","rgba(65,27,109,0.78)","rgba(65,27,109,1.0)"],stops:["rgba(65,27,109,1.0)","rgba(65,27,109,0.5)","rgba(65,27,109,0)","rgba(65,27,109,0.5)","rgba(65,27,109,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 1"},"extremes-pink":{3:["rgba(87,9,89,1.0)","rgba(87,9,89,0.40)","rgba(87,9,89,1.0)"],5:["rgba(87,9,89,1.0)","rgba(87,9,89,0.60)","rgba(87,9,89,0.20)","rgba(87,9,89,0.60)","rgba(87,9,89,1.0)"],7:["rgba(87,9,89,1.0)","rgba(87,9,89,0.70)","rgba(87,9,89,0.40)","rgba(87,9,89,0.10)","rgba(87,9,89,0.40)","rgba(87,9,89,0.70)","rgba(87,9,89,1.0)"],9:["rgba(87,9,89,1.0)","rgba(87,9,89,0.78)","rgba(87,9,89,0.55)","rgba(87,9,89,0.33)","rgba(87,9,89,0.10)","rgba(87,9,89,0.33)","rgba(87,9,89,0.55)","rgba(87,9,89,0.78)","rgba(87,9,89,1.0)"],stops:["rgba(87,9,89,1.0)","rgba(87,9,89,0.5)","rgba(87,9,89,0)","rgba(87,9,89,0.5)","rgba(87,9,89,1.0)"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 2"},"extremes-blue":{3:["rgba(16,48,94,1.0)","rgba(16,48,94,0.40)","rgba(16,48,94,1.0)"],5:["rgba(16,48,94,1.0)","rgba(16,48,94,0.60)","rgba(16,48,94,0.20)","rgba(16,48,94,0.60)","rgba(16,48,94,1.0)"],7:["rgba(16,48,94,1.0)","rgba(16,48,94,0.70)","rgba(16,48,94,0.40)","rgba(16,48,94,0.10)","rgba(16,48,94,0.40)","rgba(16,48,94,0.70)","rgba(16,48,94,1.0)"],9:["rgba(16,48,94,1.0)","rgba(16,48,94,0.78)","rgba(16,48,94,0.55)","rgba(16,48,94,0.33)","rgba(16,48,94,0.10)","rgba(16,48,94,0.33)","rgba(16,48,94,0.55)","rgba(16,48,94,0.78)","rgba(16,48,94,1.0)"],stops:["rgba(16,48,94,1.0)","rgba(16,48,94,0.5)","rgba(16,48,94,0)","rgba(16,48,94,0.5)","rgba(16,48,94,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 1"},"extremes-blue-dark":{3:["rgba(0,38,73,1.0)","rgba(0,38,73,0.40)","rgba(0,38,73,1.0)"],5:["rgba(0,38,73,1.0)","rgba(0,38,73,0.60)","rgba(0,38,73,0.20)","rgba(0,38,73,0.60)","rgba(0,38,73,1.0)"],7:["rgba(0,38,73,1.0)","rgba(0,38,73,0.70)","rgba(0,38,73,0.40)","rgba(0,38,73,0.10)","rgba(0,38,73,0.40)","rgba(0,38,73,0.70)","rgba(0,38,73,1.0)"],9:["rgba(0,38,73,1.0)","rgba(0,38,73,0.78)","rgba(0,38,73,0.55)","rgba(0,38,73,0.33)","rgba(0,38,73,0.10)","rgba(0,38,73,0.33)","rgba(0,38,73,0.55)","rgba(0,38,73,0.78)","rgba(0,38,73,1.0)"],stops:["rgba(0,38,73,1.0)","rgba(0,38,73,0.5)","rgba(0,38,73,0)","rgba(0,38,73,0.5)","rgba(0,38,73,1.0)"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 2"},"extremes-blue-bright":{3:["rgba(117,239,221,1.0)","rgba(117,239,221,0.40)","rgba(117,239,221,1.0)"],5:["rgba(117,239,221,1.0)","rgba(117,239,221,0.60)","rgba(117,239,221,0.20)","rgba(117,239,221,0.60)","rgba(117,239,221,1.0)"],7:["rgba(117,239,221,1.0)","rgba(117,239,221,0.70)","rgba(117,239,221,0.40)","rgba(117,239,221,0.10)","rgba(117,239,221,0.40)","rgba(117,239,221,0.70)","rgba(117,239,221,1.0)"],9:["rgba(117,239,221,1.0)","rgba(117,239,221,0.78)","rgba(117,239,221,0.55)","rgba(117,239,221,0.33)","rgba(117,239,221,0.10)","rgba(117,239,221,0.33)","rgba(117,239,221,0.55)","rgba(117,239,221,0.78)","rgba(117,239,221,1.0)"],stops:["rgba(117,239,221,1.0)","rgba(117,239,221,0.5)","rgba(117,239,221,0)","rgba(117,239,221,0.5)","rgba(117,239,221,1.0)"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 2"},"extremes-orange-gray":{3:["#a53217","#bf9990","#a53217"],5:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],7:["#a53217","#b26553","#bf9990","#cccccc","#bf9990","#b26553","#a53217"],9:["#a53217","#af5944","#b97f72","#c2a69f","#cccccc","#c2a69f","#b97f72","#af5944","#a53217"],stops:["#a53217","#b97f72","#cccccc","#b97f72","#a53217"],tags:["reds","extremes","light","subdued","colorblind-friendly"],name:"Red Extremes 4"},"extremes-bluegreen-gray":{3:["#004238","#889e9b","#004238"],5:["#004238","#668782","#cccccc","#668782","#004238"],7:["#004238","#447069","#889e9b","#cccccc","#889e9b","#447069","#004238"],9:["#004238","#33655d","#668782","#99aaa7","#cccccc","#99aaa7","#668782","#33655d","#004238"],stops:["#004238","#668782","#cccccc","#668782","#004238"],tags:["greens","extremes","light","subdued","colorblind-friendly"],name:"Green Extremes 3"},"extremes-red-gray":{3:["#990b0b","#bb8c8c","#990b0b"],5:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],7:["#990b0b","#aa4b4b","#bb8c8c","#cccccc","#bb8c8c","#aa4b4b","#990b0b"],9:["#990b0b","#a63b3b","#b36c6c","#bf9c9c","#cccccc","#bf9c9c","#b36c6c","#a63b3b","#990b0b"],stops:["#990b0b","#b36c6c","#cccccc","#b36c6c","#990b0b"],tags:["reds","extremes","light","colorblind-friendly"],name:"Red Extremes 5"},"extremes-orange-gray-dark":{3:["#6b2600","#ac9588","#6b2600"],5:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],7:["#6b2600","#8b5d44","#ac9588","#cccccc","#ac9588","#8b5d44","#6b2600"],9:["#6b2600","#835033","#9c7966","#b4a399","#cccccc","#b4a399","#9c7966","#835033","#6b2600"],stops:["#6b2600","#9c7966","#cccccc","#9c7966","#6b2600"],tags:["browns","extremes","light","subdued","colorblind-friendly"],name:"Brown Extremes 1"},"extremes-orange-gray-bright":{3:["#ffb339","#775e35","#ffb339"],5:["#ffb339","#997336","#333333","#997336","#ffb339"],7:["#ffb339","#bb8837","#775e35","#333333","#775e35","#bb8837","#ffb339"],9:["#ffb339","#cc9338","#997336","#665335","#333333","#665335","#997336","#cc9338","#ffb339"],stops:["#ffb339","#997336","#333333","#997336","#ffb339"],tags:["oranges","extremes","dark","colorblind-friendly"],name:"Yellow Extremes 2"},"extremes-purple-gray":{3:["#411b6d","#9e91ac","#411b6d"],5:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],7:["#411b6d","#6f568d","#9e91ac","#cccccc","#9e91ac","#6f568d","#411b6d"],9:["#411b6d","#644785","#87749d","#a9a0b4","#cccccc","#a9a0b4","#87749d","#644785","#411b6d"],stops:["#411b6d","#87749d","#cccccc","#87749d","#411b6d"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 3"},"extremes-pink-gray":{3:["#570959","#a58ba6","#570959"],5:["#570959","#926b93","#cccccc","#926b93","#570959"],7:["#570959","#7e4a7f","#a58ba6","#cccccc","#a58ba6","#7e4a7f","#570959"],9:["#570959","#743a76","#926b93","#af9baf","#cccccc","#af9baf","#926b93","#743a76","#570959"],stops:["#570959","#926b93","#cccccc","#926b93","#570959"],tags:["purples","extremes","light","colorblind-friendly"],name:"Purple Extremes 4"},"extremes-blue-gray":{3:["#10305e","#8d98a7","#10305e"],5:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],7:["#10305e","#4f6483","#8d98a7","#cccccc","#8d98a7","#4f6483","#10305e"],9:["#10305e","#3f577a","#6e7e95","#9da5b1","#cccccc","#9da5b1","#6e7e95","#3f577a","#10305e"],stops:["#10305e","#6e7e95","#cccccc","#6e7e95","#10305e"],tags:["blues","extremes","light","colorblind-friendly"],name:"Blue Extremes 3"},"extremes-blue-gray-dark":{3:["#002649","#8895a0","#002649"],5:["#002649","#66798b","#cccccc","#66798b","#002649"],7:["#002649","#445d75","#8895a0","#cccccc","#8895a0","#445d75","#002649"],9:["#002649","#33506a","#66798b","#99a3ab","#cccccc","#99a3ab","#66798b","#33506a","#002649"],stops:["#002649","#66798b","#cccccc","#66798b","#002649"],tags:["blues","extremes","light","subdued","colorblind-friendly"],name:"Blue Extremes 4"},"extremes-blue-gray-bright":{3:["#75efdd","#49726c","#75efdd"],5:["#75efdd","#549188","#333333","#549188","#75efdd"],7:["#75efdd","#5fb0a4","#49726c","#333333","#49726c","#5fb0a4","#75efdd"],9:["#75efdd","#65c0b3","#549188","#44625e","#333333","#44625e","#549188","#65c0b3","#75efdd"],stops:["#75efdd","#549188","#333333","#549188","#75efdd"],tags:["blues","greens","bright","extremes","dark","colorblind-friendly"],name:"Green Extremes 4"},"extremes-red-gray-bright":{stops:["#ff4141","#a63a55","#4d414d","#a63a55","#ff4141"],tags:["reds","extremes","dark","bright","colorblind-friendly"],name:"Red Extremes 6"},"extremes-purple-gray-bright":{stops:["#b44dff","#7e3ca6","#4c374d","#7e3ca6","#b44dff"],tags:["purples","extremes","dark","bright","colorblind-friendly"],name:"Purple Extremes 5"},"extremes-blue-bright-gray-bright":{stops:["#40bfff","#2c6f9e","#383855","#2c6f9e","#40bfff"],tags:["blues","extremes","dark","bright","colorblind-friendly"],name:"Blue Extremes 5"},"extremes-green-gray-bright":{stops:["#00ff78","#18a064","#2f4147","#18a064","#00ff78"],tags:["greens","extremes","dark","bright","colorblind-friendly"],name:"Green Extremes 5"},"extremes-yellow-gray-bright":{stops:["#f9ff5a","#878c34","#41472e","#878c34","#f9ff5a"],tags:["yellows","extremes","dark","bright","colorblind-friendly"],name:"Yellow Extremes 3"},"extremes-pink-gray-dark":{stops:["#a6004e","#995c99","#bbb8cc","#995c99","#a6004e"],tags:["purples","pinks","extremes","light","colorblind-friendly"],name:"Purple Extremes 6"},"extremes-purple-gray-dark":{stops:["#7f0099","#835fa6","#bdb8d9","#835fa6","#7f0099"],tags:["purples","extremes","light","bright","colorblind-friendly"],name:"Purple Extremes 7"},"extremes-blue-bright-gray-dark":{stops:["#003df2","#6187f2","#c2cff2","#6187f2","#003df2"],tags:["blues","extremes","light","bright","colorblind-friendly"],name:"Blue Extremes 6"},"extremes-green-gray-dark":{stops:["#00735f","#4d9a94","#b8d5d9","#4d9a94","#00735f"],tags:["greens","extremes","light","colorblind-friendly"],name:"Green Extremes 6"},"extremes-brown-gray-dark":{stops:["#994e00","#b38657","#ccbdad","#b38657","#994e00"],tags:["browns","extremes","light","colorblind-friendly"],name:"Brown Extremes 2"},"point-cloud-elevation-scheme":{stops:["rgb(88, 19, 252)","rgb(28, 194, 253)","rgb(125, 253, 148)","rgb(245, 201, 38)","rgb(255, 43, 24)"],tags:["dark","blues","reds","yellows","greens","point-cloud","bright","colorblind-friendly"],name:"Point Cloud 1"},"point-cloud-intensity-scheme":{stops:["rgb(0, 0, 0)","rgb(50, 50, 50)","rgb(73, 73, 73)","rgb(140, 140, 140)","rgb(255, 255, 255)"],tags:["light","grays","point-cloud","subdued","colorblind-friendly"],name:"Point Cloud 2"},"cat-dark":{2:["#ed5151","#149ece"],3:["#ed5151","#149ece","#a7c636"],4:["#ed5151","#149ece","#a7c636","#9e559c"],5:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f"],6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],7:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8"],8:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a"],9:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99"],10:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6"],11:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779"],12:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"],tags:["bright","light","categorical"],name:"Metro Movement"},"cat-light":{2:["#fd7f6f","#7eb0d5"],3:["#fd7f6f","#7eb0d5","#b2e061"],4:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe"],5:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a"],6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],7:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db"],8:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5"],9:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],10:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4"],11:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf"],12:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7","#cbecc4","#ffffaf","#d9d9d9"],tags:["light","categorical"],name:"Pastel Dreams"},"predominant-v1":{1:["#a03500"],2:["#a03500","#d9b400"],3:["#a03500","#d9b400","#3264c8"],4:["#a03500","#d9b400","#3264c8","#72b38e"],5:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1"],6:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087"],7:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf"],8:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236"],9:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc"],10:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],stops:["#a03500","#d9b400","#3264c8","#72b38e","#986ba1","#b9a087","#4c91bf","#a5d236","#96aedc","#ad8516"],tags:["subdued","light","categorical"],name:"Mother Earth"},"predominant-v2":{1:["#dc4b00"],2:["#dc4b00","#3c6ccc"],3:["#dc4b00","#3c6ccc","#d9dc00"],4:["#dc4b00","#3c6ccc","#d9dc00","#91d900"],5:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1"],6:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00"],7:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478"],8:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc"],9:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc"],10:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],stops:["#dc4b00","#3c6ccc","#d9dc00","#91d900","#986ba1","#d99f00","#4db478","#4cafdc","#96aedc","#d7a799"],tags:["dark","categorical"],name:"Rainforest Frogs"},"predominant-v3":{1:["#1e8553"],2:["#1e8553","#c44296"],3:["#1e8553","#c44296","#d9bf0d"],4:["#1e8553","#c44296","#d9bf0d","#d97f00"],5:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1"],6:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc"],7:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66"],8:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087"],9:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc"],10:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],stops:["#1e8553","#c44296","#d9bf0d","#d97f00","#00b6f1","#9933cc","#3abf66","#b9a087","#96aedc","#807b71"],tags:["dark","categorical"],name:"Fruit Basket"},"predominant-v4":{1:["#ccb642"],2:["#ccb642","#6998b4"],3:["#ccb642","#6998b4","#a67474"],4:["#ccb642","#6998b4","#a67474","#6bb38f"],5:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3"],6:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739"],7:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc"],8:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043"],9:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087"],10:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],stops:["#ccb642","#6998b4","#a67474","#6bb38f","#9a6bb3","#bf8739","#96aedc","#a0a043","#b9a087","#8f8399"],tags:["subdued","categorical","light"],name:"Rainy Day"},"predominant-v5":{1:["#e60049"],2:["#e60049","#0bb4ff"],3:["#e60049","#0bb4ff","#50e991"],4:["#e60049","#0bb4ff","#50e991","#e6d800"],5:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5"],6:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300"],7:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4"],8:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff"],9:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"],10:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],stops:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0","#f0cccc"],tags:["bright","dark","categorical"],name:"Flower Field"},"predominance-race":{1:["#00b6f1"],2:["#00b6f1","#d9bf0d"],3:["#00b6f1","#d9bf0d","#c44245"],4:["#00b6f1","#d9bf0d","#c44245","#6a28c7"],5:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087"],6:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d"],7:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0"],8:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553"],9:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016"],10:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],stops:["#00b6f1","#d9bf0d","#c44245","#6a28c7","#b9a087","#ab579d","#78aea0","#1e8553","#ada016","#0094bf"],tags:["bright","light","categorical"],name:"Mushroom Soup"},"predominance-money":{1:["#437a75"],2:["#437a75","#d9d78c"],3:["#437a75","#d9d78c","#bf7860"],4:["#437a75","#d9d78c","#bf7860","#72231f"],5:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2"],6:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8"],7:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6"],8:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c"],9:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c"],10:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],stops:["#437a75","#d9d78c","#bf7860","#72231f","#afbfa2","#5a9bc8","#89a6a6","#99905c","#414b8c","#a664a0"],tags:["subdued","light","categorical"],name:"Olive Harmony"},"predominance-race-ethnic":{1:["#0040bf"],2:["#0040bf","#a3cc52"],3:["#0040bf","#a3cc52","#b9a087"],4:["#0040bf","#a3cc52","#b9a087","#a01fcc"],5:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698"],6:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e"],7:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f"],8:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc"],9:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9"],10:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],stops:["#0040bf","#a3cc52","#b9a087","#a01fcc","#5bb698","#5e851e","#d1943f","#96aedc","#629ed9","#8a64b3"],tags:["dark","categorical"],name:"Galaxy Berries"},"predominance-rainbow":{1:["#d43f70"],2:["#007fd9","#d43f70"],3:["#007fd9","#d43f70","#c4dc66"],4:["#007fd9","#d43f70","#b6a135","#c4dc66"],5:["#007fd9","#d43f70","#b6a135","#c4dc66","#ebe498"],6:["#007fd9","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],7:["#007fd9","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],8:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#c4dc66","#ebe498"],9:["#007fd9","#443dbf","#881fc5","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],10:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],stops:["#007fd9","#443dbf","#881fc5","#bf00bf","#d43f70","#d9874c","#b6a135","#adbf27","#c4dc66","#ebe498"],tags:["bright","light","categorical"],name:"Retro Flow"},"predominance-sequence":{1:["#b30000"],2:["#b30000","#ebdc78"],3:["#b30000","#8be04e","#ebdc78"],4:["#b30000","#1a53ff","#8be04e","#ebdc78"],5:["#b30000","#7c1158","#1a53ff","#8be04e","#ebdc78"],6:["#b30000","#7c1158","#1a53ff","#00b7c7","#8be04e","#ebdc78"],7:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#8be04e","#ebdc78"],8:["#b30000","#7c1158","#4421af","#1a53ff","#00b7c7","#5ad45a","#8be04e","#ebdc78"],9:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],10:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],stops:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#c5d96d","#ebdc78"],tags:["bright","light","categorical"],name:"Sunset Fade"},"tropical-bliss":{stops:["rgba(252, 62, 90, 1)","rgba(252, 225, 56, 1.0)","rgba(76, 129, 205, 1)","rgba(241, 152, 60, 1)","rgba(72, 136, 92, 1)","rgba(165, 83, 183, 1)","rgba(255, 247, 153, 1)","rgba(177, 169, 208, 1)","rgba(110, 207, 252, 1)","rgba(252, 111, 132, 1)","rgba(106, 246, 137, 1)","rgba(252, 210, 126, 1)"],tags:["bright","light","categorical"],name:"Tropical Bliss"},"desert-blooms":{stops:["rgba(217, 53, 26, 1)","rgba(255, 199, 48, 1)","rgba(20, 77, 89, 1)","rgba(44, 105, 84, 1)","rgba(237, 147, 16, 1)","rgba(140, 33, 63, 1)","rgba(16, 36, 50, 1)","rgba(166, 79, 27, 1)","rgba(24, 56, 46, 1)","rgba(102, 21, 16, 1)","rgba(179, 21, 21, 1)","rgba(74, 9, 50, 1)"],tags:["light","categorical"],name:"Desert Bloom"},"under-the-sea":{stops:["rgba(2, 78, 118, 1)","rgba(234, 49, 31, 1)","rgba(0, 115, 76, 1)","rgba(112, 68, 137, 1)","rgba(240, 145, 0, 1)","rgba(96, 113, 0, 1)","rgba(117, 112, 179, 1)","rgba(198, 0, 75, 1)","rgba(102, 102, 102, 1)","rgba(1, 172, 202 1)","rgba(191, 151, 39, 1)","rgba(51, 51, 51, 1)"],tags:["light","categorical"],name:"Under the Sea"},"vibrant-rainbow":{stops:["rgba(50, 184, 166, 1)","rgba(245, 203, 17, 1)","rgba(235, 114, 0, 1)","rgba(196, 97, 235, 1)","rgba(108, 112, 0, 1)","rgba(191, 46, 46, 1)","rgba(70, 227, 156, 1)","rgba(159, 212, 12, 1)","rgba(173, 0, 242, 1)","rgba(255, 251, 0, 1)","rgba(127, 242, 250, 1)","rgba(232, 167, 132, 1)"],tags:["bright","light","categorical"],name:"Vibrant Rainbow"},"ocean-bay":{stops:["rgba(196, 53, 65, 1)","rgba(17, 73, 92, 1)","rgba(135, 176, 81, 1)","rgba(219, 182, 88, 1)","rgba(155, 224, 192, 1)","rgba(143, 143, 130, 1)","rgba(25, 25, 33, 1)","rgba(120, 177, 194, 1)","rgba(69, 79, 75, 1)","rgba(247, 236, 136, 1)","rgba(235, 220, 193, 1)","rgba(117, 53, 30, 1)"],tags:["subdued","light","categorical"],name:"Ocean Bay"},"prairie-summer":{stops:["rgba(123, 250, 235, 1)","rgba(234, 218, 64, 1)","rgba(117, 21, 85, 1)","rgba(212, 112, 19, 1)","rgba(51, 36, 36, 1)","rgba(130, 170, 214, 1)","rgba(31, 194, 53, 1)","rgba(214, 137, 137, 1)","rgba(33, 17, 115, 1)","rgba(107, 100, 8, 1)","rgba(110, 201, 168, 1)","rgba(204, 197, 74, 1)"],tags:["light","categorical"],name:"Prairie Summer"},"pastel-chalk":{stops:["rgba(160, 184, 181, 1)","rgba(191, 142, 142, 1)","rgba(255, 253, 153, 1)","rgba(193, 212, 140, 1)","rgba(223, 193, 235, 1)","rgba(242, 185, 131, 1)","rgba(203, 247, 250, 1)","rgba(148, 153, 92, 1)","rgba(215, 145, 242, 1)","rgba(245, 230, 164, 1)","rgba(184, 227, 208, 1)","rgba(232, 196, 178, 1)"],tags:["subdued","light","categorical"],name:"Pastel Chalk"},"cat-symbols-strong":{1:["#d92b30"],2:["#d92b30","#ffdf3c"],3:["#d92b30","#3cccb4","#ffdf3c"],4:["#d92b30","#3cccb4","#ffdf3c","#f260a1"],5:["#d92b30","#3cccb4","#ffdf3c","#c27c30","#f260a1"],6:["#d92b30","#0095ba","#3cccb4","#ffdf3c","#c27c30","#f260a1"],7:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#f260a1"],8:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#c27c30","#a0d17d","#f260a1"],9:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],10:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],stops:["#d92b30","#0095ba","#3cccb4","#ab52b3","#ffb259","#ffdf3c","#eb82eb","#c27c30","#a0d17d","#f260a1"],tags:["light","categorical","colorblind-friendly"],name:"Circling Circus"},"cat-symbols-autumnal":{1:["#3e756d"],2:["#3e756d","#d9d78c"],3:["#3e756d","#d9d78c","#b86b53"],4:["#3e756d","#d9d78c","#b86b53","#5c98ca"],5:["#3e756d","#d9d78c","#b86b53","#5c98ca","#9c5596"],6:["#3e756d","#d9d78c","#b86b53","#5c98ca","#86afb3","#9c5596"],7:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#9c5596"],8:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#44498b","#9c5596"],9:["#3e756d","#d9d78c","#b86b53","#73241f","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],10:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],stops:["#3e756d","#d9d78c","#b86b53","#73241f","#b0bfa2","#5c98ca","#86afb3","#ad9d63","#44498b","#9c5596"],tags:["light","categorical","colorblind-friendly"],name:"Falling Leaves"},"cat-symbols-bright":{1:["#f22f00"],2:["#f22f00","#ffdd00"],3:["#f22f00","#26ffff","#ffdd00"],4:["#f22f00","#26ffff","#ffdd00","#5ff500"],5:["#f22f00","#26ffff","#ffdd00","#5ff500","#0040ff"],6:["#f22f00","#26ffff","#ffdd00","#ff4dc4","#5ff500","#0040ff"],7:["#f22f00","#26ffff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],8:["#f22f00","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],9:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#ffdd00","#ff4dc4","#5ff500","#0040ff"],10:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],stops:["#f22f00","#ffff80","#26ffff","#a040ff","#d99800","#c0ff73","#ffdd00","#ff4dc4","#5ff500","#0040ff"],tags:["light","categorical","colorblind-friendly"],name:"High Light"},"cat-symbols-midrange":{1:["#e65154"],2:["#e65154","#ff8cd9"],3:["#e65154","#67e6d1","#ff8cd9"],4:["#e65154","#67e6d1","#ff8cd9","#c8f2a9"],5:["#e65154","#67e6d1","#ff8cd9","#c8f2a9","#d4b8ff"],6:["#e65154","#67e6d1","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],7:["#e65154","#67e6d1","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],8:["#e65154","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],9:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],10:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],stops:["#e65154","#26b6ff","#67e6d1","#cd76d6","#ffca8c","#fff2b3","#ff8cd9","#d99d5b","#c8f2a9","#d4b8ff"],tags:["light","categorical","colorblind-friendly"],name:"Beaded Pastel"},"cat-symbols-subdued":{1:["#b5d6f2"],2:["#b5d6f2","#e3a3dd"],3:["#7db3ab","#b5d6f2","#e3a3dd"],4:["#7db3ab","#b5d6f2","#bf7872","#e3a3dd"],5:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#e3a3dd"],6:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#9093c7","#e3a3dd"],7:["#7db3ab","#dbe6d1","#b5d6f2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],8:["#7db3ab","#dbe6d1","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],9:["#7db3ab","#dbe6d1","#d6a394","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],10:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],stops:["#7db3ab","#dbe6d1","#d6a394","#c8e0e3","#b5d6f2","#f2f1c2","#bf7872","#d1c79d","#9093c7","#e3a3dd"],tags:["light","categorical","colorblind-friendly"],name:"Chamois"},"cat-symbols-pastel":{1:["#ffe3d6"],2:["#ffe3d6","#e8add4"],3:["#b8f5e7","#ffe3d6","#e8add4"],4:["#e0c9af","#b8f5e7","#ffe3d6","#e8add4"],5:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4"],6:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#7dbdfa"],7:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa"],8:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc"],9:["#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],10:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],stops:["#9f8eed","#e0c9af","#b8f5e7","#e0ccff","#ffe3d6","#e8add4","#bac29c","#7dbdfa","#fff6cc","#e88b9b"],tags:["light","categorical","colorblind-friendly"],name:"Low Satch"},"cat-symbols-red":{1:["#ffbfc9"],2:["#ffbfc9","#ffb180"],3:["#ffbfc9","#ffb180","#ff6e9d"],4:["#de2c30","#ffb180","#c74f8c","#ff6e9d"],5:["#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],6:["#e6772e","#de2c30","#ffb180","#c74f8c","#ffdaa6","#ff6e9d"],7:["#e6772e","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],8:["#99004d","#e6772e","#ffbfc9","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],9:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],10:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],stops:["#99004d","#e6772e","#ffbfc9","#de2c30","#ffb180","#fa8870","#c74f8c","#ff9e9e","#ffdaa6","#ff6e9d"],tags:["light","categorical","reds","yellows","colorblind-friendly"],name:"Blushing Rose"},"cat-symbols-blue":{1:["#61dbf2"],2:["#bfc5ff","#61dbf2"],3:["#bfc5ff","#61dbf2","#0095e0"],4:["#bfc5ff","#6b78ff","#61dbf2","#0095e0"],5:["#0066cc","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],6:["#0066cc","#599eff","#bfc5ff","#6b78ff","#61dbf2","#0095e0"],7:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#61dbf2","#0095e0"],8:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#0095e0"],9:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#3b2fbf","#0095e0"],10:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],stops:["#0066cc","#599eff","#bfc5ff","#6b78ff","#bfefff","#0d71ff","#61dbf2","#6bb5ff","#3b2fbf","#0095e0"],tags:["light","categorical","blues","colorblind-friendly"],name:"Tidal Crest"},"cat-symbols-green":{1:["#78ede4"],2:["#78ede4","#a3f9a0"],3:["#78ede4","#a3f9a0","#00bfaf"],4:["#008c5e","#52cc52","#a3f9a0","#00bfaf"],5:["#008c5e","#75de43","#52cc52","#a3f9a0","#00bfaf"],6:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#00bfaf"],7:["#008c5e","#75de43","#52cc52","#54994d","#a3f9a0","#70e0bb","#00bfaf"],8:["#008c5e","#75de43","#78ede4","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],9:["#008c5e","#75de43","#78ede4","#52cc52","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],10:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],stops:["#008c5e","#75de43","#78ede4","#52cc52","#ccffb3","#54994d","#a3f9a0","#70e0bb","#007300","#00bfaf"],tags:["light","categorical","greens","colorblind-friendly"],name:"Fresh Stems"},"cat-symbols-gray":{1:["#e6dada"],2:["#e6dada","#b4c9d2"],3:["#e6dada","#b4c9d2","#738491"],4:["#5d5d50","#9a9a91","#b4c9d2","#738491"],5:["#5d5d50","#afbaaf","#9a9a91","#b4c9d2","#738491"],6:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#738491"],7:["#5d5d50","#afbaaf","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#738491"],8:["#5d5d50","#afbaaf","#e6dada","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],9:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],10:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],stops:["#5d5d50","#afbaaf","#e6dada","#9a9a91","#e7e7d2","#856b6b","#b4c9d2","#b4a5ac","#335766","#738491"],tags:["light","categorical","grays","colorblind-friendly"],name:"Stone and Gravel"},"cat-popup-olympic-sunset":{1:["#2888B8"],2:["#2888B8","#EB7028"],3:["#2888B8","#EB7028","#48A375"],4:["#2888B8","#EB7028","#48A375","#9370B1"],5:["#2888B8","#EB7028","#48A375","#9370B1","#e55035"],6:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc"],7:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04"],8:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0"],9:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681"],10:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"],stops:["#2888B8","#EB7028","#48A375","#9370B1","#e55035","#3d9ccc","#DC7B04","#b87bb0","#3fa681","#EE6386"],tags:["light","categorical"],name:"Olympic Sunset"},"relationship-brewer-yellow-blue-black":{2:[["#f3b300","#000000"],["#f3f3f3","#509dc2"]],3:[["#f3b300","#7a5a00","#000000"],["#f3d37a","#8e916e","#284f61"],["#e8e6f2","#a2c8db","#509dc2"]],4:[["#f3b300","#a27700","#513c00","#000000"],["#f3c851","#ab974c","#636546","#1b3441"],["#f3dea2","#b4b797","#74908c","#356981"],["#f3f3f3","#bdd6e3","#86bad2","#509dc2"]],tags:["colorblind-friendly","relationship","light"],name:"Sunflower Skies"},"relationship-brewer-pink-blue-purple":{2:[["#de4fa6","#2a1a8a"],["#e8e6f2","#4fadd0"]],3:[["#de4fa6","#843598","#2a1a8a"],["#e39bcc","#9080bd","#3d64ad"],["#e9e6f2","#9ccae1","#4fadd0"]],4:[["#de4fa6","#a23d9d","#662c93","#2a1a8a"],["#e181bf","#a86fb5","#6f5dab","#364ba1"],["#e5b4d9","#afa1ce","#798fc4","#437cb9"],["#e8e6f2","#b5d3e7","#82c0db","#4fadd0"]],tags:["light","relationship","light"],name:"Blueberry Parfait"},"relationship-brewer-orange-pink-purple-green":{2:[["#f0008b","#5a4da4"],["#f37300","#008837"]],3:[["#f0008b","#cd9acc","#5a4da4"],["#fe9aa6","#e6e6e6","#9ac9d5"],["#f37300","#cce88b","#008837"]],4:[["#f0008b","#e67fe6","#bb7fe6","#5a4da4"],["#e67fb6","#ffd9f4","#ddd9ff","#8aade6"],["#f29a92","#ffe8d9","#d9ffe6","#6cd9d2"],["#f37300","#e6c97e","#96e67e","#008837"]],tags:["colorblind-friendly","relationship","light"],name:"Unicorn Wishes"},"relationship-brewer-purple-orange":{2:[["#240d5e","#b30000"],["#c4b3d8","#ffcc80"]],3:[["#240d5e","#7f7f7f","#b30000"],["#7c67ab","#bfbfbf","#f35926"],["#c4b3d8","#e6e6e6","#ffcc80"]],4:[["#240d5e","#72668f","#b96060","#b30000"],["#594487","#988db0","#d08e84","#cc442b"],["#8f7caf","#bfb3d1","#e8bda8","#e68855"],["#c4b3d8","#e5daf2","#ffebcc","#ffcc80"]],tags:["colorblind-friendly","relationship","light"],name:"Lava Flows"},"relationship-blue-orange-brown":{2:[["#07a9d0","#705a50"],["#f3d8cb","#ea7f45"]],3:[["#00afe7","#427a8e","#5c473d"],["#98cfe5","#af978b","#aa5f37"],["#ffefe2","#ffb286","#f97529"]],4:[["#00b1f3","#0089af","#46636f","#533e34"],["#4ccaf2","#82a0ad","#8f786c","#8b4f30"],["#c3e2f0","#d0b7ab","#d08c69","#c56027"],["#fffaed","#ffcda7","#ff9f63","#ff6f16"]],tags:["colorblind-friendly","relationship","light"],name:"Fish Scales"},"relationship-purple-green-blue":{2:[["#c47add","#5064a0"],["#f2f2f2","#a9bf39"]],3:[["#c47add","#7b72ab","#5064a0"],["#dbb6e8","#ad9d91","#7d926d"],["#f2f2f2","#ced996","#a9bf39"]],4:[["#c47add","#917abf","#7b72ab","#5064a0"],["#d3a2e4","#a79abc","#918a91","#6e827e"],["#e3caeb","#c2bebe","#a8ad7b","#8ba15b"],["#f2f2f2","#dce1c0","#c1c989","#a9bf39"]],tags:["colorblind-friendly","relationship","light"],name:"Grapes on Vines"},"relationship-blue-green-purple":{2:[["#66b0ff","#79379c"],["#efffe3","#9ebf39"]],3:[["#66b0ff","#7364aa","#79379c"],["#abd8f1","#8ea09c","#7a7a4c"],["#efffe3","#c7df8e","#9ebf39"]],4:[["#66b0ff","#7388c8","#7364aa","#79379c"],["#94caf6","#93a9be","#8a8997","#85697b"],["#c1e5ec","#b4c9b4","#a2af85","#929268"],["#efffe3","#d4eaaa","#b9d472","#9ebf39"]],tags:["colorblind-friendly","relationship","light"],name:"Forest Canopy"},"relationship-blue-orange-green":{2:[["#66bfff","#066b2d"],["#f2f2f2","#f09900"]],3:[["#66bfff","#398273","#066b2d"],["#acd9f9","#a1ac9c","#7d7755"],["#f2f2f2","#e7c696","#f09900"]],4:[["#66bfff","#599bab","#398273","#066b2d"],["#95d0fb","#8caea8","#769468","#59782f"],["#c3e1f6","#bec1a4","#b4a55c","#9c8a2d"],["#f2f2f2","#f1d4a1","#f1b751","#f09900"]],tags:["colorblind-friendly","relationship","light"],name:"Backyard Garden"},"relationship-mustard-blue-wine":{2:[["#f0d200","#8c0b00"],["#faffe3","#64c8ff"]],3:[["#f0d200","#9e5114","#8c0b00"],["#eff279","#aaafa0","#627b94"],["#faffe3","#afe4f1","#64c8ff"]],4:[["#f0d200","#bd9024","#9e5114","#8c0b00"],["#f5e052","#bfac6a","#9a7d61","#80565f"],["#f1e7a1","#c1c8b0","#97aaae","#7789a2"],["#faffe3","#c3e4f6","#93d6fb","#64c8ff"]],tags:["colorblind-friendly","relationship","light"],name:"Campfire Flames"},"relationship-pink-blue-purple":{2:[["#ff7373","#593fb3"],["#f2f2f2","#62e7f5"]],3:[["#ff7373","#945c90","#593fb3"],["#f9b8b8","#a699d4","#5593d4"],["#f2f2f2","#a3ecf4","#62e7f5"]],4:[["#ff7373","#bf6989","#945c90","#593fb3"],["#fb9d9d","#bb97ac","#938cb1","#6077bf"],["#f6c8c8","#c1c2d0","#93bbd3","#73afd3"],["#f2f2f2","#c2eef3","#92ebf4","#62e7f5"]],tags:["colorblind-friendly","relationship","light"],name:"Cottoncandy Wisps"},"relationship-olive-blue-green":{2:[["#d1d100","#066b2d"],["#faffe3","#50aaff"]],3:[["#d1d100","#4f852c","#066b2d"],["#e8eb75","#aab4a0","#608f94"],["#faffe3","#b1dbf5","#50aaff"]],4:[["#d1d100","#8aa32e","#4f852c","#066b2d"],["#dfe04c","#9ebb6e","#629b6f","#367a71"],["#ecf097","#b0cfad","#76b0b3","#5293ab"],["#faffe3","#c1e3ec","#89c6f6","#50aaff"]],tags:["colorblind-friendly","relationship","light"],name:"Jungle Adventure"},"relationship-yellow-cyan-blue":{2:[["#ffeb00","#007bcc"],["#faffe3","#00e6e6"]],3:[["#ffeb00","#63a18e","#007bcc"],["#fffbb3","#9dbdcc","#5dadbf"],["#faffe3","#a6fff5","#00e6e6"]],4:[["#ffeb00","#aabf5e","#63a18e","#007bcc"],["#fff44d","#a9d28b","#5ebbab","#289fc8"],["#fffca6","#a8e4b7","#58d4c8","#30c2d6"],["#faffe3","#a7f7e4","#53eee5","#00e6e6"]],tags:["colorblind-friendly","relationship","light"],name:"Mountain Trails"},"relationship-blue-pink-purple":{2:[["#57a5d9","#631673"],["#ece6f2","#cc5a5a"]],3:[["#5ea5d8","#624d8a","#621371"],["#a5c6e5","#9e799b","#963567"],["#ece6f2","#daa5ac","#c9585c"]],4:[["#57a5d9","#6175a7","#624e8c","#631673"],["#89bbe1","#8c8baf","#89628c","#7f3c6b"],["#bad0ea","#b6a1b7","#b0758d","#974a62"],["#ece6f2","#e1b7bf","#d7898d","#cc5a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Dawn Rising"},"relationship-purple-green-wine":{2:[["#ad77d9","#7a0a00"],["#ece6f2","#9cbf57"]],3:[["#ad77d9","#7a4873","#7a0a00"],["#cdafe6","#a59b98","#6e6548"],["#ece6f2","#c4d3a5","#9cbf57"]],4:[["#ad77d9","#9460a6","#7a4873","#7a0a00"],["#c29ce1","#a888ae","#8e747b","#7a613c"],["#d7c1ea","#bdb1b6","#a3a083","#8a834c"],["#ece6f2","#d1d9be","#b7cc8b","#9cbf57"]],tags:["colorblind-friendly","relationship","light"],name:"Wine Tasting"},"relationship-blue-red-pink":{2:[["#4d79ff","#ebccff"],["#333380","#c03050"]],3:[["#4d79ff","#9ca3ff","#ebccff"],["#4056c0","#8b7bc0","#d57ea8"],["#333380","#803a6e","#c03050"]],4:[["#4d79ff","#8395ff","#b8b0ff","#ebccff"],["#4462d5","#7773cc","#aa83c9","#df98c5"],["#3c4aaa","#6d539e","#9d5a93","#cf648a"],["#333380","#623270","#913160","#c03050"]],tags:["colorblind-friendly","relationship","dark"],name:"Sunset Smudge"},"relationship-blue-green-brightgreen":{2:[["#0d6eff","#73FF73"],["#004d54","#6fa600"]],3:[["#0d6eff","#3691b3","#73ff73"],["#134da2","#35798c","#6dd33a"],["#004d54","#397027","#6FA600"]],4:[["#0d6eff","#2e90d6","#35c4ac","#73ff73"],["#0662c4","#2c85a0","#3baa94","#76de4e"],["#035a8f","#2a7b6b","#459e5a","#71cc1F"],["#004d54","#287035","#468b1b","#6fa600"]],tags:["colorblind-friendly","relationship","dark"],name:"Aurora Borealis"},"relationship-blue-orange-lavender":{2:[["#0066ff","#cfbfff"],["#241159","#ab5600"]],3:[["#0066ff","#6893ff","#cfbfff"],["#0f3699","#7a6896","#bd8b80"],["#241159","#612d19","#ab5600"]],4:[["#0066ff","#4584ff","#8aa1ff","#cfbfff"],["#0c4ac8","#3e69b8","#9685b4","#c39caa"],["#182d90","#5d4b78","#8a6273","#b77955"],["#241159","#51283b","#7e3f1e","#ab5600"]],tags:["colorblind-friendly","relationship","dark"],name:"Soft Leather"},"relationship-pink-purple-peach":{2:[["#bf1d4e","#ebbebe"],["#47002f","#7040ff"]],3:[["#bf1d4e","#d56e86","#ebbebe"],["#831427","#8c4885","#a979df"],["#47002f","#531a80","#7040ff"]],4:[["#bf1d4e","#ce5373","#dc8899","#ebbebe"],["#97183e","#a22572","#c25aa8","#bf90d4"],["#6f122d","#812677","#923faf","#9261e9"],["#47002f","#5e136d","#6223b6","#7040ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Rose Petals"},"relationship-purple-mustard-eggshell":{2:[["#8251e6","#ffe6c2"],["#4d3147","#b39e12"]],3:[["#8251e6","#ba97d4","#ffe6c2"],["#6e4c97","#96847d","#d3bd6a"],["#4d3147","#776525","#b39e12"]],4:[["#8251e6","#a77fda","#cdaece","#ffe6c2"],["#7046b1","#8870a0","#b793b1","#ddc787"],["#5f3c7c","#7a6172","#a18a59","#C8B300"],["#4d3147","#63522b","#8b781f","#b39e12"]],tags:["colorblind-friendly","relationship","dark"],name:"Seasonal Eggplant"},"relationship-blue-brick-green":{2:[["#0080ad","#d4ff99"],["#4c2f54","#ab4211"]],3:[["#0080ad","#7ebd99","#d4ff99"],["#345070","#806d7c","#c09b4d"],["#4c2f54","#7b332a","#ab4211"]],4:[["#0080ad","#61a799","#9ad399","#d4ff99"],["#1f5f86","#5e8485","#96a17b","#e3af44"],["#3d3e5e","#6b4b65","#8f694a","#c7803c"],["#4c2f54","#6c353e","#8b3c27","#ab4211"]],tags:["colorblind-friendly","relationship","dark"],name:"Seventies Poncho"},"relationship-orange-purple-lavender":{2:[["#bf4343","#e6b3ff"],["#542d3d","#7e39a1"]],3:[["#bf4343","#d97ba1","#e6b3ff"],["#803a1c","#8c5d86","#b876d0"],["#542d3d","#69336f","#7e39a1"]],4:[["#bf4343","#cc6882","#d98ec0","#e6b3ff"],["#9b3c41","#a6465e","#ad7199","#cf89dd"],["#78343f","#874368","#955192","#a460bb"],["#542d3d","#61305d","#6f347d","#7e39a1"]],tags:["colorblind-friendly","relationship","dark"],name:"Violet Delights"},"relationship-brown-purple-lilac":{2:[["#bf9b5e","#ffccee"],["#4a3449","#67679e"]],3:[["#bf9b5e","#d9afa4","#ffccee"],["#7b6654","#896f8c","#b298c2"],["#4a3449","#594c7e","#67679e"]],4:[["#bf9b5e","#d4ab8e","#e8bbbe","#ffccee"],["#947857","#a98980","#ba99aa","#d2afd9"],["#69554f","#7f6773","#8b7896","#9a89b9"],["#4a3449","#574769","#5d5682","#67679e"]],tags:["colorblind-friendly","relationship","dark"],name:"Winter Canyon"},"relationship-teal-yellow-lightteal":{2:[["#00b3ff","#c0ffb3"],["#286652","#b5b800"]],3:[["#00b3ff","#5ce3d3","#c0ffb3"],["#008c8c","#57ad56","#c1d94f"],["#286652","#6F820D","#b5b800"]],4:[["#00b3ff","#3dcce2","#7ae6c5","#c0ffb3"],["#0d99c5","#3cb5aa","#87cc8b","#b6e770"],["#1b808c","#58996f","#79b655","#b6d038"],["#286652","#578137","#869d1b","#b5b800"]],tags:["colorblind-friendly","relationship","dark"],name:"Persian Lime"},"relationship-blue-red-yellow":{2:[["#195DFC","#FEFF80"],["#402447","#C82920"]],3:[["#195DFC","#8CA5BE","#FEFF80"],["#272E99","#8140A4","#E58100"],["#402447","#8A0017","#C82920"]],4:[["#195DFC","#6593d3","#a9c9ae","#FEFF80"],["#264ac0","#5951bf","#a0828a","#ecb860"],["#353987","#5e406b","#993e71","#da7040"],["#402447","#692438","#9b272d","#C82920"]],tags:["colorblind-friendly","relationship","dark"],name:"Summer Picnic"},"relationship-blue-rose-peach":{2:[["#66c0ff","#ff8080"],["#004473","#852828"]],3:[["#66c0ff","#7b6586","#ff8080"],["#3382b9","#644d70","#c25454"],["#004473","#4d3559","#852828"]],4:[["#66c0ff","#5d6fa6","#995b65","#ff8080"],["#4497d0","#505e8c","#7B4B50","#d66363"],["#226da2","#424c73","#5e3b40","#ae4545"],["#004473","#353b59","#452e31","#852828"]],tags:["colorblind-friendly","relationship","dark"],name:"Coral Reef"},"relationship-pink-lilac-blue":{2:[["#ffa5ba","#66ffff"],["#ffff80","#aa99ff"]],3:[["#ffa5ba","#71818c","#66ffff"],["#b35a5a","#5b4666","#7070cc"],["#ffff80","#8c7f54","#aa99ff"]],4:[["#ffa5ba","#906499","#738999","#66ffff"],["#994d65","#663344","#38428c","#5c5ce6"],["#a66153","#4d3d27","#3b2e73","#8767e6"],["#ffff80","#807d53","#6f6264","#aa99ff"]],tags:["colorblind-friendly","relationship","dark"],name:"Spring Showers"},"relationship-blue-peach-purple":{2:[["#198dff","#590059"],["#e6e6c3","#b35a5a"]],3:[["#198dff","#4a51ba","#590059"],["#86c0e1","#6674ad","#8d2d60"],["#e6e6c3","#d3a68e","#b35a5a"]],4:[["#198dff","#3a60d5","#5730a6","#590059"],["#66b3e3","#6d82d9","#6d4b94","#8f1954"],["#b2d9c6","#99a2ba","#a4707d","#a33a59"],["#e6e6c3","#e6c8a1","#cc9191","#b35a5a"]],tags:["colorblind-friendly","relationship","light"],name:"Cosmic Symphony"},"relationship-mint-mustard-green":{2:[["#00aacc","#00594a"],["#ffffaa","#e69a00"]],3:[["#00aacc","#00828b","#00594a"],["#80d4bb","#80ac7a","#737a25"],["#ffffaa","#f3cd55","#e69a00"]],4:[["#00aacc","#008fa1","#007475","#00594a"],["#55c6c1","#52a889","#508a51","#596f00"],["#aae3b5","#aac88a","#9fa345","#a08400"],["#ffffaa","#f7dd71","#eebc39","#e69a00"]],tags:["colorblind-friendly","relationship","light"],name:"Mustard Grove"},"relationship-purple-mustard-darkpurple":{2:[["#aa4ed9","#66004d"],["#f2ceda","#ccaa00"]],3:[["#aa4ed9","#8e2999","#66004d"],["#ce8eda","#bb7c6d","#995527"],["#f2ceda","#e4bb80","#ccaa00"]],4:[["#aa4ed9","#9334aa","#7d1a7c","#66004d"],["#bf75dd","#b063a5","#9d4f6c","#883933"],["#d9a2dc","#d296a7","#c18660","#aa711a"],["#f2ceda","#f0c4aa","#e5bd55","#ccaa00"]],tags:["colorblind-friendly","relationship","light"],name:"Morning Amethyst"},"relationship-blue-orange-purple":{2:[["#6b9bb3","#600080"],["#d2edc9","#cca352"]],3:[["#6b9bb3","#6e54a6","#600080"],["#9ccdc0","#9c9f83","#965269"],["#d2edc9","#ccd18f","#cca352"]],4:[["#6b9bb3","#6767a2","#643491","#600080"],["#8bbcbb","#898fa2","#86638a","#843671"],["#acdec4","#abb8a3","#a99382","#a86d61"],["#d2edc9","#cce0a3","#ccc27b","#cca352"]],tags:["colorblind-friendly","relationship","light"],name:"Marine Heliotrope"},"relationship-pink-periwinkle-violet":{2:[["#ff5c5c","#7a0050"],["#f2dcee","#809dff"]],3:[["#ff5c5c","#c73c63","#7a0050"],["#f99ca5","#c67a92","#885ab3"],["#f2dcee","#b9bdf7","#809dff"]],4:[["#ff5c5c","#d04559","#a22e4b","#7a0050"],["#fb878d","#cf708d","#a35a85","#77448d"],["#f6b1bd","#cd9cc0","#a586bf","#7c70c6"],["#f2dcee","#ccc7f4","#a6b2f9","#809dff"]],tags:["colorblind-friendly","relationship","light"],name:"Strawberry Tulips"},"relationship-blue-tan-green":{2:[["#00a1f2","#4e592c"],["#ffffcc","#bf9357"]],3:[["#00a1f2","#277d8f","#4e592c"],["#80d0df","#7ca199","#817e5c"],["#ffffcc","#dfc992","#bf9357"]],4:[["#00a1f2","#1a89b0","#34716e","#4e592c"],["#55c0e5","#5fa4ac","#698873","#746c3a"],["#aae0d9","#a5c0a9","#9fa079","#998049"],["#ffffcc","#eadba5","#d4b77e","#bf9357"]],tags:["colorblind-friendly","relationship","light"],name:"Coconut Palms"},"relationship-purple-green-olive":{2:[["#731773","#595900"],["#de9bde","#bfbf73"]],3:[["#731773","#b1767a","#595900"],["#b94cb9","#d899ac","#9e9f36"],["#de9bde","#f2beb5","#bfbf73"]],4:[["#731773","#b35d8a","#b38f6b","#595900"],["#a23aa2","#cc7ea7","#ccab80","#88881b"],["#d05dd0","#e69ec4","#e6c694","#a5a638"],["#de9bde","#ffbfe1","#ffe2a9","#bfbf73"]],tags:["colorblind-friendly","relationship","light"],name:"Blooming Lilypad"},election:{11:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],stops:["#086ca0","#2668a0","#4364a1","#6160a1","#7e5ca2","#9c58a2","#a44d8b","#ac4274","#b5385d","#bd2d46","#c5222f"],tags:["group-similar","light","colorblind-friendly"],name:"Group Similar 1"},temperature:{12:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],stops:["#000068","#333399","#756db5","#9a93ca","#c6c3e2","#e7e6f2","#fdece3","#fdd2bf","#faa98b","#f68460","#f23d2f","#c60000"],tags:["group-similar","light","colorblind-friendly"],name:"Group Similar 2"},"elevation-warm-humid":{11:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#6c9a87","#77ad95","#86b89d","#a9c0a7","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 3"},"elevation-cool-humid":{11:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#72958e","#82a5a0","#91b2ac","#b4bfb5","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 4"},"elevation-arid":{11:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],stops:["#938b83","#a99f94","#b4aa9e","#cabead","#d5c9b6","#d4b8a4","#d4c1b4","#d4cecc","#dcdddd","#ebebeb","#f5f5f5"],tags:["light","group-similar"],name:"Group Similar 5"},"elevation-polar":{8:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],stops:["#94a9c0","#a3b4cb","#abc0d5","#b8c9e0","#cad6e8","#dbe1f0","#edf2fb","#eff3fb"],tags:["light","group-similar"],name:"Group Similar 6"},precipitation:{17:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],stops:["#f11714","#f88c51","#fcb16b","#fec784","#ffe6b6","#e7f0c0","#cfe5ac","#b6db98","#9ed187","#85c860","#6ec13a","#13b445","#00a64b","#9089c4","#756db5","#625cab","#2d2b94"],tags:["light","group-similar"],name:"Group Similar 7"},spectral:{6:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],stops:["#b8529e","#3853a3","#6fcbdc","#69bc45","#f6eb0f","#ec1e24"],tags:["light","group-similar","colorblind-friendly"],name:"Group Similar 8"},bathymetry:{14:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],stops:["#e9f5ff","#d4eaf8","#bfdff2","#abd5ec","#96cae5","#81bfdf","#6cb4d8","#5ca0ca","#4c8dbc","#3d79ae","#2d65a0","#1d5292","#0d3e84","#08306b"],tags:["light","group-similar","colorblind-friendly"],name:"Group Similar 9"},"cat-dark-6":{6:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],stops:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e"],tags:["dark"],name:"Candy Shop"},"cat-light-6":{6:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],stops:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65"],tags:["light"],name:"Watercolor Surprise"},"point-cloud-class-scheme":{stops:["rgb(178, 178, 178)","rgb(178, 178, 178)","rgb(168, 112, 0)","rgb(38, 115, 0)","rgb(76, 230, 0)","rgb(205, 245, 122)","rgb(230, 75, 65)","rgb(230, 0, 0)","rgb(168, 112, 0)","rgb(0, 92, 230)","rgb(132, 0, 168)","rgb(78, 78, 78)","rgb(197, 0, 255)","rgb(0, 77, 168)","rgb(255, 255, 115)","rgb(115, 178, 255)","rgb(225, 115, 255)","rgb(130, 130, 130)","rgb(230, 0, 0)","rgb(230, 230, 0)"],tags:["point-cloud","light"],name:"Point Cloud 3"},"heatmap-v1":{stops:["#85c1c8","#90a1be","#9c8184","#a761aa","#af4980","#b83055","#c0182a","#c80000","#d33300","#de6600","#e99900","#f4cc00","#ffff00"],tags:["light","heatmap"],name:"Heatmap 1"},"heatmap-v2":{stops:["#f3e4e5","#e4becb","#d498b2","#c57298","#b95685","#ae3972","#a21d5e","#96004b","#ab006f","#c00093","#d500b7","#ea00db","#ff00ff"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 2"},"heatmap-v3":{stops:["#d4e3f5","#b3c5f7","#93a6fa","#7288fc","#566ffd","#3955fe","#1d3bfe","#0022ff","#334ecc","#667a99","#99a766","#ccd333","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 3"},"heatmap-v4":{stops:["#0022c8","#2b1ca7","#551785","#801164","#aa0b43","#d50621","#ff0000","#ff3900","#ff7100","#ffaa00","#ffc655","#ffe3aa","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 4"},"dark-yellow-orange":{stops:["#664c28","#795523","#8d5f1e","#a06819","#b37114","#c67a0f","#d9830a","#ec8c05","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 5"},"dark-yellow-green":{stops:["#284c66","#35585b","#436550","#507145","#5d7d3a","#6f8e2c","#819e1d","#92af0f","#a4bf00","#b9cf00","#cedf00","#e2eF00","#f7ff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 6"},"dark-yellow-purple":{stops:["#3f2866","#472b77","#4e2d87","#563098","#5d32a8","#6735be","#7139d4","#7b3ce9","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 7"},"dark-yellow-magenta":{stops:["#730073","#820082","#910091","#a000a0","#af00af","#c300c3","#d700d7","#eb00eb","#ff00ff","#ff58a0","#ff896b","#ffb935","#ffea00"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 8"},"dark-white-blue":{stops:["#215587","#245b91","#26629b","#2968a5","#2b6eaf","#307bc3","#3687d7","#3b94eb","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 9"},"dark-white-blue-metal":{stops:["#404873","#485182","#505990","#57629f","#5f6aad","#6772bb","#6f7bca","#7683d8","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 10"},"dark-white-gold":{stops:["#4d4700","#5f5700","#706700","#827700","#938700","#a59700","#b6a700","#c8b700","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 11"},"dark-yellow-bronze":{stops:["#592d00","#68390a","#764615","#85521F","#935e29","#a16a33","#b0773e","#be8348","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["dark","colorblind-friendly","heatmap"],name:"Heatmap 12"},"neutral-yellow-orange":{stops:["#ccbba3","#d3b68a","#d9b270","#e0ad57","#e6a852","#eca32f","#f39f1f","#f99a10","#ff9500","#ffae00","#ffc600","#ffde00","#fff700"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 13"},"neutral-yellow-green":{stops:["#a3bccc","#a3bdb3","#a4bd99","#a4be7f","#a4be66","#a4be4d","#a4bf33","#a4bf1a","#a4bf00","#b9cf00","#cedf00","#e2ef00","#f7ff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 14"},"neutral-yellow-purple":{stops:["#a297b3","#9f8cbd","#9b81c6","#9876d0","#946bd9","#9060cf","#8d55ec","#894af6","#853fff","#a46fbf","#c29f80","#e0cf40","#ffff00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 15"},"neutral-yellow-magenta":{stops:["#b397b3","#bd84bd","#c672c6","#d05fd0","#d94cd9","#e339e3","#ec26ec","#f613f6","#ff00ff","#ff3bbf","#ff7580","#ffb040","#ffea00"],tags:["light","colorblind-friendly","heatmap"],name:"Heatmap 16"},"neutral-white-blue":{stops:["#97a5b3","#8ca4bd","#82a4c6","#77a3d0","#6ca2d9","#61a2e3","#56a1ec","#4ba1f6","#40a0ff","#6db8ff","#9bd0ff","#c8e7ff","#f5ffff"],tags:["light","heatmap"],name:"Heatmap 17"},"neutral-white-blue-metal":{stops:["#979cb3","#949ab9","#9198c0","#8d96c6","#8a94cc","#8792d3","#8490d9","#818de0","#7e8be6","#9ea8ec","#bfc5f3","#dfe2f9","#ffffff"],tags:["light","heatmap"],name:"Heatmap 18"},"neutral-white-gold":{stops:["#b3b197","#b8b484","#bdb772","#c1b95f","#c6bc4c","#cbbf39","#d0c226","#d4c413","#d9c700","#e3d540","#ece380","#f6f1bf","#ffffff"],tags:["light","heatmap"],name:"Heatmap 19"},"neutral-yellow-bronze":{stops:["#bfb0a1","#c1ac97","#c3a88d","#c4a483","#c6a079","#c89c6f","#c99866","#cb935c","#cc8f52","#d9a877","#e6c19c","#f2dac1","#fff3e6"],tags:["light","heatmap"],name:"Heatmap 20"},"heatmap-magma":{stops:["#010005","#191247","#481793","#7f1eb4","#b233b9","#e745b5","#ff57a5","#ff778d","#ffae85","#ffeca1","#ffffd1","#ffffff","#ffffff"],tags:["dark","colorblind-friendly","heatmap"],name:"Magma Heatmap"},"heatmap-inferno":{stops:["#010005","#1c0f4b","#520d8e","#881b9e","#bc2e9a","#f04188","#ff5c6a","#ff8345","#ffb71b","#fff415","#ffff64","#ffffe1","#ffffeb"],tags:["dark","colorblind-friendly","heatmap"],name:"Inferno Heatmap"},"heatmap-plasma":{stops:["#120bc1","#5805df","#8d01ef","#bf09ee","#ec2cdb","#ff51bd","#ff769f","#ff9d82","#ffc666","#fff44a","#ffff35","#ffff36","#ffff30"],tags:["light","colorblind-friendly","heatmap"],name:"Plasma Heatmap"},"heatmap-viridis":{stops:["#610278","#6730a4","#6058be","#507dc9","#419ecb","#35bdcb","#2cdcc6","#3bfbb6","#6fff99","#b9ff6e","#ffff37","#ffff30","#ffff35"],tags:["dark","colorblind-friendly","heatmap"],name:"Viridis Heatmap"},"heatmap-cividis":{stops:["#002e6e","#00449f","#3b5c9a","#65749a","#858b9e","#a3a3a6","#c0bcad","#e1d6aa","#fff1a2","#ffff95","#ffff7f","#ffff60","#ffff64"],tags:["light","colorblind-friendly","heatmap"],name:"Cividis Heatmap"}};function vqe(e,t,r){let i=null,s=null;if(t&&(i=yL(t,e,!1),i)){const n=mL(i);n!=null&&(s=n)}return!i&&r&&(i=r==="dark"?"dark-gray":"gray",s=r),i||s||(i="gray",s="light"),{basemapId:i,basemapTheme:s}}let wqe=class{constructor(t){const{name:r,label:i,description:s,schemes:n}=t;this.name=r,this.label=i,this.description=s,this.schemes=n;const a=t.basemapGroups||Ay;let o=[];Object.keys(a).forEach(l=>{o=o.concat(a[l])}),this.supportedBasemaps=o,this.basemapGroups=a}isBasemapSupported(t){const r=yL(t,this.supportedBasemaps);return!(!r||!this.supportedBasemaps.includes(r))}getRawSchemes(t){const{basemapId:r,basemapTheme:i}=vqe(this.supportedBasemaps,t.basemap,t.basemapTheme);let s=i;if(r){const o=mL(r,this.basemapGroups);o!=null&&(s=o)}let n=t.geometryType;n==="multipoint"?n="point":n==="mesh"&&(n="polygon");const a=this.schemes[n]||this.schemes.default;return{schemesInfo:O(a[s]),basemapId:r,basemapTheme:i}}};function _qe(e){const t=e.themeDictionary,r=new Map;for(const i in t){const s=t[i];r.set(i,new wqe(s))}return r}function Sqe(e,t){var s;if(!e||!t)return;let r=null;const i=[t.primaryScheme,...t.secondarySchemes];for(const n of i)if(((s=n.name)==null?void 0:s.toLowerCase())===e.toLowerCase()){r=n;break}return r}function kne(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}const $qe=Ay.light,xqe=Ay.dark;[...$qe,...xqe];function Eqe(e){const t=e.width,r=e.height;let i=e.pixelSizeAt(e.toMap(xr(.5*t,.5*r),{exclude:[]}));if(i<=0&&(i=e.pixelSizeAt(e.toMap(xr(.5*t,.95*r),{exclude:[]})),i<=0&&"camera"in e)){const s=e.camera.position.clone();s.z=0,i=2*e.pixelSizeAt(s)}return i}function lR(e,t){return Math.ceil(Eqe(t)*Ct(Ue(e)))}const M1={light:{color:[153,153,153,.25],width:"0.5px"},lighter:{color:[194,194,194,.25],width:"0.5px"},lightest:{color:[153,153,153,.25],width:"0.5px"}},v6={grayBasemaps:{outline:M1.lightest,fillOpacity:.8,width:"2px",size:"8px"}},Tqe="#aaaaaa",Iqe="#ffffff",Cqe="12px",oB=["seq-cividis","seq-single-blues","seq-yellow-red-purple","seq-yellow-orange-red","seq-yellow-pink-purple","seq-yellow-purple-blue","seq-yellow-green-blue","seq-teal-lightgreen-bright","seq-green-lightgray-bright","seq-teal-lightbrown-bright","seq-lightred-darkgray-bright","seq-orange-red-light","seq-red-lightgray-bright","seq-blue-lightgray-bright","seq-orange-lightgray-bright","seq-blue-red-yellow-bright","seq-blue-tan-bright","seq-pink-red","seq-red-blue-green","seq-orange-red-dark","seq-magenta-light","seq-red-light","seq-orange-light","seq-mustard-light","seq-yellowgreen-light","seq-green-light","seq-aqua-light","seq-cyan-light","seq-blue-light","seq-purple-light","seq-brown-light","seq-steel-light","seq-brown-palegreen","seq-purple-pink-yellow","seq-blue-green-yellow","seq-green-avocado-lightpurple","seq-turquoise-lightgreen","seq-red-brown-white","seq-purple-pink-white","seq-blue-green-white","seq-green-avocado-white","seq-turquoise-lightgreen-white","seq-snowy-mountain","seq-snow-cactus","seq-subdued-red-yellow","seq-subdued-purple-blue","seq-subdued-blue-cyan","seq-subdued-green-yellow","seq-subdued-green","seq-lines-blue-orange","seq-lines-purple-brown","seq-esribrand-red","seq-esribrand-red-orange","seq-esribrand-orange","seq-esribrand-orangeyellow","seq-esribrand-yellow","seq-esribrand-yellowgreen","seq-esribrand-green","seq-esribrand-greenblue","seq-esribrand-blue","seq-esribrand-violet","seq-esribrand-violetred","seq-esribrand-brown","seq-esribrand-gray","seq-single-greens","seq-single-grays","seq-single-oranges","seq-single-purples","seq-single-reds","seq-multi-bugn","seq-multi-bupu","seq-multi-gnbu","seq-multi-orrd","seq-multi-pubu","seq-multi-pubugn","seq-multi-purd","seq-multi-rdpu","seq-multi-ylgn","seq-multi-ylgnbu","seq-multi-ylorbr","seq-multi-ylorrd","point-cloud-intensity-scheme"],lB=["seq-magma","seq-inferno","seq-plasma","seq-viridis","seq-blue-gray-bright","seq-reds-bright","seq-purples-bright","seq-greens-bright","seq-browns-bright","seq-dark-to-light-magenta-bright","seq-dark-to-light-purple-bright","seq-dark-to-light-blue-bright","seq-dark-to-light-green-bright","seq-brown-to-tan-bright","seq-lightgray-blue-bright","seq-lightgray-green-bright","seq-lightgray-darkmagenta-bright","seq-yellow-darkblue-bright","seq-blues-bright","seq-gray-lightgreen-bright","seq-lightmagenta-darkgray-bright","seq-lightblue-darkgray-bright","seq-magenta","seq-red","seq-orange","seq-yellow","seq-yellowgreen","seq-green","seq-turquoise","seq-royal","seq-blueberry","seq-purple","seq-brown","seq-blue","seq-red-darkblue","seq-purple-darkgreen","seq-blue-darkgreen","seq-green-darkpurple","seq-blue-gray","seq-mentone-beach","seq-subdued-brown-tan","seq-subdued-gray-green","seq-subdued-green-tan","seq-subdued-blue-purple","seq-subdued-pink-brown","seq-subdued-green-pink","seq-lines-green-brown","seq-lines-yellow-blue","seq-blue-bright-1","seq-green-bright-1","seq-green-bright-2","seq-green-bright-3","seq-blue-bright-2","seq-blue-bright-3","seq-blue-bright-4","seq-blue-bright-5","seq-red-purple-bright","seq-red-magenta-bright","seq-red-bright-3","seq-red-bright-4","seq-yellow-bright-1","seq-yellow-bright-2","seq-yellow-bright-3","seq-yellow-bright-4","seq-yellow-gray-bright","seq-green-gray-bright","seq-red-gray-bright","seq-gray-redbright","seq-gray-green-bright","seq-gray-blue-bright","seq-gray-purple-bright","seq-plaingray-bright","seq-greengray-bright","seq-coolgray-bright","seq-warmgray-bright","seq-yellow-green-combo-bright","seq-cyan-blue-combo-bright","seq-magenta-purple-combo-bright","point-cloud-elevation-scheme"],cB=["div-bluegreen-yellow-orange","div-orange-yellow-blue-light","div-green-yellow-redpurple","div-green-yellow-orange","div-green-gray-bright","div-red-blue-bright","div-blue-orange-bright","div-blue-lightgreen-bright","div-red-gray-bright","div-blue-gray-bright","div-red-lightgreen-bright","div-green-teal-bright","div-bluegreen-orange","div-orange-purple","div-bluegreen-purple","div-orange-pink","div-blue-yellow-red-bright","div-red-green-bright","div-orange-gray-bright","div-blue-green-bright","div-purple-brown-bright","div-blue-brown-bright","div-teal-brown-bright","div-lightblue-gray-bright","div-redpurple-blue","div-orange-blue","div-green-pink","div-bluegreen-redpurple","div-green-redpurple","div-green-orange","div-red-yellow-pink","div-blue-green","div-bluegreen-yellow-redpurple","div-bluegreen-pink","div-red-yellow-purple","div-orange-yellow-pink","div-orange-yellow-blue-dark","div-green-purple-light","div-blue-red-light","div-green-purple-light-2","div-cyan-blue-light","div-blue-yellow-light","div-purple-yellow-light","div-magenta-yellow-light","div-purple-green-light","div-blue-blue","div-green-green","div-blue-green-light","div-red-green-light","div-blue-yellow-brown-light","div-blue-white-brown","div-subdued-red-green","div-subdued-red-purple","div-subdued-brown-gray","div-subdued-sepia-gray","div-subdued-blue-gray","div-subdued-green-brown","div-lines-blue-brown","div-lines-green-purple","div-lines-red-gray","div-esribrand-red-bluegreen","div-esribrand-red-blue","div-esribrand-red-violet","div-esribrand-red-violetred","div-esribrand-red-gray","div-esribrand-redorange-greenblue","div-esribrand-redorange-blue","div-esribrand-redorange-violet","div-esribrand-redorange-violetred","div-esribrand-redorange-gray","div-esribrand-orange-greenblue","div-esribrand-orange-blue","div-esribrand-orange-violet","div-esribrand-orange-violetred","div-esribrand-orange-gray","div-esribrand-orangeyellow-greenblue","div-esribrand-orangeyellow-blue","div-esribrand-orangeyellow-violet","div-esribrand-orangeyellow-violetred","div-esribrand-orangeyellow-gray","div-esribrand-yellow-green-blue","div-esribrand-yellow-blue","div-esribrand-yellow-violet","div-esribrand-yellow-violetred","div-esribrand-yellow-brown","div-esribrand-yellow-gray","div-esribrand-yellowgreen-greenblue","div-esribrand-yellowgreen-blue","div-esribrand-yellowgreen-violet","div-esribrand-yellowgreen-violetred","div-esribrand-yellowgreen-brown","div-esribrand-yellowgreen-gray","div-esribrand-green-blue","div-esribrand-green-violet","div-esribrand-green-violetred","div-esribrand-green-gray","div-esribrand-greenblue-blue","div-esribrand-greenblue-violetred","div-esribrand-greenblue-brown","div-esribrand-greenblue-gray","div-esribrand-blue-brown","div-esribrand-blue-gray","div-esribrand-violet-brown","esribrand-violet-gray","div-esribrand-violetred-gray","div-esribrand-brown-gray","div-blue-yellow-brown","div-purple-yellow-brown","div-purple-beige-green","div-teal-yellow-brown","div-yellow-magenta-light","div-green-yellow-blue","div-brown-blue","div-red-green-cyan","div-yellow-slate-teal","div-brbg","div-piyg","div-prgn","div-puor","div-rdbu","div-rdgy","div-rdylbu","div-rdylgn","div-spectral"],dB=["div-blue-green-bright-1","div-blue-red-bright-1","div-lightgreen-yellow-bright","div-lightred-gray-bright","div-lightgreen-gray-bright","div-yellow-green-bright","div-green-darkgray-bright","div-lightmagenta-gray-bright","div-lightblue-yellow-bright","div-yellow-gray-purple","div-red-gray-blue","div-green-gray-purple","div-orange-gray-blue","div-green-purple","div-blue-red","div-green-magenta","div-blue-orange","div-blue-yellow","div-purple-yellow","div-magenta-yellow","div-purple-green-dark","div-green-brown","div-green-gray","div-blue-white","div-red-steel","div-aqua-darkgray-red","div-subdued-tan-blue","div-subdued-green-blue","div-subdued-green-pink","div-lines-green-orange","div-lines-yellow-blue","div-yellow-orange-purple-bright","div-yellow-blue-bright-1","div-yellow-blue-bright-2","div-yellow-blue-bright","div-yellow-blue-bright-3","div-yellow-purple-bright-1","div-yellow-purple-bright-2","div-yellow-red-bright-1","div-yellow-red-bright-2","div-yellow-gray-bright-1","div-yellow-gray-bright-2","div-yellow-gray-bright-3","div-purple-green-bright-1","div-purple-green-bright-2","div-pink-yellow-bright-1","div-pink-yellow-bright-2","div-red-blue-bright-1","div-red-blue-bright-2","div-orange-blue-bright-3","div-orange-blue-bright-4","div-red-purple-bright","div-red-gray-bright-1","div-red-gray-bright-2","div-red-gray-bright-3","div-teal-yellow-bright-1","div-teal-yellow-bright-2","div-teal-orange-bright","div-green-red-bright","div-green-magenta-bright","div-green-purple-bright-1","div-green-purple-bright-2","div-green-blue-bright-1","div-green-blue-bright-2","div-green-gray-bright-1","div-green-gray-bright-2","div-green-gray-bright-3","div-blue-yellow-bright-2","div-blue-lightorange-bright","div-blue-orange-bright-1","div-blue-orange-bright-2","div-blue-red-bright-2","div-blue-tan-bright","div-blue-gray-bright-1","div-blue-gray-bright-2","div-blue-gray-bright-3","div-blue-green-orange","div-purple-orange","div-purple-green","div-teal-orange","div-red-purple-blue","div-yellow-magenta","div-green-blue","div-blue-brown","div-red-cyan","div-yellow-teal"],uB=["highlight-orange","highlight-blue","highlight-bluegreen","highlight-pink","highlight-purple","highlight-red","highlight-blue-dark","highlight-orange-dark","highlight-blue-gray","highlight-bluegreen-gray","highlight-orange-gray","highlight-pink-gray","highlight-purple-gray","highlight-red-gray","highlight-blue-gray-dark","highlight-orange-gray-dark","highlight-pink-gray-dark","highlight-purple-gray-dark","highlight-blue-bright-gray-dark","highlight-green-gray-dark","highlight-brown-gray-dark"],fB=["highlight-orange-bright","highlight-blue-bright","highlight-blue-gray-bright","highlight-orange-gray-bright","highlight-red-gray-bright","highlight-purple-gray-bright","highlight-blue-bright-gray-bright","highlight-green-gray-bright","highlight-yellow-gray-bright"],pB=["extremesdiv-orange-yellow-blue-dark","extremes-blue","extremes-blue-dark","extremes-bluegreen","extremes-orange","extremes-orange-dark","extremes-pink","extremes-purple","extremes-red","extremesdiv-blue-green","extremesdiv-bluegreen-pink","extremesdiv-bluegreen-purple","extremesdiv-bluegreen-redpurple","extremesdiv-bluegreen-yellow-orange","extremesdiv-green-pink","extremesdiv-green-yellow-orange","extremesdiv-green-yellow-redpurple","extremesdiv-orange-pink","extremesdiv-orange-purple","extremesdiv-orange-yellow-blue-light","extremesdiv-red-yellow-pink","extremesdiv-red-yellow-purple","extremesdiv-redpurple-blue","extremes-blue-gray","extremes-blue-gray-dark","extremes-bluegreen-gray","extremes-orange-gray","extremes-orange-gray-dark","extremes-pink-gray","extremes-purple-gray","extremes-red-gray","extremes-pink-gray-dark","extremes-purple-gray-dark","extremes-blue-bright-gray-dark","extremes-green-gray-dark","extremes-brown-gray-dark"],hB=["extremes-orange-bright","extremes-blue-bright","extremes-blue-gray-bright","extremes-orange-gray-bright","extremesdiv-green-purple","extremesdiv-orange-blue","extremesdiv-red-blue","extremesdiv-yellow-purple","extremes-red-gray-bright","extremes-purple-gray-bright","extremes-blue-bright-gray-bright","extremes-green-gray-bright","extremes-yellow-gray-bright"],mB=["highlight-orange-gray","highlight-bluegreen-gray","highlight-purple-gray","highlight-pink-gray","highlight-blue-gray","highlight-red-gray","highlight-orange-gray-dark","highlight-blue-gray-dark","highlight-orange-gray-bright","highlight-blue-gray-bright","extremes-orange-gray","extremes-bluegreen-gray","extremes-purple-gray","extremes-pink-gray","extremes-blue-gray","extremes-red-gray","extremes-orange-gray-dark","extremes-blue-gray-dark","extremes-orange-gray-bright","extremes-blue-gray-bright","highlight-red-gray-bright","highlight-purple-gray-bright","highlight-blue-bright-gray-bright","highlight-green-gray-bright","highlight-yellow-gray-bright","highlight-pink-gray-dark","highlight-purple-gray-dark","highlight-blue-bright-gray-dark","highlight-green-gray-dark","highlight-brown-gray-dark","extremes-red-gray-bright","extremes-purple-gray-bright","extremes-blue-bright-gray-bright","extremes-green-gray-bright","extremes-yellow-gray-bright","extremes-pink-gray-dark","extremes-purple-gray-dark","extremes-blue-bright-gray-dark","extremes-green-gray-dark","extremes-brown-gray-dark"],WS={light:{common:v6.grayBasemaps,primary:"seq-single-blues",secondary:[...oB,...lB].filter(e=>e!=="seq-single-blues")},dark:{common:v6.grayBasemaps,primary:"seq-blue-gray-bright",secondary:[...lB,...oB].filter(e=>e!=="seq-blue-gray-bright")}},Lne=_qe({themeDictionary:{"high-to-low":{name:"high-to-low",label:"TODO",description:"TODO",schemes:{default:WS}},"above-and-below":{name:"above-and-below",label:"TODO",description:"TODO",schemes:{default:{light:{common:v6.grayBasemaps,primary:"div-rdbu",secondary:[...cB,...dB].filter(e=>e!=="div-rdbu")},dark:{common:v6.grayBasemaps,primary:"div-blue-red-bright-1",secondary:[...dB,...cB].filter(e=>e!=="div-blue-red-bright-1")}}}},"centered-on":{name:"centered-on",label:"TODO",description:"TODO",schemes:{default:{light:{common:{outline:M1.lighter,width:"2px",size:"8px"},primary:"highlight-orange",primaryGray:"highlight-orange-gray",secondary:[...uB,...fB].filter(e=>e!=="highlight-orange")},dark:{common:{outline:M1.light,width:"2px",size:"8px"},primary:"highlight-orange-bright",primaryGray:"highlight-orange-gray-bright",secondary:[...fB,...uB].filter(e=>e!=="highlight-orange-bright")}}}},extremes:{name:"extremes",label:"TODO",description:"TODO",schemes:{default:{light:{common:{outline:M1.lighter,width:"2px",size:"8px"},primary:"extremesdiv-orange-purple",primaryGray:"extremes-orange-gray",secondary:[...pB,...hB].filter(e=>e!=="extremesdiv-orange-purple")},dark:{common:{outline:M1.light,width:"2px",size:"8px"},primary:"extremesdiv-orange-blue",primaryGray:"extremes-orange-gray-bright",secondary:[...hB,...pB].filter(e=>e!=="extremesdiv-orange-blue")}}}},above:{name:"above",label:"TODO",description:"TODO",schemes:{default:WS}},below:{name:"below",label:"TODO",description:"TODO",schemes:{default:WS}}}});function Rne(e){const t=e.theme,r=kne({basemap:e.basemap,basemapTheme:e.basemapTheme,theme:t?Lne.get(t):null});if(!r)return;let i=r.schemesInfo;const s=i.common,{basemapId:n,basemapTheme:a}=r;!e.worldScale||t!=="centered-on"&&t!=="extremes"||(i={...i},i.secondary=i.secondary.slice(),i.secondary.push(i.primary),i.primary=i.primaryGray,delete i.primaryGray,i.secondary=i.secondary.filter(l=>{const d=l.includes("gray");return l!==i.primary&&d}));const o={...e,basemap:n};return{primaryScheme:BC(o,i.primary,s),secondarySchemes:i.secondary.map(l=>BC(o,l,s)).filter(It),basemapId:n,basemapTheme:a}}function Mqe(e){return Sqe(e.name,Rne(e))}function Aqe(e){let t,r,i="";const s=e.id;if(s){const o=s.split("/");o&&(i=o[0],t=o[1],r=o[2])}const n=kne({basemap:t,theme:Lne.get(i)});if(!n)return;const{schemesInfo:a}=n;return BC({theme:i,basemap:t,geometryType:e.geometryType,worldScale:e.worldScale,view:e.view},r,a.common)}function w6(e){if(!e)return;const t={...e};return t.colors=t.colors.map(r=>new Z(r)),t.tags=[...t.tags],t.colorsForClassBreaks=t.colorsForClassBreaks.map(r=>({numClasses:r.numClasses,colors:r.colors.map(i=>new Z(i))})),t.noDataColor&&(t.noDataColor=new Z(t.noDataColor)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new Z(t.outline.color),width:t.outline.width}),t}function BC(e,t,r){const i=gqe[t];if(!i)return;const s=e.theme??"",n=e.geometryType!=="mesh"&&e.worldScale?e.view:null;let a=r.fillOpacity;a==null&&t!=null&&mB.includes(t)&&(a=.8);const o=e.theme==="below",l=o?[...i.stops].reverse():i.stops,d=[];for(const y in i)if(y!=="stops"&&y!=="name"&&y!=="tags"){const b=+y;d.push({numClasses:b,colors:o?[...i[b]].reverse():i[b]})}const f=t!=null&&mB.includes(t)?Iqe:Tqe,p=s+"/"+e.basemap+"/"+t,m=a||1;switch(e.geometryType){case"point":case"multipoint":return kqe({id:p,name:i.name,tags:i.tags,theme:s,opacity:m,colors:l,colorsForClassBreaks:d,noDataColor:f,outline:r.outline,size:r.size},n);case"polyline":return Lqe({id:p,name:i.name,tags:i.tags,theme:s,opacity:m,colors:l,colorsForClassBreaks:d,noDataColor:f,width:r.width},n);case"polygon":return Rqe({id:p,name:i.name,tags:i.tags,theme:s,opacity:m,colors:l,colorsForClassBreaks:d,noDataColor:f,outline:r.outline,size:Cqe},n);case"mesh":return Oqe({id:p,name:i.name,tags:i.tags,theme:s,opacity:m,colors:l,colorsForClassBreaks:d,noDataColor:f});default:return}}function kqe(e,t){return{id:e.id,name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new Z(r)),colorsForClassBreaks:v8(e.colorsForClassBreaks),noDataColor:new Z(e.noDataColor),outline:{color:new Z(e.outline.color),width:e.outline.width},size:t&&t.type==="3d"?lR(e.size,t):e.size,opacity:e.opacity}}function Lqe(e,t){return{id:e.id,name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new Z(r)),colorsForClassBreaks:v8(e.colorsForClassBreaks),noDataColor:new Z(e.noDataColor),width:t&&t.type==="3d"?lR(e.width,t):e.width,opacity:e.opacity}}function Rqe(e,t){return{id:e.id,name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(r=>new Z(r)),colorsForClassBreaks:v8(e.colorsForClassBreaks),noDataColor:new Z(e.noDataColor),outline:{color:new Z(e.outline.color),width:e.outline.width},opacity:e.opacity,size:t&&t.type==="3d"?lR(e.size,t):e.size}}function Oqe(e){return{id:e.id,name:e.name,tags:[...e.tags],theme:e.theme,colors:e.colors.map(t=>new Z(t)),colorsForClassBreaks:v8(e.colorsForClassBreaks),noDataColor:new Z(e.noDataColor),opacity:e.opacity}}function v8(e){return e.map(t=>({numClasses:t.numClasses,colors:t.colors.map(r=>new Z(r))}))}const Fqe="high-to-low",Pqe=2**53-1,ZS=5;async function Nqe(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new I("color-visual-variable:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new I("color-visual-variable:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&pb(e,"color-visual-variable");const t={...e},r=e.forBinning?hb:lw,i=yb(t.layer,r,e.forBinning);if(!i)throw new I("color-visual-variable:invalid-parameters","'layer' must be one of these types: "+mb(r).join(", "));const s=t.signal!=null?{signal:t.signal}:null;if(await i.load(s),i.geometryType!=="mesh"&&t.worldScale&&(!t.view||t.view.type!=="3d"))throw new I("color-visual-variable:invalid-parameters","'view' parameter should be an instance of SceneView when 'worldScale' parameter is true");const n=await yc({field:t.field,normalizationField:t.normalizationField,valueExpression:t.valueExpression}),a=Ane(i,n,"color-visual-variable:invalid-parameters");if(a)throw a;return{...t,layer:i}}async function Dqe(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new I("color-continuous-renderer:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new I("color-continuous-renderer:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&pb(e,"color-continuous-renderer");const t={...e};t.symbolType=t.symbolType||"2d",t.defaultSymbolEnabled??(t.defaultSymbolEnabled=!0);const r=e.forBinning?hb:lw,i=yb(t.layer,r,e.forBinning);if(!i)throw new I("color-continuous-renderer:invalid-parameters","'layer' must be one of these types: "+mb(r).join(", "));const s=t.signal!=null?{signal:t.signal}:null;await i.load(s);const n=i.geometryType;if(t.outlineOptimizationEnabled=n==="polygon"&&t.outlineOptimizationEnabled,t.sizeOptimizationEnabled=(n==="point"||n==="multipoint"||n==="polyline")&&t.sizeOptimizationEnabled,n==="mesh")t.symbolType="3d-volumetric",t.colorMixMode=t.colorMixMode||"replace",t.edgesType=t.edgesType||"none";else{if(t.symbolType==="3d-volumetric-uniform"&&n!=="point")throw new I("color-continuous-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(t.symbolType.includes("3d-volumetric")&&(!t.view||t.view.type!=="3d"))throw new I("color-continuous-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'")}const a=await yc({field:t.field,normalizationField:t.normalizationField,valueExpression:t.valueExpression}),o=Ane(i,a,"color-continuous-renderer:invalid-parameters");if(o)throw o;return{...t,layer:i}}function Vqe(e){var s;const t={...e},r=!!((s=t.symbolType)!=null&&s.includes("3d-volumetric"));delete t.symbolType,delete t.defaultSymbolEnabled,delete t.colorMixMode,delete t.edgesType;const i=t;return i.worldScale=r,i}async function zqe(e,t){let r=e.colorScheme,i=null,s=null;const{view:n}=e,a=await bqe(e.basemap,n);if(i=a.basemapId!=null?a.basemapId:null,s=a.basemapTheme!=null?a.basemapTheme:null,r)return{scheme:w6(r),basemapId:i,basemapTheme:s};const o=e.theme||Fqe,l=Rne({theme:o,basemapTheme:s,geometryType:e.geometryType,worldScale:e.worldScale,view:n});if(l)if(i=l.basemapId,s=l.basemapTheme,e.schemeId){const d=o+"/"+i+"/"+e.schemeId;r=Aqe({id:d,geometryType:e.geometryType})}else r=l.primaryScheme;return{scheme:r,basemapId:i,basemapTheme:s}}function jqe(e,t,r,i){const s=lqe(e,t,r);return{values:uqe(s,e,t,i),defaultValuesUsed:s.defaultValuesUsed}}async function qqe(e,t,r,i){const{field:s,theme:n}=e,a=await zqe({basemap:e.basemap,theme:e.theme,geometryType:r,colorScheme:e.colorScheme,worldScale:e.worldScale,view:e.view}),o=a.scheme;if(!o)throw new I("color-visual-variable:insufficient-info","Unable to find color scheme");const l=dj(o.colors,ZS);if(l.length<ZS)throw new I("color-visual-variable:insufficient-info","Color scheme does not have enough colors");const d=o.id.includes("seq-"),{values:f,defaultValuesUsed:p}=jqe(t,n,i,d),m=dj(l,ZS),y=new Pk({field:s??void 0,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle,normalizationField:e.normalizationField,stops:f.map((v,w)=>new Fk({value:v,color:m[w]})),legendOptions:Gy(Ok,e.legendOptions)}),b=new See({type:"color",minSliderValue:e.minValue!=null?e.minValue:t.min,maxSliderValue:e.maxValue!=null?e.maxValue:t.max,theme:o.theme}),g=new B4({visualVariables:[b]});return{basemapId:a.basemapId,basemapTheme:a.basemapTheme,visualVariable:y,statistics:t,defaultValuesUsed:p,colorScheme:w6(o),authoringInfo:g}}async function Bqe(e,t,r,i,s,n,a){var y;const o=await e4("esri/smartMapping/t9n/smartMapping"),{field:l,defaultSymbolEnabled:d}=a,f=w6(e.colorScheme),p=t==null?void 0:t.opacity,m=[e.visualVariable.clone()];return(y=t==null?void 0:t.visualVariables)!=null&&y.length&&m.push(...t.visualVariables.map(b=>b.clone())),r!=null&&r.minSize&&m.push(r.minSize),{renderer:new Xk({classBreakInfos:[{minValue:-9007199254740991,maxValue:Pqe,symbol:nB(n,{type:a.symbolType,color:f.noDataColor,size:iB(f,n),outline:sB(f,n,p),meshInfo:{colorMixMode:a.colorMixMode,edgesType:a.edgesType}})}],defaultLabel:d?o.other:null,defaultSymbol:d?nB(n,{type:a.symbolType,color:f.noDataColor,size:iB(f,n),outline:sB(f,n,p),meshInfo:{colorMixMode:a.colorMixMode,edgesType:a.edgesType}}):null,field:l,normalizationType:i,normalizationField:s,valueExpression:a.valueExpression,valueExpressionTitle:a.valueExpressionTitle,visualVariables:m,authoringInfo:e.authoringInfo&&e.authoringInfo.clone()}),visualVariable:e.visualVariable.clone(),statistics:e.statistics,defaultValuesUsed:e.defaultValuesUsed,colorScheme:w6(e.colorScheme),basemapId:e.basemapId,basemapTheme:e.basemapTheme}}async function Uqe(e){const t=await Nqe(e),{view:r,field:i,valueExpression:s,minValue:n,maxValue:a,layer:o,normalizationField:l,signal:d,filter:f,statistics:p}=t,m=l?"field":void 0,y=await(p??yqe({layer:o,field:i,valueExpression:s,sqlExpression:t.sqlExpression,sqlWhere:t.sqlWhere,normalizationType:m,normalizationField:l,minValue:n,maxValue:a,filter:f,view:r,signal:d})),b=o,g=i&&typeof i!="function"?b.getField(i):null;return qqe(t,y,b.geometryType,es(g))}async function Gqe(e){const t=await Dqe(e),{layer:r,view:i,signal:s,filter:n}=t,[a,o,l]=await Promise.all([Uqe(Vqe(t)),t.outlineOptimizationEnabled?Rje({layer:r,view:i,signal:s,filter:n}).catch(aB):null,t.sizeOptimizationEnabled?sqe({layer:r,view:i,signal:s,filter:n}).catch(aB):null]),d=t.normalizationField;return Bqe(a,o,l,d?"field":void 0,d,r.geometryType,t)}Hoe(window);const vi=document.getElementById("mapEl"),Fe={allRelatedFeatures:[],minValue:500,highlightHandle:null,activeWidget:null,actionBarExpanded:!1,alaskaView:null,hawaiiView:null,linesLayer:null,pointsLayer:null};function UC(e,t){for(const r of e.items||e){if(r.title===t)return r;if(r.type==="group"&&r.layers){const i=UC(r.layers,t);if(i)return i}}return null}function One(e){let t=[];for(const r of e.items||e)r.type==="group"&&r.layers?t=t.concat(One(r.layers)):r.type==="feature"&&t.push(r);return t}function yB(){const e=["Household Income","Individual Income"];return One(vi.map.layers).filter(r=>e.includes(r.title))}const Hqe={"Household Income":[{label:"Change in Household Income between 1978 and 1992 (1st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p1"},{label:"Change in Household Income between 1978 and 1992 (25st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p25"},{label:"Change in Household Income between 1978 and 1992 (50st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p50"},{label:"Change in Household Income between 1978 and 1992 (75st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p75"},{label:"Change in Household Income between 1978 and 1992 (100st Percentile)",expression:"$feature.change_kfi_pooled_pooled_p100"}],"Individual Income":[{label:"Change in Individual Income between 1978 and 1992 (1st Percentile)",expression:"$feature.change_kii_pooled_pooled_p1"},{label:"Change in Individual Income between 1978 and 1992 (25th Percentile)",expression:"$feature.change_kii_pooled_pooled_p25"},{label:"Change in Individual Income between 1978 and 1992 (50th Percentile)",expression:"$feature.change_kii_pooled_pooled_p50"},{label:"Change in Individual Income between 1978 and 1992 (75th Percentile)",expression:"$feature.change_kii_pooled_pooled_p75"},{label:"Change in Individual Income between 1978 and 1992 (100th Percentile)",expression:"$feature.change_kii_pooled_pooled_p100"}]};vi.addEventListener("arcgisViewReadyChange",async e=>{const t=UC(vi.map.layers,"Household Income");t&&await t.load();const r=UC(vi.map.layers,"Individual Income");r&&await r.load(),vi.view.constraints={minZoom:4,maxZoom:12},vi.view.padding={left:49};const i=({target:_})=>{if(_.tagName!=="CALCITE-ACTION"||_.id==="info-action")return;document.querySelectorAll("calcite-panel").forEach(T=>{T.closed=!0}),document.querySelectorAll("calcite-action").forEach(T=>{T.active=!1});const x=_.dataset.actionId;if(x!==Fe.activeWidget){document.querySelector(`[data-action-id=${x}]`).active=!0;const T=document.querySelector(`[data-panel-id=${x}]`);T&&(T.closed=!1,T.setFocus()),Fe.activeWidget=x}else Fe.activeWidget=null};document.querySelectorAll("calcite-panel").forEach(_=>{_.addEventListener("calcitePanelClose",()=>{const x=document.querySelector(`[data-action-id=${Fe.activeWidget}]`);x&&(x.active=!1,x.setFocus()),Fe.activeWidget=null})}),document.querySelector("calcite-action-bar").addEventListener("click",i),document.addEventListener("calciteActionBarToggle",_=>{Fe.actionBarExpanded=!Fe.actionBarExpanded,vi.view.padding={left:Fe.actionBarExpanded?135:49}}),document.querySelector("calcite-shell").hidden=!1,document.querySelector("calcite-loader").hidden=!0,Fe.graphicsLayer=new DS({listMode:"hide"}),vi.map.add(Fe.graphicsLayer),Fe.linesLayer=new DS({listMode:"hide"}),Fe.pointsLayer=new DS({listMode:"hide"}),vi.map.add(Fe.linesLayer),vi.map.add(Fe.pointsLayer);const s=document.getElementById("slider-left");s&&s.addEventListener("calciteSliderInput",_=>{Fe.minValue=_.target.valueAsNumber||_.target.value,Fe.allRelatedFeatures.length>0&&l(Fe.allRelatedFeatures,Fe.minValue)});const n=document.getElementById("slider-left");n&&(n.labelFormatter=function(_,x){if(x==="value"){if(_===n.min)return"<100 people>";if(_===n.max)return">10,000 people"}});const a=document.getElementById("draw-lines-btn");a&&a.addEventListener("click",()=>{Fe.allRelatedFeatures.length>0&&l(Fe.allRelatedFeatures,Fe.minValue)});const o=document.getElementById("clear-lines-btn");o&&o.addEventListener("click",()=>{Fe.linesLayer.removeAll(),Fe.pointsLayer.removeAll()});function l(_,x){Fe.linesLayer.removeAll(),Fe.pointsLayer.removeAll();const T=_.filter(P=>P.attributes.n>=x).map(P=>P.attributes.n),k=Math.min(...T),A=Math.max(...T),M=[],R=[];_.forEach(P=>{if(P.attributes.o_cz!==P.attributes.d_cz){const z=P.attributes.n;if(z>=x&&z>0){const j=_.filter(Ut=>Ut.attributes.o_cz===P.attributes.o_cz).reduce((Ut,ts)=>Ut+(ts.attributes.n||0),0),H=j>0?z/j*100:0,K=Math.min(12,Math.max(1,Math.log10(z)-1));let J=(z-k)/(A-k);isFinite(J)||(J=0);const pe=[Math.round(51+-173*J),Math.round(102+-165*J),Math.round(204+-77*J),.85],Ae={type:"polyline",paths:[[P.attributes.o_x_coord,P.attributes.o_y_coord],[P.attributes.d_x_coord,P.attributes.d_y_coord]],spatialReference:{wkid:4326}},ue=_.find(Ut=>Ut.attributes.o_cz===P.attributes.o_cz&&Ut.attributes.d_cz===P.attributes.o_cz),le=ue?ue.attributes.pr_d_o:null,Ge=new pr({geometry:Ae,symbol:{type:"simple-line",color:pe,width:K},attributes:{...P.attributes,o_cz:P.attributes.o_cz,d_cz:P.attributes.d_cz},popupTemplate:{title:"{o_cz_name}, {o_state_name} → {d_cz_name}, {d_state_name}",content:`<br/>Of the individuals that moved between childhood (measured by location at age 16) and young adulthood (location at age 26), <b>${z.toLocaleString()}</b> people moved from <b>{o_cz_name}</b> to <b>{d_cz_name}</b>.
                This represents <b>${H.toFixed(1)}%</b> of young adults that left <b>{o_cz_name}</b>.
                <b>${le!==null?(le*100).toFixed(1):"?"}%</b> of young adults stayed in the <b>{o_cz_name}</b> commuting zone.<br/>`}});M.push(Ge)}}else{let z=P.attributes.n;if((!z||z===0)&&(z=P.attributes.n_tot_o||P.attributes.n_tot_d||0),z>=x&&z>0){const j=Math.min(12,Math.max(1,Math.log10(z)-1));let H=P.attributes.pr_d_o;if(P.attributes.o_cz===P.attributes.d_cz){const pe=_.find(Ae=>Ae.attributes.o_cz===P.attributes.o_cz&&Ae.attributes.d_cz===P.attributes.d_cz&&Ae!==P);pe&&(H=pe.attributes.pr_d_o)}const K={type:"point",x:P.attributes.o_x_coord,y:P.attributes.o_y_coord,spatialReference:{wkid:4326}},J=new pr({geometry:K,symbol:{type:"simple-marker",color:[0,153,51,.7],size:Math.max(8,j*2),outline:{color:[255,255,255,.8],width:1.5}},attributes:{...P.attributes,o_cz:P.attributes.o_cz,d_cz:P.attributes.d_cz},popupTemplate:{title:"{o_cz_name}, {o_state_name}",content:`<br/>Of the individuals that moved between childhood (measured by location at age 16) and young adulthood (location at age 26), <b>${(H*100).toFixed(1)}%</b> (${z.toLocaleString()}) of young adults stayed in the <b>{o_cz_name} Commuting Zone.</b>.`}});R.push(J)}}}),Fe.linesLayer.addMany(M),Fe.pointsLayer.addMany(R)}async function d(_){let x=_.attributes.cz_id;if(!x&&_.attributes.OBJECTID){const A=_.layer,M=A.createQuery();M.objectIds=[_.attributes.OBJECTID],M.outFields=["*"];const R=await A.queryFeatures(M);R.features.length>0&&(x=R.features[0].attributes.cz_id)}if(!x){console.error("cz_id is undefined. Cannot run query.",_.attributes);return}const T=new My({url:"https://services1.arcgis.com/4yjifSiIG17X0gW4/arcgis/rest/services/Commuting_Zone_Migration_Centroid_Test/FeatureServer"}),k=T.createQuery();k.where=`cz = ${x}`,k.outFields=["o_x_coord","o_y_coord","d_x_coord","d_y_coord","n","o_cz_name","d_cz_name","o_state_name","d_state_name","o_cz","d_cz","n_tot_o","n_tot_d","pr_d_o","pr_o_d"],k.returnGeometry=!1;try{const A=await T.queryFeatures(k);Fe.allRelatedFeatures=A.features}catch(A){console.error("Error querying centroid features:",A)}}function f(_){_.when(()=>{_.on("click",async x=>{var R,P,z,j;const T=await _.hitTest(x),k=document.getElementById("feature-info-panel"),A=document.getElementById("feature-info"),M=(R=T.results.find(H=>{var K,J,pe,Ae,ue,le,Ge,Ut,ts,or;return((J=(K=H.graphic)==null?void 0:K.layer)==null?void 0:J.type)==="feature"||((Ae=(pe=H.graphic)==null?void 0:pe.geometry)==null?void 0:Ae.type)==="polyline"&&((le=(ue=H.graphic)==null?void 0:ue.layer)==null?void 0:le.type)==="graphics"||((Ut=(Ge=H.graphic)==null?void 0:Ge.geometry)==null?void 0:Ut.type)==="point"&&((or=(ts=H.graphic)==null?void 0:ts.layer)==null?void 0:or.type)==="graphics"}))==null?void 0:R.graphic;if(M){if(v(M,_),((P=M.geometry)==null?void 0:P.type)==="polygon"&&d(M),((z=M.geometry)==null?void 0:z.type)==="polyline"&&M.attributes.o_cz&&M.attributes.d_cz){const H=M.attributes.o_cz,K=M.attributes.d_cz;console.log("Line clicked. o_cz:",H,"d_cz:",K);const J=new My({url:"https://services8.arcgis.com/peDZJliSvYims39Q/arcgis/rest/services/Commuting_Zone_Covariates_Table/FeatureServer",outFields:["*"]}),pe=J.createQuery();pe.where=`cz IN (${H}, ${K})`,pe.returnGeometry=!1,console.log("Query where clause:",pe.where);try{let Ge=function(or,un){if(!or)return`<div>No data for ${un}.</div>`;const rl=Math.round(or.change_emp_pooled1990_2010*100)/1,il=Math.round(or.change_emp_pooled1980_2000*100)/1,Qa=Math.round(or.change_frac_coll_pooled1980_200*100)/1,Ka=Math.round(or.change_frac_coll_pooled1990_201*100)/1;return`
                  <div style="margin-bottom:8px;"><b>${un} Neighborhood Characteristics</b></div>
                  <table style="width:100%; border:1px solid LightGray; border-collapse: collapse;">
                    <tr><th style="border:1px solid LightGray;">Change in Employment Rate 1980-2000</th>
                      <th style="border:1px solid LightGray;">Change in Employment Rate 1990-2010</th></tr>
                    <tr><td style="text-align:center; border:1px solid LightGray;">${il}%</td>
                      <td style="text-align:center; border:1px solid LightGray;">${rl}%</td></tr>
                    <tr><th style="border:1px solid LightGray;">Change in College Graduation Rate 1980-2000</th>
                      <th style="border:1px solid LightGray;">Change in College Graduation Rate 1990-2010</th></tr>
                    <tr><td style="text-align:center; border:1px solid LightGray;">${Qa}%</td>
                      <td style="text-align:center; border:1px solid LightGray;">${Ka}%</td></tr>
                  </table>
                `};const Ae=await J.queryFeatures(pe);console.log("Covariate table query result:",Ae);let ue="No info found.",le="No info found.";Ae.features.forEach(or=>{console.log("Feature from covariate table:",or.attributes),or.attributes.cz==H&&(ue=or.attributes),or.attributes.cz==K&&(le=or.attributes)});const Ut=Ge(ue,"Origin"),ts=Ge(le,"Destination");M._baseContent||(M._baseContent=M.popupTemplate.content),M.popupTemplate={title:M.popupTemplate.title,content:`
                  ${M._baseContent}
                  <br/><h3>Neighborhood Characteristics</h3> 
                  ${Ut}
                  <br/>
                  ${ts}
                `},console.log("Updated popupTemplate:",M.popupTemplate),A.graphic=null,A.graphic=M}catch(Ae){console.error("Error querying extra info table:",Ae)}}if(((j=M.geometry)==null?void 0:j.type)==="point"){A.graphic=M,k.closed=!1;return}A.graphic=M,k.closed=!1}else A.graphic=null,k.closed=!0})})}Fe.alaskaView=new yT({container:"alaskaViewDiv",map:vi.map,center:[-152.4044,64.2008],zoom:2,ui:{components:[]},popupEnabled:!1}),Fe.hawaiiView=new yT({container:"hawaiiViewDiv",map:vi.map,center:[-157.5828,20.8968],zoom:4,ui:{components:[]},popupEnabled:!1}),vi.view.popupEnabled=!1,f(vi.view),f(Fe.alaskaView),f(Fe.hawaiiView);function p(){return yB().find(x=>x.visible)}function m(){const _=p();return _?Hqe[_.title]||[]:[]}const y=document.getElementById("field-select");function b(){y.innerHTML="";const _=document.createElement("calcite-option");_.value="",_.textContent="Select a field to visualize",_.disabled=!0,_.selected=!0,y.appendChild(_);const x=m();x.forEach((T,k)=>{const A=document.createElement("calcite-option");A.value=k,A.textContent=T.label,y.appendChild(A)}),x.length>0?y.selectedIndex=1:(y.selectedIndex=0,updateFeatureInfoTitle())}async function g(_){const x=p();if(!x)return;const T=vi.view,A=m()[_];if(!A)return;const M=A.expression;let R;x.title==="Household Income"?R="Green and Blue 3":x.title==="Individual Income"&&(R="Red and Green 6");let P=Mqe({basemap:T.map.basemap,geometryType:"polygon",theme:"above-and-below",name:R});const H={layer:x,view:T,valueExpression:M,valueExpressionTitle:A.label,colorScheme:P,theme:"above-and-below",outlineOptimizationEnabled:!0,statistics:{min:-5e3,max:5e3}};try{let ue=function(le){le&&le.outline&&(le.outline.color=pe,le.outline.width=Ae)};const J=(await Gqe(H)).renderer,pe=[255,255,255,.25],Ae=.2;J.symbol&&ue(J.symbol),J.classBreakInfos&&J.classBreakInfos.forEach(le=>ue(le.symbol)),J.uniqueValueInfos&&J.uniqueValueInfos.forEach(le=>ue(le.symbol)),J.visualVariables&&J.visualVariables.forEach(le=>{le.stops&&le.stops.forEach(Ge=>{Ge.symbol&&ue(Ge.symbol)})}),J.defaultSymbol={type:"simple-fill",color:[200,200,200,1],outline:{color:pe,width:Ae}},J.defaultLabel="No Data",x.renderer=J,x.featureEffect={filter:{where:`${_} IS NOT NULL`},includedEffect:"drop-shadow(0px, 2px, 8px, #333)",excludedEffect:"grayscale(100%) opacity(30%)"}}catch(K){console.error("Failed to create smartMapping renderer:",K)}}y.addEventListener("calciteSelectChange",_=>{g(_.target.value)}),yB().forEach(_=>{U(()=>_.visible,()=>{b()})}),b();function v(_,x){if(Fe.highlightHandle&&(Fe.highlightHandle.remove(),Fe.highlightHandle=null),_.geometry.type==="polygon"?x.highlightOptions={color:[255,255,0,1],fillOpacity:.2,haloOpacity:.8}:_.geometry.type==="polyline"?x.highlightOptions={color:[0,255,255,1],haloOpacity:.8}:_.geometry.type==="point"&&(x.highlightOptions={color:[255,0,255,1],haloOpacity:.8}),_.layer&&_.layer.type==="feature")x.whenLayerView(_.layer).then(T=>{Fe.highlightHandle=T.highlight(_)});else if(_.layer&&_.layer.type==="graphics"){let T=null;_.geometry.type==="polyline"?T=Fe.linesLayer:_.geometry.type==="point"&&(T=Fe.pointsLayer),T&&x.whenLayerView(T).then(k=>{Fe.highlightHandle=k.highlight(_)})}}function w(_){_.on("click",async x=>{const k=(await _.hitTest(x)).results.find(A=>{var M;return A.graphic&&(((M=A.graphic.layer)==null?void 0:M.type)==="feature"||A.graphic.layer===Fe.linesLayer||A.graphic.layer===Fe.pointsLayer)});k&&k.graphic?v(k.graphic,_):Fe.highlightHandle&&(Fe.highlightHandle.remove(),Fe.highlightHandle=null)})}w(vi.view),w(Fe.alaskaView),w(Fe.hawaiiView),document.getElementById("info-action").addEventListener("click",()=>{document.getElementById("about-dialog").open=!0}),document.getElementById("about-dialog-close").addEventListener("click",()=>{document.getElementById("about-dialog").open=!1})});export{WC as $,CPe as A,fBe as B,A8 as C,Poe as D,He as E,itt as F,pBe as G,Ltt as H,Jie as I,TL as J,AFe as K,u2 as L,_C as M,eFe as N,ptt as O,PPe as P,JS as Q,utt as R,gtt as S,stt as T,att as U,btt as V,sFe as W,rtt as X,iFe as Y,Noe as Z,HC as _,Sb as a,c as a$,iBe as a0,vtt as a1,mtt as a2,jd as a3,sBe as a4,rBe as a5,tBe as a6,nBe as a7,gc as a8,dPe as a9,oSe as aA,BX as aB,A6 as aC,zR as aD,AHe as aE,Ho as aF,Mr as aG,aSe as aH,xe as aI,i6e as aJ,ze as aK,Ce as aL,tTe as aM,J4 as aN,Yxe as aO,Qxe as aP,Kxe as aQ,V as aR,O as aS,N as aT,qu as aU,wye as aV,eb as aW,vA as aX,tve as aY,AJ as aZ,mve as a_,zj as aa,nse as ab,htt as ac,zB as ad,oU as ae,mBe as af,ytt as ag,Ket as ah,kPe as ai,boe as aj,C as ak,tFe as al,dtt as am,ttt as an,IL as ao,ftt as ap,hBe as aq,ltt as ar,VB as as,dFe as at,Iu as au,It as av,MQe as aw,I as ax,FQe as ay,CQe as az,f2 as b,Ko as b$,u as b0,S as b1,rKe as b2,DD as b3,Ms as b4,W as b5,ik as b6,pr as b7,o1e as b8,$J as b9,M_e as bA,PG as bB,Jd as bC,eve as bD,$ye as bE,xye as bF,Eye as bG,t6e as bH,cW as bI,W0 as bJ,fc as bK,H6 as bL,lW as bM,MP as bN,rZe as bO,TGe as bP,WNe as bQ,JNe as bR,qy as bS,zp as bT,_y as bU,p_ as bV,Ft as bW,qn as bX,yM as bY,mt as bZ,v2 as b_,B as ba,oQe as bb,Kp as bc,OKe as bd,mWe as be,zu as bf,Nt as bg,Cu as bh,on as bi,Ki as bj,oIe as bk,xIe as bl,kK as bm,gIe as bn,B_e as bo,u6e as bp,oT as bq,$te as br,hIe as bs,xte as bt,Ste as bu,EIe as bv,vIe as bw,nIe as bx,lIe as by,d4 as bz,o6 as c,JM as c$,ote as c0,mfe as c1,Zt as c2,GUe as c3,CHe as c4,Do as c5,Ee as c6,vSe as c7,BCe as c8,qX as c9,fK as cA,Ti as cB,Xw as cC,zGe as cD,JQ as cE,zr as cF,xp as cG,jpe as cH,SV as cI,_V as cJ,Je as cK,qI as cL,tUe as cM,GWe as cN,F2 as cO,aZe as cP,Oe as cQ,LU as cR,kU as cS,xUe as cT,Hn as cU,A2 as cV,Tv as cW,r4 as cX,Wfe as cY,q6 as cZ,B6 as c_,YN as ca,q_ as cb,KYe as cc,it as cd,G6 as ce,bYe as cf,l8e as cg,FN as ch,ON as ci,RN as cj,LN as ck,Ze as cl,tHe as cm,XGe as cn,eHe as co,me as cp,Gy as cq,Nn as cr,Gn as cs,As as ct,tQe as cu,Ao as cv,PN as cw,kN as cx,VU as cy,Ey as cz,Uie as d,BUe as d$,YM as d0,Hfe as d1,kHe as d2,cGe as d3,sKe as d4,re as d5,uM as d6,fM as d7,uWe as d8,p4 as d9,ci as dA,oi as dB,z2 as dC,el as dD,uxe as dE,Bu as dF,Rc as dG,Sc as dH,Rs as dI,F$ as dJ,Rt as dK,l_ as dL,O$ as dM,N$ as dN,jZ as dO,bG as dP,YUe as dQ,R6 as dR,S2 as dS,bv as dT,Zd as dU,rn as dV,ufe as dW,z6 as dX,qM as dY,ffe as dZ,Pte as d_,F4 as da,eUe as db,wc as dc,Qp as dd,WUe as de,_e as df,Os as dg,ie as dh,Y as di,j1 as dj,iO as dk,fr as dl,IZ as dm,TU as dn,see as dp,MCe as dq,yCe as dr,_Ce as ds,Vte as dt,N4 as du,f4 as dv,ht as dw,mxe as dx,fxe as dy,Li as dz,_h as e,q2 as e$,h$e as e0,z$e as e1,p$e as e2,xK as e3,k_e as e4,J_e as e5,P_e as e6,N_e as e7,a6e as e8,pxe as e9,Gu as eA,IK as eB,H1e as eC,A_e as eD,CK as eE,n6e as eF,CUe as eG,AK as eH,f_ as eI,MK as eJ,LCe as eK,Tn as eL,wet as eM,j$e as eN,uy as eO,Ir as eP,a4 as eQ,qCe as eR,g_ as eS,Ve as eT,sb as eU,My as eV,CGe as eW,Jye as eX,ehe as eY,VGe as eZ,Ot as e_,s9 as ea,nE as eb,qGe as ec,DWe as ed,sZe as ee,ob as ef,Lte as eg,tb as eh,U as ei,Za as ej,Te as ek,j5 as el,Tu as em,Uy as en,Q as eo,an as ep,tZe as eq,DGe as er,Op as es,n$ as et,TBe as eu,Q4e as ev,$U as ew,ye as ex,ar as ey,$K as ez,Nie as f,o4 as f$,Un as f0,DS as f1,PO as f2,xs as f3,nb as f4,lte as f5,Jo as f6,U6 as f7,c_ as f8,$2e as f9,DDe as fA,$p as fB,hy as fC,E2 as fD,Ja as fE,wH as fF,GM as fG,zfe as fH,A4 as fI,K9e as fJ,X9e as fK,pMe as fL,pb as fM,hb as fN,oR as fO,yb as fP,mb as fQ,yc as fR,mze as fS,hze as fT,Yue as fU,Wa as fV,bT as fW,f0 as fX,GX as fY,_Se as fZ,zHe as f_,R2 as fa,W2e as fb,bWe as fc,Yi as fd,yWe as fe,PA as ff,h4 as fg,On as fh,yv as fi,gv as fj,QUe as fk,rce as fl,$Be as fm,iH as fn,cy as fo,VM as fp,whe as fq,hWe as fr,qte as fs,NXe as ft,DXe as fu,_2 as fv,ge as fw,ln as fx,uv as fy,VDe as fz,KOe as g,jUe as g$,Rve as g0,XUe as g1,Ove as g2,Ii as g3,wBe as g4,PBe as g5,Vp as g6,W4e as g7,DJe as g8,De as g9,kr as gA,gke as gB,jv as gC,Z as gD,fke as gE,iv as gF,Ere as gG,Met as gH,K2 as gI,Urt as gJ,Grt as gK,vke as gL,lZe as gM,uXe as gN,Ar as gO,g2 as gP,Gze as gQ,lne as gR,une as gS,N2e as gT,_c as gU,Jy as gV,vue as gW,gP as gX,k6 as gY,L6 as gZ,Ose as g_,zJe as ga,XYe as gb,IQ as gc,Ou as gd,Er as ge,Et as gf,we as gg,mc as gh,jr as gi,pt as gj,YK as gk,de as gl,Ov as gm,Dr as gn,z_ as go,fT as gp,L9e as gq,Tt as gr,jN as gs,$c as gt,yJ as gu,_v as gv,Hi as gw,XCe as gx,nLe as gy,Ct as gz,av as h,Ph as h$,cfe as h0,tNe as h1,JT as h2,r2e as h3,L2 as h4,YHe as h5,Lc as h6,QHe as h7,jDe as h8,grt as h9,e6e as hA,bM as hB,iY as hC,Gce as hD,nce as hE,Det as hF,ebe as hG,g9 as hH,oGe as hI,ZUe as hJ,Ai as hK,BEe as hL,c$e as hM,ND as hN,i5 as hO,tKe as hP,XT as hQ,gM as hR,NKe as hS,li as hT,OS as hU,frt as hV,urt as hW,fh as hX,yt as hY,cT as hZ,j_ as h_,JHe as ha,yrt as hb,Crt as hc,KHe as hd,cu as he,Np as hf,Uo as hg,bce as hh,uu as hi,qBe as hj,iGe as hk,sGe as hl,_Be as hm,SBe as hn,Lv as ho,Wt as hp,jQ as hq,Hu as hr,az as hs,rz as ht,bGe as hu,by as hv,Dtt as hw,VZ as hx,sk as hy,QQe as hz,Wn as i,gfe as i$,IU as i0,MU as i1,AU as i2,MBe as i3,NNe as i4,DBe as i5,jYe as i6,Hrt as i7,Jrt as i8,Zrt as i9,RWe as iA,wwe as iB,HH as iC,Y_e as iD,LO as iE,U5e as iF,AUe as iG,A5e as iH,U$ as iI,HM as iJ,WM as iK,Bt as iL,MUe as iM,V1e as iN,MJ as iO,j_e as iP,kJ as iQ,Bfe as iR,Cye as iS,D as iT,U1e as iU,Iye as iV,u4 as iW,abe as iX,k2 as iY,yfe as iZ,UM as i_,Wrt as ia,pXe as ib,yXe as ic,mXe as id,cXe as ie,iWe as ig,KAe as ih,WKe as ii,ZKe as ij,eL as ik,a5e as il,gGe as im,cYe as io,UI as ip,EUe as iq,_Ye as ir,UL as is,BL as it,FNe as iu,XWe as iv,jWe as iw,MGe as ix,py as iy,OWe as iz,ott as j,Cy as j$,vfe as j0,EBe as j1,Xp as j2,wCe as j3,K$e as j4,hCe as j5,nxe as j6,OCe as j7,SP as j8,uY as j9,Vv as jA,Hk as jB,h2 as jC,pee as jD,bxe as jE,yxe as jF,hxe as jG,aMe as jH,I3 as jI,lpe as jJ,Kfe as jK,DH as jL,ece as jM,h7 as jN,Bo as jO,rxe as jP,jy as jQ,b2 as jR,xr as jS,oMe as jT,NZ as jU,e9 as jV,fDe as jW,Brt as jX,LBe as jY,Q_e as jZ,z_e as j_,UCe as ja,gxe as jb,FCe as jc,q4 as jd,uS as je,J2 as jf,cI as jg,j4 as jh,YIe as ji,Y2 as jj,dxe as jk,rL as jl,Jve as jm,Wve as jn,jve as jo,zo as jp,vx as jq,Cs as jr,fv as js,DO as jt,jte as ju,lu as jv,sfe as jw,Zo as jx,Bn as jy,Ga as jz,cFe as k,IQe as k$,bne as k0,brt as k1,yKe as k2,DHe as k3,R_ as k4,RHe as k5,GPe as k6,i1e as k7,vet as k8,wJ as k9,q5e as kA,Q4 as kB,_Ie as kC,FZ as kD,Ufe as kE,Yfe as kF,Ic as kG,F_e as kH,EK as kI,Nte as kJ,ZVe as kK,Sde as kL,l$e as kM,STe as kN,txe as kO,TEe as kP,Zee as kQ,PEe as kR,JG as kS,tH as kT,VBe as kU,f6 as kV,ede as kW,nn as kX,yUe as kY,sbe as kZ,kX as k_,fue as ka,yBe as kb,QOe as kc,m8e as kd,uT as ke,VN as kf,VYe as kg,DN as kh,Pn as ki,JK as kj,Hl as kk,$a as kl,B9 as km,GZe as kn,cK as ko,dk as kp,XE as kq,P5e as kr,dK as ks,tD as kt,AN as ku,Sye as kv,vye as kw,O_e as kx,d6e as ky,f6e as kz,Vie as l,Ev as l$,tte as l0,SM as l1,tl as l2,um as l3,kI as l4,AXe as l5,KEe as l6,bCe as l7,XEe as l8,Oa as l9,MEe as lA,zEe as lB,AEe as lC,kEe as lD,LEe as lE,REe as lF,OEe as lG,FEe as lH,zte as lI,hce as lJ,zG as lK,Zi as lL,zZ as lM,DKe as lN,ae as lO,$r as lP,KUe as lQ,Cue as lR,Si as lS,OM as lT,dH as lU,vBe as lV,Y1 as lW,dT as lX,iK as lY,RA as lZ,wp as l_,_et as la,Qr as lb,L5e as lc,O5e as ld,lK as le,Xpe as lf,Wy as lg,Xk as lh,Uk as li,Pc as lj,qh as lk,dj as ll,pre as lm,bS as ln,jCe as lo,NEe as lp,jEe as lq,Oee as lr,zk as ls,J_ as lt,cxe as lu,Pt as lv,HEe as lw,xEe as lx,EEe as ly,CEe as lz,Doe as m,FKe as m$,nne as m0,w_ as m1,vh as m2,G_e as m3,Vu as m4,Yr as m5,Kue as m6,kc as m7,D6 as m8,OBe as m9,XMe as mA,MN as mB,rYe as mC,tYe as mD,eYe as mE,XJe as mF,sYe as mG,iYe as mH,KJe as mI,QJe as mJ,U5 as mK,hue as mL,bfe as mM,Iet as mN,GA as mO,zWe as mP,NWe as mQ,E0 as mR,Z4 as mS,E as mT,eA as mU,Ape as mV,the as mW,rhe as mX,Wce as mY,rUe as mZ,PKe as m_,FBe as ma,RBe as mb,Ptt as mc,ENe as md,mo as me,uue as mf,wGe as mg,GH as mh,drt as mi,prt as mj,zse as mk,iTe as ml,nL as mm,t6 as mn,lt as mo,UMe as mp,ka as mq,KMe as mr,dn as ms,$ as mt,ve as mu,ac as mv,nre as mw,lAe as mx,Jt as my,Xte as mz,Uv as n,rne as n$,Qee as n0,Jee as n1,RKe as n2,o_e as n3,l_e as n4,vj as n5,TK as n6,R9e as n7,ZL as n8,ku as n9,lUe as nA,oUe as nB,w7e as nC,lrt as nD,mDe as nE,ade as nF,nde as nG,kGe as nH,lM as nI,f7e as nJ,oce as nK,qUe as nL,Nue as nM,V6 as nN,JUe as nO,_Y as nP,SY as nQ,Ci as nR,Da as nS,fze as nT,ize as nU,QL as nV,WVe as nW,Xse as nX,r2 as nY,rze as nZ,i2 as n_,Mi as na,Gse as nb,dQe as nc,Hz as nd,NN as ne,zYe as nf,Ipe as ng,Ope as nh,x2 as ni,mGe as nj,eQe as nk,FIe as nl,Ue as nm,i6 as nn,Y3 as no,rGe as np,p2 as nq,xAe as nr,oj as ns,ah as nt,N5e as nu,rO as nv,YJe as nw,nue as nx,FGe as ny,wM as nz,ctt as o,gKe as o$,XL as o0,nze as o1,bVe as o2,aA as o3,dhe as o4,Gpe as o5,$Ge as o6,ene as o7,oze as o8,yne as o9,PY as oA,FY as oB,g4 as oC,GMe as oD,rj as oE,p8e as oF,qrt as oG,OY as oH,pu as oI,O8e as oJ,P8e as oK,N8e as oL,iC as oM,yh as oN,CN as oO,Hpe as oP,F5e as oQ,Ts as oR,ONe as oS,tA as oT,rA as oU,V_ as oV,JH as oW,fYe as oX,dYe as oY,uYe as oZ,o8e as o_,mne as oa,hne as ob,pne as oc,aze as od,oit as oe,z0 as of,zq as og,ait as oh,UY as oi,gK as oj,Uze as ok,nit as ol,eGe as om,I4 as on,OUe as oo,RUe as op,WPe as oq,o8 as or,zQ as os,DQ as ot,c9e as ou,u9e as ov,r6 as ow,Ji as ox,tAe as oy,Yte as oz,Cie as p,OZ as p$,vKe as p0,bKe as p1,ch as p2,VEe as p3,sWe as p4,ZEe as p5,LKe as p6,kKe as p7,Nz as p8,hu as p9,zUe as pA,IH as pB,vO as pC,uH as pD,s7e as pE,gq as pF,_rt as pG,wrt as pH,xrt as pI,Srt as pJ,$rt as pK,Trt as pL,vq as pM,vrt as pN,Irt as pO,tWe as pP,hh as pQ,Pa as pR,m2e as pS,kUe as pT,R5e as pU,G2 as pV,y9e as pW,TUe as pX,UUe as pY,rG as pZ,eu as p_,Cv as pa,kCe as pb,W1e as pc,D1e as pd,z1e as pe,ig as pf,ja as pg,eQ as ph,ZA as pi,rb as pj,Bwe as pk,h_e as pl,SYe as pm,pUe as pn,HQ as po,F_ as pp,xy as pq,Vo as pr,ek as ps,QE as pt,FQ as pu,U2 as pv,rWe as pw,CU as px,sH as py,zM as pz,_Oe as q,Bp as q$,tbe as q0,vGe as q1,zpe as q2,P2 as q3,N2 as q4,D2 as q5,RIe as q6,DIe as q7,B1e as q8,j1e as q9,UN as qA,Aet as qB,wh as qC,dke as qD,Db as qE,D5e as qF,Wi as qG,LC as qH,aKe as qI,Bge as qJ,VY as qK,oKe as qL,j0 as qM,CBe as qN,sce as qO,IBe as qP,UWe as qQ,BWe as qR,qYe as qS,Yb as qT,TX as qU,ks as qV,Vet as qW,Hse as qX,lVe as qY,y6 as qZ,Wse as q_,q1e as qa,Sge as qb,ket as qc,O9e as qd,PWe as qe,FWe as qf,NM as qg,rve as qh,X1e as qi,q_e as qj,K1e as qk,xwe as ql,xet as qm,ZGe as qn,tGe as qo,jh as qp,Ert as qq,Art as qr,Tc as qs,Mrt as qt,zDe as qu,zN as qv,i7e as qw,DYe as qx,h8e as qy,GN as qz,RL as r,XHe as r$,fet as r0,BMe as r1,rr as r2,rde as r3,za as r4,db as r5,B4 as r6,Exe as r7,xxe as r8,cn as r9,WZe as rA,R1e as rB,qHe as rC,O_ as rD,s6e as rE,v9e as rF,ZPe as rG,AM as rH,b9e as rI,F9e as rJ,U7 as rK,BHe as rL,t8 as rM,ib as rN,xc as rO,MHe as rP,zBe as rQ,Uu as rR,Fse as rS,zNe as rT,Nse as rU,tDe as rV,$h as rW,aDe as rX,yDe as rY,LGe as rZ,nZe as r_,xee as ra,Qke as rb,qxe as rc,Kke as rd,kee as re,X_ as rf,$ee as rg,ev as rh,r_e as ri,Rv as rj,hEe as rk,pEe as rl,bZe as rm,gZe as rn,vZe as ro,lYe as rp,QN as rq,WJe as rr,W7e as rs,Tr as rt,L4 as ru,rK as rv,sK as rw,f5e as rx,HZe as ry,_5e as rz,Sr as s,Gtt as s$,Qi as s0,Ud as s1,Cc as s2,Mc as s3,nh as s4,ZNe as s5,OA as s6,kYe as s7,WK as s8,ITe as s9,CYe as sA,MYe as sB,AYe as sC,hYe as sD,yYe as sE,mYe as sF,F8e as sG,ope as sH,kv as sI,nN as sJ,lGe as sK,pc as sL,Z9e as sM,tk as sN,Bpe as sO,_Ge as sP,jtt as sQ,_M as sR,a9e as sS,o9e as sT,uGe as sU,d_ as sV,ub as sW,qtt as sX,Htt as sY,Ktt as sZ,l8 as s_,yGe as sa,e6 as sb,fXe as sc,RYe as sd,LYe as se,GJe as sf,HJe as sg,$V as sh,C4 as si,H2 as sj,HPe as sk,dGe as sl,A9e as sm,w9e as sn,_9e as so,SGe as sp,Ftt as sq,Ott as sr,Vtt as ss,ztt as st,zH as su,N9e as sv,hp as sw,rD as sx,tX as sy,IYe as sz,Mtt as t,hXe as t$,Jtt as t0,Utt as t1,Ztt as t2,Btt as t3,Wtt as t4,Ytt as t5,Qtt as t6,z$ as t7,JGe as t8,hse as t9,EV as tA,Kve as tB,ZHe as tC,YYe as tD,CKe as tE,BR as tF,nWe as tG,QYe as tH,UV as tI,VV as tJ,Npe as tK,zV as tL,iz as tM,jV as tN,jGe as tO,WV as tP,uz as tQ,fz as tR,pz as tS,she as tT,xGe as tU,Vpe as tV,H$ as tW,hz as tX,EGe as tY,M5e as tZ,YKe as t_,aGe as ta,nGe as tb,spe as tc,h0 as td,KA as te,tde as tf,p7e as tg,LHe as th,ixe as ti,BXe as tj,W$e as tk,IKe as tl,pWe as tm,aWe as tn,cWe as to,oWe as tp,dWe as tq,lWe as tr,fWe as ts,Xi as tt,xY as tu,Vr as tv,z4 as tw,sj as tx,_Xe as ty,UJe as tz,a8 as u,hpe as u$,QKe as u0,dXe as u1,IGe as u2,gXe as u3,RGe as u4,pYe as u5,aXe as u6,nXe as u7,oXe as u8,lXe as u9,XKe as uA,wYe as uB,YTe as uC,M4 as uD,XTe as uE,vYe as uF,JKe as uG,S8e as uH,gYe as uI,XN as uJ,ZJe as uK,JJe as uL,xYe as uM,EYe as uN,OYe as uO,FYe as uP,nYe as uQ,PYe as uR,NYe as uS,a8e as uT,d8e as uU,pX as uV,ly as uW,TYe as uX,HUe as uY,V5e as uZ,mpe as u_,Cz as ua,Mz as ub,Az as uc,sXe as ud,iXe as ue,Sz as uf,PV as ug,xz as uh,_z as ui,ZV as uj,MV as uk,CV as ul,IV as um,FV as un,_4 as uo,$Ye as up,tXe as uq,rXe as ur,bXe as us,BI as ut,KKe as uu,HKe as uv,dte as uw,Y4 as ux,eXe as uy,QTe as uz,Zie as v,OHe as v$,fGe as v0,vQ as v1,Tde as v2,ite as v3,Au as v4,D$e as v5,X$e as v6,exe as v7,V$e as v8,sxe as v9,WYe as vA,HYe as vB,L8e as vC,eX as vD,oYe as vE,aYe as vF,M8e as vG,JYe as vH,BJe as vI,c6e as vJ,t2e as vK,Sfe as vL,QWe as vM,KWe as vN,gve as vO,bve as vP,B5e as vQ,MZ as vR,ntt as vS,LL as vT,Rtt as vU,CC as vV,Oo as vW,OIe as vX,sve as vY,yve as vZ,_te as v_,rCe as va,vCe as vb,kye as vc,E9e as vd,NGe as ve,OZe as vf,NIe as vg,lve as vh,VQ as vi,AZ as vj,oG as vk,ove as vl,Tet as vm,Eet as vn,MAe as vo,E$ as vp,GGe as vq,r8e as vr,QM as vs,PGe as vt,XQe as vu,khe as vv,SKe as vw,_Ke as vx,IN as vy,ZYe as vz,ktt as w,Fet as w$,iKe as w0,jxe as w1,iZe as w2,ZWe as w3,Fwe as w4,HWe as w5,NBe as w6,pZe as w7,fZe as w8,kBe as w9,ure as wA,m0 as wB,Awe as wC,Swe as wD,Vee as wE,jre as wF,qre as wG,vEe as wH,C9e as wI,IUe as wJ,p9e as wK,_we as wL,iUe as wM,PHe as wN,jP as wO,FHe as wP,OGe as wQ,zP as wR,_A as wS,JWe as wT,Pet as wU,J1e as wV,Ret as wW,ive as wX,NHe as wY,G1e as wZ,Oet as w_,tue as wa,qWe as wb,AGe as wc,eZe as wd,Y3e as we,jZe as wf,Iy as wg,kge as wh,p_e as wi,bK as wj,fUe as wk,g3 as wl,zF as wm,VHe as wn,S4 as wo,wKe as wp,Ru as wq,lre as wr,Cet as ws,jI as wt,D_e as wu,WWe as wv,F1e as ww,VWe as wx,Vke as wy,GKe as wz,ot as x,Let as x0,lA as x1,oC as x2,e4 as x3,jU as x4,jBe as x5,YWe as x6,Ntt as x7,r8 as x8,VP as x9,Net as xa,rHe as xb,sHe as xc,rQe as xd,gh as xe,TKe as xf,RXe as xg,X2 as xh,Sh as xi,Yie as xj,ew as xk,cVe as xl,FPe as y,Att as z};
